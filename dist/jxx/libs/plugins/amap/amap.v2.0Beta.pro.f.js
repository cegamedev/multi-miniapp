(function(config) {
    !function(global, factory) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = factory() : "function" == typeof define && define.amd ? define(factory) : (global = global || self).AMap = factory()
    }(this, function() {
        "use strict";
        var shared, worker, AMap;
        function define(_, chunk) {
            if (shared)
                if (worker) {
                    var workerBundleString = 'var sharedChunk = {key:"' + config[0] + '",db:"' + (config[14] || "") + '",nebulaVersion:"' + (config[15] || "") + '",movingDraw:' + Boolean(window.movingDraw) + "}; (" + shared + ")(sharedChunk); (" + worker + ")(sharedChunk);"
                      , sharedChunk = {
                        key: config[0],
                        movingDraw: window.movingDraw
                    };
                    shared(sharedChunk);
                    var factory = chunk(sharedChunk)
                      , workerUrl = "undefined" != typeof URL ? window.URL.createObjectURL(new Blob([workerBundleString],{
                        type: "text/javascript"
                    })) : "";
                    (AMap = factory(config)).getConfig().workerUrl = workerUrl
                } else
                    worker = chunk;
            else
                shared = chunk
        }
        define(["exports"], function(exports) {
            var Status, a;
            a = Status = Status || {},
            a.loading = "loading",
            a.loaded = "loaded";
            var Queue = (b.prototype.add = function(t, e) {
                for (var r = t.length, i = 0, n = function() {
                    (i += 1) === r && e && e()
                }, a = 0, o = t; a < o.length; a++) {
                    var s = o[a];
                    this._add(s, n)
                }
            }
            ,
            b.prototype.has = function(t) {
                var e = this.tT[t];
                return e && e.status === Status.loaded
            }
            ,
            b.prototype.finish = function(t) {
                var e = this.tT[t];
                e.status = Status.loaded;
                for (var r = 0, i = e.pI; r < i.length; r++) {
                    var n = i[r];
                    n && n()
                }
            }
            ,
            b.prototype._add = function(t, e) {
                var r = this.tT[t];
                r ? r.status === Status.loading ? r.pI.push(e) : e() : this.tT[t] = {
                    pI: [e],
                    status: Status.loading
                }
            }
            ,
            b);
            function b() {
                this.tT = {}
            }
            var M = {
                nS: function(clsName, clsText) {
                    try {
                        eval(clsText)
                    } catch (t) {
                        throw t
                    }
                },
                eS: {
                    iS: "1594799132376"
                }
            }
              , Module = M
              , extendStatics = function(t, e) {
                return (extendStatics = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var r in e)
                        e.hasOwnProperty(r) && (t[r] = e[r])
                }
                )(t, e)
            };
            function __extends(t, e) {
                function r() {
                    this.constructor = t
                }
                extendStatics(t, e),
                t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype,
                new r)
            }
            function __spreadArrays() {
                for (var t = 0, e = 0, r = arguments.length; e < r; e++)
                    t += arguments[e].length;
                var i = Array(t)
                  , n = 0;
                for (e = 0; e < r; e++)
                    for (var a = arguments[e], o = 0, s = a.length; o < s; o++,
                    n++)
                        i[n] = a[o];
                return i
            }
            function isBrowser() {
                return "undefined" != typeof window && "undefined" != typeof document
            }
            exports.Ln = function() {
                return exports.Ln = Object.assign || function(t) {
                    for (var e, r = 1, i = arguments.length; r < i; r++)
                        for (var n in e = arguments[r])
                            Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    return t
                }
                ,
                exports.Ln.apply(this, arguments)
            }
            ;
            var testWepP = function(t) {
                var e = new Image;
                e.src = "data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",
                e.onload = e.onerror = function() {
                    t(2 === e.height)
                }
            };
            function isWorkerEnv() {
                try {
                    return document,
                    !1
                } catch (t) {
                    return !0
                }
            }
            var isRetina = !1
              , isMobile = !1
              , android = !1
              , webkit = !1
              , mac = !1
              , touch = !1
              , Browser = {
                touch: touch,
                mac: mac,
                Ue: isRetina,
                webkit: webkit,
                $e: isMobile,
                scale: 1,
                android: android,
                DW: isWorkerEnv()
            };
            if (isBrowser()) {
                var ua_1 = navigator.userAgent.toLowerCase()
                  , win_1 = window
                  , doc = document
                  , docE = doc.documentElement
                  , uaHas = function(t) {
                    return -1 !== ua_1.indexOf(t)
                }
                  , numberRegex_1 = /([a-z0-9]*\d+[a-z0-9]*)/
                  , getGraphicCardShortStr_1 = function(t) {
                    if (!t)
                        return null;
                    var e = null
                      , r = (t = t.toLowerCase()).match(/angle \((.*)\)/);
                    if (r && (t = (t = r[1]).replace(/\s*direct3d.*$/, "")),
                    0 <= (t = t.replace(/\s*\([^\)]*wddm[^\)]*\)/, "")).indexOf("intel"))
                        return e = ["Intel"],
                        0 <= t.indexOf("mobile") && e.push("Mobile"),
                        (0 <= t.indexOf("gma") || 0 <= t.indexOf("graphics media accelerator")) && e.push("GMA"),
                        0 <= t.indexOf("haswell") ? e.push("Haswell") : 0 <= t.indexOf("ivy") ? e.push("HD 4000") : 0 <= t.indexOf("sandy") ? e.push("HD 3000") : 0 <= t.indexOf("ironlake") ? e.push("HD") : (0 <= t.indexOf("hd") && e.push("HD"),
                        (i = t.match(numberRegex_1)) && e.push(i[1].toUpperCase())),
                        e.join(" ");
                    if (0 <= t.indexOf("nvidia") || 0 <= t.indexOf("quadro") || 0 <= t.indexOf("geforce") || 0 <= t.indexOf("nvs"))
                        return e = ["nVidia"],
                        0 <= t.indexOf("geforce") && e.push("geForce"),
                        0 <= t.indexOf("quadro") && e.push("Quadro"),
                        0 <= t.indexOf("nvs") && e.push("NVS"),
                        t.match(/\bion\b/) && e.push("ION"),
                        t.match(/gtx\b/) ? e.push("GTX") : t.match(/gts\b/) ? e.push("GTS") : t.match(/gt\b/) ? e.push("GT") : t.match(/gs\b/) ? e.push("GS") : t.match(/ge\b/) ? e.push("GE") : t.match(/fx\b/) && e.push("FX"),
                        (i = t.match(numberRegex_1)) && e.push(i[1].toUpperCase().replace("GS", "")),
                        0 <= t.indexOf("titan") ? e.push("TITAN") : 0 <= t.indexOf("ti") && e.push("Ti"),
                        e.join(" ");
                    if (0 <= t.indexOf("amd") || 0 <= t.indexOf("ati") || 0 <= t.indexOf("radeon") || 0 <= t.indexOf("firegl") || 0 <= t.indexOf("firepro")) {
                        e = ["AMD"],
                        0 <= t.indexOf("mobil") && e.push("Mobility");
                        var i, n = t.indexOf("radeon");
                        return 0 <= n && e.push("Radeon"),
                        0 <= t.indexOf("firepro") ? e.push("FirePro") : 0 <= t.indexOf("firegl") && e.push("FireGL"),
                        0 <= t.indexOf("hd") && e.push("HD"),
                        0 <= n && (t = t.substring(n)),
                        (i = t.match(numberRegex_1)) && e.push(i[1].toUpperCase().replace("HD", "")),
                        e.join(" ")
                    }
                    return t.substring(0, 100)
                }
                  , blackGraphicCard_1 = "microsoft basic render driver;vmware svga 3d;Intel 965GM;Intel B43;Intel G41;Intel G45;Intel G965;Intel GMA 3600;Intel Mobile 4;Intel Mobile 45;Intel Mobile 965".split(";")
                  , ie = "ActiveXObject"in win_1
                  , retina = 0 != window.detectRetina && ("devicePixelRatio"in win_1 && 1 < win_1.devicePixelRatio || ie && "matchMedia"in win_1 && win_1.matchMedia("(min-resolution:144dpi)") && win_1.matchMedia("(min-resolution:144dpi)").matches)
                  , windows = uaHas("windows nt")
                  , windowslt7 = -1 !== ua_1.search(/windows nt [1-5]\./)
                  , windowsXP = -1 !== ua_1.search(/windows nt 5\.[12]/)
                  , windows10 = uaHas("windows nt 10")
                  , winPhone = uaHas("windows phone")
                  , mac_1 = uaHas("macintosh")
                  , mb2345Browser = uaHas("Mb2345Browser")
                  , iPad = uaHas("ipad;") || uaHas("ipad ")
                  , iTouch = uaHas("ipod touch;")
                  , iPhone = uaHas("iphone;") || uaHas("iphone ")
                  , ios = iPhone || iPad || iTouch
                  , ioslt7 = ios && -1 !== ua_1.search(/ os [456]_/)
                  , ioslt9 = ios && -1 !== ua_1.search(/ os [4-8]_/)
                  , ios78 = ios && -1 !== ua_1.search(/ os [78]_/)
                  , ios8 = ios && uaHas("os 8_")
                  , ios10 = ios && uaHas("os 10_")
                  , android_1 = uaHas("android")
                  , androidVersion = 0;
                android_1 && (androidVersion = parseInt(ua_1.split("android")[1]) || 0);
                var android23 = android_1 && androidVersion < 4
                  , android5plus = android_1 && 5 <= androidVersion
                  , android44plus = android5plus || -1 !== ua_1.search(/android 4.4/)
                  , plat_1 = android_1 ? "android" : ios ? "ios" : windows ? "windows" : mac_1 ? "mac" : "other"
                  , ie6 = ie && !win_1.XMLHttpRequest
                  , ie7 = ie && !doc.querySelector
                  , ielt9 = ie && !doc.addEventListener
                  , ie9 = ie && uaHas("msie 9")
                  , ie10 = ie && uaHas("msie 10")
                  , ie11 = ie && uaHas("rv:11")
                  , ielt10 = ielt9 || ie9
                  , edge = uaHas("edge")
                  , QtWeb = uaHas("qtweb")
                  , uc = uaHas("ucbrowser")
                  , gaodeCoords = uaHas("alipay") || android_1 && uc
                  , xiaomi = uaHas("miuibrowser")
                  , wechat = uaHas("micromessenger")
                  , dingding = uaHas("dingtalk")
                  , qq = uaHas("mqqbrowser")
                  , baidu = uaHas("baidubrowser")
                  , crios = uaHas("crios/")
                  , chrome = uaHas("chrome/")
                  , chromium = (chrome || crios) && uaHas("chromium")
                  , chrome30plus = !chromium && (chrome && 30 < parseInt(ua_1.split("chrome/")[1]) || crios && 30 < parseInt(ua_1.split("crios/")[1]))
                  , firefox = uaHas("firefox")
                  , firefox27plus = firefox && 27 < parseInt(ua_1.split("firefox/")[1])
                  , safari_1 = (mac_1 || ios) && uaHas("safari") && uaHas("version/")
                  , safari7plus = safari_1 && 7 < parseInt(ua_1.split("version/")[1])
                  , aliApp = ios && uaHas("aliapp")
                  , mobile_1 = android_1 || ios || winPhone || uaHas("mobile")
                  , touchDev = "ontouchstart"in doc
                  , msPointer = win_1.navigator && win_1.navigator.msPointerEnabled && !!win_1.navigator.msMaxTouchPoints
                  , pointer = win_1.navigator && !!win_1.navigator.maxTouchPoints
                  , pointerDev = !touchDev && (pointer || msPointer)
                  , touch_1 = touchDev || pointerDev
                  , getScale = function() {
                    if (!mobile_1)
                        return win_1.devicePixelRatio || 1;
                    var t = document.getElementsByTagName("meta");
                    if (window.parent && window.parent !== window)
                        try {
                            if (window.parent.location.origin !== window.location.origin)
                                return 1;
                            t = window.parent.document.getElementsByTagName("meta")
                        } catch (t) {
                            return 1
                        }
                    for (var e = t.length - 1; 0 <= e; --e)
                        if ("viewport" === t[e].name) {
                            var n, a, r = t[e].content, i = void 0;
                            return -1 !== r.indexOf("initial-scale") && (i = parseFloat(r.split("initial-scale=")[1])),
                            n = -1 !== r.indexOf("minimum-scale") ? parseFloat(r.split("minimum-scale=")[1]) : 0,
                            a = -1 !== r.indexOf("maximum-scale") ? parseFloat(r.split("maximum-scale=")[1]) : 1 / 0,
                            i ? n <= a ? a < i ? a : i < n ? n : i : (console && console.log && console.log("viewport参数不合法"),
                            null) : n <= a ? 1 <= n ? 1 : Math.min(a, 1) : (console && console.log && console.log("viewport参数不合法"),
                            null)
                        }
                }
                  , viewportScale = getScale()
                  , needFitRetina_1 = retina && (!mobile_1 || !!viewportScale && 1 <= viewportScale)
                  , ie3d = ie && "transition"in docE.style
                  , isSvg = !!doc.createElementNS && !!doc.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect
                  , canvas_1 = doc.createElement("canvas")
                  , isCanvas_1 = !(!canvas_1 || !canvas_1.getContext)
                  , UrlLib = window.URL || window.webkitURL
                  , DataUrl2Blob = !1
                  , isWorker_1 = !0 !== window.disableWorker && !ie && !(uc && android_1 && !chrome30plus) && window.Worker && UrlLib && UrlLib.createObjectURL && window.Blob
                  , webglContextName_1 = ""
                  , graphicCard_1 = ""
                  , maxRenderSize_1 = 0
                  , needAntialias = 0 != window.higtQualityRender || !retina
                  , movingDraw = window.movingDraw
                  , webglParams_1 = window.forceWebGL ? {
                    alpha: !0,
                    antialias: needAntialias,
                    depth: !0,
                    stencil: !0
                } : {
                    alpha: !0,
                    antialias: needAntialias,
                    depth: !0,
                    failIfMajorPerformanceCaveat: !0,
                    preserveDrawingBuffer: !0,
                    stencil: !0
                }
                  , checkWebgl = function() {
                    if (!isCanvas_1 || !isWorker_1)
                        return !1;
                    for (var t = ["webgl", "experimental-webgl", "moz-webgl"], e = null, r = 0; r < t.length; r += 1) {
                        try {
                            var i = webglParams_1;
                            e = canvas_1.getContext(t[r], i)
                        } catch (t) {}
                        if (e) {
                            if (e.drawingBufferWidth !== canvas_1.width || e.drawingBufferHeight !== canvas_1.height)
                                return !1;
                            if (!e.getShaderPrecisionFormat || !e.getParameter || !e.getExtension)
                                return !1;
                            maxRenderSize_1 = e.getParameter(e.MAX_RENDERBUFFER_SIZE);
                            var n = e.getParameter(e.MAX_VIEWPORT_DIMS);
                            if (!n)
                                return !1;
                            maxRenderSize_1 = Math.min(maxRenderSize_1, n[0], n[1]),
                            safari_1 && "mac" === plat_1 && (maxRenderSize_1 = Math.min(maxRenderSize_1, 4096));
                            var a = Math.max(screen.width, screen.height);
                            if (needFitRetina_1 && (a *= Math.min(2, window.devicePixelRatio || 1)),
                            maxRenderSize_1 < a)
                                return !1;
                            if (e.getShaderPrecisionFormat(35632, 36338).precision < 23 || e.getShaderPrecisionFormat(35633, 36338).precision < 23)
                                return !1;
                            graphicCard_1 = e.getExtension("WEBGL_debug_renderer_info") ? e.getParameter(37446) : null;
                            var o = getGraphicCardShortStr_1(graphicCard_1);
                            return (!o || -1 === blackGraphicCard_1.indexOf(o)) && (webglContextName_1 = t[r],
                            !0)
                        }
                    }
                    return !1
                }
                  , canWebGL = checkWebgl()
                  , enableVector = void 0 === config[8] || config[8]
                  , byWebgl = window.Uint8Array && enableVector && !window.forbidenWebGL && canWebGL && (window.forceWebGL || (chrome30plus || firefox27plus || safari7plus || edge || wechat || dingding) && "other" !== plat_1)
                  , baseRender = byWebgl ? "w" : "d"
                  , webkit_1 = uaHas("webkit")
                  , webkit3d = "WebKitCSSMatrix"in win_1 && "m11"in new window.WebKitCSSMatrix
                  , gecko3d = "MozPerspective"in docE.style
                  , opera3d = "OTransition"in docE.style
                  , any3d = ie3d || webkit3d || gecko3d || opera3d
                  , enableLabelImage = !1
                  , vdataVersion = void 0 !== config[12] ? config[12] : null
                  , localStore = !0;
                try {
                    if (void 0 === win_1.localStorage)
                        localStore = !1;
                    else {
                        var tmpData = (new Date).getTime() + "";
                        win_1.localStorage.setItem("_test", tmpData),
                        win_1.localStorage.getItem("_test") !== tmpData && (localStore = !1),
                        win_1.localStorage.removeItem("_test")
                    }
                } catch (t) {
                    localStore = !1
                }
                var getContext = function(t, e) {
                    return t.getContext(webglContextName_1, webglParams_1)
                }
                  , chromeversion = parseInt(ua_1.split("chrome/")[1]);
                Browser = {
                    iPad: iPad,
                    iPhone: iPhone,
                    size: iPhone ? 100 : android_1 ? 200 : 500,
                    mac: mac_1,
                    windows: windows,
                    ios: ios,
                    uT: ios10,
                    android: android_1,
                    android23: android23,
                    cT: gaodeCoords,
                    plat: plat_1,
                    baidu: baidu,
                    qq: qq,
                    safari: safari_1,
                    wechat: wechat,
                    ie: ie,
                    ie6: ie6,
                    ie7: ie7,
                    ie9: ie9,
                    ie10: ie10,
                    ielt9: ielt9,
                    fT: ielt10,
                    ie11: ie11,
                    edge: edge,
                    hT: ie && !ie11,
                    lT: mb2345Browser,
                    RL: localStore,
                    vT: vdataVersion,
                    geolocation: mobile_1 || ie && !ielt9 || edge,
                    SL: uc,
                    uc: uc && !chrome,
                    chrome: chrome,
                    gT: !0,
                    firefox: firefox,
                    $e: mobile_1,
                    mobileWebkit: mobile_1 && webkit_1,
                    mobileWebkit3d: mobile_1 && webkit3d,
                    mobileOpera: mobile_1 && win_1.opera,
                    Ue: retina,
                    bT: viewportScale,
                    Mr: needFitRetina_1,
                    touch: touch_1,
                    msPointer: msPointer,
                    pointer: pointer,
                    yT: pointerDev,
                    pT: chrome && 57 <= chromeversion,
                    mT: !mobile_1 && chrome && 64 <= chromeversion,
                    webkit: webkit_1,
                    ie3d: ie3d,
                    webkit3d: webkit3d,
                    gecko3d: gecko3d,
                    opera3d: opera3d,
                    any3d: any3d,
                    isSvg: isSvg,
                    isCanvas: isCanvas_1,
                    isWorker: isWorker_1,
                    TT: enableLabelImage,
                    isWebGL: byWebgl,
                    AT: webglContextName_1,
                    xT: webglParams_1,
                    ST: graphicCard_1,
                    wT: maxRenderSize_1,
                    MT: DataUrl2Blob,
                    movingDraw: movingDraw,
                    baseRender: enableVector ? baseRender : "d",
                    scale: retina ? 2 : 1,
                    getContext: getContext,
                    mH: !1
                },
                testWepP(function(t) {
                    Browser.mH = t
                })
            }
            var Support = Browser
              , projections = {}
              , Projection = (va.prototype.moveWithPixel = function(t, e, r) {
                var i = this.getResolution(r)
                  , n = e[0] * i
                  , a = e[1] * i
                  , o = this.project(t[0], t[1]);
                return this.unproject(o[0] + n, o[1] + a)
            }
            ,
            va.prototype.moveWithPos = function(t, e) {
                var r = this.project(t[0], t[1])
                  , i = [r[0] + e[0], r[1] + e[1]];
                return this.unproject(i[0], i[1])
            }
            ,
            va);
            function va(t, e, r, i) {
                this.project = e,
                this.unproject = r,
                this.getResolution = i,
                projections[t] = this
            }
            var ProjectionManager = {
                getProjection: function(t) {
                    return projections[t]
                }
            }, LngLat = new Projection("EPSG:4326",function(t, e) {
                return [t, e]
            }
            ,function(t, e) {
                return [t, e]
            }
            ,function(t) {
                return .703125 / Math.pow(2, t)
            }
            ), SphericalMercator = (Ua = Math.PI / 180,
            Va = 180 / Math.PI,
            Wa = 6378137,
            new Projection("EPSG:3857",function(t, e) {
                var r = 85.0511287798;
                e = Math.max(Math.min(r, e), -r);
                var i = t * Ua
                  , n = e * Ua;
                return n = Math.log(Math.tan(Math.PI / 4 + n / 2)),
                [i * Wa, n * Wa]
            }
            ,function(t, e) {
                return [t / Wa * Va, (2 * Math.atan(Math.exp(e / Wa)) - Math.PI / 2) * Va]
            }
            ,function(t) {
                return 156543.03392804097 / Math.pow(2, t)
            }
            )), Ua, Va, Wa, E4326 = ProjectionManager.getProjection("EPSG:4326"), E3857 = ProjectionManager.getProjection("EPSG:3857"), HALF_WORLD_SIZE = 20037508.342789244, LngLat$1 = {
                Ro: [-180, -90, 180, 90],
                project: function(t, e, r) {
                    var i = E4326.project(t, e);
                    return this.transform(i[0], i[1], r)
                },
                unproject: function(t, e, r) {
                    var i = this.Xs(t, e, r);
                    return E4326.unproject(i[0], i[1])
                },
                transform: function(t, e, r) {
                    var i, n = 2 * (i = void 0 === r ? 180 : 256 << r), a = this.Ro[2] - this.Ro[0], o = this.Ro[3] - this.Ro[1];
                    return [t = (t - this.Ro[0]) / a * n, e = i - (e - this.Ro[1]) / o * i]
                },
                Xs: function(t, e, r) {
                    var i;
                    return [t = 360 * (t / (2 * (i = void 0 === r ? 180 : 256 << r)) - .5), e = 180 * -(e / i - .5)]
                },
                nt: function(t, e, r) {
                    return this.Xs(t, e, r)
                },
                wu: function(t, e, r) {
                    return this.Xs(t, e, r)
                },
                yo: function(t, e, r) {
                    var i;
                    i = 0 < t / this.Ro[3] ? Math.abs(Math.floor(t / this.Ro[3])) : Math.abs(Math.ceil(t / this.Ro[3]));
                    var n;
                    n = 0 < e / this.Ro[3] ? Math.abs(Math.floor(e / this.Ro[3])) : Math.abs(Math.ceil(e / this.Ro[3]));
                    var a = t % this.Ro[3]
                      , o = e % this.Ro[3]
                      , s = this.transform(a, o, r);
                    t = this.wu(t, t, r)[0] * i + s[0],
                    e = this.wu(e, e, r)[1] * n + s[1];
                    var u = this.transform(0, 0, r);
                    return [t - u[0], e - u[1]]
                },
                Bb: function(t, e, r) {
                    return r.X(t, e)
                },
                qb: function(t, e, r) {
                    return r.H(t, e)
                },
                Gd: function(t, e, r, i) {
                    var n = i.X(t[0], t[1])
                      , a = i.X(t[0] + e, t[1] + r);
                    return [a[0] - n[0], a[1] - n[1]]
                }
            }, SphericalMercator$1 = {
                Ro: [-20037508.342789244, -20037508.342789244, 20037508.342789244, 20037508.342789244],
                project: function(t, e, r) {
                    var i = E3857.project(t, e);
                    return this.transform(i[0], i[1], r)
                },
                unproject: function(t, e, r) {
                    var i = this.Xs(t, e, r);
                    return E3857.unproject(i[0], i[1])
                },
                transform: function(t, e, r) {
                    var i;
                    t = Math.min(20037508.342789244, Math.max(t, -20037508.342789244)),
                    e = Math.min(20037508.342789244, Math.max(e, -20037508.342789244)),
                    i = void 0 === r ? 40075016.68557849 : 256 * Math.pow(2, r);
                    var n = this.Ro[2] - this.Ro[0]
                      , a = this.Ro[3] - this.Ro[1];
                    return [t = (t - this.Ro[0]) / n * i, e = i - (e - this.Ro[1]) / a * i]
                },
                Xs: function(t, e, r) {
                    var i;
                    return [t = (t / (i = void 0 === r ? 40075016.68557849 : 256 * Math.pow(2, r)) - .5) * this.Ro[2] * 2, e = -(e / i - .5) * this.Ro[2] * 2]
                },
                nt: function(t, e, r, i) {
                    return [t = this.Xs(t, e, r)[0] - this.Ro[0], e = this.Ro[2] - this.Xs(t, e, r)[1]]
                },
                wu: function(t, e, r, i) {
                    var n, a = i.center, o = i.size, s = (i.rotation || 0) / 180 * Math.PI, u = this.transform(t, e, r), c = u[0], f = u[1], h = this.transform(a[0], a[1], r), l = c - h[0], d = f - h[1], v = Math.sqrt(Math.pow(l, 2) + Math.pow(d, 2)), g = 0 == d ? Math.PI / 2 : Math.atan(Math.abs(l / d));
                    n = l * d <= 0 ? g + s : g - s;
                    var p = 0 < l ? n : -n
                      , b = 0 < d ? 1 : -1;
                    return [o[0] / 2 + v * Math.sin(p), o[1] / 2 + v * Math.cos(n) * b]
                },
                yo: function(t, e, r, i) {
                    var n;
                    n = 0 < t / this.Ro[3] ? Math.abs(Math.floor(t / this.Ro[3])) : Math.abs(Math.ceil(t / this.Ro[3]));
                    var a;
                    a = 0 < e / this.Ro[3] ? Math.abs(Math.floor(e / this.Ro[3])) : Math.abs(Math.ceil(e / this.Ro[3]));
                    var o = t % this.Ro[3]
                      , s = e % this.Ro[3]
                      , u = this.transform(o, s, r)
                      , c = this.transform(0, 0, r)
                      , f = c[0]
                      , h = c[1];
                    return [(t = f * n + u[0]) - f, (e = h * a + u[1]) - h]
                },
                Bb: function(t, e, r) {
                    return r.X(t, e)
                },
                qb: function(t, e, r) {
                    return r.H(t, e)
                },
                Gd: function(t, e, r, i) {
                    var n = i.X(t[0], t[1])
                      , a = i.X(t[0] + e, t[1] + r);
                    return [a[0] - n[0], a[1] - n[1]]
                }
            }, transform = {
                "EPSG:4326": LngLat$1,
                "EPSG:3857": SphericalMercator$1
            };
            Module.transform = transform;
            var isSupportFloat32Array = "undefined" != typeof Float32Array;
            isSupportFloat32Array || (window.Float32Array = void 0,
            setMatrixArrayType(Array));
            var EPSILON = 1e-6
              , ARRAY_TYPE = "undefined" != typeof Float32Array ? Float32Array : Array;
            function setMatrixArrayType(t) {
                ARRAY_TYPE = t
            }
            function fromValues(t, e, r, i) {
                var n = new ARRAY_TYPE(4);
                return n[0] = t,
                n[1] = e,
                n[2] = r,
                n[3] = i,
                n
            }
            function create() {
                var t = new ARRAY_TYPE(16);
                return ARRAY_TYPE != Float32Array && (t[1] = 0,
                t[2] = 0,
                t[3] = 0,
                t[4] = 0,
                t[6] = 0,
                t[7] = 0,
                t[8] = 0,
                t[9] = 0,
                t[11] = 0,
                t[12] = 0,
                t[13] = 0,
                t[14] = 0),
                t[0] = 1,
                t[5] = 1,
                t[10] = 1,
                t[15] = 1,
                t
            }
            function identity(t) {
                return t[0] = 1,
                t[1] = 0,
                t[2] = 0,
                t[3] = 0,
                t[4] = 0,
                t[5] = 1,
                t[6] = 0,
                t[7] = 0,
                t[8] = 0,
                t[9] = 0,
                t[10] = 1,
                t[11] = 0,
                t[12] = 0,
                t[13] = 0,
                t[14] = 0,
                t[15] = 1,
                t
            }
            function invert(t, e) {
                var r = e[0]
                  , i = e[1]
                  , n = e[2]
                  , a = e[3]
                  , o = e[4]
                  , s = e[5]
                  , u = e[6]
                  , c = e[7]
                  , f = e[8]
                  , h = e[9]
                  , l = e[10]
                  , d = e[11]
                  , v = e[12]
                  , g = e[13]
                  , p = e[14]
                  , b = e[15]
                  , y = r * s - i * o
                  , m = r * u - n * o
                  , T = r * c - a * o
                  , M = i * u - n * s
                  , x = i * c - a * s
                  , A = n * c - a * u
                  , w = f * g - h * v
                  , S = f * p - l * v
                  , P = f * b - d * v
                  , $ = h * p - l * g
                  , L = h * b - d * g
                  , N = l * b - d * p
                  , O = y * N - m * L + T * $ + M * P - x * S + A * w;
                return O ? (O = 1 / O,
                t[0] = (s * N - u * L + c * $) * O,
                t[1] = (n * L - i * N - a * $) * O,
                t[2] = (g * A - p * x + b * M) * O,
                t[3] = (l * x - h * A - d * M) * O,
                t[4] = (u * P - o * N - c * S) * O,
                t[5] = (r * N - n * P + a * S) * O,
                t[6] = (p * T - v * A - b * m) * O,
                t[7] = (f * A - l * T + d * m) * O,
                t[8] = (o * L - s * P + c * w) * O,
                t[9] = (i * P - r * L - a * w) * O,
                t[10] = (v * x - g * T + b * y) * O,
                t[11] = (h * T - f * x - d * y) * O,
                t[12] = (s * S - o * $ - u * w) * O,
                t[13] = (r * $ - i * S + n * w) * O,
                t[14] = (g * m - v * M - p * y) * O,
                t[15] = (f * M - h * m + l * y) * O,
                t) : null
            }
            function multiply(t, e, r) {
                var i = e[0]
                  , n = e[1]
                  , a = e[2]
                  , o = e[3]
                  , s = e[4]
                  , u = e[5]
                  , c = e[6]
                  , f = e[7]
                  , h = e[8]
                  , l = e[9]
                  , d = e[10]
                  , v = e[11]
                  , g = e[12]
                  , p = e[13]
                  , b = e[14]
                  , y = e[15]
                  , m = r[0]
                  , T = r[1]
                  , M = r[2]
                  , x = r[3];
                return t[0] = m * i + T * s + M * h + x * g,
                t[1] = m * n + T * u + M * l + x * p,
                t[2] = m * a + T * c + M * d + x * b,
                t[3] = m * o + T * f + M * v + x * y,
                m = r[4],
                T = r[5],
                M = r[6],
                x = r[7],
                t[4] = m * i + T * s + M * h + x * g,
                t[5] = m * n + T * u + M * l + x * p,
                t[6] = m * a + T * c + M * d + x * b,
                t[7] = m * o + T * f + M * v + x * y,
                m = r[8],
                T = r[9],
                M = r[10],
                x = r[11],
                t[8] = m * i + T * s + M * h + x * g,
                t[9] = m * n + T * u + M * l + x * p,
                t[10] = m * a + T * c + M * d + x * b,
                t[11] = m * o + T * f + M * v + x * y,
                m = r[12],
                T = r[13],
                M = r[14],
                x = r[15],
                t[12] = m * i + T * s + M * h + x * g,
                t[13] = m * n + T * u + M * l + x * p,
                t[14] = m * a + T * c + M * d + x * b,
                t[15] = m * o + T * f + M * v + x * y,
                t
            }
            function getTranslation(t, e) {
                return t[0] = e[12],
                t[1] = e[13],
                t[2] = e[14],
                t
            }
            function perspective(t, e, r, i, n) {
                var a, o = 1 / Math.tan(e / 2);
                return t[0] = o / r,
                t[1] = 0,
                t[2] = 0,
                t[3] = 0,
                t[4] = 0,
                t[5] = o,
                t[6] = 0,
                t[7] = 0,
                t[8] = 0,
                t[9] = 0,
                t[11] = -1,
                t[12] = 0,
                t[13] = 0,
                t[15] = 0,
                null != n && n !== 1 / 0 ? (a = 1 / (i - n),
                t[10] = (n + i) * a,
                t[14] = 2 * n * i * a) : (t[10] = -1,
                t[14] = -2 * i),
                t
            }
            function ortho(t, e, r, i, n, a, o) {
                var s = 1 / (e - r)
                  , u = 1 / (i - n)
                  , c = 1 / (a - o);
                return t[0] = -2 * s,
                t[1] = 0,
                t[2] = 0,
                t[3] = 0,
                t[4] = 0,
                t[5] = -2 * u,
                t[6] = 0,
                t[7] = 0,
                t[8] = 0,
                t[9] = 0,
                t[10] = 2 * c,
                t[11] = 0,
                t[12] = (e + r) * s,
                t[13] = (n + i) * u,
                t[14] = (o + a) * c,
                t[15] = 1,
                t
            }
            function lookAt(t, e, r, i) {
                var n, a, o, s, u, c, f, h, l, d, v = e[0], g = e[1], p = e[2], b = i[0], y = i[1], m = i[2], T = r[0], M = r[1], x = r[2];
                return Math.abs(v - T) < EPSILON && Math.abs(g - M) < EPSILON && Math.abs(p - x) < EPSILON ? identity(t) : (f = v - T,
                h = g - M,
                l = p - x,
                n = y * (l *= d = 1 / Math.hypot(f, h, l)) - m * (h *= d),
                a = m * (f *= d) - b * l,
                o = b * h - y * f,
                (d = Math.hypot(n, a, o)) ? (n *= d = 1 / d,
                a *= d,
                o *= d) : o = a = n = 0,
                s = h * o - l * a,
                u = l * n - f * o,
                c = f * a - h * n,
                (d = Math.hypot(s, u, c)) ? (s *= d = 1 / d,
                u *= d,
                c *= d) : c = u = s = 0,
                t[0] = n,
                t[1] = s,
                t[2] = f,
                t[3] = 0,
                t[4] = a,
                t[5] = u,
                t[6] = h,
                t[7] = 0,
                t[8] = o,
                t[9] = c,
                t[10] = l,
                t[11] = 0,
                t[12] = -(n * v + a * g + o * p),
                t[13] = -(s * v + u * g + c * p),
                t[14] = -(f * v + h * g + l * p),
                t[15] = 1,
                t)
            }
            function equals(t, e) {
                var r = t[0]
                  , i = t[1]
                  , n = t[2]
                  , a = t[3]
                  , o = t[4]
                  , s = t[5]
                  , u = t[6]
                  , c = t[7]
                  , f = t[8]
                  , h = t[9]
                  , l = t[10]
                  , d = t[11]
                  , v = t[12]
                  , g = t[13]
                  , p = t[14]
                  , b = t[15]
                  , y = e[0]
                  , m = e[1]
                  , T = e[2]
                  , M = e[3]
                  , x = e[4]
                  , A = e[5]
                  , w = e[6]
                  , S = e[7]
                  , P = e[8]
                  , $ = e[9]
                  , L = e[10]
                  , N = e[11]
                  , O = e[12]
                  , k = e[13]
                  , _ = e[14]
                  , I = e[15];
                return Math.abs(r - y) <= EPSILON * Math.max(1, Math.abs(r), Math.abs(y)) && Math.abs(i - m) <= EPSILON * Math.max(1, Math.abs(i), Math.abs(m)) && Math.abs(n - T) <= EPSILON * Math.max(1, Math.abs(n), Math.abs(T)) && Math.abs(a - M) <= EPSILON * Math.max(1, Math.abs(a), Math.abs(M)) && Math.abs(o - x) <= EPSILON * Math.max(1, Math.abs(o), Math.abs(x)) && Math.abs(s - A) <= EPSILON * Math.max(1, Math.abs(s), Math.abs(A)) && Math.abs(u - w) <= EPSILON * Math.max(1, Math.abs(u), Math.abs(w)) && Math.abs(c - S) <= EPSILON * Math.max(1, Math.abs(c), Math.abs(S)) && Math.abs(f - P) <= EPSILON * Math.max(1, Math.abs(f), Math.abs(P)) && Math.abs(h - $) <= EPSILON * Math.max(1, Math.abs(h), Math.abs($)) && Math.abs(l - L) <= EPSILON * Math.max(1, Math.abs(l), Math.abs(L)) && Math.abs(d - N) <= EPSILON * Math.max(1, Math.abs(d), Math.abs(N)) && Math.abs(v - O) <= EPSILON * Math.max(1, Math.abs(v), Math.abs(O)) && Math.abs(g - k) <= EPSILON * Math.max(1, Math.abs(g), Math.abs(k)) && Math.abs(p - _) <= EPSILON * Math.max(1, Math.abs(p), Math.abs(_)) && Math.abs(b - I) <= EPSILON * Math.max(1, Math.abs(b), Math.abs(I))
            }
            function create$1() {
                var t = new ARRAY_TYPE(3);
                return ARRAY_TYPE != Float32Array && (t[0] = 0,
                t[1] = 0,
                t[2] = 0),
                t
            }
            function fromValues$1(t, e, r) {
                var i = new ARRAY_TYPE(3);
                return i[0] = t,
                i[1] = e,
                i[2] = r,
                i
            }
            function copy(t, e) {
                return t[0] = e[0],
                t[1] = e[1],
                t[2] = e[2],
                t
            }
            function set(t, e, r, i) {
                return t[0] = e,
                t[1] = r,
                t[2] = i,
                t
            }
            function subtract(t, e, r) {
                return t[0] = e[0] - r[0],
                t[1] = e[1] - r[1],
                t[2] = e[2] - r[2],
                t
            }
            function cross(t, e, r) {
                var i = e[0]
                  , n = e[1]
                  , a = e[2]
                  , o = r[0]
                  , s = r[1]
                  , u = r[2];
                return t[0] = n * u - a * s,
                t[1] = a * o - i * u,
                t[2] = i * s - n * o,
                t
            }
            Math.hypot || (Math.hypot = function() {
                for (var t = 0, e = arguments.length; e--; )
                    t += arguments[e] * arguments[e];
                return Math.sqrt(t)
            }
            );
            var sub = subtract, forEach = (yg = create$1(),
            function(t, e, r, i, n, a) {
                var o, s;
                for (e = e || 3,
                r = r || 0,
                s = i ? Math.min(i * e + r, t.length) : t.length,
                o = r; o < s; o += e)
                    yg[0] = t[o],
                    yg[1] = t[o + 1],
                    yg[2] = t[o + 2],
                    n(yg, yg, a),
                    t[o] = yg[0],
                    t[o + 1] = yg[1],
                    t[o + 2] = yg[2];
                return t
            }
            ), yg;
            function create$2() {
                var t = new ARRAY_TYPE(4);
                return ARRAY_TYPE != Float32Array && (t[0] = 0,
                t[1] = 0,
                t[2] = 0,
                t[3] = 0),
                t
            }
            function fromValues$2(t, e, r, i) {
                var n = new ARRAY_TYPE(4);
                return n[0] = t,
                n[1] = e,
                n[2] = r,
                n[3] = i,
                n
            }
            function scale(t, e, r) {
                return t[0] = e[0] * r,
                t[1] = e[1] * r,
                t[2] = e[2] * r,
                t[3] = e[3] * r,
                t
            }
            function transformMat4(t, e, r) {
                var i = e[0]
                  , n = e[1]
                  , a = e[2]
                  , o = e[3];
                return t[0] = r[0] * i + r[4] * n + r[8] * a + r[12] * o,
                t[1] = r[1] * i + r[5] * n + r[9] * a + r[13] * o,
                t[2] = r[2] * i + r[6] * n + r[10] * a + r[14] * o,
                t[3] = r[3] * i + r[7] * n + r[11] * a + r[15] * o,
                t
            }
            var forEach$1 = (Xg = create$2(),
            function(t, e, r, i, n, a) {
                var o, s;
                for (e = e || 4,
                r = r || 0,
                s = i ? Math.min(i * e + r, t.length) : t.length,
                o = r; o < s; o += e)
                    Xg[0] = t[o],
                    Xg[1] = t[o + 1],
                    Xg[2] = t[o + 2],
                    Xg[3] = t[o + 3],
                    n(Xg, Xg, a),
                    t[o] = Xg[0],
                    t[o + 1] = Xg[1],
                    t[o + 2] = Xg[2],
                    t[o + 3] = Xg[3];
                return t
            }
            ), Xg;
            function create$3() {
                var t = new ARRAY_TYPE(2);
                return ARRAY_TYPE != Float32Array && (t[0] = 0,
                t[1] = 0),
                t
            }
            function clone(t) {
                var e = new ARRAY_TYPE(2);
                return e[0] = t[0],
                e[1] = t[1],
                e
            }
            function fromValues$3(t, e) {
                var r = new ARRAY_TYPE(2);
                return r[0] = t,
                r[1] = e,
                r
            }
            function copy$1(t, e) {
                return t[0] = e[0],
                t[1] = e[1],
                t
            }
            function set$1(t, e, r) {
                return t[0] = e,
                t[1] = r,
                t
            }
            function add(t, e, r) {
                return t[0] = e[0] + r[0],
                t[1] = e[1] + r[1],
                t
            }
            function subtract$1(t, e, r) {
                return t[0] = e[0] - r[0],
                t[1] = e[1] - r[1],
                t
            }
            function multiply$1(t, e, r) {
                return t[0] = e[0] * r[0],
                t[1] = e[1] * r[1],
                t
            }
            function scale$1(t, e, r) {
                return t[0] = e[0] * r,
                t[1] = e[1] * r,
                t
            }
            function distance(t, e) {
                var r = e[0] - t[0]
                  , i = e[1] - t[1];
                return Math.hypot(r, i)
            }
            function negate(t, e) {
                return t[0] = -e[0],
                t[1] = -e[1],
                t
            }
            function normalize(t, e) {
                var r = e[0]
                  , i = e[1]
                  , n = r * r + i * i;
                return 0 < n && (n = 1 / Math.sqrt(n)),
                t[0] = e[0] * n,
                t[1] = e[1] * n,
                t
            }
            function dot(t, e) {
                return t[0] * e[0] + t[1] * e[1]
            }
            function cross$1(t, e, r) {
                var i = e[0] * r[1] - e[1] * r[0];
                return t[0] = t[1] = 0,
                t[2] = i,
                t
            }
            function transformMat2(t, e, r) {
                var i = e[0]
                  , n = e[1];
                return t[0] = r[0] * i + r[2] * n,
                t[1] = r[1] * i + r[3] * n,
                t
            }
            function rotate(t, e, r, i) {
                var n = e[0] - r[0]
                  , a = e[1] - r[1]
                  , o = Math.sin(i)
                  , s = Math.cos(i);
                return t[0] = n * s - a * o + r[0],
                t[1] = n * o + a * s + r[1],
                t
            }
            function angle(t, e) {
                var r = t[0]
                  , i = t[1]
                  , n = e[0]
                  , a = e[1]
                  , o = r * r + i * i;
                0 < o && (o = 1 / Math.sqrt(o));
                var s = n * n + a * a;
                0 < s && (s = 1 / Math.sqrt(s));
                var u = (r * n + i * a) * o * s;
                return 1 < u ? 0 : u < -1 ? Math.PI : Math.acos(u)
            }
            function equals$1(t, e) {
                var r = t[0]
                  , i = t[1]
                  , n = e[0]
                  , a = e[1];
                return Math.abs(r - n) <= EPSILON * Math.max(1, Math.abs(r), Math.abs(n)) && Math.abs(i - a) <= EPSILON * Math.max(1, Math.abs(i), Math.abs(a))
            }
            var sub$1 = subtract$1, mul = multiply$1, dist = distance, forEach$2 = (si = create$3(),
            function(t, e, r, i, n, a) {
                var o, s;
                for (e = e || 2,
                r = r || 0,
                s = i ? Math.min(i * e + r, t.length) : t.length,
                o = r; o < s; o += e)
                    si[0] = t[o],
                    si[1] = t[o + 1],
                    n(si, si, a),
                    t[o] = si[0],
                    t[o + 1] = si[1];
                return t
            }
            ), si;
            function isLngLat(t) {
                return t && "AMap.LngLat" === t.className
            }
            function isPixel(t) {
                return t && "AMap.Pixel" === t.className
            }
            function isSize(t) {
                return t && "AMap.Size" === t.className
            }
            function isLayer(t) {
                return Boolean(t && t.el && "AMap.Layer" === t.el)
            }
            function isVectorLayer(t) {
                return t && "AMap.VectorLayer" === t.CLASS_NAME
            }
            function isOverlay(t) {
                return t && t.className && Util.startsWith(t.className, "Overlay")
            }
            function isOverlayGroup(t) {
                return t && ("Overlay.OverlayGroup" === t.className || "Overlay.GeoJSON" === t.className)
            }
            function isCircleMarker(t) {
                return t && t.className && "Overlay.CircleMarker" === t.className
            }
            function isBounds(t) {
                return t && "AMap.Bounds" === t.className
            }
            function isNumber(t) {
                var e = +t;
                return "number" == typeof +e && !isNaN(e)
            }
            function isNumberArray(t) {
                return Array.isArray(t) && isNumber(t[0])
            }
            function isNumberArrayArray(t) {
                return Array.isArray(t) && isNumberArray(t[0])
            }
            function isNumberArrayArrayArray(t) {
                return Array.isArray(t) && isNumberArrayArray(t[0])
            }
            function isNumberArrayArrayArrayArray(t) {
                return Array.isArray(t) && isNumberArrayArrayArray(t[0])
            }
            function isLnglatLike(t) {
                return isLngLat(t) || isNumberArray(t)
            }
            function isLnglatLikeArray(t) {
                return Array.isArray(t) && isLnglatLike(t[0])
            }
            function isLnglatLikeArrayArray(t) {
                return Array.isArray(t) && isLnglatLikeArray(t[0])
            }
            function isLnglatLikeArrayArrayArray(t) {
                return Array.isArray(t) && isLnglatLikeArrayArray(t[0])
            }
            function isNebulaLabelsLayer(t) {
                return t && "AMap.Nebula.LabelsLayer" === t.CLASS_NAME
            }
            var Coordinate = {
                lr: function(t, e) {
                    for (var r = 1 / 0, i = 0, n = 1, a = e.length; n < a; i = n,
                    n += 1)
                        r = Math.min(r, this.ur(t, [e[i], e[n]]));
                    return Math.sqrt(r)
                },
                ur: function(t, e) {
                    return this.cr(t, this.closestOnSegment(t, e))
                },
                cr: function(t, e) {
                    var r = t[0] - e[0]
                      , i = t[1] - e[1];
                    return r * r + i * i
                },
                pr: function(t, e, r, i) {
                    if (i = i || 1e-6,
                    r[0] === e[0]) {
                        var n = Math.min(e[1], r[1])
                          , a = Math.max(e[1], r[1]);
                        return Math.abs(t[0] - r[0]) < i && t[1] >= n && t[1] <= a
                    }
                    var o = Math.min(e[0], r[0])
                      , s = Math.max(e[0], r[0])
                      , u = (r[1] - e[1]) / (r[0] - e[0]) * (t[0] - e[0]) + e[1];
                    return Math.abs(u - t[1]) < i && t[0] >= o && t[0] <= s
                },
                closestOnSegment: function(t, e) {
                    var r, i, n = t[0], a = t[1], o = e[0], s = e[1], u = o[0], c = o[1], f = s[0], h = s[1], l = f - u, d = h - c, v = 0 == l && 0 == d ? 0 : (l * (n - u) + d * (a - c)) / (l * l + d * d || 0);
                    return i = v <= 0 ? (r = u,
                    c) : 1 <= v ? (r = f,
                    h) : (r = u + v * l,
                    c + v * d),
                    [r, i]
                },
                isClockwise: function(t) {
                    for (var e, r, i, n = t.length, a = 0, o = t[n - 1], s = o[0], u = o[1], c = 0; c < n; c += 1)
                        a += ((e = (i = t[c])[0]) - s) * ((r = i[1]) + u),
                        s = e,
                        u = r;
                    return 0 < a
                },
                ss: function(t, e, r) {
                    for (var i, n, a, o, s = t[0], u = t[1], c = !1, f = e.length, h = 0, l = f - 1; h < f; l = h,
                    h += 1) {
                        var d = !1;
                        if (i = e[h][0],
                        n = e[h][1],
                        a = e[l][0],
                        o = e[l][1],
                        i === s && n === u || a === s && o === u)
                            return !!r;
                        if (n < u == u <= o) {
                            var v = (a - i) * (u - n) / (o - n) + i;
                            if (s === v)
                                return !!r;
                            d = s < v
                        }
                        d && (c = !c)
                    }
                    return c
                },
                dr: function(t, e) {
                    function r(t, e, r) {
                        return (r[0] - e[0]) * (t[1] - e[1]) > (r[1] - e[1]) * (t[0] - e[0])
                    }
                    function i(t, e, r, i) {
                        var n = [t[0] - e[0], t[1] - e[1]]
                          , a = [r[0] - i[0], r[1] - i[1]]
                          , o = t[0] * e[1] - t[1] * e[0]
                          , s = r[0] * i[1] - r[1] * i[0]
                          , u = 1 / (n[0] * a[1] - n[1] * a[0]);
                        return [(o * a[0] - s * n[0]) * u, (o * a[1] - s * n[1]) * u]
                    }
                    var n, a, o, s, u = t;
                    n = e[e.length - 2];
                    for (var c = 0, f = e.length - 1; c < f; c++) {
                        a = e[c];
                        var h = u;
                        u = [],
                        o = h[h.length - 1];
                        for (var l = 0, d = h.length; l < d; l++)
                            r(s = h[l], n, a) ? (r(o, n, a) || u.push(i(n, a, o, s)),
                            u.push(s)) : r(o, n, a) && u.push(i(n, a, o, s)),
                            o = s;
                        n = a
                    }
                    return u.length < 3 ? [] : (u.push(u[0]),
                    u)
                }
            }
              , freeGlobal = "object" == typeof global && global && global.Object === Object && global
              , freeSelf = "object" == typeof self && self && self.Object === Object && self
              , root = freeGlobal || freeSelf || Function("return this")()
              , Symbol = root.Symbol
              , objectProto = Object.prototype
              , hasOwnProperty = objectProto.hasOwnProperty
              , nativeObjectToString = objectProto.toString
              , symToStringTag = Symbol ? Symbol.toStringTag : void 0;
            function getRawTag(t) {
                var e = hasOwnProperty.call(t, symToStringTag)
                  , r = t[symToStringTag];
                try {
                    var i = !(t[symToStringTag] = void 0)
                } catch (t) {}
                var n = nativeObjectToString.call(t);
                return i && (e ? t[symToStringTag] = r : delete t[symToStringTag]),
                n
            }
            var objectProto$1 = Object.prototype
              , nativeObjectToString$1 = objectProto$1.toString;
            function objectToString(t) {
                return nativeObjectToString$1.call(t)
            }
            var nullTag = "[object Null]"
              , undefinedTag = "[object Undefined]"
              , symToStringTag$1 = Symbol ? Symbol.toStringTag : void 0;
            function baseGetTag(t) {
                return null == t ? void 0 === t ? undefinedTag : nullTag : (symToStringTag$1 && symToStringTag$1 in Object(t) ? getRawTag : objectToString)(t)
            }
            function isObjectLike(t) {
                return null != t && "object" == typeof t
            }
            var symbolTag = "[object Symbol]";
            function isSymbol(t) {
                return "symbol" == typeof t || isObjectLike(t) && baseGetTag(t) == symbolTag
            }
            function arrayMap(t, e) {
                for (var r = -1, i = null == t ? 0 : t.length, n = Array(i); ++r < i; )
                    n[r] = e(t[r], r, t);
                return n
            }
            var isArray = Array.isArray
              , INFINITY = 1 / 0
              , symbolProto = Symbol ? Symbol.prototype : void 0
              , symbolToString = symbolProto ? symbolProto.toString : void 0;
            function baseToString(t) {
                if ("string" == typeof t)
                    return t;
                if (isArray(t))
                    return arrayMap(t, baseToString) + "";
                if (isSymbol(t))
                    return symbolToString ? symbolToString.call(t) : "";
                var e = t + "";
                return "0" == e && 1 / t == -INFINITY ? "-0" : e
            }
            function isObject(t) {
                var e = typeof t;
                return null != t && ("object" == e || "function" == e)
            }
            var NAN = NaN
              , reTrim = /^\s+|\s+$/g
              , reIsBadHex = /^[-+]0x[0-9a-f]+$/i
              , reIsBinary = /^0b[01]+$/i
              , reIsOctal = /^0o[0-7]+$/i
              , freeParseInt = parseInt;
            function toNumber(t) {
                if ("number" == typeof t)
                    return t;
                if (isSymbol(t))
                    return NAN;
                if (isObject(t)) {
                    var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                    t = isObject(e) ? e + "" : e
                }
                if ("string" != typeof t)
                    return 0 === t ? t : +t;
                t = t.replace(reTrim, "");
                var r = reIsBinary.test(t);
                return r || reIsOctal.test(t) ? freeParseInt(t.slice(2), r ? 2 : 8) : reIsBadHex.test(t) ? NAN : +t
            }
            var INFINITY$1 = 1 / 0
              , MAX_INTEGER = 17976931348623157e292;
            function toFinite(t) {
                return t ? (t = toNumber(t)) !== INFINITY$1 && t !== -INFINITY$1 ? t == t ? t : 0 : (t < 0 ? -1 : 1) * MAX_INTEGER : 0 === t ? t : 0
            }
            function toInteger(t) {
                var e = toFinite(t)
                  , r = e % 1;
                return e == e ? r ? e - r : e : 0
            }
            function identity$1(t) {
                return t
            }
            var asyncTag = "[object AsyncFunction]"
              , funcTag = "[object Function]"
              , genTag = "[object GeneratorFunction]"
              , proxyTag = "[object Proxy]";
            function isFunction(t) {
                if (!isObject(t))
                    return !1;
                var e = baseGetTag(t);
                return e == funcTag || e == genTag || e == asyncTag || e == proxyTag
            }
            var coreJsData = root["__core-js_shared__"], maskSrcKey = (cl = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.Xb || ""),
            cl ? "Symbol(src)_1." + cl : ""), cl;
            function isMasked(t) {
                return maskSrcKey && maskSrcKey in t
            }
            var funcProto = Function.prototype
              , funcToString = funcProto.toString;
            function toSource(t) {
                if (null != t) {
                    try {
                        return funcToString.call(t)
                    } catch (t) {}
                    try {
                        return t + ""
                    } catch (t) {}
                }
                return ""
            }
            var reRegExpChar = /[\\^$.*+?()[\]{}|]/g
              , reIsHostCtor = /^\[object .+?Constructor\]$/
              , funcProto$1 = Function.prototype
              , objectProto$2 = Object.prototype
              , funcToString$1 = funcProto$1.toString
              , hasOwnProperty$1 = objectProto$2.hasOwnProperty
              , reIsNative = RegExp("^" + funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
            function baseIsNative(t) {
                return isObject(t) && !isMasked(t) && (isFunction(t) ? reIsNative : reIsHostCtor).test(toSource(t))
            }
            function getValue(t, e) {
                return null == t ? void 0 : t[e]
            }
            function getNative(t, e) {
                var r = getValue(t, e);
                return baseIsNative(r) ? r : void 0
            }
            var WeakMap = getNative(root, "WeakMap")
              , objectCreate = Object.create
              , baseCreate = function(t) {
                if (!isObject(t))
                    return {};
                if (objectCreate)
                    return objectCreate(t);
                ol.prototype = t;
                var e = new ol;
                return ol.prototype = void 0,
                e
            };
            function ol() {}
            function apply(t, e, r) {
                switch (r.length) {
                case 0:
                    return t.call(e);
                case 1:
                    return t.call(e, r[0]);
                case 2:
                    return t.call(e, r[0], r[1]);
                case 3:
                    return t.call(e, r[0], r[1], r[2])
                }
                return t.apply(e, r)
            }
            function copyArray(t, e) {
                var r = -1
                  , i = t.length;
                for (e = e || Array(i); ++r < i; )
                    e[r] = t[r];
                return e
            }
            var HOT_COUNT = 800
              , HOT_SPAN = 16
              , nativeNow = Date.now;
            function shortOut(r) {
                var i = 0
                  , n = 0;
                return function() {
                    var t = nativeNow()
                      , e = HOT_SPAN - (t - n);
                    if (n = t,
                    0 < e) {
                        if (++i >= HOT_COUNT)
                            return arguments[0]
                    } else
                        i = 0;
                    return r.apply(void 0, arguments)
                }
            }
            function constant(t) {
                return function() {
                    return t
                }
            }
            var defineProperty = function() {
                try {
                    var t = getNative(Object, "defineProperty");
                    return t({}, "", {}),
                    t
                } catch (t) {}
            }()
              , baseSetToString = defineProperty ? function(t, e) {
                return defineProperty(t, "toString", {
                    configurable: !0,
                    enumerable: !1,
                    value: constant(e),
                    writable: !0
                })
            }
            : identity$1
              , setToString = shortOut(baseSetToString);
            function arrayEach(t, e) {
                for (var r = -1, i = null == t ? 0 : t.length; ++r < i && !1 !== e(t[r], r, t); )
                    ;
                return t
            }
            function baseFindIndex(t, e, r, i) {
                for (var n = t.length, a = r + (i ? 1 : -1); i ? a-- : ++a < n; )
                    if (e(t[a], a, t))
                        return a;
                return -1
            }
            var MAX_SAFE_INTEGER = 9007199254740991
              , reIsUint = /^(?:0|[1-9]\d*)$/;
            function isIndex(t, e) {
                var r = typeof t;
                return !!(e = null == e ? MAX_SAFE_INTEGER : e) && ("number" == r || "symbol" != r && reIsUint.test(t)) && -1 < t && t % 1 == 0 && t < e
            }
            function baseAssignValue(t, e, r) {
                "__proto__" == e && defineProperty ? defineProperty(t, e, {
                    configurable: !0,
                    enumerable: !0,
                    value: r,
                    writable: !0
                }) : t[e] = r
            }
            function eq(t, e) {
                return t === e || t != t && e != e
            }
            var objectProto$3 = Object.prototype
              , hasOwnProperty$2 = objectProto$3.hasOwnProperty;
            function assignValue(t, e, r) {
                var i = t[e];
                hasOwnProperty$2.call(t, e) && eq(i, r) && (void 0 !== r || e in t) || baseAssignValue(t, e, r)
            }
            function copyObject(t, e, r, i) {
                var n = !r;
                r = r || {};
                for (var a = -1, o = e.length; ++a < o; ) {
                    var s = e[a]
                      , u = i ? i(r[s], t[s], s, r, t) : void 0;
                    void 0 === u && (u = t[s]),
                    (n ? baseAssignValue : assignValue)(r, s, u)
                }
                return r
            }
            var nativeMax = Math.max;
            function overRest(a, o, s) {
                return o = nativeMax(void 0 === o ? a.length - 1 : o, 0),
                function() {
                    for (var t = arguments, e = -1, r = nativeMax(t.length - o, 0), i = Array(r); ++e < r; )
                        i[e] = t[o + e];
                    e = -1;
                    for (var n = Array(o + 1); ++e < o; )
                        n[e] = t[e];
                    return n[o] = s(i),
                    apply(a, this, n)
                }
            }
            function baseRest(t, e) {
                return setToString(overRest(t, e, identity$1), t + "")
            }
            var MAX_SAFE_INTEGER$1 = 9007199254740991;
            function isLength(t) {
                return "number" == typeof t && -1 < t && t % 1 == 0 && t <= MAX_SAFE_INTEGER$1
            }
            function isArrayLike(t) {
                return null != t && isLength(t.length) && !isFunction(t)
            }
            function isIterateeCall(t, e, r) {
                if (isObject(r)) {
                    var i = typeof e;
                    return ("number" == i ? isArrayLike(r) && isIndex(e, r.length) : "string" == i && e in r) && eq(r[e], t)
                }
            }
            function createAssigner(s) {
                return baseRest(function(t, e) {
                    var r = -1
                      , i = e.length
                      , n = 1 < i ? e[i - 1] : void 0
                      , a = 2 < i ? e[2] : void 0;
                    for (n = 3 < s.length && "function" == typeof n ? (i--,
                    n) : void 0,
                    a && isIterateeCall(e[0], e[1], a) && (n = i < 3 ? void 0 : n,
                    i = 1),
                    t = Object(t); ++r < i; ) {
                        var o = e[r];
                        o && s(t, o, r, n)
                    }
                    return t
                })
            }
            var objectProto$4 = Object.prototype;
            function isPrototype(t) {
                var e = t && t.constructor;
                return t === ("function" == typeof e && e.prototype || objectProto$4)
            }
            function baseTimes(t, e) {
                for (var r = -1, i = Array(t); ++r < t; )
                    i[r] = e(r);
                return i
            }
            var argsTag = "[object Arguments]";
            function baseIsArguments(t) {
                return isObjectLike(t) && baseGetTag(t) == argsTag
            }
            var objectProto$5 = Object.prototype
              , hasOwnProperty$3 = objectProto$5.hasOwnProperty
              , propertyIsEnumerable = objectProto$5.propertyIsEnumerable
              , isArguments = baseIsArguments(function() {
                return arguments
            }()) ? baseIsArguments : function(t) {
                return isObjectLike(t) && hasOwnProperty$3.call(t, "callee") && !propertyIsEnumerable.call(t, "callee")
            }
            ;
            function stubFalse() {
                return !1
            }
            var freeExports = "object" == typeof exports && exports && !exports.nodeType && exports
              , freeModule = freeExports && "object" == typeof module && module && !module.nodeType && module
              , moduleExports = freeModule && freeModule.Jb === freeExports
              , Buffer = moduleExports ? root.Zb : void 0
              , nativeIsBuffer = Buffer ? Buffer.isBuffer : void 0
              , isBuffer = nativeIsBuffer || stubFalse
              , argsTag$1 = "[object Arguments]"
              , arrayTag = "[object Array]"
              , boolTag = "[object Boolean]"
              , dateTag = "[object Date]"
              , errorTag = "[object Error]"
              , funcTag$1 = "[object Function]"
              , mapTag = "[object Map]"
              , numberTag = "[object Number]"
              , objectTag = "[object Object]"
              , regexpTag = "[object RegExp]"
              , setTag = "[object Set]"
              , stringTag = "[object String]"
              , weakMapTag = "[object WeakMap]"
              , arrayBufferTag = "[object ArrayBuffer]"
              , dataViewTag = "[object DataView]"
              , float32Tag = "[object Float32Array]"
              , float64Tag = "[object Float64Array]"
              , int8Tag = "[object Int8Array]"
              , int16Tag = "[object Int16Array]"
              , int32Tag = "[object Int32Array]"
              , uint8Tag = "[object Uint8Array]"
              , uint8ClampedTag = "[object Uint8ClampedArray]"
              , uint16Tag = "[object Uint16Array]"
              , uint32Tag = "[object Uint32Array]"
              , typedArrayTags = {};
            function baseIsTypedArray(t) {
                return isObjectLike(t) && isLength(t.length) && !!typedArrayTags[baseGetTag(t)]
            }
            function baseUnary(e) {
                return function(t) {
                    return e(t)
                }
            }
            typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = !0,
            typedArrayTags[argsTag$1] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag$1] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = !1;
            var freeExports$1 = "object" == typeof exports && exports && !exports.nodeType && exports
              , freeModule$1 = freeExports$1 && "object" == typeof module && module && !module.nodeType && module
              , moduleExports$1 = freeModule$1 && freeModule$1.Jb === freeExports$1
              , freeProcess = moduleExports$1 && freeGlobal.process
              , nodeUtil = function() {
                try {
                    var t = freeModule$1 && freeModule$1.Qb && freeModule$1.Qb("util").types;
                    return t || freeProcess && freeProcess.tg && freeProcess.tg("util")
                } catch (t) {}
            }()
              , nodeIsTypedArray = nodeUtil && nodeUtil.rg
              , isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray
              , objectProto$6 = Object.prototype
              , hasOwnProperty$4 = objectProto$6.hasOwnProperty;
            function arrayLikeKeys(t, e) {
                var r = isArray(t)
                  , i = !r && isArguments(t)
                  , n = !r && !i && isBuffer(t)
                  , a = !r && !i && !n && isTypedArray(t)
                  , o = r || i || n || a
                  , s = o ? baseTimes(t.length, String) : []
                  , u = s.length;
                for (var c in t)
                    !e && !hasOwnProperty$4.call(t, c) || o && ("length" == c || n && ("offset" == c || "parent" == c) || a && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || isIndex(c, u)) || s.push(c);
                return s
            }
            function overArg(e, r) {
                return function(t) {
                    return e(r(t))
                }
            }
            var nativeKeys = overArg(Object.keys, Object)
              , objectProto$7 = Object.prototype
              , hasOwnProperty$5 = objectProto$7.hasOwnProperty;
            function baseKeys(t) {
                if (!isPrototype(t))
                    return nativeKeys(t);
                var e = [];
                for (var r in Object(t))
                    hasOwnProperty$5.call(t, r) && "constructor" != r && e.push(r);
                return e
            }
            function keys(t) {
                return (isArrayLike(t) ? arrayLikeKeys : baseKeys)(t)
            }
            var objectProto$8 = Object.prototype
              , hasOwnProperty$6 = objectProto$8.hasOwnProperty
              , assign = createAssigner(function(t, e) {
                if (isPrototype(e) || isArrayLike(e))
                    copyObject(e, keys(e), t);
                else
                    for (var r in e)
                        hasOwnProperty$6.call(e, r) && assignValue(t, r, e[r])
            });
            function nativeKeysIn(t) {
                var e = [];
                if (null != t)
                    for (var r in Object(t))
                        e.push(r);
                return e
            }
            var objectProto$9 = Object.prototype
              , hasOwnProperty$7 = objectProto$9.hasOwnProperty;
            function baseKeysIn(t) {
                if (!isObject(t))
                    return nativeKeysIn(t);
                var e = isPrototype(t)
                  , r = [];
                for (var i in t)
                    ("constructor" != i || !e && hasOwnProperty$7.call(t, i)) && r.push(i);
                return r
            }
            function keysIn$1(t) {
                return isArrayLike(t) ? arrayLikeKeys(t, !0) : baseKeysIn(t)
            }
            var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
              , reIsPlainProp = /^\w*$/;
            function isKey(t, e) {
                if (!isArray(t)) {
                    var r = typeof t;
                    return "number" == r || "symbol" == r || "boolean" == r || null == t || isSymbol(t) || reIsPlainProp.test(t) || !reIsDeepProp.test(t) || null != e && t in Object(e)
                }
            }
            var nativeCreate = getNative(Object, "create");
            function hashClear() {
                this.ng = nativeCreate ? nativeCreate(null) : {},
                this.size = 0
            }
            function hashDelete(t) {
                var e = this.has(t) && delete this.ng[t];
                return this.size -= e ? 1 : 0,
                e
            }
            var HASH_UNDEFINED = "__lodash_hash_undefined__"
              , objectProto$a = Object.prototype
              , hasOwnProperty$8 = objectProto$a.hasOwnProperty;
            function hashGet(t) {
                var e = this.ng;
                if (nativeCreate) {
                    var r = e[t];
                    return r === HASH_UNDEFINED ? void 0 : r
                }
                return hasOwnProperty$8.call(e, t) ? e[t] : void 0
            }
            var objectProto$b = Object.prototype
              , hasOwnProperty$9 = objectProto$b.hasOwnProperty;
            function hashHas(t) {
                var e = this.ng;
                return nativeCreate ? void 0 !== e[t] : hasOwnProperty$9.call(e, t)
            }
            var HASH_UNDEFINED$1 = "__lodash_hash_undefined__";
            function hashSet(t, e) {
                var r = this.ng;
                return this.size += this.has(t) ? 0 : 1,
                r[t] = nativeCreate && void 0 === e ? HASH_UNDEFINED$1 : e,
                this
            }
            function Hash(t) {
                var e = -1
                  , r = null == t ? 0 : t.length;
                for (this.clear(); ++e < r; ) {
                    var i = t[e];
                    this.set(i[0], i[1])
                }
            }
            function listCacheClear() {
                this.ng = [],
                this.size = 0
            }
            function assocIndexOf(t, e) {
                for (var r = t.length; r--; )
                    if (eq(t[r][0], e))
                        return r;
                return -1
            }
            Hash.prototype.clear = hashClear,
            Hash.prototype.delete = hashDelete,
            Hash.prototype.get = hashGet,
            Hash.prototype.has = hashHas,
            Hash.prototype.set = hashSet;
            var arrayProto = Array.prototype
              , splice = arrayProto.splice;
            function listCacheDelete(t) {
                var e = this.ng
                  , r = assocIndexOf(e, t);
                return !(r < 0 || (r == e.length - 1 ? e.pop() : splice.call(e, r, 1),
                --this.size,
                0))
            }
            function listCacheGet(t) {
                var e = this.ng
                  , r = assocIndexOf(e, t);
                return r < 0 ? void 0 : e[r][1]
            }
            function listCacheHas(t) {
                return -1 < assocIndexOf(this.ng, t)
            }
            function listCacheSet(t, e) {
                var r = this.ng
                  , i = assocIndexOf(r, t);
                return i < 0 ? (++this.size,
                r.push([t, e])) : r[i][1] = e,
                this
            }
            function ListCache(t) {
                var e = -1
                  , r = null == t ? 0 : t.length;
                for (this.clear(); ++e < r; ) {
                    var i = t[e];
                    this.set(i[0], i[1])
                }
            }
            ListCache.prototype.clear = listCacheClear,
            ListCache.prototype.delete = listCacheDelete,
            ListCache.prototype.get = listCacheGet,
            ListCache.prototype.has = listCacheHas,
            ListCache.prototype.set = listCacheSet;
            var Map$1 = getNative(root, "Map");
            function mapCacheClear() {
                this.size = 0,
                this.ng = {
                    hash: new Hash,
                    map: new (Map$1 || ListCache),
                    string: new Hash
                }
            }
            function isKeyable(t) {
                var e = typeof t;
                return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t
            }
            function getMapData(t, e) {
                var r = t.ng;
                return isKeyable(e) ? r["string" == typeof e ? "string" : "hash"] : r.map
            }
            function mapCacheDelete(t) {
                var e = getMapData(this, t).delete(t);
                return this.size -= e ? 1 : 0,
                e
            }
            function mapCacheGet(t) {
                return getMapData(this, t).get(t)
            }
            function mapCacheHas(t) {
                return getMapData(this, t).has(t)
            }
            function mapCacheSet(t, e) {
                var r = getMapData(this, t)
                  , i = r.size;
                return r.set(t, e),
                this.size += r.size == i ? 0 : 1,
                this
            }
            function MapCache(t) {
                var e = -1
                  , r = null == t ? 0 : t.length;
                for (this.clear(); ++e < r; ) {
                    var i = t[e];
                    this.set(i[0], i[1])
                }
            }
            MapCache.prototype.clear = mapCacheClear,
            MapCache.prototype.delete = mapCacheDelete,
            MapCache.prototype.get = mapCacheGet,
            MapCache.prototype.has = mapCacheHas,
            MapCache.prototype.set = mapCacheSet;
            var FUNC_ERROR_TEXT = "Expected a function";
            function memoize(n, a) {
                if ("function" != typeof n || null != a && "function" != typeof a)
                    throw new TypeError(FUNC_ERROR_TEXT);
                var o = function() {
                    var t = arguments
                      , e = a ? a.apply(this, t) : t[0]
                      , r = o.qn;
                    if (r.has(e))
                        return r.get(e);
                    var i = n.apply(this, t);
                    return o.qn = r.set(e, i) || r,
                    i
                };
                return o.qn = new (memoize.Cache || MapCache),
                o
            }
            memoize.Cache = MapCache;
            var MAX_MEMOIZE_SIZE = 500;
            function memoizeCapped(t) {
                var e = memoize(t, function(t) {
                    return r.size === MAX_MEMOIZE_SIZE && r.clear(),
                    t
                })
                  , r = e.qn;
                return e
            }
            var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
              , reEscapeChar = /\\(\\)?/g
              , stringToPath = memoizeCapped(function(t) {
                var n = [];
                return 46 === t.charCodeAt(0) && n.push(""),
                t.replace(rePropName, function(t, e, r, i) {
                    n.push(r ? i.replace(reEscapeChar, "$1") : e || t)
                }),
                n
            });
            function toString(t) {
                return null == t ? "" : baseToString(t)
            }
            function castPath(t, e) {
                return isArray(t) ? t : isKey(t, e) ? [t] : stringToPath(toString(t))
            }
            var INFINITY$2 = 1 / 0;
            function toKey(t) {
                if ("string" == typeof t || isSymbol(t))
                    return t;
                var e = t + "";
                return "0" == e && 1 / t == -INFINITY$2 ? "-0" : e
            }
            function baseGet(t, e) {
                for (var r = 0, i = (e = castPath(e, t)).length; null != t && r < i; )
                    t = t[toKey(e[r++])];
                return r && r == i ? t : void 0
            }
            function get(t, e, r) {
                var i = null == t ? void 0 : baseGet(t, e);
                return void 0 === i ? r : i
            }
            function arrayPush(t, e) {
                for (var r = -1, i = e.length, n = t.length; ++r < i; )
                    t[n + r] = e[r];
                return t
            }
            var getPrototype = overArg(Object.getPrototypeOf, Object)
              , objectTag$1 = "[object Object]"
              , funcProto$2 = Function.prototype
              , objectProto$c = Object.prototype
              , funcToString$2 = funcProto$2.toString
              , hasOwnProperty$a = objectProto$c.hasOwnProperty
              , objectCtorString = funcToString$2.call(Object);
            function isPlainObject(t) {
                if (isObjectLike(t) && baseGetTag(t) == objectTag$1) {
                    var e = getPrototype(t);
                    if (null === e)
                        return 1;
                    var r = hasOwnProperty$a.call(e, "constructor") && e.constructor;
                    return "function" == typeof r && r instanceof r && funcToString$2.call(r) == objectCtorString
                }
            }
            function stackClear() {
                this.ng = new ListCache,
                this.size = 0
            }
            function stackDelete(t) {
                var e = this.ng
                  , r = e.delete(t);
                return this.size = e.size,
                r
            }
            function stackGet(t) {
                return this.ng.get(t)
            }
            function stackHas(t) {
                return this.ng.has(t)
            }
            var LARGE_ARRAY_SIZE = 200;
            function stackSet(t, e) {
                var r = this.ng;
                if (r instanceof ListCache) {
                    var i = r.ng;
                    if (!Map$1 || i.length < LARGE_ARRAY_SIZE - 1)
                        return i.push([t, e]),
                        this.size = ++r.size,
                        this;
                    r = this.ng = new MapCache(i)
                }
                return r.set(t, e),
                this.size = r.size,
                this
            }
            function Stack(t) {
                var e = this.ng = new ListCache(t);
                this.size = e.size
            }
            function baseAssign(t, e) {
                return t && copyObject(e, keys(e), t)
            }
            function baseAssignIn(t, e) {
                return t && copyObject(e, keysIn$1(e), t)
            }
            Stack.prototype.clear = stackClear,
            Stack.prototype.delete = stackDelete,
            Stack.prototype.get = stackGet,
            Stack.prototype.has = stackHas,
            Stack.prototype.set = stackSet;
            var freeExports$2 = "object" == typeof exports && exports && !exports.nodeType && exports
              , freeModule$2 = freeExports$2 && "object" == typeof module && module && !module.nodeType && module
              , moduleExports$2 = freeModule$2 && freeModule$2.Jb === freeExports$2
              , Buffer$1 = moduleExports$2 ? root.Zb : void 0
              , allocUnsafe = Buffer$1 ? Buffer$1.ig : void 0;
            function cloneBuffer(t, e) {
                if (e)
                    return t.slice();
                var r = t.length
                  , i = allocUnsafe ? allocUnsafe(r) : new t.constructor(r);
                return t.eg(i),
                i
            }
            function arrayFilter(t, e) {
                for (var r = -1, i = null == t ? 0 : t.length, n = 0, a = []; ++r < i; ) {
                    var o = t[r];
                    e(o, r, t) && (a[n++] = o)
                }
                return a
            }
            function stubArray() {
                return []
            }
            var objectProto$d = Object.prototype
              , propertyIsEnumerable$1 = objectProto$d.propertyIsEnumerable
              , nativeGetSymbols = Object.getOwnPropertySymbols
              , getSymbols = nativeGetSymbols ? function(e) {
                return null == e ? [] : (e = Object(e),
                arrayFilter(nativeGetSymbols(e), function(t) {
                    return propertyIsEnumerable$1.call(e, t)
                }))
            }
            : stubArray;
            function copySymbols(t, e) {
                return copyObject(t, getSymbols(t), e)
            }
            var nativeGetSymbols$1 = Object.getOwnPropertySymbols
              , getSymbolsIn = nativeGetSymbols$1 ? function(t) {
                for (var e = []; t; )
                    arrayPush(e, getSymbols(t)),
                    t = getPrototype(t);
                return e
            }
            : stubArray;
            function copySymbolsIn(t, e) {
                return copyObject(t, getSymbolsIn(t), e)
            }
            function baseGetAllKeys(t, e, r) {
                var i = e(t);
                return isArray(t) ? i : arrayPush(i, r(t))
            }
            function getAllKeys(t) {
                return baseGetAllKeys(t, keys, getSymbols)
            }
            function getAllKeysIn(t) {
                return baseGetAllKeys(t, keysIn$1, getSymbolsIn)
            }
            var DataView = getNative(root, "DataView")
              , Promise$1 = getNative(root, "Promise")
              , Set = getNative(root, "Set")
              , mapTag$1 = "[object Map]"
              , objectTag$2 = "[object Object]"
              , promiseTag = "[object Promise]"
              , setTag$1 = "[object Set]"
              , weakMapTag$1 = "[object WeakMap]"
              , dataViewTag$1 = "[object DataView]"
              , dataViewCtorString = toSource(DataView)
              , mapCtorString = toSource(Map$1)
              , promiseCtorString = toSource(Promise$1)
              , setCtorString = toSource(Set)
              , weakMapCtorString = toSource(WeakMap)
              , getTag = baseGetTag;
            (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag$1 || Map$1 && getTag(new Map$1) != mapTag$1 || Promise$1 && getTag(Promise$1.resolve()) != promiseTag || Set && getTag(new Set) != setTag$1 || WeakMap && getTag(new WeakMap) != weakMapTag$1) && (getTag = function(t) {
                var e = baseGetTag(t)
                  , r = e == objectTag$2 ? t.constructor : void 0
                  , i = r ? toSource(r) : "";
                if (i)
                    switch (i) {
                    case dataViewCtorString:
                        return dataViewTag$1;
                    case mapCtorString:
                        return mapTag$1;
                    case promiseCtorString:
                        return promiseTag;
                    case setCtorString:
                        return setTag$1;
                    case weakMapCtorString:
                        return weakMapTag$1
                    }
                return e
            }
            );
            var getTag$1 = getTag
              , objectProto$e = Object.prototype
              , hasOwnProperty$b = objectProto$e.hasOwnProperty;
            function initCloneArray(t) {
                var e = t.length
                  , r = new t.constructor(e);
                return e && "string" == typeof t[0] && hasOwnProperty$b.call(t, "index") && (r.index = t.index,
                r.input = t.input),
                r
            }
            var Uint8Array$1 = root.Uint8Array;
            function cloneArrayBuffer(t) {
                var e = new t.constructor(t.byteLength);
                return new Uint8Array$1(e).set(new Uint8Array$1(t)),
                e
            }
            function cloneDataView(t, e) {
                var r = e ? cloneArrayBuffer(t.buffer) : t.buffer;
                return new t.constructor(r,t.byteOffset,t.byteLength)
            }
            var reFlags = /\w*$/;
            function cloneRegExp(t) {
                var e = new t.constructor(t.source,reFlags.exec(t));
                return e.lastIndex = t.lastIndex,
                e
            }
            var symbolProto$1 = Symbol ? Symbol.prototype : void 0
              , symbolValueOf = symbolProto$1 ? symbolProto$1.valueOf : void 0;
            function cloneSymbol(t) {
                return symbolValueOf ? Object(symbolValueOf.call(t)) : {}
            }
            function cloneTypedArray(t, e) {
                var r = e ? cloneArrayBuffer(t.buffer) : t.buffer;
                return new t.constructor(r,t.byteOffset,t.length)
            }
            var boolTag$1 = "[object Boolean]"
              , dateTag$1 = "[object Date]"
              , mapTag$2 = "[object Map]"
              , numberTag$1 = "[object Number]"
              , regexpTag$1 = "[object RegExp]"
              , setTag$2 = "[object Set]"
              , stringTag$1 = "[object String]"
              , symbolTag$1 = "[object Symbol]"
              , arrayBufferTag$1 = "[object ArrayBuffer]"
              , dataViewTag$2 = "[object DataView]"
              , float32Tag$1 = "[object Float32Array]"
              , float64Tag$1 = "[object Float64Array]"
              , int8Tag$1 = "[object Int8Array]"
              , int16Tag$1 = "[object Int16Array]"
              , int32Tag$1 = "[object Int32Array]"
              , uint8Tag$1 = "[object Uint8Array]"
              , uint8ClampedTag$1 = "[object Uint8ClampedArray]"
              , uint16Tag$1 = "[object Uint16Array]"
              , uint32Tag$1 = "[object Uint32Array]";
            function initCloneByTag(t, e, r) {
                var i = t.constructor;
                switch (e) {
                case arrayBufferTag$1:
                    return cloneArrayBuffer(t);
                case boolTag$1:
                case dateTag$1:
                    return new i(+t);
                case dataViewTag$2:
                    return cloneDataView(t, r);
                case float32Tag$1:
                case float64Tag$1:
                case int8Tag$1:
                case int16Tag$1:
                case int32Tag$1:
                case uint8Tag$1:
                case uint8ClampedTag$1:
                case uint16Tag$1:
                case uint32Tag$1:
                    return cloneTypedArray(t, r);
                case mapTag$2:
                    return new i;
                case numberTag$1:
                case stringTag$1:
                    return new i(t);
                case regexpTag$1:
                    return cloneRegExp(t);
                case setTag$2:
                    return new i;
                case symbolTag$1:
                    return cloneSymbol(t)
                }
            }
            function initCloneObject(t) {
                return "function" != typeof t.constructor || isPrototype(t) ? {} : baseCreate(getPrototype(t))
            }
            var mapTag$3 = "[object Map]";
            function baseIsMap(t) {
                return isObjectLike(t) && getTag$1(t) == mapTag$3
            }
            var nodeIsMap = nodeUtil && nodeUtil.isMap
              , isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap
              , setTag$3 = "[object Set]";
            function baseIsSet(t) {
                return isObjectLike(t) && getTag$1(t) == setTag$3
            }
            var nodeIsSet = nodeUtil && nodeUtil.og
              , isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet
              , CLONE_DEEP_FLAG = 1
              , CLONE_FLAT_FLAG = 2
              , CLONE_SYMBOLS_FLAG = 4
              , argsTag$2 = "[object Arguments]"
              , arrayTag$1 = "[object Array]"
              , boolTag$2 = "[object Boolean]"
              , dateTag$2 = "[object Date]"
              , errorTag$1 = "[object Error]"
              , funcTag$2 = "[object Function]"
              , genTag$1 = "[object GeneratorFunction]"
              , mapTag$4 = "[object Map]"
              , numberTag$2 = "[object Number]"
              , objectTag$3 = "[object Object]"
              , regexpTag$2 = "[object RegExp]"
              , setTag$4 = "[object Set]"
              , stringTag$2 = "[object String]"
              , symbolTag$2 = "[object Symbol]"
              , weakMapTag$2 = "[object WeakMap]"
              , arrayBufferTag$2 = "[object ArrayBuffer]"
              , dataViewTag$3 = "[object DataView]"
              , float32Tag$2 = "[object Float32Array]"
              , float64Tag$2 = "[object Float64Array]"
              , int8Tag$2 = "[object Int8Array]"
              , int16Tag$2 = "[object Int16Array]"
              , int32Tag$2 = "[object Int32Array]"
              , uint8Tag$2 = "[object Uint8Array]"
              , uint8ClampedTag$2 = "[object Uint8ClampedArray]"
              , uint16Tag$2 = "[object Uint16Array]"
              , uint32Tag$2 = "[object Uint32Array]"
              , cloneableTags = {};
            function baseClone(r, i, n, t, e, a) {
                var o, s = i & CLONE_DEEP_FLAG, u = i & CLONE_FLAT_FLAG, c = i & CLONE_SYMBOLS_FLAG;
                if (n && (o = e ? n(r, t, e, a) : n(r)),
                void 0 !== o)
                    return o;
                if (!isObject(r))
                    return r;
                var f = isArray(r);
                if (f) {
                    if (o = initCloneArray(r),
                    !s)
                        return copyArray(r, o)
                } else {
                    var h = getTag$1(r)
                      , l = h == funcTag$2 || h == genTag$1;
                    if (isBuffer(r))
                        return cloneBuffer(r, s);
                    if (h == objectTag$3 || h == argsTag$2 || l && !e) {
                        if (o = u || l ? {} : initCloneObject(r),
                        !s)
                            return u ? copySymbolsIn(r, baseAssignIn(o, r)) : copySymbols(r, baseAssign(o, r))
                    } else {
                        if (!cloneableTags[h])
                            return e ? r : {};
                        o = initCloneByTag(r, h, s)
                    }
                }
                var d = (a = a || new Stack).get(r);
                if (d)
                    return d;
                a.set(r, o),
                isSet(r) ? r.forEach(function(t) {
                    o.add(baseClone(t, i, n, t, r, a))
                }) : isMap(r) && r.forEach(function(t, e) {
                    o.set(e, baseClone(t, i, n, e, r, a))
                });
                var v = c ? u ? getAllKeysIn : getAllKeys : u ? keysIn : keys
                  , g = f ? void 0 : v(r);
                return arrayEach(g || r, function(t, e) {
                    g && (t = r[e = t]),
                    assignValue(o, e, baseClone(t, i, n, e, r, a))
                }),
                o
            }
            cloneableTags[argsTag$2] = cloneableTags[arrayTag$1] = cloneableTags[arrayBufferTag$2] = cloneableTags[dataViewTag$3] = cloneableTags[boolTag$2] = cloneableTags[dateTag$2] = cloneableTags[float32Tag$2] = cloneableTags[float64Tag$2] = cloneableTags[int8Tag$2] = cloneableTags[int16Tag$2] = cloneableTags[int32Tag$2] = cloneableTags[mapTag$4] = cloneableTags[numberTag$2] = cloneableTags[objectTag$3] = cloneableTags[regexpTag$2] = cloneableTags[setTag$4] = cloneableTags[stringTag$2] = cloneableTags[symbolTag$2] = cloneableTags[uint8Tag$2] = cloneableTags[uint8ClampedTag$2] = cloneableTags[uint16Tag$2] = cloneableTags[uint32Tag$2] = !0,
            cloneableTags[errorTag$1] = cloneableTags[funcTag$2] = cloneableTags[weakMapTag$2] = !1;
            var CLONE_SYMBOLS_FLAG$1 = 4;
            function clone$1(t) {
                return baseClone(t, CLONE_SYMBOLS_FLAG$1)
            }
            var CLONE_DEEP_FLAG$1 = 1
              , CLONE_SYMBOLS_FLAG$2 = 4;
            function cloneDeep(t) {
                return baseClone(t, CLONE_DEEP_FLAG$1 | CLONE_SYMBOLS_FLAG$2)
            }
            var HASH_UNDEFINED$2 = "__lodash_hash_undefined__";
            function setCacheAdd(t) {
                return this.ng.set(t, HASH_UNDEFINED$2),
                this
            }
            function setCacheHas(t) {
                return this.ng.has(t)
            }
            function SetCache(t) {
                var e = -1
                  , r = null == t ? 0 : t.length;
                for (this.ng = new MapCache; ++e < r; )
                    this.add(t[e])
            }
            function arraySome(t, e) {
                for (var r = -1, i = null == t ? 0 : t.length; ++r < i; )
                    if (e(t[r], r, t))
                        return !0;
                return !1
            }
            function cacheHas(t, e) {
                return t.has(e)
            }
            SetCache.prototype.add = SetCache.prototype.push = setCacheAdd,
            SetCache.prototype.has = setCacheHas;
            var COMPARE_PARTIAL_FLAG = 1
              , COMPARE_UNORDERED_FLAG = 2;
            function equalArrays(t, e, r, i, n, a) {
                var o = r & COMPARE_PARTIAL_FLAG
                  , s = t.length
                  , u = e.length;
                if (s != u && !(o && s < u))
                    return !1;
                var c = a.get(t);
                if (c && a.get(e))
                    return c == e;
                var f = -1
                  , h = !0
                  , l = r & COMPARE_UNORDERED_FLAG ? new SetCache : void 0;
                for (a.set(t, e),
                a.set(e, t); ++f < s; ) {
                    var d = t[f]
                      , v = e[f];
                    if (i)
                        var g = o ? i(v, d, f, e, t, a) : i(d, v, f, t, e, a);
                    if (void 0 !== g) {
                        if (g)
                            continue;
                        h = !1;
                        break
                    }
                    if (l) {
                        if (!arraySome(e, function(t, e) {
                            if (!cacheHas(l, e) && (d === t || n(d, t, r, i, a)))
                                return l.push(e)
                        })) {
                            h = !1;
                            break
                        }
                    } else if (d !== v && !n(d, v, r, i, a)) {
                        h = !1;
                        break
                    }
                }
                return a.delete(t),
                a.delete(e),
                h
            }
            function mapToArray(t) {
                var r = -1
                  , i = Array(t.size);
                return t.forEach(function(t, e) {
                    i[++r] = [e, t]
                }),
                i
            }
            function setToArray(t) {
                var e = -1
                  , r = Array(t.size);
                return t.forEach(function(t) {
                    r[++e] = t
                }),
                r
            }
            var COMPARE_PARTIAL_FLAG$1 = 1
              , COMPARE_UNORDERED_FLAG$1 = 2
              , boolTag$3 = "[object Boolean]"
              , dateTag$3 = "[object Date]"
              , errorTag$2 = "[object Error]"
              , mapTag$5 = "[object Map]"
              , numberTag$3 = "[object Number]"
              , regexpTag$3 = "[object RegExp]"
              , setTag$5 = "[object Set]"
              , stringTag$3 = "[object String]"
              , symbolTag$3 = "[object Symbol]"
              , arrayBufferTag$3 = "[object ArrayBuffer]"
              , dataViewTag$4 = "[object DataView]"
              , symbolProto$2 = Symbol ? Symbol.prototype : void 0
              , symbolValueOf$1 = symbolProto$2 ? symbolProto$2.valueOf : void 0;
            function equalByTag(t, e, r, i, n, a, o) {
                switch (r) {
                case dataViewTag$4:
                    if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                        return !1;
                    t = t.buffer,
                    e = e.buffer;
                case arrayBufferTag$3:
                    return !(t.byteLength != e.byteLength || !a(new Uint8Array$1(t), new Uint8Array$1(e)));
                case boolTag$3:
                case dateTag$3:
                case numberTag$3:
                    return eq(+t, +e);
                case errorTag$2:
                    return t.name == e.name && t.message == e.message;
                case regexpTag$3:
                case stringTag$3:
                    return t == e + "";
                case mapTag$5:
                    var s = mapToArray;
                case setTag$5:
                    var u = i & COMPARE_PARTIAL_FLAG$1;
                    if (s = s || setToArray,
                    t.size != e.size && !u)
                        return !1;
                    var c = o.get(t);
                    if (c)
                        return c == e;
                    i |= COMPARE_UNORDERED_FLAG$1,
                    o.set(t, e);
                    var f = equalArrays(s(t), s(e), i, n, a, o);
                    return o.delete(t),
                    f;
                case symbolTag$3:
                    if (symbolValueOf$1)
                        return symbolValueOf$1.call(t) == symbolValueOf$1.call(e)
                }
                return !1
            }
            var COMPARE_PARTIAL_FLAG$2 = 1
              , objectProto$f = Object.prototype
              , hasOwnProperty$c = objectProto$f.hasOwnProperty;
            function equalObjects(t, e, r, i, n, a) {
                var o = r & COMPARE_PARTIAL_FLAG$2
                  , s = getAllKeys(t)
                  , u = s.length;
                if (u != getAllKeys(e).length && !o)
                    return !1;
                for (var c = u; c--; ) {
                    var f = s[c];
                    if (!(o ? f in e : hasOwnProperty$c.call(e, f)))
                        return !1
                }
                var h = a.get(t);
                if (h && a.get(e))
                    return h == e;
                var l = !0;
                a.set(t, e),
                a.set(e, t);
                for (var d = o; ++c < u; ) {
                    var v = t[f = s[c]]
                      , g = e[f];
                    if (i)
                        var p = o ? i(g, v, f, e, t, a) : i(v, g, f, t, e, a);
                    if (!(void 0 === p ? v === g || n(v, g, r, i, a) : p)) {
                        l = !1;
                        break
                    }
                    d = d || "constructor" == f
                }
                if (l && !d) {
                    var b = t.constructor
                      , y = e.constructor;
                    b != y && "constructor"in t && "constructor"in e && !("function" == typeof b && b instanceof b && "function" == typeof y && y instanceof y) && (l = !1)
                }
                return a.delete(t),
                a.delete(e),
                l
            }
            var COMPARE_PARTIAL_FLAG$3 = 1
              , argsTag$3 = "[object Arguments]"
              , arrayTag$2 = "[object Array]"
              , objectTag$4 = "[object Object]"
              , objectProto$g = Object.prototype
              , hasOwnProperty$d = objectProto$g.hasOwnProperty;
            function baseIsEqualDeep(t, e, r, i, n, a) {
                var o = isArray(t)
                  , s = isArray(e)
                  , u = o ? arrayTag$2 : getTag$1(t)
                  , c = s ? arrayTag$2 : getTag$1(e)
                  , f = (u = u == argsTag$3 ? objectTag$4 : u) == objectTag$4
                  , h = (c = c == argsTag$3 ? objectTag$4 : c) == objectTag$4
                  , l = u == c;
                if (l && isBuffer(t)) {
                    if (!isBuffer(e))
                        return !1;
                    f = !(o = !0)
                }
                if (l && !f)
                    return a = a || new Stack,
                    o || isTypedArray(t) ? equalArrays(t, e, r, i, n, a) : equalByTag(t, e, u, r, i, n, a);
                if (!(r & COMPARE_PARTIAL_FLAG$3)) {
                    var d = f && hasOwnProperty$d.call(t, "__wrapped__")
                      , v = h && hasOwnProperty$d.call(e, "__wrapped__");
                    if (d || v)
                        return n(d ? t.value() : t, v ? e.value() : e, r, i, a = a || new Stack)
                }
                return l && equalObjects(t, e, r, i, n, a = a || new Stack)
            }
            function baseIsEqual(t, e, r, i, n) {
                return t === e || (null == t || null == e || !isObjectLike(t) && !isObjectLike(e) ? t != t && e != e : baseIsEqualDeep(t, e, r, i, baseIsEqual, n))
            }
            var COMPARE_PARTIAL_FLAG$4 = 1
              , COMPARE_UNORDERED_FLAG$2 = 2;
            function baseIsMatch(t, e, r, i) {
                var n = r.length
                  , a = n
                  , o = !i;
                if (null == t)
                    return !a;
                for (t = Object(t); n--; ) {
                    var s = r[n];
                    if (o && s[2] ? s[1] !== t[s[0]] : !(s[0]in t))
                        return !1
                }
                for (; ++n < a; ) {
                    var u = (s = r[n])[0]
                      , c = t[u]
                      , f = s[1];
                    if (o && s[2]) {
                        if (void 0 === c && !(u in t))
                            return !1
                    } else {
                        var h = new Stack;
                        if (i)
                            var l = i(c, f, u, t, e, h);
                        if (!(void 0 === l ? baseIsEqual(f, c, COMPARE_PARTIAL_FLAG$4 | COMPARE_UNORDERED_FLAG$2, i, h) : l))
                            return !1
                    }
                }
                return !0
            }
            function isStrictComparable(t) {
                return t == t && !isObject(t)
            }
            function getMatchData(t) {
                for (var e = keys(t), r = e.length; r--; ) {
                    var i = e[r]
                      , n = t[i];
                    e[r] = [i, n, isStrictComparable(n)]
                }
                return e
            }
            function matchesStrictComparable(e, r) {
                return function(t) {
                    return null != t && t[e] === r && (void 0 !== r || e in Object(t))
                }
            }
            function baseMatches(e) {
                var r = getMatchData(e);
                return 1 == r.length && r[0][2] ? matchesStrictComparable(r[0][0], r[0][1]) : function(t) {
                    return t === e || baseIsMatch(t, e, r)
                }
            }
            function baseHasIn(t, e) {
                return null != t && e in Object(t)
            }
            function hasPath(t, e, r) {
                for (var i = -1, n = (e = castPath(e, t)).length, a = !1; ++i < n; ) {
                    var o = toKey(e[i]);
                    if (!(a = null != t && r(t, o)))
                        break;
                    t = t[o]
                }
                return a || ++i != n ? a : !!(n = null == t ? 0 : t.length) && isLength(n) && isIndex(o, n) && (isArray(t) || isArguments(t))
            }
            function hasIn(t, e) {
                return null != t && hasPath(t, e, baseHasIn)
            }
            var COMPARE_PARTIAL_FLAG$5 = 1
              , COMPARE_UNORDERED_FLAG$3 = 2;
            function baseMatchesProperty(r, i) {
                return isKey(r) && isStrictComparable(i) ? matchesStrictComparable(toKey(r), i) : function(t) {
                    var e = get(t, r);
                    return void 0 === e && e === i ? hasIn(t, r) : baseIsEqual(i, e, COMPARE_PARTIAL_FLAG$5 | COMPARE_UNORDERED_FLAG$3)
                }
            }
            function baseProperty(e) {
                return function(t) {
                    return null == t ? void 0 : t[e]
                }
            }
            function basePropertyDeep(e) {
                return function(t) {
                    return baseGet(t, e)
                }
            }
            function property(t) {
                return isKey(t) ? baseProperty(toKey(t)) : basePropertyDeep(t)
            }
            function baseIteratee(t) {
                return "function" == typeof t ? t : null == t ? identity$1 : "object" == typeof t ? isArray(t) ? baseMatchesProperty(t[0], t[1]) : baseMatches(t) : property(t)
            }
            function createBaseFor(u) {
                return function(t, e, r) {
                    for (var i = -1, n = Object(t), a = r(t), o = a.length; o--; ) {
                        var s = a[u ? o : ++i];
                        if (!1 === e(n[s], s, n))
                            break
                    }
                    return t
                }
            }
            var baseFor = createBaseFor();
            function baseForOwn(t, e) {
                return t && baseFor(t, e, keys)
            }
            function createBaseEach(a, o) {
                return function(t, e) {
                    if (null == t)
                        return t;
                    if (!isArrayLike(t))
                        return a(t, e);
                    for (var r = t.length, i = o ? r : -1, n = Object(t); (o ? i-- : ++i < r) && !1 !== e(n[i], i, n); )
                        ;
                    return t
                }
            }
            var baseEach = createBaseEach(baseForOwn);
            function assignMergeValue(t, e, r) {
                (void 0 === r || eq(t[e], r)) && (void 0 !== r || e in t) || baseAssignValue(t, e, r)
            }
            function isArrayLikeObject(t) {
                return isObjectLike(t) && isArrayLike(t)
            }
            function safeGet(t, e) {
                if (("constructor" !== e || "function" != typeof t[e]) && "__proto__" != e)
                    return t[e]
            }
            function toPlainObject(t) {
                return copyObject(t, keysIn$1(t))
            }
            function baseMergeDeep(t, e, r, i, n, a, o) {
                var s = safeGet(t, r)
                  , u = safeGet(e, r)
                  , c = o.get(u);
                if (c)
                    assignMergeValue(t, r, c);
                else {
                    var f = a ? a(s, u, r + "", t, e, o) : void 0
                      , h = void 0 === f;
                    if (h) {
                        var l = isArray(u)
                          , d = !l && isBuffer(u)
                          , v = !l && !d && isTypedArray(u);
                        f = u,
                        l || d || v ? f = isArray(s) ? s : isArrayLikeObject(s) ? copyArray(s) : d ? cloneBuffer(u, !(h = !1)) : v ? cloneTypedArray(u, !(h = !1)) : [] : isPlainObject(u) || isArguments(u) ? isArguments(f = s) ? f = toPlainObject(s) : isObject(s) && !isFunction(s) || (f = initCloneObject(u)) : h = !1
                    }
                    h && (o.set(u, f),
                    n(f, u, i, a, o),
                    o.delete(u)),
                    assignMergeValue(t, r, f)
                }
            }
            function baseMerge(i, n, a, o, s) {
                i !== n && baseFor(n, function(t, e) {
                    if (s = s || new Stack,
                    isObject(t))
                        baseMergeDeep(i, n, e, a, baseMerge, o, s);
                    else {
                        var r = o ? o(safeGet(i, e), t, e + "", i, n, s) : void 0;
                        void 0 === r && (r = t),
                        assignMergeValue(i, e, r)
                    }
                }, keysIn$1)
            }
            function customDefaultsMerge(t, e, r, i, n, a) {
                return isObject(t) && isObject(e) && (a.set(e, t),
                baseMerge(t, e, void 0, customDefaultsMerge, a),
                a.delete(e)),
                t
            }
            var mergeWith = createAssigner(function(t, e, r, i) {
                baseMerge(t, e, r, i)
            })
              , defaultsDeep = baseRest(function(t) {
                return t.push(void 0, customDefaultsMerge),
                apply(mergeWith, void 0, t)
            });
            function castFunction(t) {
                return "function" == typeof t ? t : identity$1
            }
            function forEach$3(t, e) {
                return (isArray(t) ? arrayEach : baseEach)(t, castFunction(e))
            }
            function arrayEvery(t, e) {
                for (var r = -1, i = null == t ? 0 : t.length; ++r < i; )
                    if (!e(t[r], r, t))
                        return !1;
                return !0
            }
            function baseEvery(t, i) {
                var n = !0;
                return baseEach(t, function(t, e, r) {
                    return n = !!i(t, e, r)
                }),
                n
            }
            function every(t, e, r) {
                var i = isArray(t) ? arrayEvery : baseEvery;
                return r && isIterateeCall(t, e, r) && (e = void 0),
                i(t, baseIteratee(e))
            }
            function baseFilter(t, i) {
                var n = [];
                return baseEach(t, function(t, e, r) {
                    i(t, e, r) && n.push(t)
                }),
                n
            }
            function filter(t, e) {
                return (isArray(t) ? arrayFilter : baseFilter)(t, baseIteratee(e))
            }
            function createFind(o) {
                return function(t, e, r) {
                    var i = Object(t);
                    if (!isArrayLike(t)) {
                        var n = baseIteratee(e);
                        t = keys(t),
                        e = function(t) {
                            return n(i[t], t, i)
                        }
                    }
                    var a = o(t, e, r);
                    return -1 < a ? i[n ? t[a] : a] : void 0
                }
            }
            var nativeMax$1 = Math.max;
            function findIndex(t, e, r) {
                var i = null == t ? 0 : t.length;
                if (!i)
                    return -1;
                var n = null == r ? 0 : toInteger(r);
                return n < 0 && (n = nativeMax$1(i + n, 0)),
                baseFindIndex(t, baseIteratee(e), n)
            }
            var find = createFind(findIndex);
            function baseMap(t, i) {
                var n = -1
                  , a = isArrayLike(t) ? Array(t.length) : [];
                return baseEach(t, function(t, e, r) {
                    a[++n] = i(t, e, r)
                }),
                a
            }
            function map(t, e) {
                return (isArray(t) ? arrayMap : baseMap)(t, baseIteratee(e))
            }
            function forIn(t, e) {
                return null == t ? t : baseFor(t, castFunction(e), keysIn$1)
            }
            var mapTag$6 = "[object Map]"
              , setTag$6 = "[object Set]"
              , objectProto$h = Object.prototype
              , hasOwnProperty$e = objectProto$h.hasOwnProperty;
            function isEmpty(t) {
                if (null == t)
                    return !0;
                if (isArrayLike(t) && (isArray(t) || "string" == typeof t || "function" == typeof t.splice || isBuffer(t) || isTypedArray(t) || isArguments(t)))
                    return !t.length;
                var e = getTag$1(t);
                if (e == mapTag$6 || e == setTag$6)
                    return !t.size;
                if (isPrototype(t))
                    return !baseKeys(t).length;
                for (var r in t)
                    if (hasOwnProperty$e.call(t, r))
                        return !1;
                return !0
            }
            function isEqual(t, e) {
                return baseIsEqual(t, e)
            }
            function isUndefined(t) {
                return void 0 === t
            }
            function baseSome(t, i) {
                var n;
                return baseEach(t, function(t, e, r) {
                    return !(n = i(t, e, r))
                }),
                !!n
            }
            function some(t, e, r) {
                var i = isArray(t) ? arraySome : baseSome;
                return r && isIterateeCall(t, e, r) && (e = void 0),
                i(t, baseIteratee(e))
            }
            var Pixel = (Nv.prototype.getX = function() {
                return this.x
            }
            ,
            Nv.prototype.round = function() {
                return new Nv(Math.round(this.x),Math.round(this.y))
            }
            ,
            Nv.prototype.getY = function() {
                return this.y
            }
            ,
            Nv.prototype.toString = function() {
                return this.x + "," + this.y
            }
            ,
            Nv.prototype.equals = function(t) {
                return t instanceof Nv && Math.max(Math.abs(this.x - t.x), Math.abs(this.y - t.y)) <= 1e-9
            }
            ,
            Nv.prototype.toArray = function() {
                return [this.x, this.y]
            }
            ,
            Nv.prototype.subtract = function(t, e) {
                return new Nv(this.x - t.x,this.y - t.y,e)
            }
            ,
            Nv.prototype.multiplyBy = function(t, e) {
                return new Nv(this.x * t,this.y * t,e)
            }
            ,
            Nv.prototype.direction = function() {
                var t = this.x
                  , e = this.y;
                if (0 === t && 0 === e)
                    return null;
                if (0 === t)
                    return 0 < e ? 90 : 270;
                var r = 180 * Math.atan(e / t) / Math.PI;
                return t < 0 && 0 < e || t < 0 && e < 0 ? 180 + r : 0 < t && e < 0 ? 360 + r : r
            }
            ,
            Nv.prototype.toJSON = function() {
                return [this.x, this.y]
            }
            ,
            Nv);
            function Nv(t, e, r) {
                if (void 0 === r && (r = !1),
                this.className = "AMap.Pixel",
                isNaN(t) || isNaN(e))
                    throw new Error("Invalid Object: Pixel(" + t + ", " + e + ")");
                this.x = r ? Math.round(t) : Number(t),
                this.y = r ? Math.round(e) : Number(e)
            }
            var commonjsGlobal = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
            function unwrapExports(t) {
                return t && t.gP && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t
            }
            function createCommonjsModule(t, e) {
                return t(e = {
                    Jb: {}
                }, e.Jb),
                e.Jb
            }
            var dist$1 = createCommonjsModule(function(t, e) {
                !function(t) {
                    function i(t, e) {
                        return e < t ? 1 : t < e ? -1 : 0
                    }
                    var p = function(e, r) {
                        void 0 === e && (e = i),
                        void 0 === r && (r = !1),
                        this.bP = e,
                        this.yP = null,
                        this._size = 0,
                        this.mP = !!r
                    }
                      , e = {
                        size: {
                            configurable: !0
                        }
                    };
                    p.prototype.TP = function(e) {
                        var r = e.right;
                        r && (e.right = r.left,
                        r.left && (r.left.parent = e),
                        r.parent = e.parent),
                        e.parent ? e === e.parent.left ? e.parent.left = r : e.parent.right = r : this.yP = r,
                        r && (r.left = e),
                        e.parent = r
                    }
                    ,
                    p.prototype.wP = function(e) {
                        var r = e.left;
                        r && (e.left = r.right,
                        r.right && (r.right.parent = e),
                        r.parent = e.parent),
                        e.parent ? e === e.parent.left ? e.parent.left = r : e.parent.right = r : this.yP = r,
                        r && (r.right = e),
                        e.parent = r
                    }
                    ,
                    p.prototype.AP = function(e) {
                        for (; e.parent; ) {
                            var r = e.parent;
                            r.parent ? r.left === e && r.parent.left === r ? (this.wP(r.parent),
                            this.wP(r)) : r.right === e && r.parent.right === r ? (this.TP(r.parent),
                            this.TP(r)) : r.left === e && r.parent.right === r ? (this.wP(r),
                            this.TP(r)) : (this.TP(r),
                            this.wP(r)) : r.left === e ? this.wP(r) : this.TP(r)
                        }
                    }
                    ,
                    p.prototype.xP = function(e) {
                        for (var r, i, n, a, o; e.parent; )
                            (i = (r = e.parent).parent) && i.parent ? ((n = i.parent).left === i ? n.left = e : n.right = e,
                            e.parent = n) : (e.parent = null,
                            this.yP = e),
                            a = e.left,
                            o = e.right,
                            e === r.left ? (i && (i.left === r ? (r.right ? (i.left = r.right,
                            i.left.parent = i) : i.left = null,
                            (r.right = i).parent = r) : (a ? (i.right = a).parent = i : i.right = null,
                            (e.left = i).parent = e)),
                            o ? (r.left = o).parent = r : r.left = null,
                            (e.right = r).parent = e) : (i && (i.right === r ? (r.left ? (i.right = r.left,
                            i.right.parent = i) : i.right = null,
                            (r.left = i).parent = r) : (o ? (i.left = o).parent = i : i.left = null,
                            (e.right = i).parent = e)),
                            a ? (r.right = a).parent = r : r.right = null,
                            (e.left = r).parent = e)
                    }
                    ,
                    p.prototype.replace = function(e, r) {
                        e.parent ? e === e.parent.left ? e.parent.left = r : e.parent.right = r : this.yP = r,
                        r && (r.parent = e.parent)
                    }
                    ,
                    p.prototype.MP = function(e) {
                        if (void 0 === e && (e = this.yP),
                        e)
                            for (; e.left; )
                                e = e.left;
                        return e
                    }
                    ,
                    p.prototype.SP = function(e) {
                        if (void 0 === e && (e = this.yP),
                        e)
                            for (; e.right; )
                                e = e.right;
                        return e
                    }
                    ,
                    p.prototype.Xc = function(e, r) {
                        var i = this.yP
                          , n = null
                          , a = this.bP;
                        if (this.mP)
                            for (; i; ) {
                                if (0 === a((n = i).key, e))
                                    return;
                                i = a(i.key, e) < 0 ? i.right : i.left
                            }
                        else
                            for (; i; )
                                i = a((n = i).key, e) < 0 ? i.right : i.left;
                        return i = {
                            key: e,
                            data: r,
                            left: null,
                            right: null,
                            parent: n
                        },
                        n ? a(n.key, i.key) < 0 ? n.right = i : n.left = i : this.yP = i,
                        this.xP(i),
                        this._size++,
                        i
                    }
                    ,
                    p.prototype.find = function(e) {
                        for (var r = this.yP, i = this.bP; r; ) {
                            var n = i(r.key, e);
                            if (n < 0)
                                r = r.right;
                            else {
                                if (!(0 < n))
                                    return r;
                                r = r.left
                            }
                        }
                        return null
                    }
                    ,
                    p.prototype.contains = function(e) {
                        for (var r = this.yP, i = this.bP; r; ) {
                            var n = i(e, r.key);
                            if (0 === n)
                                return !0;
                            r = n < 0 ? r.left : r.right
                        }
                        return !1
                    }
                    ,
                    p.prototype.remove = function(e) {
                        var r = this.find(e);
                        if (!r)
                            return !1;
                        if (this.xP(r),
                        r.left)
                            if (r.right) {
                                var i = this.MP(r.right);
                                i.parent !== r && (this.replace(i, i.right),
                                i.right = r.right,
                                i.right.parent = i),
                                this.replace(r, i),
                                i.left = r.left,
                                i.left.parent = i
                            } else
                                this.replace(r, r.left);
                        else
                            this.replace(r, r.right);
                        return this._size--,
                        !0
                    }
                    ,
                    p.prototype.removeNode = function(e) {
                        if (!e)
                            return !1;
                        if (this.xP(e),
                        e.left)
                            if (e.right) {
                                var r = this.MP(e.right);
                                r.parent !== e && (this.replace(r, r.right),
                                r.right = e.right,
                                r.right.parent = r),
                                this.replace(e, r),
                                r.left = e.left,
                                r.left.parent = r
                            } else
                                this.replace(e, e.left);
                        else
                            this.replace(e, e.right);
                        return this._size--,
                        !0
                    }
                    ,
                    p.prototype.$P = function(e) {
                        var r = this.find(e);
                        if (r) {
                            this.xP(r);
                            var i = r.left
                              , n = r.right
                              , a = null;
                            i && (i.parent = null,
                            a = this.SP(i),
                            this.xP(a),
                            this.yP = a),
                            n && (i ? a.right = n : this.yP = n,
                            n.parent = a),
                            this._size--
                        }
                    }
                    ,
                    p.prototype.pop = function() {
                        var e = this.yP
                          , r = null;
                        if (e) {
                            for (; e.left; )
                                e = e.left;
                            r = {
                                key: e.key,
                                data: e.data
                            },
                            this.remove(e.key)
                        }
                        return r
                    }
                    ,
                    p.prototype.next = function(e) {
                        var r = e;
                        if (r)
                            if (r.right)
                                for (r = r.right; r && r.left; )
                                    r = r.left;
                            else
                                for (r = e.parent; r && r.right === e; )
                                    r = (e = r).parent;
                        return r
                    }
                    ,
                    p.prototype.NM = function(e) {
                        var r = e;
                        if (r)
                            if (r.left)
                                for (r = r.left; r && r.right; )
                                    r = r.right;
                            else
                                for (r = e.parent; r && r.left === e; )
                                    r = (e = r).parent;
                        return r
                    }
                    ,
                    p.prototype.forEach = function(e) {
                        for (var r = this.yP, i = [], n = !1, a = 0; !n; )
                            r ? (i.push(r),
                            r = r.left) : 0 < i.length ? (e(r = i.pop(), a++),
                            r = r.right) : n = !0;
                        return this
                    }
                    ,
                    p.prototype.range = function(e, r, i, n) {
                        for (var a = [], o = this.bP, s = this.yP; 0 !== a.length || s; )
                            if (s)
                                a.push(s),
                                s = s.left;
                            else {
                                if (0 < o((s = a.pop()).key, r))
                                    break;
                                if (0 <= o(s.key, e) && i.call(n, s))
                                    return this;
                                s = s.right
                            }
                        return this
                    }
                    ,
                    p.prototype.keys = function() {
                        for (var e = this.yP, r = [], i = [], n = !1; !n; )
                            e ? (r.push(e),
                            e = e.left) : 0 < r.length ? (e = r.pop(),
                            i.push(e.key),
                            e = e.right) : n = !0;
                        return i
                    }
                    ,
                    p.prototype.values = function() {
                        for (var e = this.yP, r = [], i = [], n = !1; !n; )
                            e ? (r.push(e),
                            e = e.left) : 0 < r.length ? (e = r.pop(),
                            i.push(e.data),
                            e = e.right) : n = !0;
                        return i
                    }
                    ,
                    p.prototype.at = function(e) {
                        for (var r = this.yP, i = [], n = !1, a = 0; !n; )
                            if (r)
                                i.push(r),
                                r = r.left;
                            else if (0 < i.length) {
                                if (r = i.pop(),
                                a === e)
                                    return r;
                                a++,
                                r = r.right
                            } else
                                n = !0;
                        return null
                    }
                    ,
                    p.prototype.load = function(e, r, i) {
                        if (void 0 === e && (e = []),
                        void 0 === r && (r = []),
                        void 0 === i && (i = !1),
                        0 !== this._size)
                            throw new Error("bulk-load: tree is not empty");
                        var n = e.length;
                        return i && function c(t, e, r, i, n) {
                            if (!(i <= r)) {
                                for (var a = t[r + i >> 1], o = r - 1, s = i + 1; ; ) {
                                    for (; n(t[++o], a) < 0; )
                                        ;
                                    for (; 0 < n(t[--s], a); )
                                        ;
                                    if (s <= o)
                                        break;
                                    var u = t[o];
                                    t[o] = t[s],
                                    t[s] = u,
                                    u = e[o],
                                    e[o] = e[s],
                                    e[s] = u
                                }
                                c(t, e, r, s, n),
                                c(t, e, s + 1, i, n)
                            }
                        }(e, r, 0, n - 1, this.bP),
                        this.yP = function f(t, e, r, i, n) {
                            var a = n - i;
                            if (0 < a) {
                                var o = i + Math.floor(a / 2)
                                  , c = {
                                    key: e[o],
                                    data: r[o],
                                    parent: t
                                };
                                return c.left = f(c, e, r, i, o),
                                c.right = f(c, e, r, o + 1, n),
                                c
                            }
                            return null
                        }(null, e, r, 0, n),
                        this._size = n,
                        this
                    }
                    ,
                    p.prototype.min = function() {
                        var e = this.MP(this.yP);
                        return e ? e.key : null
                    }
                    ,
                    p.prototype.max = function() {
                        var e = this.SP(this.yP);
                        return e ? e.key : null
                    }
                    ,
                    p.prototype.isEmpty = function() {
                        return null === this.yP
                    }
                    ,
                    e.size.get = function() {
                        return this._size
                    }
                    ,
                    p.LP = function(e, r, i, n, a) {
                        return new p(i,a).load(e, r, n)
                    }
                    ,
                    Object.defineProperties(p.prototype, e);
                    var o = 0
                      , u = 1
                      , h = 2
                      , l = 3
                      , b = 0
                      , s = 1
                      , y = 2
                      , d = 3;
                    function m(t, e, r) {
                        null === e ? (t.PP = !1,
                        t.OP = !0) : (t._P === e._P ? (t.PP = !e.PP,
                        t.OP = e.OP) : (t.PP = !e.OP,
                        t.OP = e.NP() ? !e.PP : e.PP),
                        e && (t.CP = !n(e, r) || e.NP() ? e.CP : e));
                        var i = n(t, r);
                        t.hN = i ? function(t, e) {
                            var n, r = !t.PP, i = !t.OP;
                            switch (e) {
                            case b:
                                n = r && i;
                                break;
                            case s:
                                n = r || i;
                                break;
                            case d:
                                n = r ^ i;
                                break;
                            case y:
                                n = t._P ? r && !i : i && !r
                            }
                            return n ? 1 : -1
                        }(t, r) : 0
                    }
                    function n(t, e) {
                        switch (t.type) {
                        case o:
                            switch (e) {
                            case b:
                                return !t.OP;
                            case s:
                                return t.OP;
                            case y:
                                return t._P && t.OP || !t._P && !t.OP;
                            case d:
                                return !0
                            }
                            break;
                        case h:
                            return e === b || e === s;
                        case l:
                            return e === y;
                        case u:
                            return !1
                        }
                        return !1
                    }
                    var v = function(e, r, i, n, a) {
                        this.left = r,
                        this.kP = e,
                        this.IP = i,
                        this._P = n,
                        this.type = a || o,
                        this.PP = !1,
                        this.OP = !1,
                        this.CP = null,
                        this.hN = 0,
                        this.lN = -1,
                        this.dN = -1,
                        this.DP = !0
                    }
                      , r = {
                        EP: {
                            configurable: !0
                        }
                    };
                    function g(t, e) {
                        return t[0] === e[0] && t[1] === e[1]
                    }
                    v.prototype.FP = function(e) {
                        var r = this.kP
                          , i = this.IP.kP;
                        return this.left ? 0 < (r[0] - e[0]) * (i[1] - e[1]) - (i[0] - e[0]) * (r[1] - e[1]) : 0 < (i[0] - e[0]) * (r[1] - e[1]) - (r[0] - e[0]) * (i[1] - e[1])
                    }
                    ,
                    v.prototype.RP = function(e) {
                        return !this.FP(e)
                    }
                    ,
                    v.prototype.NP = function() {
                        return this.kP[0] === this.IP.kP[0]
                    }
                    ,
                    r.EP.get = function() {
                        return 0 !== this.hN
                    }
                    ,
                    v.prototype.clone = function() {
                        var e = new v(this.kP,this.left,this.IP,this._P,this.type);
                        return e.UP = this.UP,
                        e.hN = this.hN,
                        e.CP = this.CP,
                        e.DP = this.DP,
                        e.PP = this.PP,
                        e.OP = this.OP,
                        e
                    }
                    ,
                    Object.defineProperties(v.prototype, r);
                    var T = 11102230246251565e-32
                      , C = 134217729
                      , E = (3 + 8 * T) * T;
                    function j(t, e, r, i, n) {
                        var a, o, s, u, c = e[0], f = i[0], h = 0, l = 0;
                        c < f == -c < f ? (a = c,
                        c = e[++h]) : (a = f,
                        f = i[++l]);
                        var d = 0;
                        if (h < t && l < r)
                            for (c < f == -c < f ? (s = a - ((o = c + a) - c),
                            c = e[++h]) : (s = a - ((o = f + a) - f),
                            f = i[++l]),
                            a = o,
                            0 !== s && (n[d++] = s); h < t && l < r; )
                                c < f == -c < f ? (s = a - ((o = a + c) - (u = o - a)) + (c - u),
                                c = e[++h]) : (s = a - ((o = a + f) - (u = o - a)) + (f - u),
                                f = i[++l]),
                                a = o,
                                0 !== s && (n[d++] = s);
                        for (; h < t; )
                            s = a - ((o = a + c) - (u = o - a)) + (c - u),
                            c = e[++h],
                            a = o,
                            0 !== s && (n[d++] = s);
                        for (; l < r; )
                            s = a - ((o = a + f) - (u = o - a)) + (f - u),
                            f = i[++l],
                            a = o,
                            0 !== s && (n[d++] = s);
                        return 0 === a && 0 !== d || (n[d++] = a),
                        d
                    }
                    function M(t) {
                        return new (commonjsGlobal.Float64Array ? Float64Array : Array)(t)
                    }
                    var x = (3 + 16 * T) * T
                      , F = (2 + 12 * T) * T
                      , U = (9 + 64 * T) * T * T
                      , D = M(4)
                      , G = M(8)
                      , V = M(12)
                      , B = M(16)
                      , z = M(4);
                    function w(t, e, r, i, n, a) {
                        var o = (e - a) * (r - n)
                          , s = (t - n) * (i - a)
                          , u = o - s;
                        if (0 == o || 0 == s || 0 < o != 0 < s)
                            return u;
                        var c = Math.abs(o + s);
                        return Math.abs(u) >= x * c ? u : -function(t, e, r, i, n, a, o) {
                            var s, u, c, f, h, l, d, v, g, p, b, y, m, T, M, x, A, w, S = t - n, P = r - n, $ = e - a, L = i - a;
                            h = (M = (v = S - (d = (l = C * S) - (l - S))) * (p = L - (g = (l = C * L) - (l - L))) - ((T = S * L) - d * g - v * g - d * p)) - (b = M - (A = (v = $ - (d = (l = C * $) - (l - $))) * (p = P - (g = (l = C * P) - (l - P))) - ((x = $ * P) - d * g - v * g - d * p))),
                            D[0] = M - (b + h) + (h - A),
                            h = (m = T - ((y = T + b) - (h = y - T)) + (b - h)) - (b = m - x),
                            D[1] = m - (b + h) + (h - x),
                            h = (w = y + b) - y,
                            D[2] = y - (w - h) + (b - h),
                            D[3] = w;
                            var N = function(t, e) {
                                for (var r = e[0], i = 1; i < t; i++)
                                    r += e[i];
                                return r
                            }(4, D)
                              , O = F * o;
                            if (O <= N || O <= -N)
                                return N;
                            if (s = t - (S + (h = t - S)) + (h - n),
                            c = r - (P + (h = r - P)) + (h - n),
                            u = e - ($ + (h = e - $)) + (h - a),
                            f = i - (L + (h = i - L)) + (h - a),
                            0 == s && 0 == u && 0 == c && 0 == f)
                                return N;
                            if ((O = U * o + E * Math.abs(N)) <= (N += S * f + L * s - ($ * c + P * u)) || O <= -N)
                                return N;
                            h = (M = (v = s - (d = (l = C * s) - (l - s))) * (p = L - (g = (l = C * L) - (l - L))) - ((T = s * L) - d * g - v * g - d * p)) - (b = M - (A = (v = u - (d = (l = C * u) - (l - u))) * (p = P - (g = (l = C * P) - (l - P))) - ((x = u * P) - d * g - v * g - d * p))),
                            z[0] = M - (b + h) + (h - A),
                            h = (m = T - ((y = T + b) - (h = y - T)) + (b - h)) - (b = m - x),
                            z[1] = m - (b + h) + (h - x),
                            h = (w = y + b) - y,
                            z[2] = y - (w - h) + (b - h),
                            z[3] = w;
                            var k = j(4, D, 4, z, G);
                            h = (M = (v = S - (d = (l = C * S) - (l - S))) * (p = f - (g = (l = C * f) - (l - f))) - ((T = S * f) - d * g - v * g - d * p)) - (b = M - (A = (v = $ - (d = (l = C * $) - (l - $))) * (p = c - (g = (l = C * c) - (l - c))) - ((x = $ * c) - d * g - v * g - d * p))),
                            z[0] = M - (b + h) + (h - A),
                            h = (m = T - ((y = T + b) - (h = y - T)) + (b - h)) - (b = m - x),
                            z[1] = m - (b + h) + (h - x),
                            h = (w = y + b) - y,
                            z[2] = y - (w - h) + (b - h),
                            z[3] = w;
                            var _ = j(k, G, 4, z, V);
                            h = (M = (v = s - (d = (l = C * s) - (l - s))) * (p = f - (g = (l = C * f) - (l - f))) - ((T = s * f) - d * g - v * g - d * p)) - (b = M - (A = (v = u - (d = (l = C * u) - (l - u))) * (p = c - (g = (l = C * c) - (l - c))) - ((x = u * c) - d * g - v * g - d * p))),
                            z[0] = M - (b + h) + (h - A),
                            h = (m = T - ((y = T + b) - (h = y - T)) + (b - h)) - (b = m - x),
                            z[1] = m - (b + h) + (h - x),
                            h = (w = y + b) - y,
                            z[2] = y - (w - h) + (b - h),
                            z[3] = w;
                            var I = j(_, V, 4, z, B);
                            return B[I - 1]
                        }(t, e, r, i, n, a, c)
                    }
                    function S(t, e, r) {
                        var i = w(t[0], t[1], e[0], e[1], r[0], r[1]);
                        return 0 < i ? -1 : i < 0 ? 1 : 0
                    }
                    function P(t, e) {
                        var r = t.kP
                          , i = e.kP;
                        return r[0] > i[0] ? 1 : r[0] < i[0] ? -1 : r[1] !== i[1] ? r[1] > i[1] ? 1 : -1 : function(t, e, r) {
                            return t.left === e.left ? 0 === S(r, t.IP.kP, e.IP.kP) ? !t._P && e._P ? 1 : -1 : t.FP(e.IP.kP) ? -1 : 1 : t.left ? 1 : -1
                        }(t, e, r)
                    }
                    function L(t, e, r) {
                        var i = new v(e,!1,t,t._P)
                          , n = new v(e,!0,t.IP,t._P);
                        return g(t.kP, t.IP.kP) && console.warn("what is that, a collapsed segment?", t),
                        i.UP = n.UP = t.UP,
                        0 < P(n, t.IP) && (t.IP.left = !0,
                        n.left = !1),
                        t.IP.IP = n,
                        t.IP = i,
                        r.push(n),
                        r.push(i),
                        r
                    }
                    function N(t, e) {
                        return t[0] * e[1] - t[1] * e[0]
                    }
                    function O(t, e) {
                        return t[0] * e[0] + t[1] * e[1]
                    }
                    function _(t, e, r) {
                        var i = function(t, e, r, i, n) {
                            var a = [e[0] - t[0], e[1] - t[1]]
                              , o = [i[0] - r[0], i[1] - r[1]];
                            function s(t, e, r) {
                                return [t[0] + e * r[0], t[1] + e * r[1]]
                            }
                            var u = [r[0] - t[0], r[1] - t[1]]
                              , c = N(a, o)
                              , f = c * c
                              , h = O(a, a);
                            if (0 < f) {
                                var l = N(u, o) / c;
                                if (l < 0 || 1 < l)
                                    return null;
                                var d = N(u, a) / c;
                                return d < 0 || 1 < d ? null : 0 == l || 1 == l ? n ? null : [s(t, l, a)] : 0 == d || 1 == d ? n ? null : [s(r, d, o)] : [s(t, l, a)]
                            }
                            if (0 < (f = (c = N(u, a)) * c))
                                return null;
                            var v = O(a, u) / h
                              , g = v + O(a, o) / h
                              , p = Math.min(v, g)
                              , b = Math.max(v, g);
                            return p <= 1 && 0 <= b ? 1 === p ? n ? null : [s(t, 0 < p ? p : 0, a)] : 0 === b ? n ? null : [s(t, b < 1 ? b : 1, a)] : n && 0 === p && 1 === b ? null : [s(t, 0 < p ? p : 0, a), s(t, b < 1 ? b : 1, a)] : null
                        }(t.kP, t.IP.kP, e.kP, e.IP.kP)
                          , n = i ? i.length : 0;
                        if (0 === n)
                            return 0;
                        if (1 === n && (g(t.kP, e.kP) || g(t.IP.kP, e.IP.kP)))
                            return 0;
                        if (2 === n && t._P === e._P)
                            return 0;
                        if (1 === n)
                            return g(t.kP, i[0]) || g(t.IP.kP, i[0]) || L(t, i[0], r),
                            g(e.kP, i[0]) || g(e.IP.kP, i[0]) || L(e, i[0], r),
                            1;
                        var a = []
                          , o = !1
                          , s = !1;
                        return g(t.kP, e.kP) ? o = !0 : 1 === P(t, e) ? a.push(e, t) : a.push(t, e),
                        g(t.IP.kP, e.IP.kP) ? s = !0 : 1 === P(t.IP, e.IP) ? a.push(e.IP, t.IP) : a.push(t.IP, e.IP),
                        o && s || o ? (e.type = u,
                        t.type = e.PP === t.PP ? h : l,
                        o && !s && L(a[1].IP, a[0].kP, r),
                        2) : (s ? L(a[0], a[1].kP, r) : a[0] !== a[3].IP ? (L(a[0], a[1].kP, r),
                        L(a[1], a[2].kP, r)) : (L(a[0], a[1].kP, r),
                        L(a[3].IP, a[2].kP, r)),
                        3)
                    }
                    function I(t, e) {
                        if (t === e)
                            return 0;
                        if (0 !== S(t.kP, t.IP.kP, e.kP) || 0 !== S(t.kP, t.IP.kP, e.IP.kP))
                            return g(t.kP, e.kP) ? t.FP(e.IP.kP) ? -1 : 1 : t.kP[0] === e.kP[0] ? t.kP[1] < e.kP[1] ? -1 : 1 : 1 === P(t, e) ? e.RP(t.kP) ? -1 : 1 : t.FP(e.kP) ? -1 : 1;
                        if (t._P !== e._P)
                            return t._P ? -1 : 1;
                        var r = t.kP
                          , i = e.kP;
                        return r[0] === i[0] && r[1] === i[1] ? (r = t.IP.kP,
                        i = e.IP.kP,
                        r[0] === i[0] && r[1] === i[1] ? 0 : t.UP > e.UP ? 1 : -1) : 1 === P(t, e) ? 1 : -1
                    }
                    var W = function() {
                        this.points = [],
                        this.vN = [],
                        this.gN = null,
                        this.depth = null
                    };
                    function Z(t, e, r, i) {
                        var o, n = t + 1, a = e[t].kP, s = e.length;
                        for (n < s && (o = e[n].kP); n < s && o[0] === a[0] && o[1] === a[1]; ) {
                            if (!r[n])
                                return n;
                            o = e[++n].kP
                        }
                        for (n = t - 1; r[n] && i < n; )
                            n--;
                        return n
                    }
                    function Y(t) {
                        var o, e, s = function(t) {
                            var e, r, i, n, a = [];
                            for (r = 0,
                            i = t.length; r < i; r++)
                                ((e = t[r]).left && e.EP || !e.left && e.IP.EP) && a.push(e);
                            for (var o = !1; !o; )
                                for (o = !0,
                                r = 0,
                                i = a.length; r < i; r++)
                                    r + 1 < i && 1 === P(a[r], a[r + 1]) && (n = a[r],
                                    a[r] = a[r + 1],
                                    a[r + 1] = n,
                                    o = !1);
                            for (r = 0,
                            i = a.length; r < i; r++)
                                (e = a[r]).lN = r;
                            for (r = 0,
                            i = a.length; r < i; r++)
                                (e = a[r]).left || (n = e.lN,
                                e.lN = e.IP.lN,
                                e.IP.lN = n);
                            return a
                        }(t), u = {}, c = [], r = function() {
                            if (!u[o]) {
                                var e = c.length
                                  , t = function(t, e, r) {
                                    var i = new W;
                                    if (null != t.CP) {
                                        var n = t.CP
                                          , a = n.dN;
                                        if (0 < n.hN) {
                                            var s = e[a];
                                            if (null != s.gN) {
                                                var u = s.gN;
                                                e[u].vN.push(r),
                                                i.gN = u,
                                                i.depth = e[a].depth
                                            } else
                                                e[a].vN.push(r),
                                                i.gN = a,
                                                i.depth = e[a].depth + 1
                                        } else
                                            i.gN = null,
                                            i.depth = e[a].depth
                                    } else
                                        i.gN = null,
                                        i.depth = 0;
                                    return i
                                }(s[o], c, e)
                                  , r = function(t) {
                                    u[t] = !0,
                                    s[t].dN = e
                                }
                                  , i = o
                                  , n = o
                                  , a = s[o].kP;
                                for (t.points.push(a); r(i),
                                r(i = s[i].lN),
                                t.points.push(s[i].kP),
                                (i = Z(i, s, u, n)) != n; )
                                    ;
                                c.push(t)
                            }
                        };
                        for (o = 0,
                        e = s.length; o < e; o++)
                            r();
                        return c
                    }
                    W.prototype.pN = function() {
                        return null == this.gN
                    }
                    ;
                    var Q = X
                      , J = X;
                    function X(t, e) {
                        if (!(this instanceof X))
                            return new X(t,e);
                        if (this.data = t || [],
                        this.length = this.data.length,
                        this.compare = e || tt,
                        0 < this.length)
                            for (var r = (this.length >> 1) - 1; 0 <= r; r--)
                                this.zP(r)
                    }
                    function tt(t, e) {
                        return t < e ? -1 : e < t ? 1 : 0
                    }
                    X.prototype = {
                        push: function(t) {
                            this.data.push(t),
                            this.length++,
                            this.El(this.length - 1)
                        },
                        pop: function() {
                            if (0 !== this.length) {
                                var t = this.data[0];
                                return this.length--,
                                0 < this.length && (this.data[0] = this.data[this.length],
                                this.zP(0)),
                                this.data.pop(),
                                t
                            }
                        },
                        GP: function() {
                            return this.data[0]
                        },
                        El: function(t) {
                            for (var e = this.data, r = this.compare, i = e[t]; 0 < t; ) {
                                var n = t - 1 >> 1
                                  , a = e[n];
                                if (0 <= r(i, a))
                                    break;
                                e[t] = a,
                                t = n
                            }
                            e[t] = i
                        },
                        zP: function(t) {
                            for (var e = this.data, r = this.compare, i = this.length >> 1, n = e[t]; t < i; ) {
                                var a = 1 + (t << 1)
                                  , o = a + 1
                                  , s = e[a];
                                if (o < this.length && r(e[o], s) < 0 && (s = e[a = o]),
                                0 <= r(s, n))
                                    break;
                                e[t] = s,
                                t = a
                            }
                            e[t] = n
                        }
                    },
                    Q.default = J;
                    var et = Math.max
                      , rt = Math.min
                      , it = 0;
                    function nt(t, e, r, i, n, a) {
                        var o, s, u, c, f, h;
                        for (o = 0,
                        s = t.length - 1; o < s; o++)
                            if (u = t[o],
                            c = t[o + 1],
                            f = new v(u,!1,void 0,e),
                            h = new v(c,!1,f,e),
                            f.IP = h,
                            u[0] !== c[0] || u[1] !== c[1]) {
                                f.UP = h.UP = r,
                                a || (f.DP = !1,
                                h.DP = !1),
                                0 < P(f, h) ? h.left = !0 : f.left = !0;
                                var l = u[0]
                                  , d = u[1];
                                n[0] = rt(n[0], l),
                                n[1] = rt(n[1], d),
                                n[2] = et(n[2], l),
                                n[3] = et(n[3], d),
                                i.push(f),
                                i.push(h)
                            }
                    }
                    var ot = [];
                    function st(t, e, r) {
                        var i = null;
                        return t.length * e.length == 0 && (r === b ? i = ot : r === y ? i = t : r !== s && r !== d || (i = 0 === t.length ? e : t)),
                        i
                    }
                    function ut(t, e, r, i, n) {
                        var a = null;
                        return (r[0] > i[2] || i[0] > r[2] || r[1] > i[3] || i[1] > r[3]) && (n === b ? a = ot : n === y ? a = t : n !== s && n !== d || (a = t.concat(e))),
                        a
                    }
                    function ct(t, e, r) {
                        "number" == typeof t[0][0][0] && (t = [t]),
                        "number" == typeof e[0][0][0] && (e = [e]);
                        var i = st(t, e, r);
                        if (i)
                            return i === ot ? null : i;
                        var n = [1 / 0, 1 / 0, -1 / 0, -1 / 0]
                          , a = [1 / 0, 1 / 0, -1 / 0, -1 / 0]
                          , o = function(t, e, r, i, n) {
                            var o, s, u, c, f, h, a = new Q(null,P);
                            for (u = 0,
                            c = t.length; u < c; u++)
                                for (f = 0,
                                h = (o = t[u]).length; f < h; f++)
                                    (s = 0 === f) && it++,
                                    nt(o[f], !0, it, a, r, s);
                            for (u = 0,
                            c = e.length; u < c; u++)
                                for (f = 0,
                                h = (o = e[u]).length; f < h; f++)
                                    s = 0 === f,
                                    n === y && (s = !1),
                                    s && it++,
                                    nt(o[f], !1, it, a, i, s);
                            return a
                        }(t, e, n, a, r);
                        if (i = ut(t, e, n, a, r))
                            return i === ot ? null : i;
                        for (var u = Y(function(t, i, n, a) {
                            for (var c, f, h, o = new p(I), s = [], u = Math.min(i[2], n[2]); 0 !== t.length; ) {
                                var l = t.pop();
                                if (s.push(l),
                                a === b && l.kP[0] > u || a === y && l.kP[0] > i[2])
                                    break;
                                if (l.left) {
                                    f = c = o.Xc(l),
                                    c = c !== (h = o.MP()) ? o.NM(c) : null,
                                    f = o.next(f);
                                    var d = c ? c.key : null;
                                    if (m(l, d, a),
                                    f && 2 === _(l, f.key, t) && (m(l, d, a),
                                    m(l, f.key, a)),
                                    c && 2 === _(c.key, l, t)) {
                                        var g = c;
                                        m(d, (g = g !== h ? o.NM(g) : null) ? g.key : null, a),
                                        m(l, d, a)
                                    }
                                } else
                                    l = l.IP,
                                    f = c = o.find(l),
                                    c && f && (c = c !== h ? o.NM(c) : null,
                                    f = o.next(f),
                                    o.remove(l),
                                    f && c && _(c.key, f.key, t))
                            }
                            return s
                        }(o, n, a, r)), c = [], f = 0; f < u.length; f++) {
                            var h = u[f];
                            if (h.pN()) {
                                for (var l = [h.points], d = 0; d < h.vN.length; d++) {
                                    var v = h.vN[d];
                                    l.push(u[v].points)
                                }
                                c.push(l)
                            }
                        }
                        return c
                    }
                    var vt = {
                        VP: s,
                        BP: y,
                        HP: b,
                        WP: d
                    };
                    t.ZP = function(t, e) {
                        return ct(t, e, y)
                    }
                    ,
                    t.qP = function(t, e) {
                        return ct(t, e, b)
                    }
                    ,
                    t.YP = vt,
                    t.union = function(t, e) {
                        return ct(t, e, s)
                    }
                    ,
                    t.xor = function(t, e) {
                        return ct(t, e, d)
                    }
                    ,
                    Object.defineProperty(t, "gP", {
                        value: !0
                    })
                }(e)
            })
              , martinez = unwrapExports(dist$1)
              , Const = {
                vr: Math.PI / 180,
                mr: 180 / Math.PI,
                yr: 6378137
            };
            function getSphericalCrs(t, e) {
                var r = function(t) {
                    switch (t) {
                    case "EPSG3857":
                        return ProjectionManager.getProjection("EPSG:3857");
                    case "EPSG4326":
                        return ProjectionManager.getProjection("EPSG:4326")
                    }
                    return ProjectionManager.getProjection("EPSG3857")
                }(t);
                return {
                    project: function(t) {
                        return Util.isArray(t) && (t = new LngLat$2(t[0],t[1])),
                        r.project(t.lng, t.lat)
                    },
                    unproject: function(t) {
                        return Util.isArray(t) && (t = new Pixel(t[0],t[1])),
                        r.unproject(t.x, t.y)
                    },
                    normalizePoint: function(t) {
                        return Util.parseLngLatData(t)
                    },
                    distance: function(t, e) {
                        if (e = this.normalizePoint(e),
                        Util.isArray(e))
                            return this.distanceToLine(t, e);
                        t = this.normalizePoint(t);
                        var r = Const.vr
                          , i = Math.cos
                          , n = t.lat * r
                          , a = t.lng * r
                          , o = e.lat * r
                          , s = e.lng * r
                          , u = 2 * Const.yr
                          , c = s - a
                          , f = (1 - i(o - n) + (1 - i(c)) * i(n) * i(o)) / 2;
                        return u * Math.asin(Math.sqrt(f))
                    },
                    ringArea: function(t) {
                        t = this.normalizeLine(t);
                        var e = Const.yr * Const.vr
                          , r = 0
                          , i = t
                          , n = i.length;
                        if (n < 3)
                            return 0;
                        for (var a = 0; a < n - 1; a += 1) {
                            var o = i[a]
                              , s = i[a + 1]
                              , u = o.lng * e * Math.cos(o.lat * Const.vr)
                              , c = o.lat * e
                              , f = s.lng * e * Math.cos(s.lat * Const.vr);
                            r += u * (s.lat * e) - f * c
                        }
                        var h = i[a]
                          , l = i[0]
                          , d = h.lng * e * Math.cos(h.lat * Const.vr)
                          , v = h.lat * e
                          , g = l.lng * e * Math.cos(l.lat * Const.vr);
                        return r += d * (l.lat * e) - g * v,
                        .5 * Math.abs(r)
                    },
                    sphericalCalotteArea: function(t) {
                        var e = Const.yr
                          , r = t / e
                          , i = e - e * Math.cos(r);
                        return 2 * Math.PI * e * i
                    }
                }
            }
            function getPlanarCrs() {
                return {
                    normalizePoint: function(t) {
                        return t && t.x && t.y ? [t.x, t.y] : t
                    },
                    distance: function(t, e) {
                        var r = t[0] - e[0]
                          , i = t[1] - e[1];
                        return Math.sqrt(r * r + i * i)
                    },
                    project: function(t) {
                        return t
                    },
                    unproject: function(t) {
                        return t
                    },
                    ringArea: function(t) {
                        for (var e = [0, 0], r = [0, 0], i = 0, n = t[0], a = t.length, o = 2; o < a; o++) {
                            var s = t[o - 1]
                              , u = t[o];
                            e[0] = n[0] - u[0],
                            e[1] = n[1] - u[1],
                            r[0] = n[0] - s[0],
                            r[1] = n[1] - s[1],
                            i += e[0] * r[1] - e[1] * r[0]
                        }
                        return i / 2
                    }
                }
            }
            function isClockwise(t) {
                for (var e = 0, r = t.length, i = 0; i < r - 1; i++) {
                    var n = t[i];
                    e += ((a = t[i + 1])[0] - n[0]) * (a[1] + n[1])
                }
                var a;
                t[r - 1][0] === t[0][0] && t[r - 1][1] === t[0][1] || (n = t[r - 1],
                e += ((a = t[0])[0] - n[0]) * (a[1] + n[1]));
                return 0 < e
            }
            var GeometryUtilCls = (nG.prototype.clone = function(t) {
                return new nG(assign({}, this._opts, t))
            }
            ,
            nG.prototype.isPoint = function(t) {
                return t && (t instanceof LngLat$2 || Util.isArray(t) && !isNaN(t[0]))
            }
            ,
            nG.prototype.normalizePoint = function(t) {
                return t
            }
            ,
            nG.prototype.normalizeLine = function(t) {
                for (var e = [], r = 0, i = t.length; r < i; r++)
                    e.push(this.normalizePoint(t[r]));
                return e
            }
            ,
            nG.prototype.normalizeMultiLines = function(t) {
                Util.isArray(t) && this.isPoint(t[0]) && (t = [t]);
                for (var e = [], r = 0, i = t.length; r < i; r++)
                    e.push(this.normalizeLine(t[r]));
                return e
            }
            ,
            nG.prototype.setCrs = function(t) {
                var e;
                e = t && t.project && t.unproject ? t : "plane" === t ? getPlanarCrs() : getSphericalCrs(t, this._opts.maxZoom),
                assign(this, e)
            }
            ,
            nG.prototype.distance = function(t, e) {
                throw new Error("distance Not implemented!")
            }
            ,
            nG.prototype.xr = function(t, e) {
                t = this.normalizeLine(t),
                this.isPoint(t[0]) || (t = t[0]);
                for (var r = [], i = 0, n = t.length; i < n; i++)
                    r.push(this.project(t[i]));
                return !0 === e ? r = this.makesureClockwise(r) : !1 === e && (r = this.makesureClockwise(r)).reverse(),
                r
            }
            ,
            nG.prototype.br = function(t) {
                for (var e = [], r = 0, i = t.length; r < i; r++)
                    e.push(this.unproject(t[r]));
                return e
            }
            ,
            nG.prototype.closestOnSegment = function(t, e, r) {
                var i = Coordinate.closestOnSegment(this.project(t), this.xr([e, r]));
                return this.unproject(i)
            }
            ,
            nG.prototype.closestOnLine = function(t, e) {
                for (var r, i = 1 / 0, n = 0, a = (e = this.normalizeLine(e)).length; n < a - 1; n++) {
                    var o = this.closestOnSegment(t, e[n], e[n + 1])
                      , s = this.distance(t, o);
                    s < i && (i = s,
                    r = o)
                }
                return r
            }
            ,
            nG.prototype.distanceToSegment = function(t, e, r) {
                return this.distanceToLine(t, [e, r])
            }
            ,
            nG.prototype.distanceToLine = function(t, e) {
                e = this.normalizeLine(e),
                this.isPoint(e[0]) || (e = e[0]);
                for (var r = 1 / 0, i = 0, n = e.length; i < n - 1; i++) {
                    var a = this.closestOnSegment(t, e[i], e[i + 1]);
                    r = Math.min(r, this.distance(t, a))
                }
                return r
            }
            ,
            nG.prototype.distanceToPolygon = function(t, e) {
                return this.isPointInRing(t, e) ? 0 : this.distanceToLine(t, e)
            }
            ,
            nG.prototype.isPointOnSegment = function(t, e, r, i) {
                return (!i && 0 !== i || i < 0) && (i = this._opts.onSegmentTolerance),
                this.distanceToSegment(t, e, r) <= i
            }
            ,
            nG.prototype.isPointOnLine = function(t, e, r) {
                for (var i = 0, n = (e = this.normalizeLine(e)).length; i < n - 1; i++)
                    if (this.isPointOnSegment(t, e[i], e[i + 1], r))
                        return !0;
                return !1
            }
            ,
            nG.prototype.isPointOnRing = function(t, e, r) {
                for (var i = 0, n = (e = this.normalizeLine(e)).length; i < n; i++)
                    if (this.isPointOnSegment(t, e[i], e[i === n - 1 ? 0 : i + 1], r))
                        return !0;
                return !1
            }
            ,
            nG.prototype.isPointOnPolygon = function(t, e, r) {
                for (var i = 0, n = (e = this.normalizeMultiLines(e)).length; i < n; i++)
                    if (this.isPointOnRing(t, e[i], r))
                        return !0;
                return !1
            }
            ,
            nG.prototype.makesureClockwise = function(t) {
                return isClockwise(t) || (t = [].concat(t)).reverse(),
                t
            }
            ,
            nG.prototype.makesureAntiClockwise = function(t) {
                return isClockwise(t) && (t = [].concat(t)).reverse(),
                t
            }
            ,
            nG.prototype.pointInRing = function(t, e, r) {
                for (var i = !1, n = 0; n < e.length && !i; n++)
                    if (s(t, e[n][0], r)) {
                        for (var a = !1, o = 1; o < e[n].length && !a; )
                            s(t, e[n][o], !r) && (a = !0),
                            o++;
                        a || (i = !0)
                    }
                function s(t, e, r) {
                    var i = !1;
                    e[0][0] === e[e.length - 1][0] && e[0][1] === e[e.length - 1][1] && (e = e.slice(0, e.length - 1));
                    for (var n = 0, a = e.length - 1; n < e.length; a = n++) {
                        var o = e[n][0]
                          , s = e[n][1]
                          , u = e[a][0]
                          , c = e[a][1];
                        if (t[1] * (o - u) + s * (u - t[0]) + c * (t[0] - o) == 0 && (o - t[0]) * (u - t[0]) <= 0 && (s - t[1]) * (c - t[1]) <= 0)
                            return !r;
                        s > t[1] != c > t[1] && t[0] < (u - o) * (t[1] - s) / (c - s) + o && (i = !i)
                    }
                    return i
                }
                return i
            }
            ,
            nG.prototype.isPointInRing = function(t, e) {
                e = this.normalizeLine(e);
                var r = this.xr(e, !0);
                return Coordinate.ss(this.project(t), r, !1)
            }
            ,
            nG.prototype.isRingInRing = function(t, e) {
                for (var r = 0, i = t.length; r < i; r++)
                    if (!this.isPointInRing(t[r], e))
                        return !1;
                return !0
            }
            ,
            nG.prototype.isPointInPolygon = function(t, e) {
                for (var r, i = 0, n = (e = this.normalizeMultiLines(e)).length; i < n && (r = this.isPointInRing(t, e[i]),
                0 < i && (r = !r),
                r); i += 1)
                    ;
                return Boolean(r)
            }
            ,
            nG.prototype.doesSegmentsIntersect = function(t, e, r, i) {
                var n = this.xr([t, e, r, i]);
                t = n[0],
                e = n[1],
                r = n[2];
                var a = !1
                  , o = ((i = n[3])[0] - r[0]) * (t[1] - r[1]) - (i[1] - r[1]) * (t[0] - r[0])
                  , s = (e[0] - t[0]) * (t[1] - r[1]) - (e[1] - t[1]) * (t[0] - r[0])
                  , u = (i[1] - r[1]) * (e[0] - t[0]) - (i[0] - r[0]) * (e[1] - t[1]);
                if (0 != u) {
                    var c = o / u
                      , f = s / u;
                    0 <= c && c <= 1 && 0 <= f && f <= 1 && (a = !0)
                }
                return a
            }
            ,
            nG.prototype.doesSegmentLineIntersect = function(t, e, r) {
                for (var i = 0, n = (r = this.normalizeLine(r)).length; i < n - 1; i++)
                    if (this.doesSegmentsIntersect(t, e, r[i], r[i + 1]))
                        return !0;
                return !1
            }
            ,
            nG.prototype.doesSegmentRingIntersect = function(t, e, r) {
                for (var i = 0, n = (r = this.normalizeLine(r)).length; i < n; i++)
                    if (this.doesSegmentsIntersect(t, e, r[i], r[i === n - 1 ? 0 : i + 1]))
                        return !0;
                return !1
            }
            ,
            nG.prototype.doesSegmentPolygonIntersect = function(t, e, r) {
                for (var i = 0, n = (r = this.normalizeMultiLines(r)).length; i < n; i++)
                    if (this.doesSegmentRingIntersect(t, e, r[i]))
                        return !0;
                return !1
            }
            ,
            nG.prototype.doesLineLineIntersect = function(t, e) {
                for (var r = 0, i = (t = this.normalizeLine(t)).length; r < i - 1; r++)
                    if (this.doesSegmentLineIntersect(t[r], t[r + 1], e))
                        return !0;
                return !1
            }
            ,
            nG.prototype.doesLineRingIntersect = function(t, e) {
                for (var r = 0, i = (t = this.normalizeLine(t)).length; r < i - 1; r++)
                    if (this.doesSegmentRingIntersect(t[r], t[r + 1], e))
                        return !0;
                return !1
            }
            ,
            nG.prototype.doesPolygonPolygonIntersect = function(t, e) {
                return !!(this.doesRingRingIntersect(e, t) || this.isRingInRing(t, e) || this.isRingInRing(e, t))
            }
            ,
            nG.prototype.doesRingRingIntersect = function(t, e) {
                for (var r = 0, i = (t = this.normalizeLine(t)).length; r < i; r++)
                    if (this.doesSegmentRingIntersect(t[r], t[r === i - 1 ? 0 : r + 1], e))
                        return !0;
                return !1
            }
            ,
            nG.prototype.along = function(t, e) {
                for (var r = 0, i = 0; i < t.length - 1; i += 1) {
                    var n = this.distance(t[i], t[i + 1]);
                    if (!(n + r < e)) {
                        var a = (e - r) / n;
                        return [t[i][0] + a * (t[i + 1][0] - t[i][0]), t[i][1] + a * (t[i + 1][1] - t[i][1]), i]
                    }
                    r += n
                }
                return null
            }
            ,
            nG.prototype.gr = function(t, e) {
                var a, o, s, u;
                function r(t) {
                    return (o[0] - a[0]) * (t[1] - a[1]) > (o[1] - a[1]) * (t[0] - a[0])
                }
                function i() {
                    var t = [a[0] - o[0], a[1] - o[1]]
                      , e = [s[0] - u[0], s[1] - u[1]]
                      , r = a[0] * o[1] - a[1] * o[0]
                      , i = s[0] * u[1] - s[1] * u[0]
                      , n = 1 / (t[0] * e[1] - t[1] * e[0]);
                    return [(r * e[0] - i * t[0]) * n, (r * e[1] - i * t[1]) * n]
                }
                t = this.makesureAntiClockwise(t),
                e = this.makesureClockwise(e);
                var n = t;
                a = e[e.length - 1];
                for (var c = 0, f = e.length; c < f; c++) {
                    o = e[c];
                    var h = n;
                    n = [],
                    s = h[h.length - 1];
                    for (var l = 0, d = h.length; l < d; l++)
                        r(u = h[l]) ? (r(s) || n.push(i()),
                        n.push(u)) : r(s) && n.push(i()),
                        s = u;
                    a = o
                }
                return n
            }
            ,
            nG.prototype.ringRingClip = function(t, e) {
                t = this.xr(t),
                e = this.xr(e),
                isEqual(t[0], t[t.length - 1]) || t.push(t[0].slice()),
                isEqual(e[0], e[e.length - 1]) || e.push(e[0].slice());
                var r = martinez.qP([t], [e]);
                return r[0] && r[0][0] ? this.br(r[0][0]) : []
            }
            ,
            nG.prototype.ringArea = function(t) {
                throw new Error("distance Not implemented!")
            }
            ,
            nG.prototype.distanceOfLine = function(t) {
                for (var e = 0, r = 0, i = (t = this.normalizeLine(t)).length; r < i - 1; r++)
                    e += this.distance(t[r], t[r + 1]);
                return e
            }
            ,
            nG.prototype.isClockwise = function(t) {
                return isClockwise(t = this.xr(t))
            }
            ,
            nG.prototype.typePolygon = function(t) {
                return isArray(t) && isArray(t[0]) ? 2 === t[0][0].length || t[0][0]instanceof LngLat$2 ? "Polygon" : 2 < t[0][0].length && (2 === t[0][0][0].length || t[0][0][0]instanceof LngLat$2) ? "MultiPolygon" : "never" : "never"
            }
            ,
            nG);
            function nG(t) {
                this.CLASS_NAME = "AMap.GeometryUtil",
                this._opts = assign({
                    onSegmentTolerance: 5,
                    crs: "EPSG3857",
                    maxZoom: 20
                }, t),
                this.setCrs(this._opts.crs)
            }
            var GeometryUtilInstance = new GeometryUtilCls({})
              , PlaneGeometryUtilInstance = new GeometryUtilCls({});
            PlaneGeometryUtilInstance.setCrs("plane");
            var GeometryUtil = {
                distance: GeometryUtilInstance.distance.bind(GeometryUtilInstance),
                ringArea: GeometryUtilInstance.ringArea.bind(GeometryUtilInstance),
                isClockwise: GeometryUtilInstance.isClockwise.bind(GeometryUtilInstance),
                typePolygon: GeometryUtilInstance.typePolygon.bind(GeometryUtilInstance),
                makesureClockwise: GeometryUtilInstance.makesureClockwise.bind(GeometryUtilInstance),
                makesureAntiClockwise: GeometryUtilInstance.makesureAntiClockwise.bind(GeometryUtilInstance),
                distanceOfLine: GeometryUtilInstance.distanceOfLine.bind(GeometryUtilInstance),
                ringRingClip: GeometryUtilInstance.ringRingClip.bind(GeometryUtilInstance),
                doesSegmentsIntersect: GeometryUtilInstance.doesSegmentsIntersect.bind(GeometryUtilInstance),
                doesSegmentLineIntersect: GeometryUtilInstance.doesSegmentLineIntersect.bind(GeometryUtilInstance),
                doesSegmentRingIntersect: GeometryUtilInstance.doesSegmentRingIntersect.bind(GeometryUtilInstance),
                doesSegmentPolygonIntersect: GeometryUtilInstance.doesSegmentPolygonIntersect.bind(GeometryUtilInstance),
                doesLineLineIntersect: GeometryUtilInstance.doesLineLineIntersect.bind(GeometryUtilInstance),
                doesLineRingIntersect: GeometryUtilInstance.doesLineRingIntersect.bind(GeometryUtilInstance),
                doesRingRingIntersect: GeometryUtilInstance.doesRingRingIntersect.bind(GeometryUtilInstance),
                pointInRing: GeometryUtilInstance.pointInRing.bind(GeometryUtilInstance),
                isPointInRing: GeometryUtilInstance.isPointInRing.bind(GeometryUtilInstance),
                isRingInRing: GeometryUtilInstance.isRingInRing.bind(GeometryUtilInstance),
                isPointInPolygon: GeometryUtilInstance.isPointInPolygon.bind(GeometryUtilInstance),
                isPointOnSegment: GeometryUtilInstance.isPointOnSegment.bind(GeometryUtilInstance),
                isPointOnLine: GeometryUtilInstance.isPointOnLine.bind(GeometryUtilInstance),
                isPointOnRing: GeometryUtilInstance.isPointOnRing.bind(GeometryUtilInstance),
                isPointOnPolygon: GeometryUtilInstance.isPointOnPolygon.bind(GeometryUtilInstance),
                closestOnSegment: GeometryUtilInstance.closestOnSegment.bind(GeometryUtilInstance),
                closestOnLine: GeometryUtilInstance.closestOnLine.bind(GeometryUtilInstance),
                distanceToSegment: GeometryUtilInstance.distanceToSegment.bind(GeometryUtilInstance),
                distanceToLine: GeometryUtilInstance.distanceToLine.bind(GeometryUtilInstance)
            };
            function calcTileMectorBounds(t, e, r) {
                var i = ProjectionManager.getProjection("EPSG:3857")
                  , n = Math.pow(2, t)
                  , a = 360 / n
                  , o = 180 / n
                  , s = a * e - 180
                  , u = s + a
                  , c = o * (n - r - 1) - 90
                  , f = c + o
                  , h = i.project(s, c)
                  , l = h[0]
                  , d = h[1]
                  , v = i.project(u, f);
                return [l, d, v[0], v[1]]
            }
            function parseLngLatData(t) {
                if (Array.isArray(t)) {
                    if (!Array.isArray(t[0])) {
                        var e = typeof t[0];
                        return "string" == e || "number" == e ? new LngLat$2(t[0],t[1]) : t
                    }
                    for (var r = 0; r < t.length; r += 1)
                        t[r] = parseLngLatData(t[r])
                }
                return t
            }
            function jsonLngLatData(t) {
                if (isLngLat(t))
                    return [t.getLng(), t.getLat()];
                if (Array.isArray(t)) {
                    for (var e = t.slice(0), r = 0; r < e.length; r += 1)
                        e[r] = jsonLngLatData(e[r]);
                    return e
                }
                return t
            }
            function multiPolygonJson(t) {
                var e = jsonLngLatData(t);
                if (isNumberArrayArray(e))
                    e = [[e]];
                else if (isNumberArrayArrayArray(e))
                    e = [e];
                else {
                    if (!isNumberArrayArrayArrayArray(e))
                        return;
                    e = e
                }
                return e
            }
            function pointInRing(t, e, r) {
                return Coordinate.ss(t, e, r)
            }
            function pointInPolygon(t, e) {
                if (!pointInRing(t, e[0]))
                    return !1;
                for (var r = 1, i = e.length; r < i; r++)
                    if (pointInRing(t, e[r], !0))
                        return !1;
                return !0
            }
            function pointInMultiPolygon(t, e) {
                for (var r = 0, i = e; r < i.length; r++)
                    if (pointInPolygon(t, i[r]))
                        return !0;
                return !1
            }
            function moveRingWithPos(t, e, r) {
                for (var i = [], n = 0, a = t; n < a.length; n++) {
                    var o = a[n];
                    i.push(r.moveWithPos(o, e))
                }
                return i
            }
            function movePolygonWithPos(t, e, r) {
                for (var i = [], n = 0, a = t; n < a.length; n++) {
                    var o = moveRingWithPos(a[n], e, r);
                    i.push(o)
                }
                return i
            }
            function moveMultiPolygonWithPos(t, e, r) {
                for (var i = [], n = 0, a = t; n < a.length; n++) {
                    var o = movePolygonWithPos(a[n], e, r);
                    i.push(o)
                }
                return i
            }
            function moveRingWithPixel(t, e, r, i) {
                for (var n = [], a = 0, o = t; a < o.length; a++) {
                    var s = o[a];
                    n.push(i.moveWithPixel(s, e, r))
                }
                return n
            }
            function movePolygonWithPixel(t, e, r, i) {
                for (var n = [], a = 0, o = t; a < o.length; a++) {
                    var s = moveRingWithPixel(o[a], e, r, i);
                    n.push(s)
                }
                return n
            }
            function moveMultiPolygonWithPixel(t, e, r, i) {
                for (var n = [], a = 0, o = t; a < o.length; a++) {
                    var s = movePolygonWithPixel(o[a], e, r, i);
                    n.push(s)
                }
                return n
            }
            function getRingArea(t) {
                return GeometryUtil.ringArea(t)
            }
            function getPolygonArea(t) {
                for (var e = getRingArea(t[0]), r = 1; r < t.length; r++)
                    e -= getRingArea(t[r]);
                return e
            }
            function getMultiPolygonArea(t) {
                for (var e = 0, r = 0, i = t; r < i.length; r++)
                    e += getPolygonArea(i[r]);
                return e
            }
            function distanceBetweenPos(t, e) {
                var r = Math.abs(t[0] - e[0])
                  , i = Math.abs(t[1] - e[1]);
                return Math.sqrt(r * r + i * i)
            }
            function multiPolylineJson(t) {
                var e = jsonLngLatData(t);
                return isNumberArrayArray(e) && (e = [e]),
                e
            }
            function distanceOfPolyline(t) {
                return GeometryUtil.distanceOfLine(t)
            }
            function distanceOfMultiPolyline(t) {
                for (var e = 0, r = 0, i = t; r < i.length; r++)
                    e += distanceOfPolyline(i[r]);
                return e
            }
            function generateGeodesicPath(t) {
                if (t.length < 2)
                    return t;
                var e = [];
                e.push(t[0]);
                for (var r = 1, i = t.length; r < i; r++) {
                    var n = t[r - 1]
                      , a = t[r];
                    Array.prototype.push.apply(e, getGeodesicPoints(LngLat$2.from(n), LngLat$2.from(a))),
                    e.push(a)
                }
                return e
            }
            var d2r = Math.PI / 180
              , r2d = 180 / Math.PI;
            function getGeodesicPoints(t, e) {
                var r = Math.round(Math.abs(t.KL - e.KL));
                if (!r || Math.abs(t.KL - e.KL) < .001)
                    return [];
                var i, n, a, o, s, u, c, f, h = [], l = Math.PI, d = Math.asin, v = Math.sqrt, g = Math.sin, p = Math.pow, b = Math.cos, y = Math.atan2, m = t.kT * d2r, T = t.KL * d2r, M = e.kT * d2r, x = e.KL * d2r, A = 2 * d(v(p(g((m - M) / 2), 2) + b(m) * b(M) * p(g((T - x) / 2), 2)));
                for (i = 1; i < r; i += 1)
                    a = g((1 - (n = 1 / r * i)) * A) / g(A),
                    o = g(n * A) / g(A),
                    s = a * b(m) * b(T) + o * b(M) * b(x),
                    u = a * b(m) * g(T) + o * b(M) * g(x),
                    c = y(a * g(m) + o * g(M), v(p(s, 2) + p(u, 2))),
                    f = y(u, s),
                    T < x ? (f < T && (f += 2 * l),
                    x < f && (f -= 2 * l)) : (T < f && (f -= 2 * l),
                    f < x && (f += 2 * l)),
                    h.push([f * r2d, c * r2d]);
                return h
            }
            var LngLat$2 = (hM.from = function(t) {
                return isLngLat(t) ? new hM(t.KL,t.kT) : new hM(t[0],t[1])
            }
            ,
            hM.prototype.setLng = function(t) {
                return this.KL = t,
                this.lng = Math.round(1e6 * t) / 1e6,
                this
            }
            ,
            hM.prototype.setLat = function(t) {
                return this.kT = t,
                this.lat = Math.round(1e6 * t) / 1e6,
                this
            }
            ,
            hM.prototype.getLng = function() {
                return this.lng
            }
            ,
            hM.prototype.getLat = function() {
                return this.lat
            }
            ,
            hM.prototype.equals = function(t) {
                return (t = parseLngLatData(t))instanceof hM && Math.max(Math.abs(this.kT - t.kT), Math.abs(this.KL - t.KL)) <= 1e-9
            }
            ,
            hM.prototype.add = function(t, e) {
                return new hM(this.KL + t.KL,this.kT + t.kT,e)
            }
            ,
            hM.prototype.subtract = function(t, e) {
                return new hM(this.KL - t.KL,this.kT - t.kT,e)
            }
            ,
            hM.prototype.divideBy = function(t, e) {
                return new hM(this.KL / t,this.kT / t,e)
            }
            ,
            hM.prototype.multiplyBy = function(t, e) {
                return new hM(this.KL * t,this.kT * t,e)
            }
            ,
            hM.prototype.offset = function(t, e) {
                if (isNaN(t) || isNaN(e))
                    throw Error("valid offset args, require number");
                var r = 2 * Math.asin(Math.sin(Math.round(t) / 12756274) / Math.cos(this.kT * Math.PI / 180))
                  , i = this.KL + 180 * r / Math.PI
                  , n = 2 * Math.asin(Math.round(e) / 12756274);
                return new hM(i,this.kT + 180 * n / Math.PI)
            }
            ,
            hM.prototype.toString = function() {
                return this.lng + "," + this.lat
            }
            ,
            hM.prototype.toArray = function() {
                return [this.lng, this.lat]
            }
            ,
            hM.prototype.toJSON = function() {
                return [this.lng, this.lat]
            }
            ,
            hM.prototype.distanceTo = function(t) {
                return GeometryUtil.distance(this, t)
            }
            ,
            hM.prototype.distance = function(t) {
                return GeometryUtil.distance(this, t)
            }
            ,
            hM);
            function hM(t, e, r) {
                if (void 0 === r && (r = !1),
                this.className = "AMap.LngLat",
                isNumberArray(t) ? (t = parseFloat(t[0]),
                e = parseFloat(t[1])) : (e = parseFloat(e),
                t = parseFloat(t)),
                isNaN(t) || isNaN(e))
                    throw Error("Invalid Object: LngLat(" + t + ", " + e + ")");
                !0 !== r && (e = Math.max(Math.min(e, 90), -90),
                t = (t + 180) % 360 + (t < -180 || 180 === t ? 180 : -180)),
                this.kT = e,
                this.KL = t,
                this.lng = Math.round(1e6 * t) / 1e6,
                this.lat = Math.round(1e6 * e) / 1e6,
                this.pos = ProjectionManager.getProjection("EPSG:3857").project(t, e)
            }
            var Size = (GM.prototype.getWidth = function() {
                return this.width
            }
            ,
            GM.prototype.getHeight = function() {
                return this.height
            }
            ,
            GM.prototype.toString = function() {
                return this.width + "," + this.height
            }
            ,
            GM.prototype.toArray = function() {
                return [this.width, this.height]
            }
            ,
            GM);
            function GM(t, e, r) {
                if (void 0 === r && (r = !1),
                this.className = "AMap.Size",
                isNaN(t) || isNaN(e))
                    throw new Error("Invalid Object: Pixel(" + t + ", " + e + ")");
                this.width = r ? Math.round(t) : Number(t),
                this.height = r ? Math.round(e) : Number(e)
            }
            var easing = (KM = {},
            LM = 4,
            NM = 1e-7,
            OM = 10,
            RM = "function" == typeof Float32Array,
            function(a, e, o, r) {
                if (!(0 <= a && a <= 1 && 0 <= o && o <= 1))
                    throw new Error("bezier x values must be in [0, 1] range");
                var t = arguments.toString();
                if (KM[t])
                    return KM[t];
                if (a === e && o === r)
                    return ZM;
                for (var s = new (RM ? Float32Array : Array)(11), i = 0; i < 11; ++i)
                    s[i] = VM(.1 * i, a, o);
                return KM[t] = function(t) {
                    return 0 === t ? 0 : 1 === t ? 1 : VM(function(t) {
                        for (var e = 0, r = 1; 10 !== r && s[r] <= t; ++r)
                            e += .1;
                        var i = e + (t - s[--r]) / (s[r + 1] - s[r]) * .1
                          , n = WM(i, a, o);
                        return .001 <= n ? function(t, e, r, i) {
                            for (var n = 0; n < LM; ++n) {
                                var a = WM(e, r, i);
                                if (0 === a)
                                    return e;
                                e -= (VM(e, r, i) - t) / a
                            }
                            return e
                        }(t, i, a, o) : 0 === n ? i : function(t, e, r, i, n) {
                            for (var a, o, s = 0; 0 < (a = VM(o = e + (r - e) / 2, i, n) - t) ? r = o : e = o,
                            Math.abs(a) > NM && ++s < OM; )
                                ;
                            return o
                        }(t, e, e + .1, a, o)
                    }(t), e, r)
                }
            }
            ), KM, LM, NM, OM, RM;
            function SM(t, e) {
                return 1 - 3 * e + 3 * t
            }
            function TM(t, e) {
                return 3 * e - 6 * t
            }
            function UM(t) {
                return 3 * t
            }
            function VM(t, e, r) {
                return ((SM(e, r) * t + TM(e, r)) * t + UM(e)) * t
            }
            function WM(t, e, r) {
                return 3 * SM(e, r) * t * t + 2 * TM(e, r) * t + UM(e)
            }
            function ZM(t) {
                return t
            }
            function getQuadBezierValue(t, e, r, i) {
                if (1 <= t)
                    return i;
                var n = 1 - t;
                return n * n * e + 2 * n * t * r + t * t * i
            }
            function cubic(t, e, r, i, n) {
                if (1 <= t)
                    return n;
                var a = 3 * (r.pos[0] - e.pos[0])
                  , o = 3 * (i.pos[0] - r.pos[0]) - a
                  , s = n.pos[0] - e.pos[0] - a - o
                  , u = 3 * (r.pos[1] - e.pos[1])
                  , c = 3 * (i.pos[1] - r.pos[1]) - u
                  , f = n.pos[1] - e.pos[1] - u - c
                  , h = s * Math.pow(t, 3) + o * Math.pow(t, 2) + a * t + e.pos[0]
                  , l = f * Math.pow(t, 3) + c * Math.pow(t, 2) + u * t + e.pos[1];
                return ProjectionManager.getProjection("EPSG:3857").unproject(h, l)
            }
            function quad(t, e, r, i) {
                return ProjectionManager.getProjection("EPSG:3857").unproject(getQuadBezierValue(t, e.pos[0], r.pos[0], i.pos[0]), getQuadBezierValue(t, e.pos[1], r.pos[1], i.pos[1]))
            }
            function p20CoordsToLngLat(t, e) {
                return Array.isArray(e) && (e = new Pixel(e[0],e[1])),
                t.containerTolnglat(e, 20)
            }
            function getSplitNum(t, e) {
                var r = 4
                  , i = [3, 300];
                r = Math.max(2, r);
                for (var n = 0, a = 0, o = 0, s = t.length; o < s - 1; o++) {
                    var u = t[o]
                      , c = t[o + 1];
                    n += Math.abs(c.pos[0] - u.pos[0]),
                    a += Math.abs(c.pos[1] - u.pos[1])
                }
                return Math.min(i[1], Math.max(i[0], Math.round(Math.max(n, a) / e / r)))
            }
            function interpolateCoords(t, e) {
                var r = null;
                switch (e.length) {
                case 3:
                    r = quad;
                    break;
                case 4:
                    r = cubic;
                    break;
                default:
                    return null
                }
                for (var i = [], n = [0].concat(e), a = 1; a < t - 2; a++)
                    n[0] = a / t,
                    i.push(r.apply(null, n));
                return i.push(e[e.length - 1]),
                i
            }
            function getCoordsWithControlPoints(t, e, r, i) {
                var n = null;
                if (t && r && r.length) {
                    var a = [t];
                    a.push.apply(a, r),
                    a.push(e),
                    a.length,
                    n = interpolateCoords(getSplitNum(a, i), a)
                }
                return n || [e]
            }
            var BezierUtil = {
                ag: quad,
                ug: cubic,
                sg: easing,
                xb: function(t, e) {
                    var r, i, n = [];
                    for (r = 0,
                    i = t.length; r < i; r += 1)
                        n.push.apply(n, getCoordsWithControlPoints(t[r - 1], t[r], t[r].controlPoints, e));
                    return n
                },
                fg: function(t, e, r, i) {
                    for (var n = this.xb(t, e, r, i), a = [], o = 0, s = n.length; o < s; o++)
                        a.push(p20CoordsToLngLat(e, n[o]));
                    return a
                }
            }
              , LCS = (YO.prototype.setMap = function(t) {
                this.map = t
            }
            ,
            YO.prototype.getSize = function() {
                return [this.lg, this.dg]
            }
            ,
            YO.prototype.getNum = function() {
                return [this.cg, this.vg]
            }
            ,
            YO.prototype.getLocalByLnglat = function(t) {
                var e, r = (e = ProjectionManager.getProjection("EPSG:3857")).project.apply(e, t);
                return this.getLocalByCoord(r)
            }
            ,
            YO.prototype.getLocalByCoord = function(t) {
                var e = Math.floor(t[0] / this.lg)
                  , r = Math.floor(t[1] / this.dg)
                  , i = this.getLocalCenterByXY(e, r);
                return exports.Ln(exports.Ln({}, i), {
                    Sa: [t[0] - i.center[0], t[1] - i.center[1]]
                })
            }
            ,
            YO.prototype.getLocalCenterByXY = function(t, e) {
                var r = {
                    x: t,
                    y: e,
                    center: [0, 0],
                    Ro: [0, 0, 0, 0]
                };
                return r.center = [(t + .5) * this.lg, (e + .5) * this.dg],
                r.Ro = [t * this.lg, e * this.dg, (t + 1) * this.lg, (e + 1) * this.dg],
                r
            }
            ,
            YO.prototype.getDeltaCoord = function(t) {
                var e = this.getLocalByCoord(t);
                return [t[0] - e.center[0], t[1] - e.center[1]]
            }
            ,
            YO);
            function YO() {
                this.hg = [-20037508.342789244, -20037508.342789244, 20037508.342789244, 20037508.342789244],
                this.cg = 128,
                this.vg = 128,
                this.lg = (this.hg[2] - this.hg[0]) / this.cg,
                this.dg = (this.hg[3] - this.hg[1]) / this.vg
            }
            var lcs = new LCS
              , LocalZoom = 13
              , LocalTileZoom = 12
              , AMapStyleSource = ""
              , AdaptorMap = (Object.defineProperty(kP.prototype, "size", {
                get: function() {
                    return keys(this.VL).length
                },
                enumerable: !0,
                configurable: !0
            }),
            kP.prototype.clear = function() {
                this.VL = {}
            }
            ,
            kP.prototype.set = function(t, e) {
                this.VL[t] = e
            }
            ,
            kP.prototype.get = function(t) {
                return this.VL[t]
            }
            ,
            kP.prototype.delete = function(t) {
                delete this.VL[t]
            }
            ,
            kP.prototype.has = function(t) {
                return void 0 !== this.VL[t]
            }
            ,
            kP);
            function kP() {
                this.VL = {}
            }
            var NEWER = "newer"
              , OLDER = "older"
              , LRUMap = (qP.prototype.Uo = function(t) {
                this.Bo = t
            }
            ,
            qP.prototype.keys = function() {
                return new KeyIterator(this.Wo)
            }
            ,
            qP.prototype.values = function() {
                return new ValueIterator(this.Wo)
            }
            ,
            qP.prototype.entries = function() {
                return this
            }
            ,
            qP.prototype.forEach = function(t, e) {
                "object" != typeof e && (e = this);
                for (var r = this.Wo; r; )
                    t.call(e, r.value, r.key, this),
                    r = r[NEWER]
            }
            ,
            qP.prototype.toJSON = function() {
                for (var t = new Array(this.size), e = 0, r = this.Wo; r; )
                    t[e++] = {
                        key: r.key,
                        value: r.value
                    },
                    r = r[NEWER];
                return t
            }
            ,
            qP.prototype.toString = function() {
                for (var t = "", e = this.Wo; e; )
                    t += String(e.key) + ":" + e.value,
                    (e = e[NEWER]) && (t += " < ");
                return t
            }
            ,
            qP.prototype.Go = function(t) {
                t !== this.Zo && (t[NEWER] && (t === this.Wo && (this.Wo = t[NEWER]),
                t[NEWER][OLDER] = t[OLDER]),
                t[OLDER] && (t[OLDER][NEWER] = t[NEWER]),
                t[NEWER] = void 0,
                t[OLDER] = this.Zo,
                this.Zo && (this.Zo[NEWER] = t),
                this.Zo = t)
            }
            ,
            qP.prototype.assign = function(t) {
                var e, r = this.Bo || Number.MAX_VALUE;
                this.qo.clear();
                for (var i = t, n = i.next(); !n.done; n = i.next()) {
                    var a = new Entry(n.value[0],n.value[1]);
                    if (this.qo.set(a.key, a),
                    e ? (e[NEWER] = a)[OLDER] = e : this.Wo = a,
                    e = a,
                    0 == r--)
                        throw new Error("overflow")
                }
                this.Zo = e,
                this.size = this.qo.size
            }
            ,
            qP.prototype.get = function(t, e) {
                var r = this.qo.get(t);
                if (r)
                    return e && this.Go(r),
                    r.value
            }
            ,
            qP.prototype.set = function(t, e) {
                var r = this.qo.get(t);
                return r ? (r.value = e,
                this.Go(r)) : (this.qo.set(t, r = new Entry(t,e)),
                this.Zo ? (this.Zo[NEWER] = r)[OLDER] = this.Zo : this.Wo = r,
                this.Zo = r,
                ++this.size,
                this.size > this.Bo && this.MN()),
                this
            }
            ,
            qP.prototype.shift = function() {
                var t = this.Wo;
                if (t)
                    return this.Wo[NEWER] ? (this.Wo = this.Wo[NEWER],
                    this.Wo[OLDER] = void 0) : (this.Wo = void 0,
                    this.Zo = void 0),
                    t[NEWER] = t[OLDER] = void 0,
                    t.value.destroy(),
                    this.qo.delete(t.key),
                    --this.size,
                    [t.key, t.value]
            }
            ,
            qP.prototype.find = function(t) {
                var e = this.qo.get(t);
                return e ? e.value : void 0
            }
            ,
            qP.prototype.has = function(t) {
                return this.qo.has(t)
            }
            ,
            qP.prototype.delete = function(t) {
                var e = this.qo.get(t);
                if (e)
                    return this.qo.delete(e.key),
                    e[NEWER] && e[OLDER] ? (e[OLDER][NEWER] = e[NEWER],
                    e[NEWER][OLDER] = e[OLDER]) : e[NEWER] ? (e[NEWER][OLDER] = void 0,
                    this.Wo = e[NEWER]) : e[OLDER] ? (e[OLDER][NEWER] = void 0,
                    this.Zo = e[OLDER]) : this.Wo = this.Zo = void 0,
                    this.size--,
                    e.value
            }
            ,
            qP.prototype.clear = function() {
                this.Wo = this.Zo = void 0,
                this.size = 0,
                this.qo.clear()
            }
            ,
            qP.prototype.AN = function(t) {
                if ("loaded" !== t.value.status)
                    return !0;
                var e = t.value.stamp;
                return e && this.wN && e === this.wN
            }
            ,
            qP.prototype.QF = function(t) {
                this.wN = t
            }
            ,
            qP.prototype.MN = function() {
                for (var t = this.Wo, e = this.Zo.key; t && e && t.key !== e; ) {
                    if (this.AN(t))
                        this.Go(t);
                    else if (this.shift(),
                    this.size <= this.Bo)
                        return;
                    t = this.Wo
                }
            }
            ,
            qP);
            function qP(t, e) {
                this.entries = e,
                "number" != typeof (this.Bo = t) && (e = t,
                t = 0),
                this.size = 0,
                this.Bo = t,
                this.Wo = this.Zo = void 0,
                this.qo = new ("undefined" != typeof Map ? Map : AdaptorMap),
                e && (this.assign(e),
                t < 1 && (this.Bo = this.size))
            }
            var Entry = function(t, e) {
                this.key = t,
                this.value = e,
                this[NEWER] = void 0,
                this[OLDER] = void 0
            }
              , KeyIterator = (bQ.prototype.next = function() {
                var t = this.Yo;
                return t ? (this.Yo = t[NEWER],
                {
                    done: !1,
                    value: t.key
                }) : {
                    done: !0,
                    value: void 0
                }
            }
            ,
            bQ);
            function bQ(t) {
                this.Vo = t
            }
            var ValueIterator = (eQ.prototype.next = function() {
                var t = this.Yo;
                return t ? (this.Yo = t[NEWER],
                {
                    done: !1,
                    value: t.value
                }) : {
                    done: !0,
                    value: void 0
                }
            }
            ,
            eQ);
            function eQ(t) {
                this.Vo = t
            }
            var LRUMapWithEvent = (hQ = LRUMap,
            __extends(iQ, hQ),
            iQ.prototype.shift = function() {
                var t = this.Wo;
                if (t)
                    return this.Wo[NEWER] ? (this.Wo = this.Wo[NEWER],
                    this.Wo[OLDER] = void 0) : (this.Wo = void 0,
                    this.Zo = void 0),
                    t[NEWER] = t[OLDER] = void 0,
                    this.qo.delete(t.key),
                    this.emit("delete", {
                        key: t.key
                    }),
                    --this.size,
                    [t.key, t.value]
            }
            ,
            iQ.prototype.on = function(t, e, r, i) {
                void 0 === r && (r = this),
                void 0 === i && (i = !1);
                for (var n = 0, a = Array.isArray(t) ? t : [t]; n < a.length; n++) {
                    var o = a[n];
                    this._on(o, e, r, i)
                }
                return this
            }
            ,
            iQ.prototype.off = function(t, e, r) {
                void 0 === r && (r = this);
                var i = this.vI;
                if (t in i)
                    for (var n = 0; n < i[t].length; n += 1)
                        if (i[t][n].fn === e && i[t][n].context === r)
                            return i[t].splice(n, 1),
                            this;
                return this
            }
            ,
            iQ.prototype.hasEvents = function(t, e, r) {
                void 0 === r && (r = this);
                var i = this.vI;
                if (t && e && t in i)
                    for (var n = 0; n < i[t].length; n += 1)
                        if (i[t][n].fn === e && i[t][n].context === r)
                            return !0;
                return !1
            }
            ,
            iQ.prototype.clearEvents = function(t) {
                return t ? this.vI[t] && delete this.vI[t] : this.vI = {},
                this
            }
            ,
            iQ.prototype.emit = function(t, e) {
                if (void 0 === e && (e = {}),
                !(t in this.vI))
                    return this;
                for (var r = exports.Ln(exports.Ln({}, e), {
                    type: t
                }), i = this.vI[t], n = 0, a = i.length; n < a; n += 1) {
                    var o = i[n];
                    o.fn && (o.fn.call(o.context, r),
                    o.once && (this.vI[t].splice(n, 1),
                    --n,
                    --a))
                }
                return this
            }
            ,
            iQ.prototype._on = function(t, e, r, i) {
                if (void 0 === r && (r = this),
                void 0 === i && (i = !1),
                this.hasEvents(t, e, r))
                    return this;
                var n = this.vI;
                return n[t] = n[t] || [],
                n[t].push({
                    fn: e,
                    context: r || this,
                    once: i
                }),
                this
            }
            ,
            iQ), hQ;
            function iQ() {
                var t = null !== hQ && hQ.apply(this, arguments) || this;
                return t.vI = {},
                t
            }
            var Event = (QQ.addListener = function(t, e, r) {
                t.on(e, r)
            }
            ,
            QQ.trigger = function(t, e, r) {
                t.emit(e, r)
            }
            ,
            QQ.clearListeners = function(t, e) {
                t.clearEvents(e)
            }
            ,
            QQ.addDomListener = function(t, e, r) {
                t.addEventListener(e, r)
            }
            ,
            QQ.extend = function(t, r, i) {
                "string" == typeof t && (t = [t]),
                forEach$3(t, function(e) {
                    r.on(e, function(t) {
                        i.emit(e, t)
                    })
                })
            }
            ,
            QQ.prototype.on = function(t, e, r, i) {
                void 0 === r && (r = this),
                void 0 === i && (i = !1);
                for (var n = 0, a = Array.isArray(t) ? t : [t]; n < a.length; n++) {
                    var o = a[n];
                    this._on(o, e, r, i)
                }
                return this
            }
            ,
            QQ.prototype.off = function(t, e, r) {
                void 0 === r && (r = this);
                var i = this.vI;
                if (t in i)
                    for (var n = 0; n < i[t].length; n += 1)
                        if (i[t][n].fn === e && i[t][n].context === r)
                            return i[t].splice(n, 1),
                            this;
                return this
            }
            ,
            QQ.prototype.hasEvents = function(t, e, r) {
                void 0 === r && (r = this);
                var i = this.vI;
                if (t && e && t in i)
                    for (var n = 0; n < i[t].length; n += 1)
                        if (i[t][n].fn === e && i[t][n].context === r)
                            return !0;
                return !1
            }
            ,
            QQ.prototype.clearEvents = function(t) {
                return t ? this.vI[t] && delete this.vI[t] : this.vI = {},
                this
            }
            ,
            QQ.prototype.emit = function(t, e) {
                if (void 0 === e && (e = {}),
                !(t in this.vI))
                    return this;
                for (var r = exports.Ln(exports.Ln({}, e), {
                    type: t
                }), i = this.vI[t], n = 0, a = i.length; n < a; n += 1) {
                    var o = i[n];
                    o.fn && (o.fn.call(o.context, r),
                    o.once && (this.vI[t].splice(n, 1),
                    --n,
                    --a))
                }
                return this
            }
            ,
            QQ.prototype._on = function(t, e, r, i) {
                if (void 0 === r && (r = this),
                void 0 === i && (i = !1),
                this.hasEvents(t, e, r))
                    return this;
                var n = this.vI;
                return n[t] = n[t] || [],
                n[t].push({
                    fn: e,
                    context: r || this,
                    once: i
                }),
                this
            }
            ,
            QQ);
            function QQ() {
                this.vI = {}
            }
            var TileCache = (KR = Event,
            __extends(LR, KR),
            LR.prototype.QF = function(t) {
                this.Ho.QF(t)
            }
            ,
            LR.prototype.Xo = function(t) {
                this.Ho.Uo(t)
            }
            ,
            LR.prototype.Jo = function(t) {
                var e = this.ia(t.zo);
                this.keys[e] = 1,
                this.Ho.set(e, t)
            }
            ,
            LR.prototype.Qo = function(t) {
                var e = this.ia(t.zo);
                this.Ho.set(e, t)
            }
            ,
            LR.prototype.ta = function(t, e) {
                return void 0 === e && (e = !0),
                this.Ko(t) ? this.Ho.get(this.ia(t), e) : null
            }
            ,
            LR.prototype.xf = function(t, e) {
                return void 0 === e && (e = !1),
                this.Ho.has(t) ? this.Ho.get(t, e) : null
            }
            ,
            LR.prototype.ea = function(t) {
                var e = this.ia(t.zo);
                return !!this.Ko(t.zo) && (this.Ho.delete(e),
                delete this.keys[e],
                !0)
            }
            ,
            LR.prototype.Ko = function(t) {
                var e = this.ia(t);
                return !!this.Ho.has(e)
            }
            ,
            LR.prototype.destroy = function() {
                this.Ho.clear()
            }
            ,
            LR.prototype.forEach = function(t) {
                this.Ho.forEach(t)
            }
            ,
            LR.prototype.ia = function(t) {
                if (t.key)
                    return t.key;
                var e = t.z + "," + t.x + "," + t.y;
                return t.key = e
            }
            ,
            LR), KR, dS;
            function LR(t) {
                void 0 === t && (t = 500);
                var e = KR.call(this) || this;
                return e.keys = {},
                e.na = t,
                e.Ho = new LRUMapWithEvent(e.na),
                e
            }
            dS = exports.zB || (exports.zB = {}),
            dS.LITE = "lite",
            dS.LEFT = "left",
            dS.ALL = "all",
            dS.NONE = "";
            var NebulaTileCache = (eS = TileCache,
            __extends(fS, eS),
            fS.prototype.MD = function(t, e) {
                void 0 === e && (e = exports.zB.ALL);
                var r = "";
                return t ? e !== t && (r = "all" === t ? "" : e === exports.zB.ALL ? t ? t === exports.zB.LITE ? exports.zB.LEFT : exports.zB.LITE : exports.zB.ALL : e) : r = exports.zB.ALL,
                r
            }
            ,
            fS.prototype.ea = function(t) {
                return t.rN(),
                eS.prototype.ea.call(this, t)
            }
            ,
            fS), eS;
            function fS(t) {
                void 0 === t && (t = 500);
                var e = eS.call(this, t) || this;
                return Event.extend("delete", e.Ho, e),
                e
            }
            var TagMap = {
                2: "all",
                3: "all",
                4: "all",
                5: "all",
                6: "lite",
                7: "all",
                8: "lite",
                9: "all",
                10: "lite",
                11: "lite",
                12: "all",
                13: "all",
                14: "all",
                15: "lite",
                16: "lite",
                17: "all",
                18: "all",
                19: "all",
                20: "all"
            }
              , colorNameDist = {
                aliceblue: "#f0f8ff",
                antiquewhite: "#faebd7",
                aqua: "#00ffff",
                aquamarine: "#7fffd4",
                azure: "#f0ffff",
                beige: "#f5f5dc",
                bisque: "#ffe4c4",
                black: "#000000",
                blanchedalmond: "#ffebcd",
                blue: "#0000ff",
                blueviolet: "#8a2be2",
                brown: "#a52a2a",
                burlywood: "#deb887",
                cadetblue: "#5f9ea0",
                chartreuse: "#7fff00",
                chocolate: "#d2691e",
                coral: "#ff7f50",
                cornflowerblue: "#6495ed",
                cornsilk: "#fff8dc",
                crimson: "#dc143c",
                cyan: "#00ffff",
                darkblue: "#00008b",
                darkcyan: "#008b8b",
                darkgoldenrod: "#b8860b",
                darkgray: "#a9a9a9",
                darkgreen: "#006400",
                darkkhaki: "#bdb76b",
                darkmagenta: "#8b008b",
                darkolivegreen: "#556b2f",
                darkorange: "#ff8c00",
                darkorchid: "#9932cc",
                darkred: "#8b0000",
                darksalmon: "#e9967a",
                darkseagreen: "#8fbc8f",
                darkslateblue: "#483d8b",
                darkslategray: "#2f4f4f",
                darkturquoise: "#00ced1",
                darkviolet: "#9400d3",
                deeppink: "#ff1493",
                deepskyblue: "#00bfff",
                dimgray: "#696969",
                dodgerblue: "#1e90ff",
                firebrick: "#b22222",
                floralwhite: "#fffaf0",
                forestgreen: "#228b22",
                fuchsia: "#ff00ff",
                gainsboro: "#dcdcdc",
                ghostwhite: "#f8f8ff",
                gold: "#ffd700",
                goldenrod: "#daa520",
                grey: "#808080",
                gray: "#808080",
                green: "#008000",
                greenyellow: "#adff2f",
                honeydew: "#f0fff0",
                hotpink: "#ff69b4",
                indianred: "#cd5c5c",
                indigo: "#4b0082",
                ivory: "#fffff0",
                khaki: "#f0e68c",
                lavender: "#e6e6fa",
                lavenderblush: "#fff0f5",
                lawngreen: "#7cfc00",
                lemonchiffon: "#fffacd",
                lightblue: "#add8e6",
                lightcoral: "#f08080",
                lightcyan: "#e0ffff",
                lightgoldenrodyellow: "#fafad2",
                lightgrey: "#d3d3d3",
                lightgreen: "#90ee90",
                lightpink: "#ffb6c1",
                lightsalmon: "#ffa07a",
                lightseagreen: "#20b2aa",
                lightskyblue: "#87cefa",
                lightslategray: "#778899",
                lightsteelblue: "#b0c4de",
                lightyellow: "#ffffe0",
                lime: "#00ff00",
                limegreen: "#32cd32",
                linen: "#faf0e6",
                magenta: "#ff00ff",
                maroon: "#800000",
                mediumaquamarine: "#66cdaa",
                mediumblue: "#0000cd",
                mediumorchid: "#ba55d3",
                mediumpurple: "#9370d8",
                mediumseagreen: "#3cb371",
                mediumslateblue: "#7b68ee",
                mediumspringgreen: "#00fa9a",
                mediumturquoise: "#48d1cc",
                mediumvioletred: "#c71585",
                midnightblue: "#191970",
                mintcream: "#f5fffa",
                mistyrose: "#ffe4e1",
                moccasin: "#ffe4b5",
                navajowhite: "#ffdead",
                navy: "#000080",
                oldlace: "#fdf5e6",
                olive: "#808000",
                olivedrab: "#6b8e23",
                orange: "#ffa500",
                orangered: "#ff4500",
                orchid: "#da70d6",
                palegoldenrod: "#eee8aa",
                palegreen: "#98fb98",
                paleturquoise: "#afeeee",
                palevioletred: "#d87093",
                papayawhip: "#ffefd5",
                peachpuff: "#ffdab9",
                peru: "#cd853f",
                pink: "#ffc0cb",
                plum: "#dda0dd",
                powderblue: "#b0e0e6",
                purple: "#800080",
                rebeccapurple: "#663399",
                red: "#ff0000",
                rosybrown: "#bc8f8f",
                royalblue: "#4169e1",
                saddlebrown: "#8b4513",
                salmon: "#fa8072",
                sandybrown: "#f4a460",
                seagreen: "#2e8b57",
                seashell: "#fff5ee",
                sienna: "#a0522d",
                silver: "#c0c0c0",
                skyblue: "#87ceeb",
                slateblue: "#6a5acd",
                slategray: "#708090",
                snow: "#fffafa",
                springgreen: "#00ff7f",
                steelblue: "#4682b4",
                tan: "#d2b48c",
                teal: "#008080",
                thistle: "#d8bfd8",
                tomato: "#ff6347",
                turquoise: "#40e0d0",
                violet: "#ee82ee",
                wheat: "#f5deb3",
                white: "#ffffff",
                whitesmoke: "#f5f5f5",
                yellow: "#ffff00",
                yellowgreen: "#9acd32"
            }
              , Util = function() {
                var i, o, e, r, n, a = {
                    CLASS_NAME: "AMap.Util",
                    WorldAxesCenter: {
                        x: 0,
                        y: 0
                    },
                    Single: {},
                    stamp: (e = !0 === Support.DW,
                    r = 1e5,
                    n = "_amap_id",
                    function(t) {
                        return t[n] = e ? ++r : --r,
                        t[n]
                    }
                    ),
                    singlton: function(t) {
                        var e = l.Single[t];
                        return e || new t
                    },
                    getOptimalZoom: function(t) {
                        return t < Math.floor(t) + .8 ? Math.floor(t) : Math.ceil(t)
                    },
                    join: function(t, e) {
                        if (t.join)
                            return t.join(e);
                        var r = [];
                        for (var i in t)
                            t.hasOwnProperty(i) && r.push(i + "=" + (t[i] || ""));
                        return r.join(e)
                    },
                    getGuid: function(t, e) {
                        return void 0 === e && (e = 10),
                        (t || "") + Math.round(Math.random() * Math.pow(10, e)) + "_" + (new Date).getTime()
                    },
                    sx: (o = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
                    function(t, e) {
                        void 0 === t && (t = 0),
                        void 0 === e && (e = 62);
                        var r, i = o, n = [];
                        if (e = e || i.length,
                        t)
                            for (r = 0; r < t; r++)
                                n[r] = i[0 | Math.random() * e];
                        else {
                            var a = void 0;
                            for (n[8] = n[13] = n[18] = n[23] = "-",
                            n[14] = "4",
                            r = 0; r < 36; r++)
                                n[r] || (a = 0 | 16 * Math.random(),
                                n[r] = i[19 === r ? 3 & a | 8 : a])
                        }
                        return n.join("")
                    }
                    ),
                    endsWith: function(t, e) {
                        return t.endsWith ? t.endsWith(e) : !(t.length < e.length) && t.substr(t.length - e.length) === e
                    },
                    mg: [],
                    gg: 268435456,
                    wg: [215440491, 106744817],
                    Mg: {
                        start: function(e) {
                            e.startTime = new Date,
                            e.jg = [];
                            var r = (new Date).getTime()
                              , i = function() {
                                var t = (new Date).getTime();
                                e.jg.push(t - r),
                                r = t,
                                e.id = l.requestAnimFrame(i)
                            };
                            e.id = l.requestAnimFrame(i)
                        },
                        cancel: function(t) {
                            t.id && l.cancelAnimFrame(t.id)
                        },
                        stop: function(t) {
                            t.Ag = Date.now() - t.startTime,
                            this.cancel(t),
                            t.Mg = Math.round(1e3 / (t.Ag / (t.jg.length + 1)))
                        }
                    },
                    kg: function(t, e, r, i, n) {
                        if (void 0 === i && (i = "linear"),
                        void 0 === n && (n = !1),
                        t === e)
                            return e;
                        switch (i) {
                        case "ease":
                            r = BezierUtil.sg(.25, .1, .25, 1)(r);
                            break;
                        case "ease-in":
                            r = BezierUtil.sg(.42, 0, 1, 1)(r);
                            break;
                        case "ease-out":
                            r = BezierUtil.sg(0, 0, .58, 1)(r);
                            break;
                        case "ease-in-out":
                            r = BezierUtil.sg(.42, 0, .58, 1)(r)
                        }
                        var a = t + (e - t) * r;
                        return n && (a >>= 0),
                        a
                    },
                    createObjectURL: function(t, e) {
                        void 0 === e && (e = "text/javascript; charset=utf-8");
                        var r = null;
                        try {
                            r = (window.URL || window.webkitURL).createObjectURL(new Blob([t],{
                                type: e
                            }))
                        } catch (t) {
                            r = null
                        }
                        return r
                    },
                    revokeObjectURL: function(t) {
                        try {
                            (window.URL || window.webkitURL).revokeObjectURL(t)
                        } catch (t) {}
                    },
                    Og: function(t) {
                        for (var e = {}, r = 0, i = t.length; r < i; r++)
                            e[t[r]] = r;
                        return e
                    },
                    xg: function(t) {
                        var e = {};
                        if (l.is(t, "object"))
                            for (var r in t)
                                t.hasOwnProperty(r) && (e[t[r]] = r);
                        return e
                    },
                    Ig: function(t, e) {
                        if (e.length < 5e4)
                            t.push.apply(t, e);
                        else
                            for (var r = 0, i = e.length; r < i; r += 1)
                                t.push(e[r])
                    },
                    clone: function(t) {
                        if ("object" != typeof t || null === t)
                            return t;
                        if (t.Tg || this.is(t, "Float32Array") || this.is(t, "Uint16Array"))
                            return t;
                        var e = this.isArray(t) ? [] : {};
                        for (var r in t)
                            t.hasOwnProperty(r) && (e[r] = l.clone(t[r]));
                        return e
                    },
                    isInteger: function(t) {
                        return (0 | t) === t
                    },
                    vB: function(t) {
                        return !isNaN(t)
                    },
                    setPrototypeOf: "function" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : function(t, e) {
                        for (var r in e)
                            t[r] = e[r]
                    }
                    ,
                    isFunction: function(t) {
                        return "function" == typeof t
                    },
                    _g: function(t, e) {
                        if (void 0 === e && (e = "webgl"),
                        !t)
                            return t;
                        for (var r = [], i = 0, n = t.length; i < n; i += 2) {
                            var a = parseInt(t.substr(i, 2), 16);
                            ("webgl" === e || "rgba" === e && 0 === i) && (a = this.format(a / 255, 3)),
                            r.push(a)
                        }
                        return r.push(r.shift()),
                        r
                    },
                    Sg: function() {},
                    keys: "function" == typeof Object.keys ? Object.keys : function(t) {
                        var e = [];
                        for (var r in t)
                            t.hasOwnProperty(r) && e.push(r);
                        return e
                    }
                    ,
                    map: function(i, n, a) {
                        void 0 === a && (a = null);
                        var o = [];
                        return i && i.length ? (l.Cg(i, function() {
                            for (var t = [], e = 0; e < arguments.length; e++)
                                t[e] = arguments[e];
                            var r = t[1];
                            o[r] = n.apply(a || i, t)
                        }),
                        o) : i
                    },
                    forEach: function(t, e) {
                        if (t && t.length) {
                            var r = t.length;
                            if (0 < r && (e(t[0], 0),
                            1 < r)) {
                                e(t[1], 1);
                                for (var i = 2; i < r; i++)
                                    e(t[i], i)
                            }
                        }
                    },
                    Cg: function(t, e, r) {
                        if (void 0 === r && (r = null),
                        t && t.length)
                            for (var i = 0, n = t.length; i < n && !1 !== e.call(r, t[i], i, t); i++)
                                ;
                    },
                    find: function(t, e, r) {
                        void 0 === r && (r = null);
                        for (var i = 0, n = t.length; i < n; i++)
                            if ("function" == typeof e) {
                                if (e.call(r, t[i], i, t))
                                    return t[i]
                            } else if (t[i] === e)
                                return t[i];
                        return null
                    },
                    isDOM: function(t) {
                        return "object" == typeof HTMLElement ? t instanceof HTMLElement : t && "object" == typeof t && 1 === t.nodeType && "string" == typeof t.nodeName
                    },
                    Eg: function(t, e) {
                        var r, i, n, a, o, s, u, c = "ASDFGHJKLQWERTYUIO!sdfghjkleiu3~yr5-P&mq9`%zCN*b=8@^xpVM";
                        for (i = "v5" < (e = e || "v5") ? (r = c.length,
                        512) : (r = 27,
                        c = c.substr(0, 27),
                        333),
                        a = [],
                        o = NaN,
                        s = 0,
                        u = t.length; s < u; s++)
                            n = t[s],
                            n = c.indexOf(n),
                            o = isNaN(o) ? n * r : (a.push(o + n - i),
                            NaN);
                        return a
                    },
                    Ng: function(t, e) {
                        var r;
                        r = 512 < e.length ? Math.round(Math.pow(e.length, .5)) : e.length;
                        for (var i = Math.ceil(e.length / r), n = 0; n < i; n += 1) {
                            var a = r * n
                              , o = a + r;
                            o > e.length && (o = e.length);
                            for (var s = a; s < o; s += 1)
                                t(e[s])
                        }
                    },
                    Lg: function(t) {
                        if (/^rgba\(/.test(t))
                            return this.Dg(t);
                        var e = this.colorNameToHex(t)
                          , r = e;
                        return "#" === e[0] && (3 === (e = e.substring(1)).length && (e = e.replace(/./g, function(t) {
                            return t + t
                        })),
                        r = this.argbHex2Rgba(8 === e.length ? e : "ff" + e)),
                        this.Dg(r)
                    },
                    colorNameToHex: function(t) {
                        return void 0 === t && (t = ""),
                        "string" == typeof (t = t.toLowerCase()) && colorNameDist[t.toLowerCase()] ? colorNameDist[t.toLowerCase()] : t
                    },
                    Rg: function(t, e, r) {
                        var i, n, a, o;
                        return [r, t & (i = (1 << (o = Math.floor(r / 2))) - 1 << (a = r - o)) | e & (n = (1 << a) - 1), e & i | t & n]
                    },
                    Pg: function(t) {
                        return t ? encodeURIComponent(t) : ""
                    },
                    getStyle: function(t, e, r, i) {
                        var n, a, o;
                        if (void 0 === (o = t[e].i[r]))
                            return null;
                        if (a = t[e].s,
                        "number" == typeof o)
                            return a[o];
                        for (; void 0 === o[i.toString()] && !(--i < 3); )
                            ;
                        return "number" == typeof (n = o[i.toString()]) ? a[n] : null
                    },
                    Dg: function(t) {
                        var e = t.split(",");
                        return e[0] = parseFloat(e[0].split("rgba(")[1]) / 255,
                        e[1] = parseFloat(e[1]) / 255,
                        e[2] = parseFloat(e[2]) / 255,
                        e[3] = parseFloat(e[3]),
                        e
                    },
                    Ug: function(t) {
                        var e = t.split(",");
                        return e[0] = parseFloat(e[0].split("rgb(")[1]) / 255,
                        e[1] = parseFloat(e[1]) / 255,
                        e[2] = parseFloat(e[2]) / 255,
                        e
                    },
                    Bg: function(t) {
                        return "rgba(" + 255 * t[0] + "," + 255 * t[1] + "," + 255 * t[2] + "," + t[3] + ")"
                    },
                    color2Rgba: function(t) {
                        return this.Bg(this.color2RgbaArray(t))
                    },
                    color2RgbaArray: function(t) {
                        if (t instanceof Array)
                            return 3 == t.length && t.push(1),
                            t;
                        var e = this.colorNameToHex(t);
                        if (0 == e.indexOf("rgb(")) {
                            var r = this.Ug(e);
                            return r.push(1),
                            r
                        }
                        if (0 == e.indexOf("rgba("))
                            return this.Dg(e);
                        if (0 == e.indexOf("#")) {
                            if (4 === e.length) {
                                var i = e.substr(1).replace(/./g, function(t) {
                                    return t + t
                                });
                                return this.zg(i)
                            }
                            if (7 == e.length)
                                return this.zg(e.substr(1));
                            if (9 == e.length) {
                                var n = e.substr(1);
                                return this.qg(n)
                            }
                        } else {
                            if (3 === e.length)
                                return i = e.replace(/./g, function(t) {
                                    return t + t
                                }),
                                this.zg(i);
                            if (6 == e.length)
                                return this.zg(e);
                            if (8 == e.length)
                                return this.qg(e)
                        }
                    },
                    rgbHex2Rgba: function(t) {
                        return t.startsWith("#") && (t = t.slice(1)),
                        l.argbHex2Rgba("ff" + t)
                    },
                    argbHex2Rgba: function(t) {
                        t.startsWith("#") && (t = t.slice(1));
                        for (var e = [], r = 0, i = t.length; r < i; r += 2)
                            e.push(parseInt(t.substr(r, 2), 16));
                        return e.push((e.shift() / 255).toFixed(2)),
                        "rgba(" + e.join(",") + ")"
                    },
                    Opacity2Rgba: function(t, e) {
                        var r = e;
                        return e && e[3] && t && (e[3] = Math.floor(255 * t)),
                        r
                    },
                    Hex2Rgba: function(t) {
                        if ("string" != typeof t)
                            return !1;
                        for (var e = [], r = 0, i = t.length; r < i; r += 2)
                            e.push(parseInt(t.substr(r, 2), 16));
                        return e.push(parseInt(e.shift())),
                        e
                    },
                    zg: function(t) {
                        return l.qg("ff" + t)
                    },
                    qg: function(t) {
                        for (var e = [], r = 0, i = t.length; r < i; r += 2)
                            e.push(parseInt(t.substr(r, 2), 16) / 255);
                        return e.push(e.shift()),
                        e
                    },
                    isEmpty: function(t) {
                        for (var e in t)
                            if (t.hasOwnProperty(e))
                                return !1;
                        return !0
                    },
                    Wg: function(t, e) {
                        return 0 <= e && t.splice(e, 1),
                        t
                    },
                    startsWith: function(t, e) {
                        return t.startsWith ? t.startsWith(e) : t.substr(0, e.length) === e
                    },
                    deleteItemFromArray: function(t, e) {
                        var r = l.indexOf(t, e);
                        return l.Wg(t, r)
                    },
                    deleteItemFromArrayByIndex: function(t, e) {
                        return l.Wg(t, e)
                    },
                    filter: function(t, r, i) {
                        var n = [];
                        return l.Cg(t, function(t, e) {
                            r.call(i, t, e) && n.push(t)
                        }),
                        n
                    },
                    indexOf: function(t, e) {
                        if (!t || !t.length)
                            return -1;
                        if (t.indexOf)
                            return t.indexOf(e);
                        for (var r = 0; r < t.length; r += 1)
                            if (t[r] === e)
                                return r;
                        return -1
                    },
                    Gg: function(t, e) {
                        return t.endsWith ? t.endsWith(e) : !(t.length < e.length) && t.substr(t.length - e.length) == e
                    },
                    bind: (i = !1,
                    Boolean(Function.prototype.bind) && (i = !0),
                    function(t, e) {
                        var r = 2 < arguments.length ? Array.prototype.slice.call(arguments, 2) : null;
                        return i ? r ? (r.unshift(e),
                        t.bind.apply(t, r)) : t.bind(e) : function() {
                            return t.apply(e, r || arguments)
                        }
                    }
                    ),
                    setOptions: function(t, e) {
                        return e = e || {},
                        t.opts = assign({}, t.opts, e),
                        t.opts
                    },
                    yn: function(t, e, r) {
                        return "function" == typeof e ? this.Hg(t, !0, this.Vg(e, r, 1)) : this.Hg(t, !0)
                    },
                    Hg: function(r, i, n, t, e, a, o) {
                        var s;
                        if (n && (s = e ? n(r, t, e) : n(r)),
                        void 0 !== s)
                            return s;
                        if (!this.$g(r))
                            return r;
                        var u = this.isArray(r);
                        if (u) {
                            if (s = this.Yg(r),
                            !i)
                                return this.Kg(r, s)
                        } else {
                            var c = Object.prototype.toString.call(r)
                              , f = "[object Function]" == c;
                            if ("[object Object]" != c && "[object Arguments]" != c && (!f || e))
                                return e ? r : {};
                            if (s = this.Xg(f ? {} : r),
                            !i)
                                return this.Jg(s, r)
                        }
                        o = o || [];
                        for (var h = (a = a || []).length; h--; )
                            if (a[h] == r)
                                return o[h];
                        return a.push(r),
                        o.push(s),
                        (u ? this.Zg : this.Qg)(r, function(t, e) {
                            s[e] = l.Hg(t, i, n, e, r, a, o)
                        }),
                        s
                    },
                    Jg: function(t, e) {
                        return null == e ? t : this.tM(e, Object.keys(e), t)
                    },
                    $g: function(t) {
                        var e = typeof t;
                        return !!t && ("object" == e || "function" == e)
                    },
                    rM: function(t) {
                        return !!t && "object" == typeof t
                    },
                    nM: function(t) {
                        return "number" == typeof t && -1 < t && t % 1 == 0 && t <= 9007199254740991
                    },
                    Yg: function(t) {
                        var e = t.length
                          , r = new Array(e);
                        return e && "string" == typeof t[0] && Object.hasOwnProperty.call(t, "index") && (r.index = t.index,
                        r.input = t.input),
                        r
                    },
                    Kg: function(t, e) {
                        var r = -1
                          , i = t.length;
                        for (e = e || Array(i); ++r < i; )
                            e[r] = t[r];
                        return e
                    },
                    Xg: function(t) {
                        var e = t.constructor;
                        return "function" == typeof e && e instanceof e || (e = Object),
                        new e
                    },
                    Vg: function(a, o, t) {
                        if ("function" != typeof a)
                            return this.identity;
                        if (void 0 === o)
                            return a;
                        switch (t) {
                        case 1:
                            return function(t) {
                                return a.call(o, t)
                            }
                            ;
                        case 3:
                            return function(t, e, r) {
                                return a.call(o, t, e, r)
                            }
                            ;
                        case 4:
                            return function(t, e, r, i) {
                                return a.call(o, t, e, r, i)
                            }
                            ;
                        case 5:
                            return function(t, e, r, i, n) {
                                return a.call(o, t, e, r, i, n)
                            }
                        }
                        return function() {
                            return a.apply(o, arguments)
                        }
                    },
                    Zg: function(t, e) {
                        for (var r = -1, i = t.length; ++r < i && !1 !== e(t[r], r, t); )
                            ;
                        return t
                    },
                    identity: function(t) {
                        return t
                    },
                    iM: function(u) {
                        return function(t, e, r) {
                            for (var i = l.eM(t), n = r(t), a = n.length, o = u ? a : -1; u ? o-- : ++o < a; ) {
                                var s = n[o];
                                if (!1 === e(i[s], s, i))
                                    break
                            }
                            return t
                        }
                    },
                    Qg: function(t, e) {
                        return l.iM()(t, e, Object.keys)
                    },
                    eM: function(t) {
                        return l.$g(t) ? t : Object(t)
                    },
                    tM: function(t, e, r) {
                        r = r || {};
                        for (var i = -1, n = e.length; ++i < n; ) {
                            var a = e[i];
                            r[a] = t[a]
                        }
                        return r
                    },
                    oM: function() {
                        return !1
                    },
                    aM: "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",
                    uM: Date.now ? function() {
                        return Date.now()
                    }
                    : function() {
                        return (new Date).getTime()
                    }
                    ,
                    sM: function(t, e, r, i) {
                        var n;
                        if (i) {
                            var a, o = 0, s = this.uM;
                            n = function() {
                                if ((a = s()) - o < e)
                                    return !1;
                                o = a,
                                t.apply(r, arguments)
                            }
                        } else {
                            var u, c, f;
                            f = function() {
                                u = !1,
                                c && (n.apply(r, c),
                                c = !1)
                            }
                            ,
                            n = function() {
                                u ? c = arguments : (u = !0,
                                t.apply(r, arguments),
                                setTimeout(f, e))
                            }
                        }
                        return n
                    },
                    format: function(t, e) {
                        return t === t << 0 ? t : +parseFloat(t + "").toFixed(e || 0)
                    },
                    isArray: Array.isArray ? Array.isArray : function(t) {
                        return this.is(t, "array")
                    }
                    ,
                    is: function(t, e) {
                        return Object.prototype.toString.call(t).split(" ")[1].slice(0, -1).toLowerCase() === e.toLowerCase()
                    },
                    includes: "function" == typeof Array.prototype.includes ? function(t, e) {
                        return t.includes(e)
                    }
                    : function(t, e) {
                        return -1 !== this.indexOf(t, e)
                    }
                    ,
                    fM: function(t) {
                        var e = 0;
                        if (0 === t.length)
                            return e;
                        for (var r = 0, i = t.length; r < i; r += 1)
                            e = (e << 5) - e + t.charCodeAt(r),
                            e &= e;
                        return e
                    },
                    hM: function(t, e) {
                        e = e ? Math.ceil(parseInt(e.substr(6)) / 24) : 1;
                        for (var r = "", i = 0, n = t.length; i < n; i++)
                            r += String.fromCharCode((t.charCodeAt(i) - 256 - e + 65535) % 65535);
                        return r
                    },
                    cM: function(t, e) {
                        var r = (t + "").slice(-2)
                          , i = (e + "").slice(-2);
                        t = t.slice(0, -2),
                        e = e.slice(0, -2);
                        var n = parseInt((i + r).slice(1))
                          , a = Math.ceil(n / 250) % 2 ? 1 : -1
                          , o = 1 < n / 500 ? 1 : -1;
                        return t -= parseInt("1" + r) / 3e3 * a,
                        e -= parseInt("1" + i) / 3e3 * o,
                        new LngLat$2(parseFloat(t).toFixed(5),parseFloat(e).toFixed(5))
                    },
                    vM: function(t) {
                        return "undefined" != typeof JSON && JSON.stringify ? l.fM(JSON.stringify(t)) : null
                    },
                    lM: function(t, e) {
                        var r = "_amap_hash";
                        if (e || !t.hasOwnProperty(r)) {
                            var i = l.vM(t);
                            i && (t[r] = i)
                        }
                        return t[r]
                    },
                    parseLngLatData: function(t) {
                        if (l.isArray(t)) {
                            if (!l.isArray(t[0])) {
                                var e = typeof t[0];
                                return "string" == e || "number" == e ? new LngLat$2(t[0],t[1]) : t
                            }
                            for (var r = 0; r < t.length; r += 1)
                                t[r] = l.parseLngLatData(t[r])
                        }
                        return t
                    },
                    dM: function(t) {
                        for (var e = [], r = 0, i = t.length; r < i; r += 1)
                            e[r] = [t[r].x, t[r].y];
                        return e
                    },
                    bM: function(t) {
                        return l.isArray(t) ? new Size(t[0],t[1]) : t
                    },
                    hp: function(t, e) {
                        var r = [0, 0]
                          , i = l.getOptimalZoom(e.$n.zoom);
                        if (t && LocalZoom <= i) {
                            var n = lcs.getSize()
                              , a = e.$n.centerCoord
                              , o = lcs.getLocalByCoord([a[0], a[1]])
                              , s = t.x - o.x
                              , u = t.y - o.y;
                            0 !== s && (s *= n[0],
                            r[0] = s),
                            0 !== u && (u *= n[1],
                            r[1] = u)
                        } else
                            t && (r[0] += t.center[0],
                            r[1] += t.center[1]);
                        return r
                    },
                    dS: function(t, e) {
                        return t >= e[0] && t <= e[1]
                    },
                    kD: function(t, e, r) {
                        void 0 === t && (t = ""),
                        void 0 === r && (r = !1);
                        var i = t.split(",")[0] || "";
                        return !r && i && e && TagMap[e] || "all"
                    },
                    VF: function(t, e, r) {
                        return void 0 === r && (r = !1),
                        !r && t && e && TagMap[e] || "all"
                    },
                    LD: function(t, e) {
                        if (!t || !e)
                            return !1;
                        var r = this.iN(t);
                        return this.iN(e) <= r
                    },
                    SD: function(t) {
                        var e;
                        switch (void 0 === t && (t = "all"),
                        t) {
                        case "lite":
                            e = 0;
                            break;
                        case "left":
                            e = 1;
                            break;
                        case "all":
                        default:
                            e = 2
                        }
                        return e
                    },
                    pW: function(t) {
                        var e;
                        switch (void 0 === t && (t = 2),
                        t) {
                        case 0:
                            e = exports.zB.LITE;
                            break;
                        case 1:
                            e = exports.zB.LEFT;
                            break;
                        case 2:
                        default:
                            e = exports.zB.ALL
                        }
                        return e
                    },
                    iN: function(t) {
                        var e = 0;
                        switch (t) {
                        case "lite":
                            e = 0;
                            break;
                        case "left":
                            e = 1;
                            break;
                        case "all":
                            e = 2
                        }
                        return e
                    }
                };
                !function() {
                    if (!Support.DW) {
                        var i = 0
                          , n = window.requestAnimationFrame || t("RequestAnimationFrame") || function(t) {
                            var e = +new Date
                              , r = Math.max(0, (Support.android ? 50 : 20) - (e - i));
                            return i = e + r,
                            window.setTimeout(t, r)
                        }
                          , e = window.cancelAnimationFrame || t("CancelAnimationFrame") || t("CancelRequestAnimationFrame") || function(t) {
                            window.clearTimeout(t)
                        }
                        ;
                        a.requestAnimFrame = function(t, e, r, i) {
                            if (!r)
                                return n(function() {
                                    e ? l.bind(t, e).call(e, i) : t()
                                });
                            e ? l.bind(t, e).call(e, i) : t()
                        }
                        ,
                        a.cancelAnimFrame = function(t) {
                            t && e.call(window, t)
                        }
                    }
                    function t(t) {
                        var e, r, i = ["webkit", "moz", "o", "ms"];
                        for (e = 0; e < i.length && !r; e += 1)
                            r = window[i[e] + t];
                        return r
                    }
                }(),
                Support.DW || (a.requestIdleCallback = window.requestIdleCallback ? function(t, e) {
                    return window.requestIdleCallback(t, e)
                }
                : function(t, e) {
                    void 0 === e && (e = {});
                    var r = l.uM();
                    return setTimeout(function() {
                        t({
                            didTimeout: !1,
                            timeRemaining: function() {
                                return Math.max(0, 70 - (l.uM() - r))
                            }
                        })
                    }, e.timeout || 0)
                }
                ,
                a.cancelIdleCallback = window.cancelIdleCallback ? function(t) {
                    return window.cancelIdleCallback(t)
                }
                : function(t) {
                    clearTimeout(t)
                }
                );
                var l = a;
                return l
            }();
            function noop() {
                for (var t = [], e = 0; e < arguments.length; e++)
                    t[e] = arguments[e]
            }
            var URLObject = "undefined" != typeof window ? window.URL || window.webkitURL || {
                createObjectURL: function() {
                    console.error("URL not exist, please use more popular browser")
                }
            } : URL || webkitURL || {
                createObjectURL: function() {
                    console.error("URL not exist, please use more popular browser")
                }
            }
              , Color = (kZ.Wb = function(t, e) {
                return {
                    rgba: t.rgba
                }
            }
            ,
            kZ.Gb = function(t) {
                return new kZ(t.rgba)
            }
            ,
            kZ.Hb = function(t, e) {
                void 0 === e && (e = []);
                for (var r = 0, i = t.length; r < i; r += 2)
                    e[r / 2] = parseInt(t.substr(r, 2), 16);
                return e
            }
            ,
            kZ.Yx = function(t) {
                return t.startsWith("#") && (t = t.substr(1)),
                colorNames[t] ? kZ.Hb(colorNames[t].substr(1)) : 1 === t.length ? kZ.Hb(t + t + t + t + t + t) : 3 === t.length ? kZ.Hb(t[0] + t[0] + t[1] + t[1] + t[2] + t[2]) : 6 === t.length ? kZ.Hb(t) : [0, 0, 0]
            }
            ,
            kZ.normalize = function(t) {
                for (var e = [], r = 0, i = t.length; r < i; r++)
                    e[r] = t[r] / 255;
                return e
            }
            ,
            kZ.create = function(t) {
                return t ? new kZ(t) : null
            }
            ,
            kZ.prototype.normalize = function() {
                return [this.rgba[0] / 255, this.rgba[1] / 255, this.rgba[2] / 255, this.rgba[3] / 255]
            }
            ,
            kZ.prototype.Vb = function(t) {
                if ("string" == typeof t) {
                    if (colorNames[t])
                        return void this.Hb(colorNames[t].substr(1));
                    if (0 === t.length)
                        return;
                    if (t.startsWith("#") && (t = t.substr(1)),
                    1 === t.length)
                        return void this.Hb(t + t + t + t + t + t);
                    if (3 === t.length)
                        return void this.Hb(t[0] + t[0] + t[1] + t[1] + t[2] + t[2]);
                    if (6 === t.length)
                        return void this.Hb(t);
                    if (8 === t.length)
                        return void this.$b(t);
                    if (t.startsWith("rgba("))
                        return void this.Yb(colorNames[t].substr(1));
                    if (t.startsWith("rgb("))
                        return void this.Kb(colorNames[t].substr(1))
                } else
                    t instanceof Array && (this.rgba[0] = t[0],
                    this.rgba[1] = t[1],
                    this.rgba[2] = t[2],
                    this.rgba[3] = t[3] || 255)
            }
            ,
            kZ.prototype.Hb = function(t) {
                this.$b(t + "FF")
            }
            ,
            kZ.prototype.$b = function(t) {
                for (var e = 0, r = t.length; e < r; e += 2)
                    this.rgba[e / 2] = parseInt(t.substr(e, 2), 16)
            }
            ,
            kZ.prototype.Kb = function(t) {
                var e = t.split(",");
                this.rgba[0] = parseInt(e[0].substr(4), 10),
                this.rgba[1] = parseInt(e[1], 10),
                this.rgba[2] = parseInt(e[2], 10),
                this.rgba[3] = 255
            }
            ,
            kZ.prototype.Yb = function(t) {
                var e = t.split(",");
                this.rgba[0] = parseInt(e[0].substr(5), 10),
                this.rgba[1] = parseInt(e[1], 10),
                this.rgba[2] = parseInt(e[2], 10),
                this.rgba[3] = 255 * parseFloat(e[3]) << 0
            }
            ,
            kZ);
            function kZ(t) {
                this.type = "AMap.Color",
                this.rgba = [],
                this.Vb(t)
            }
            var colorNames = {
                aliceblue: "#f0f8ff",
                antiquewhite: "#faebd7",
                aqua: "#00ffff",
                aquamarine: "#7fffd4",
                azure: "#f0ffff",
                beige: "#f5f5dc",
                bisque: "#ffe4c4",
                black: "#000000",
                blanchedalmond: "#ffebcd",
                blue: "#0000ff",
                blueviolet: "#8a2be2",
                brown: "#a52a2a",
                burlywood: "#deb887",
                cadetblue: "#5f9ea0",
                chartreuse: "#7fff00",
                chocolate: "#d2691e",
                coral: "#ff7f50",
                cornflowerblue: "#6495ed",
                cornsilk: "#fff8dc",
                crimson: "#dc143c",
                cyan: "#00ffff",
                darkblue: "#00008b",
                darkcyan: "#008b8b",
                darkgoldenrod: "#b8860b",
                darkgray: "#a9a9a9",
                darkgreen: "#006400",
                darkkhaki: "#bdb76b",
                darkmagenta: "#8b008b",
                darkolivegreen: "#556b2f",
                darkorange: "#ff8c00",
                darkorchid: "#9932cc",
                darkred: "#8b0000",
                darksalmon: "#e9967a",
                darkseagreen: "#8fbc8f",
                darkslateblue: "#483d8b",
                darkslategray: "#2f4f4f",
                darkturquoise: "#00ced1",
                darkviolet: "#9400d3",
                deeppink: "#ff1493",
                deepskyblue: "#00bfff",
                dimgray: "#696969",
                dodgerblue: "#1e90ff",
                firebrick: "#b22222",
                floralwhite: "#fffaf0",
                forestgreen: "#228b22",
                fuchsia: "#ff00ff",
                gainsboro: "#dcdcdc",
                ghostwhite: "#f8f8ff",
                gold: "#ffd700",
                goldenrod: "#daa520",
                gray: "#808080",
                green: "#008000",
                greenyellow: "#adff2f",
                honeydew: "#f0fff0",
                hotpink: "#ff69b4",
                indianred: "#cd5c5c",
                indigo: "#4b0082",
                ivory: "#fffff0",
                khaki: "#f0e68c",
                lavender: "#e6e6fa",
                lavenderblush: "#fff0f5",
                lawngreen: "#7cfc00",
                lemonchiffon: "#fffacd",
                lightblue: "#add8e6",
                lightcoral: "#f08080",
                lightcyan: "#e0ffff",
                lightgoldenrodyellow: "#fafad2",
                lightgrey: "#d3d3d3",
                lightgreen: "#90ee90",
                lightpink: "#ffb6c1",
                lightsalmon: "#ffa07a",
                lightseagreen: "#20b2aa",
                lightskyblue: "#87cefa",
                lightslategray: "#778899",
                lightsteelblue: "#b0c4de",
                lightyellow: "#ffffe0",
                lime: "#00ff00",
                limegreen: "#32cd32",
                linen: "#faf0e6",
                magenta: "#ff00ff",
                maroon: "#800000",
                mediumaquamarine: "#66cdaa",
                mediumblue: "#0000cd",
                mediumorchid: "#ba55d3",
                mediumpurple: "#9370d8",
                mediumseagreen: "#3cb371",
                mediumslateblue: "#7b68ee",
                mediumspringgreen: "#00fa9a",
                mediumturquoise: "#48d1cc",
                mediumvioletred: "#c71585",
                midnightblue: "#191970",
                mintcream: "#f5fffa",
                mistyrose: "#ffe4e1",
                moccasin: "#ffe4b5",
                navajowhite: "#ffdead",
                navy: "#000080",
                oldlace: "#fdf5e6",
                olive: "#808000",
                olivedrab: "#6b8e23",
                orange: "#ffa500",
                orangered: "#ff4500",
                orchid: "#da70d6",
                palegoldenrod: "#eee8aa",
                palegreen: "#98fb98",
                paleturquoise: "#afeeee",
                palevioletred: "#d87093",
                papayawhip: "#ffefd5",
                peachpuff: "#ffdab9",
                peru: "#cd853f",
                pink: "#ffc0cb",
                plum: "#dda0dd",
                powderblue: "#b0e0e6",
                purple: "#800080",
                rebeccapurple: "#663399",
                red: "#ff0000",
                rosybrown: "#bc8f8f",
                royalblue: "#4169e1",
                saddlebrown: "#8b4513",
                salmon: "#fa8072",
                sandybrown: "#f4a460",
                seagreen: "#2e8b57",
                seashell: "#fff5ee",
                sienna: "#a0522d",
                silver: "#c0c0c0",
                skyblue: "#87ceeb",
                slateblue: "#6a5acd",
                slategray: "#708090",
                snow: "#fffafa",
                springgreen: "#00ff7f",
                steelblue: "#4682b4",
                tan: "#d2b48c",
                teal: "#008080",
                thistle: "#d8bfd8",
                tomato: "#ff6347",
                turquoise: "#40e0d0",
                violet: "#ee82ee",
                wheat: "#f5deb3",
                white: "#ffffff",
                whitesmoke: "#f5f5f5",
                yellow: "#ffff00",
                yellowgreen: "#9acd32"
            }
              , SmartArrayBuffer = (IZ.prototype.update = function(t) {
                if (0 !== t.length) {
                    var e = "ARRAY_BUFFER" === this.type
                      , r = this.AM.gl
                      , i = e ? this.AM.de.Ii : this.AM.me.Ii;
                    e ? this.AM.de.set(this.buffer) : this.AM.me.set(this.buffer),
                    this.uf < t.byteLength ? (r.bufferData(r[this.type], t, r.STATIC_DRAW),
                    this.byteLength = t.byteLength,
                    this.uf = t.byteLength) : (r.bufferSubData(r[this.type], 0, t),
                    this.byteLength = t.byteLength),
                    e ? this.AM.de.set(i) : this.AM.me.set(i)
                }
            }
            ,
            IZ.prototype.destroy = function() {
                this.buffer && this.AM.deleteBuffer(this.buffer)
            }
            ,
            IZ);
            function IZ(t, e, r, i) {
                void 0 === i && (i = "ARRAY_BUFFER"),
                this.AM = t,
                this.kM = r,
                this.type = i,
                this.buffer = "ARRAY_BUFFER" === i ? t.fe(e, r, "DYNAMIC_DRAW") : t.ve(e),
                this.uf = e.byteLength,
                this.byteLength = e.byteLength
            }
            var TextCombineTexture = (RZ.prototype.Pm = function(t) {
                this.Ek.push(t)
            }
            ,
            RZ.prototype.update = function(t) {
                var o = this;
                if (this.z_) {
                    var e = this.Ek
                      , s = t.context;
                    this.ov(s);
                    for (var u = this.av, c = s.gl, f = t.Hn(), r = function(t) {
                        for (var a = t.data, e = function(n) {
                            h.z_.loadImage(n.lc, {
                                cb: function(t) {
                                    o.buffer.update(a),
                                    o.Nk.update(t.img),
                                    o.Nk.bind(c.CLAMP_TO_EDGE, c.LINEAR, c.LINEAR);
                                    var e = o.Nk.size
                                      , r = [o.maxWidth, o.maxHeight];
                                    u.Wi.set(o.texture.texture),
                                    s.bindFramebuffer.set(u.Ui);
                                    var i = s.be.Ii;
                                    s.be.set([0, 0, o.maxWidth, o.maxHeight]),
                                    f.Ce({
                                        u_sourceTexture: o.Nk,
                                        u_sourceTextureSize: e,
                                        u_targetTextureSize: r
                                    }, {
                                        a_sourceTexturePos: {
                                            type: "vec2",
                                            buffer: o.buffer.buffer,
                                            Re: 8,
                                            offset: 0
                                        },
                                        a_targetTexturePos: {
                                            type: "vec2",
                                            buffer: o.buffer.buffer,
                                            Re: 8,
                                            offset: 4
                                        }
                                    }, 6 * n.length, o.Pc, "TRIANGLES", void 0, void 0, void 0, void 0, 6 * n.start),
                                    f.Ni(),
                                    u.Wi.set(null),
                                    s.bindFramebuffer.set(null),
                                    s.bindTexture.set(null),
                                    s.be.set(i),
                                    o.clear(),
                                    URLObject.revokeObjectURL(n.lc)
                                },
                                type: "text"
                            })
                        }, r = 0, i = t.Dm; r < i.length; r++)
                            e(i[r]);
                        h.texture.bind(s.gl.CLAMP_TO_EDGE, s.gl.LINEAR, s.gl.LINEAR)
                    }, h = this, i = 0, n = e; i < n.length; i++)
                        r(n[i]);
                    this.Ek = [],
                    this.clear()
                }
            }
            ,
            RZ.prototype.ov = function(t) {
                var e = t.gl;
                if (this.buffer || (this.buffer = new SmartArrayBuffer(t,new Uint16Array(0),8)),
                this.texture || (this.texture = t.createTexture({
                    height: this.maxHeight,
                    width: this.maxWidth,
                    data: null
                }),
                this.texture.bind(e.CLAMP_TO_EDGE, e.LINEAR, e.LINEAR)),
                this.Nk || (this.Nk = t.createTexture({
                    height: this.maxHeight,
                    width: this.maxWidth,
                    data: null
                }),
                this.Nk.bind(e.CLAMP_TO_EDGE, e.LINEAR, e.LINEAR)),
                this.Es || (this.Es = {}),
                this.Pc || (this.Pc = t.ve(this.Lk())),
                !this.av) {
                    var r = t.createFramebuffer(4096, 4096)
                      , i = t.createTexture({
                        width: 4096,
                        height: 4096,
                        data: null
                    });
                    i.bind(t.gl.CLAMP_TO_EDGE, t.gl.LINEAR, t.gl.LINEAR),
                    r.Wi.set(i.texture),
                    this.av = r
                }
            }
            ,
            RZ.prototype.Dk = function(t, e) {
                var r = Object.keys(t)
                  , i = {
                    start: this.pv,
                    length: r.length,
                    lc: e
                }
                  , n = this.Rk(r.length)
                  , a = this.Pk;
                if (this.Uk + r.length > this.uf)
                    return console.error("TEXTURE FULL"),
                    n;
                for (var o = 0, s = r.length; o < s; o++) {
                    var u = t[r[o]]
                      , c = this.cv()
                      , f = 4 * (this.pv + o) * 4;
                    a[f] = u[5],
                    a[1 + f] = u[6],
                    a[2 + f] = c[0],
                    a[3 + f] = c[1],
                    a[4 + f] = u[5],
                    a[5 + f] = u[6] + this.Bk,
                    a[6 + f] = c[0],
                    a[7 + f] = c[1] + this.Bk,
                    a[8 + f] = u[5] + this.Bk,
                    a[9 + f] = u[6] + this.Bk,
                    a[10 + f] = c[0] + this.Bk,
                    a[11 + f] = c[1] + this.Bk,
                    a[12 + f] = u[5] + this.Bk,
                    a[13 + f] = u[6],
                    a[14 + f] = c[0] + this.Bk,
                    a[15 + f] = c[1]
                }
                return this.pv += r.length,
                this.zk.push(i),
                n
            }
            ,
            RZ.prototype.qk = function(t) {
                var e = Object.keys(t);
                return this.Uk + e.length < this.uf
            }
            ,
            RZ.prototype.Wk = function() {
                this.buffer.update(this.Gk())
            }
            ,
            RZ.prototype.Gk = function() {
                var t = 4 * this.pv * 4;
                return this.Pk.slice(0, t)
            }
            ,
            RZ.prototype.getSize = function() {
                return [this.maxWidth, this.Uk / this.Hk * this.Bk]
            }
            ,
            RZ.prototype.clear = function() {
                this.pv = 0,
                this.zk = []
            }
            ,
            RZ.prototype.destroy = function() {
                this.buffer && (this.buffer.destroy(),
                delete this.buffer),
                this.texture && (this.texture.destroy(),
                delete this.texture),
                this.Nk && (this.Nk.destroy(),
                delete this.Nk),
                this.Pc && (this.Pc.context.deleteBuffer(this.Pc),
                delete this.Pc),
                this.av && (this.av.destroy(),
                delete this.av)
            }
            ,
            RZ.prototype.Rk = function(t) {
                var e = this.Vk
                  , r = this.$k
                  , i = t * this.Bk;
                return e + i <= this.maxWidth ? (this.Vk += i,
                {
                    startX: e,
                    startY: r
                }) : (this.Yk(),
                r += 32,
                e = 0,
                this.Vk = i,
                {
                    startX: e,
                    startY: this.$k = r
                })
            }
            ,
            RZ.prototype.cv = function() {
                var t = this.Uk
                  , e = t % this.Hk * this.Bk
                  , r = Math.floor(t / this.Hk) * this.Bk;
                return this.Uk += 1,
                [e, r]
            }
            ,
            RZ.prototype.Yk = function() {
                var t = Math.ceil(this.Uk / this.Hk);
                this.Uk = t * this.Hk
            }
            ,
            RZ.prototype.Lk = function() {
                for (var t = new Uint16Array(6 * this.uf), e = 0, r = this.uf; e < r; e++) {
                    var i = 6 * e
                      , n = 4 * e;
                    t[i] = n,
                    t[1 + i] = 1 + n,
                    t[2 + i] = 2 + n,
                    t[3 + i] = n,
                    t[4 + i] = 2 + n,
                    t[5 + i] = 3 + n
                }
                return t
            }
            ,
            RZ);
            function RZ(t) {
                this.z_ = t,
                this.Uk = 0,
                this.Bk = 32,
                this.Hk = 128,
                this.maxWidth = this.Bk * this.Hk,
                this.maxHeight = 128 * this.Bk,
                this.uf = this.maxWidth / this.Bk * (this.maxHeight / this.Bk),
                this.Pk = new Uint16Array(4 * this.uf * 4),
                this.Kk = 0,
                this.pv = 0,
                this.zk = [],
                this.Ek = [],
                this.Vk = 0,
                this.$k = 0,
                this.Es = {}
            }
            var MockTextureManager = (U$.prototype.Xk = function() {
                return this.Jk[this.currentIndex]
            }
            ,
            U$.prototype.Qk = function(t, e) {
                if (e && this.Xk().ov(e),
                this.Xk().qk(t))
                    return {
                        index: this.currentIndex,
                        tO: this.Xk()
                    }
            }
            ,
            U$.prototype.destroy = function() {
                for (var t = 0, e = this.Jk; t < e.length; t++)
                    e[t].destroy();
                this.Jk = []
            }
            ,
            U$);
            function U$() {
                this.currentIndex = 0,
                this.Jk = [new TextCombineTexture]
            }
            var isSupportFloat64Array = "undefined" != typeof Float64Array
              , isSupportFloat32Array$1 = "undefined" != typeof Float32Array;
            isSupportFloat64Array ? setMatrixArrayType(Float64Array) : isSupportFloat32Array$1 ? setMatrixArrayType(Float32Array) : (window.Float32Array = null,
            setMatrixArrayType(Array));
            var RESIZE_MULTIPLIER = 5
              , DEFAULT_CAPACITY = 128
              , StructArray = ($$.Wb = function(t, e) {
                return t.trim(),
                e && (t.pM = !0,
                e.push(t.arrayBuffer)),
                {
                    length: t.length,
                    arrayBuffer: t.arrayBuffer
                }
            }
            ,
            $$.Gb = function(t) {
                var e = Object.create(this.prototype);
                return e.arrayBuffer = t.arrayBuffer,
                e.length = t.length,
                e.yM = t.arrayBuffer.byteLength / this.Rb,
                e.mM(),
                e
            }
            ,
            $$.prototype.trim = function() {
                this.length !== this.yM && (this.yM = this.length,
                this.arrayBuffer = this.arrayBuffer.slice(0, this.length * this.constructor.Rb),
                this.mM())
            }
            ,
            $$.prototype.resize = function(t) {
                this.gM(t),
                this.length = t
            }
            ,
            $$.prototype.gM = function(t) {
                if (t > this.yM) {
                    this.yM = Math.max(t, Math.floor(this.yM * RESIZE_MULTIPLIER), DEFAULT_CAPACITY);
                    var e = this.wM;
                    this.arrayBuffer = new ArrayBuffer(this.yM * this.constructor.Rb),
                    this.mM(),
                    e && this.wM.set(e)
                }
            }
            ,
            $$);
            function $$() {
                this.pM = !1,
                this.yM = -1,
                this.length = 0
            }
            var FillArray = (g_ = StructArray,
            __extends(h_, g_),
            h_.prototype.kb = function(t, e) {
                var r = this.length;
                this.resize(this.length + 1),
                this.MM(r, t, e)
            }
            ,
            h_.prototype.MM = function(t, e, r) {
                var i = 2 * t;
                this.Mb[i] = e,
                this.Mb[1 + i] = r
            }
            ,
            h_.prototype.mM = function() {
                this.wM = new Uint8Array(this.arrayBuffer),
                this.Mb = new Float32Array(this.arrayBuffer)
            }
            ,
            h_.Rb = 8,
            h_), g_;
            function h_() {
                var t = g_.call(this) || this;
                return t.pM = !1,
                t.resize(0),
                t
            }
            var FillExtrusionArray = (q_ = StructArray,
            __extends(r_, q_),
            r_.prototype.kb = function(t, e, r, i, n, a) {
                var o = this.length;
                this.resize(o + 1),
                this.MM(o, t, e, r, i, n, a)
            }
            ,
            r_.prototype.MM = function(t, e, r, i, n, a, o) {
                var s = 8 * t;
                this.Mb[s] = e,
                this.Mb[1 + s] = r,
                this.Mb[2 + s] = i,
                this.Mb[3 + s] = n,
                this.Mb[4 + s] = a[0],
                this.Mb[5 + s] = a[1],
                this.Mb[6 + s] = a[2];
                var u = 16 * t;
                this.jM[14 + u] = o[0],
                this.jM[15 + u] = o[1]
            }
            ,
            r_.prototype.mM = function() {
                this.wM = new Uint8Array(this.arrayBuffer),
                this.Mb = new Float32Array(this.arrayBuffer),
                this.jM = new Uint16Array(this.arrayBuffer)
            }
            ,
            r_.Rb = 32,
            r_), q_;
            function r_() {
                var t = q_.call(this) || this;
                return t.pM = !1,
                t.resize(0),
                t
            }
            var LinesIndexArray = (J_ = StructArray,
            __extends(K_, J_),
            K_.prototype.kb = function(t, e) {
                var r = this.length;
                this.resize(this.length + 1),
                this.MM(r, t, e)
            }
            ,
            K_.prototype.MM = function(t, e, r) {
                var i = 2 * t;
                this.jM[i] = e,
                this.jM[1 + i] = r
            }
            ,
            K_.prototype.mM = function() {
                this.wM = new Uint8Array(this.arrayBuffer),
                this.jM = new Uint16Array(this.arrayBuffer)
            }
            ,
            K_.Rb = 4,
            K_), J_;
            function K_() {
                var t = J_.call(this) || this;
                return t.length = 0,
                t.resize(0),
                t
            }
            var LinesIndexArrayUint = (T_ = StructArray,
            __extends(U_, T_),
            U_.prototype.kb = function(t, e) {
                var r = this.length;
                this.resize(this.length + 1),
                this.MM(r, t, e)
            }
            ,
            U_.prototype.MM = function(t, e, r) {
                var i = 2 * t;
                this.UI[i] = e,
                this.UI[1 + i] = r
            }
            ,
            U_.prototype.mM = function() {
                this.wM = new Uint8Array(this.arrayBuffer),
                this.UI = new Uint32Array(this.arrayBuffer)
            }
            ,
            U_.Rb = 8,
            U_), T_;
            function U_() {
                var t = T_.call(this) || this;
                return t.length = 0,
                t.resize(0),
                t
            }
            var LineArrayBuffer = (b0 = StructArray,
            __extends(c0, b0),
            c0.prototype.kb = function(t, e, r, i) {
                var n = this.length;
                this.resize(n + 1),
                this.MM(n, t, e, r, i)
            }
            ,
            c0.prototype.MM = function(t, e, r, i, n) {
                var a = t * (this.constructor.Rb / 4);
                this.Mb[a] = e[0],
                this.Mb[1 + a] = e[1],
                this.Mb[2 + a] = r[0],
                this.Mb[3 + a] = r[1],
                this.Mb[4 + a] = i,
                this.Mb[5 + a] = n[0],
                this.Mb[6 + a] = n[1]
            }
            ,
            c0.prototype.mM = function() {
                this.wM = new Uint8Array(this.arrayBuffer),
                this.Mb = new Float32Array(this.arrayBuffer)
            }
            ,
            c0.Rb = 28,
            c0), b0;
            function c0() {
                var t = b0.call(this) || this;
                return t.resize(0),
                t
            }
            var TriangleIndexArray = (r0 = StructArray,
            __extends(s0, r0),
            s0.prototype.kb = function(t, e, r) {
                var i = this.length;
                this.resize(i + 1),
                this.MM(i, t, e, r)
            }
            ,
            s0.prototype.MM = function(t, e, r, i) {
                var n = 3 * t;
                this.jM[n] = e,
                this.jM[1 + n] = r,
                this.jM[2 + n] = i
            }
            ,
            s0.prototype.mM = function() {
                this.wM = new Uint8Array(this.arrayBuffer),
                this.jM = new Uint16Array(this.arrayBuffer)
            }
            ,
            s0.Rb = 6,
            s0), r0;
            function s0() {
                var t = r0.call(this) || this;
                return t.resize(0),
                t
            }
            var TriangleIndexArrayUint = (D0 = StructArray,
            __extends(E0, D0),
            E0.prototype.kb = function(t, e, r) {
                var i = this.length;
                this.resize(i + 1),
                this.MM(i, t, e, r)
            }
            ,
            E0.prototype.MM = function(t, e, r, i) {
                var n = 3 * t;
                this.UI[n] = e,
                this.UI[1 + n] = r,
                this.UI[2 + n] = i
            }
            ,
            E0.prototype.mM = function() {
                this.wM = new Uint8Array(this.arrayBuffer),
                this.UI = new Uint32Array(this.arrayBuffer)
            }
            ,
            E0.Rb = 12,
            E0), D0;
            function E0() {
                var t = D0.call(this) || this;
                return t.resize(0),
                t
            }
            var SymbolArray = (P0 = StructArray,
            __extends(Q0, P0),
            Q0.prototype.kb = function(t, e) {
                var r = this.length;
                this.resize(this.length + 1),
                this.MM(r, t, e)
            }
            ,
            Q0.prototype.MM = function(t, e, r) {
                var i = 2 * t;
                this.Mb[i] = e,
                this.Mb[1 + i] = r
            }
            ,
            Q0.prototype.mM = function() {
                this.wM = new Uint8Array(this.arrayBuffer),
                this.Mb = new Float32Array(this.arrayBuffer)
            }
            ,
            Q0.Rb = 4,
            Q0), P0;
            function Q0() {
                var t = P0.call(this) || this;
                return t.pM = !1,
                t.resize(0),
                t
            }
            var COS_HALF_SHARP_CORNER = Math.cos(Math.PI / 180 * 75)
              , prepMatClockwise = fromValues(0, -1, 1, 0)
              , perpMatCounterClockwise = fromValues(0, 1, -1, 0);
            function perpCounterClockwise(t, e) {
                transformMat2(t, e, perpMatCounterClockwise)
            }
            function perpClockwise(t, e) {
                transformMat2(t, e, prepMatClockwise)
            }
            var minRoundAngle = Math.PI / 9, emptyVec2 = create$3(), emptyVec3 = create$1(), prevPos = create$3(), currentPos = create$3(), tmpPos = create$3(), currentNormal = create$3(), nextNormal = create$3(), distance$1 = 0, nextDir = create$3(), currentDir = create$3(), negateCurrentNormal = create$3(), lineJoin, lineCap, currentNormal_addLineVertex = create$3(), leftNormal = create$3(), rightNormal = create$3(), offsetLeft = create$3(), offsetRight = create$3(), joinNormal_addMiter = create$3(), tmp_addTiangleVertex = create$1(), currentNormal_addTiangleVertex = create$3(), nextNormal_addTiangleVertex = create$3(), normal_addTiangleVertex = create$3(), tmp_addRoundVertex = create$1(), currentNormal_addRoundVertex = create$3(), nextNormal_addRoundVertex = create$3(), tmpNormal_addRoundVertex = create$3(), roundCenter_addRoundVertex = create$3(), CoreLineBucket = (b1.OM = function(t, e, r) {
                sub$1(t, e, r),
                normalize(t, t),
                perpCounterClockwise(t, t)
            }
            ,
            b1.xM = function(t, e, r) {
                add(t, e, r),
                0 === t[0] && 0 === t[1] || normalize(t, t)
            }
            ,
            b1.prototype.hb = function(t, e) {
                if (void 0 === e && (e = {
                    X_: 1,
                    lineJoin: "miter",
                    lineCap: "butt"
                }),
                t.length < 2)
                    return {
                        Iw: 0,
                        distance: 0
                    };
                distance$1 = 0,
                "auto" === e.lineJoin && (e.lineJoin = "miter"),
                lineJoin = e.lineJoin,
                lineCap = e.lineCap || "butt";
                for (var r = this.Qx.length, i = 0, n = t.length; i < n; i++)
                    if (0 === i) {
                        currentPos = t[i];
                        var a = t[i + 1];
                        b1.OM(nextNormal, a, currentPos),
                        copy$1(currentNormal, nextNormal),
                        sub$1(nextDir, a, currentPos),
                        normalize(nextDir, nextDir),
                        "square" === lineCap ? this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !0, e.X_, "bevel") : ("round" === lineCap && (copy$1(negateCurrentNormal, currentNormal),
                        negate(negateCurrentNormal, currentNormal),
                        this.DI(currentPos, negateCurrentNormal, currentNormal, distance$1)),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !0, 0, "bevel")),
                        copy$1(currentDir, nextDir),
                        prevPos = currentPos
                    } else if (i === n - 1) {
                        currentPos = t[i];
                        var o = dist(currentPos, prevPos);
                        distance$1 += o,
                        "square" === lineCap ? this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !1, -1 * e.X_, "miter") : "round" === lineCap ? (this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !1, 0, "miter"),
                        copy$1(negateCurrentNormal, nextNormal),
                        negate(negateCurrentNormal, nextNormal),
                        this.DI(currentPos, nextNormal, negateCurrentNormal, distance$1)) : this.IM(currentPos, currentNormal, nextNormal, distance$1, currentDir, !1, 0, "miter")
                    } else {
                        if (currentPos = t[i],
                        a = t[i + 1],
                        b1.OM(nextNormal, a, currentPos),
                        0 === nextNormal[0] && 0 === nextNormal[1])
                            continue;
                        var s = dist(currentPos, prevPos);
                        distance$1 += s,
                        sub$1(nextDir, a, currentPos),
                        normalize(nextDir, nextDir),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, currentDir, !1, 0, e.lineJoin),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !0, 0, e.lineJoin),
                        prevPos = currentPos,
                        copy$1(currentNormal, nextNormal),
                        copy$1(currentDir, nextDir)
                    }
                return {
                    Iw: 3 * (this.Qx.length - r),
                    distance: distance$1
                }
            }
            ,
            b1.prototype.eD = function(t, e, r) {
                if (void 0 === e && (e = {
                    X_: 1,
                    lineJoin: "miter",
                    lineCap: "butt"
                }),
                void 0 === r && (r = 3e3),
                t.length < 2)
                    return {
                        Iw: 0,
                        distance: 0
                    };
                distance$1 = 0,
                "auto" === e.lineJoin && (e.lineJoin = "miter"),
                lineJoin = e.lineJoin,
                lineCap = e.lineCap || "butt";
                for (var i = this.Qx.length, n = 0, a = t.length; n < a; n++)
                    if (0 === n) {
                        currentPos = t[n];
                        var o = t[n + 1];
                        b1.OM(nextNormal, o, currentPos),
                        copy$1(currentNormal, nextNormal),
                        sub$1(nextDir, o, currentPos),
                        normalize(nextDir, nextDir),
                        "square" === lineCap ? this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !0, e.X_, "bevel") : ("round" === lineCap && (copy$1(negateCurrentNormal, currentNormal),
                        negate(negateCurrentNormal, currentNormal),
                        this.DI(currentPos, negateCurrentNormal, currentNormal, distance$1)),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !0, 0, "bevel")),
                        copy$1(currentDir, nextDir),
                        prevPos = currentPos
                    } else if (n === a - 1) {
                        copy$1(tmpPos, t[n]);
                        var s = dist(tmpPos, prevPos);
                        copy$1(tmpPos, prevPos);
                        for (var u = 0; r < s - u; )
                            tmpPos[0] = tmpPos[0] + currentDir[0] * r,
                            tmpPos[1] = tmpPos[1] + currentDir[1] * r,
                            u += r,
                            this.IM(tmpPos, currentNormal, nextNormal, distance$1 + u, currentDir, !1, 0, "miter"),
                            this.IM(tmpPos, currentNormal, nextNormal, distance$1 + u, currentDir, !0, 0, "miter");
                        copy$1(currentPos, t[n]),
                        distance$1 += s,
                        "square" === lineCap ? this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !1, -1 * e.X_, "miter") : "round" === lineCap ? (this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !1, 0, "miter"),
                        copy$1(negateCurrentNormal, nextNormal),
                        negate(negateCurrentNormal, nextNormal),
                        this.DI(currentPos, nextNormal, negateCurrentNormal, distance$1)) : this.IM(currentPos, currentNormal, nextNormal, distance$1, currentDir, !1, 0, "miter")
                    } else {
                        if (currentPos = t[n],
                        o = t[n + 1],
                        b1.OM(nextNormal, o, currentPos),
                        0 === nextNormal[0] && 0 === nextNormal[1])
                            continue;
                        var c = dist(currentPos, prevPos);
                        for (copy$1(tmpPos, prevPos),
                        u = 0; r < c - u; )
                            tmpPos[0] = tmpPos[0] + currentDir[0] * r,
                            tmpPos[1] = tmpPos[1] + currentDir[1] * r,
                            u += r,
                            this.IM(tmpPos, currentNormal, currentNormal, distance$1 + u, currentDir, !1, 0, "miter"),
                            this.IM(tmpPos, currentNormal, currentNormal, distance$1 + u, currentDir, !0, 0, "miter");
                        copy$1(currentPos, t[n]),
                        distance$1 += c,
                        sub$1(nextDir, o, currentPos),
                        normalize(nextDir, nextDir),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, currentDir, !1, 0, e.lineJoin),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !0, 0, e.lineJoin),
                        prevPos = currentPos,
                        copy$1(currentNormal, nextNormal),
                        copy$1(currentDir, nextDir)
                    }
                return {
                    Iw: 3 * (this.Qx.length - i),
                    distance: distance$1
                }
            }
            ,
            b1.prototype.Nx = function(t, e) {
                if (void 0 === e && (e = {
                    lineJoin: "miter"
                }),
                t.length < 2)
                    return {
                        Iw: 0,
                        distance: 0
                    };
                for (var r = this.Qx.length, i = 0, n = t.length; i < n; i++)
                    if (0 === i) {
                        currentPos = t[i];
                        var a = t[i + 1]
                          , o = t[n - 2];
                        b1.OM(nextNormal, a, currentPos),
                        b1.OM(currentNormal, currentPos, o),
                        sub$1(nextDir, a, currentPos),
                        normalize(nextDir, nextDir),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !0, 0, e.lineJoin),
                        copy$1(currentDir, nextDir),
                        copy$1(currentNormal, nextNormal),
                        prevPos = currentPos
                    } else
                        i === n - 1 ? (currentPos = t[i],
                        a = t[1],
                        distance$1 += dist(currentPos, prevPos),
                        b1.OM(nextNormal, a, currentPos),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, currentDir, !1, 0, e.lineJoin)) : (currentPos = t[i],
                        a = t[i + 1],
                        distance$1 += dist(currentPos, prevPos),
                        b1.OM(nextNormal, a, currentPos),
                        sub$1(nextDir, a, currentPos),
                        normalize(nextDir, nextDir),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, currentDir, !1, 0, e.lineJoin),
                        this.IM(currentPos, currentNormal, nextNormal, distance$1, nextDir, !0, 0, e.lineJoin),
                        prevPos = currentPos,
                        copy$1(currentNormal, nextNormal),
                        copy$1(currentDir, nextDir));
                return {
                    Iw: 3 * (this.Qx.length - r),
                    distance: distance$1
                }
            }
            ,
            b1.prototype.destroy = function() {
                this.Kx = !1,
                this.zs && (this.zs.destroy(),
                delete this.zs),
                this.Pc && (this.Pc.destroy(),
                delete this.Pc)
            }
            ,
            b1.prototype.IM = function(t, e, r, i, n, a, o, s) {
                copy$1(joinNormal_addMiter, emptyVec2),
                b1.xM(joinNormal_addMiter, e, r);
                var u = dot(joinNormal_addMiter, e);
                scale$1(joinNormal_addMiter, joinNormal_addMiter, 1 / u);
                var c = 0
                  , f = 0;
                o && (f = c = o),
                "bevel" === s || "miter" === s && u < COS_HALF_SHARP_CORNER ? a ? this.SM(t, r, i, c, f, n) : (this.SM(t, e, i, c, f, n),
                this._M = this._b.length - 2,
                this.FM = this._M - 1,
                this.TM = this.FM - 1,
                this.Qx.kb(this.TM, this.FM, this._M),
                this.TM = this.FM,
                this.FM = this._M,
                this._M = this._M + 1,
                this.Qx.kb(this.TM, this.FM, this._M),
                this.CM(t, e, r, i)) : "round" === s ? a ? this.SM(t, r, i, c, f, n) : (this.SM(t, e, i, c, f, n),
                this._M = this._b.length - 2,
                this.FM = this._M - 1,
                this.TM = this.FM - 1,
                this.Qx.kb(this.TM, this.FM, this._M),
                this.TM = this.FM,
                this.FM = this._M,
                this._M = this._M + 1,
                this.Qx.kb(this.TM, this.FM, this._M),
                this.DI(t, e, r, i)) : (this.SM(t, joinNormal_addMiter, i, c, f, n),
                a || (this._M = this._b.length - 2,
                this.FM = this._M - 1,
                this.TM = this.FM - 1,
                this.Qx.kb(this.TM, this.FM, this._M),
                this.TM = this.FM,
                this.FM = this._M,
                this._M = this._M + 1,
                this.Qx.kb(this.TM, this.FM, this._M)))
            }
            ,
            b1.prototype.SM = function(t, e, r, i, n, a) {
                copy$1(currentNormal_addLineVertex, e),
                copy$1(leftNormal, currentNormal_addLineVertex),
                copy$1(rightNormal, currentNormal_addLineVertex),
                copy$1(offsetLeft, emptyVec2),
                copy$1(offsetRight, emptyVec2),
                scale$1(rightNormal, currentNormal_addLineVertex, -1),
                i && (perpCounterClockwise(offsetLeft, leftNormal),
                scale$1(offsetLeft, offsetLeft, i),
                add(leftNormal, offsetLeft, leftNormal)),
                n && (perpClockwise(offsetRight, rightNormal),
                scale$1(offsetRight, offsetRight, n),
                add(rightNormal, offsetRight, rightNormal)),
                this._b.kb(t, leftNormal, r, a),
                this._b.kb(t, rightNormal, r, a)
            }
            ,
            b1.prototype.CM = function(t, e, r, i) {
                void 0 === i && (i = 0),
                copy(tmp_addTiangleVertex, emptyVec3),
                copy$1(currentNormal_addTiangleVertex, e),
                copy$1(nextNormal_addTiangleVertex, r),
                copy$1(normal_addTiangleVertex, emptyVec2),
                cross$1(tmp_addTiangleVertex, currentNormal_addTiangleVertex, nextNormal_addTiangleVertex);
                var n = 0 < tmp_addTiangleVertex[2];
                this._b.kb(t, normal_addTiangleVertex, i, normal_addTiangleVertex),
                n && (negate(currentNormal_addTiangleVertex, currentNormal_addTiangleVertex),
                negate(nextNormal_addTiangleVertex, nextNormal_addTiangleVertex)),
                this._b.kb(t, currentNormal_addTiangleVertex, i, normal_addTiangleVertex),
                this._b.kb(t, nextNormal_addTiangleVertex, i, normal_addTiangleVertex),
                this._M = this._b.length - 1,
                this.FM = this._M - 1,
                this.TM = this.FM - 1,
                this.Qx.kb(this.TM, this.FM, this._M)
            }
            ,
            b1.prototype.DI = function(t, e, r, i) {
                void 0 === i && (i = 0),
                copy(tmp_addRoundVertex, emptyVec3),
                copy$1(currentNormal_addRoundVertex, e),
                copy$1(nextNormal_addRoundVertex, r);
                var n = angle(currentNormal_addRoundVertex, nextNormal_addRoundVertex);
                cross$1(tmp_addRoundVertex, currentNormal_addRoundVertex, nextNormal_addRoundVertex);
                var a = 0 < tmp_addRoundVertex[2]
                  , o = [];
                o.push(currentNormal_addRoundVertex);
                for (var s = minRoundAngle; s < n; s += minRoundAngle) {
                    var u = create$3();
                    rotate(u, currentNormal_addRoundVertex, fromValues$3(0, 0), a ? s : -1 * s),
                    o.push(u)
                }
                o.push(nextNormal_addRoundVertex),
                a && forEach$3(o, function(t) {
                    negate(t, t)
                }),
                copy$1(roundCenter_addRoundVertex, emptyVec2),
                this._b.kb(t, roundCenter_addRoundVertex, i, roundCenter_addRoundVertex);
                var c = this._b.length - 1;
                this._b.kb(t, o[0], i, roundCenter_addRoundVertex),
                this._M = this._b.length - 1,
                this.FM = this._M - 1;
                for (var f = 1, h = o.length; f < h; f++)
                    this._b.kb(t, o[f], i, roundCenter_addRoundVertex),
                    this._M = this._b.length - 1,
                    this.FM = this._M - 1,
                    this.Qx.kb(c, this.FM, this._M)
            }
            ,
            b1);
            function b1() {
                this._b = new LineArrayBuffer,
                this.TM = this.FM = this._M = -1,
                this.Kx = !1
            }
            var PolylineBucket = (p2 = CoreLineBucket,
            __extends(q2, p2),
            q2.prototype.upload = function(t, e) {
                void 0 === e && (e = !1),
                this.Kx || (this.Kx = !0,
                this.zs ? this.zs.update(this._b.Mb) : this.zs = new SmartArrayBuffer(t,this._b.Mb,LineArrayBuffer.Rb),
                this.Pc ? this.Pc.update(this.Qx.UI) : this.Pc = new SmartArrayBuffer(t,this.Qx.UI,32,"ELEMENT_ARRAY_BUFFER"),
                e && (delete this.Qx,
                delete this._b))
            }
            ,
            q2.prototype.reset = function() {
                this.Kx = !1,
                this._b = new LineArrayBuffer,
                this.Qx = new TriangleIndexArrayUint,
                this.TM = this.FM = this._M = -1,
                this.Kx = !1
            }
            ,
            q2), p2;
            function q2() {
                var t = p2.call(this) || this;
                return t.Qx = new TriangleIndexArrayUint,
                t
            }
            var earcut_1 = earcut
              , default_1 = earcut;
            function earcut(t, e, r) {
                r = r || 2;
                var i, n, a, o, s, u, c, f = e && e.length, h = f ? e[0] * r : t.length, l = linkedList(t, 0, h, r, !0), d = [];
                if (!l || l.next === l.NM)
                    return d;
                if (f && (l = eliminateHoles(t, e, l, r)),
                t.length > 80 * r) {
                    i = a = t[0],
                    n = o = t[1];
                    for (var v = r; v < h; v += r)
                        (s = t[v]) < i && (i = s),
                        (u = t[v + 1]) < n && (n = u),
                        a < s && (a = s),
                        o < u && (o = u);
                    c = 0 !== (c = Math.max(a - i, o - n)) ? 1 / c : 0
                }
                return earcutLinked(l, d, r, i, n, c),
                d
            }
            function linkedList(t, e, r, i, n) {
                var a, o;
                if (n === 0 < signedArea(t, e, r, i))
                    for (a = e; a < r; a += i)
                        o = insertNode(a, t[a], t[a + 1], o);
                else
                    for (a = r - i; e <= a; a -= i)
                        o = insertNode(a, t[a], t[a + 1], o);
                return o && equals$2(o, o.next) && (removeNode(o),
                o = o.next),
                o
            }
            function filterPoints(t, e) {
                if (!t)
                    return t;
                e = e || t;
                var r, i = t;
                do {
                    if (r = !1,
                    i.LM || !equals$2(i, i.next) && 0 !== area(i.NM, i, i.next))
                        i = i.next;
                    else {
                        if (removeNode(i),
                        (i = e = i.NM) === i.next)
                            break;
                        r = !0
                    }
                } while (r || i !== e);return e
            }
            function earcutLinked(t, e, r, i, n, a, o) {
                if (t) {
                    !o && a && indexCurve(t, i, n, a);
                    for (var s, u, c = t; t.NM !== t.next; )
                        if (s = t.NM,
                        u = t.next,
                        a ? isEarHashed(t, i, n, a) : isEar(t))
                            e.push(s.i / r),
                            e.push(t.i / r),
                            e.push(u.i / r),
                            removeNode(t),
                            t = u.next,
                            c = u.next;
                        else if ((t = u) === c) {
                            o ? 1 === o ? earcutLinked(t = cureLocalIntersections(filterPoints(t), e, r), e, r, i, n, a, 2) : 2 === o && splitEarcut(t, e, r, i, n, a) : earcutLinked(filterPoints(t), e, r, i, n, a, 1);
                            break
                        }
                }
            }
            function isEar(t) {
                var e = t.NM
                  , r = t
                  , i = t.next;
                if (!(0 <= area(e, r, i))) {
                    for (var n = t.next.next; n !== t.NM; ) {
                        if (pointInTriangle(e.x, e.y, r.x, r.y, i.x, i.y, n.x, n.y) && 0 <= area(n.NM, n, n.next))
                            return;
                        n = n.next
                    }
                    return 1
                }
            }
            function isEarHashed(t, e, r, i) {
                var n = t.NM
                  , a = t
                  , o = t.next;
                if (!(0 <= area(n, a, o))) {
                    for (var s = n.x < a.x ? n.x < o.x ? n.x : o.x : a.x < o.x ? a.x : o.x, u = n.y < a.y ? n.y < o.y ? n.y : o.y : a.y < o.y ? a.y : o.y, c = n.x > a.x ? n.x > o.x ? n.x : o.x : a.x > o.x ? a.x : o.x, f = n.y > a.y ? n.y > o.y ? n.y : o.y : a.y > o.y ? a.y : o.y, h = zOrder(s, u, e, r, i), l = zOrder(c, f, e, r, i), d = t.DM, v = t.RM; d && d.z >= h && v && v.z <= l; ) {
                        if (d !== t.NM && d !== t.next && pointInTriangle(n.x, n.y, a.x, a.y, o.x, o.y, d.x, d.y) && 0 <= area(d.NM, d, d.next))
                            return;
                        if (d = d.DM,
                        v !== t.NM && v !== t.next && pointInTriangle(n.x, n.y, a.x, a.y, o.x, o.y, v.x, v.y) && 0 <= area(v.NM, v, v.next))
                            return;
                        v = v.RM
                    }
                    for (; d && d.z >= h; ) {
                        if (d !== t.NM && d !== t.next && pointInTriangle(n.x, n.y, a.x, a.y, o.x, o.y, d.x, d.y) && 0 <= area(d.NM, d, d.next))
                            return;
                        d = d.DM
                    }
                    for (; v && v.z <= l; ) {
                        if (v !== t.NM && v !== t.next && pointInTriangle(n.x, n.y, a.x, a.y, o.x, o.y, v.x, v.y) && 0 <= area(v.NM, v, v.next))
                            return;
                        v = v.RM
                    }
                    return 1
                }
            }
            function cureLocalIntersections(t, e, r) {
                var i = t;
                do {
                    var n = i.NM
                      , a = i.next.next;
                    !equals$2(n, a) && intersects(n, i, i.next, a) && locallyInside(n, a) && locallyInside(a, n) && (e.push(n.i / r),
                    e.push(i.i / r),
                    e.push(a.i / r),
                    removeNode(i),
                    removeNode(i.next),
                    i = t = a),
                    i = i.next
                } while (i !== t);return filterPoints(i)
            }
            function splitEarcut(t, e, r, i, n, a) {
                var o = t;
                do {
                    for (var s = o.next.next; s !== o.NM; ) {
                        if (o.i !== s.i && isValidDiagonal(o, s)) {
                            var u = splitPolygon(o, s);
                            return o = filterPoints(o, o.next),
                            u = filterPoints(u, u.next),
                            earcutLinked(o, e, r, i, n, a),
                            void earcutLinked(u, e, r, i, n, a)
                        }
                        s = s.next
                    }
                    o = o.next
                } while (o !== t)
            }
            function eliminateHoles(t, e, r, i) {
                var n, a, o, s = [];
                for (n = 0,
                a = e.length; n < a; n++)
                    (o = linkedList(t, e[n] * i, n < a - 1 ? e[n + 1] * i : t.length, i, !1)) === o.next && (o.LM = !0),
                    s.push(getLeftmost(o));
                for (s.sort(compareX),
                n = 0; n < s.length; n++)
                    eliminateHole(s[n], r),
                    r = filterPoints(r, r.next);
                return r
            }
            function compareX(t, e) {
                return t.x - e.x
            }
            function eliminateHole(t, e) {
                if (e = findHoleBridge(t, e)) {
                    var r = splitPolygon(e, t);
                    filterPoints(e, e.next),
                    filterPoints(r, r.next)
                }
            }
            function findHoleBridge(t, e) {
                var r, i = e, n = t.x, a = t.y, o = -1 / 0;
                do {
                    if (a <= i.y && a >= i.next.y && i.next.y !== i.y) {
                        var s = i.x + (a - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
                        if (s <= n && o < s) {
                            if ((o = s) === n) {
                                if (a === i.y)
                                    return i;
                                if (a === i.next.y)
                                    return i.next
                            }
                            r = i.x < i.next.x ? i : i.next
                        }
                    }
                    i = i.next
                } while (i !== e);if (!r)
                    return null;
                if (n === o)
                    return r;
                var u, c = r, f = r.x, h = r.y, l = 1 / 0;
                for (i = r; n >= i.x && i.x >= f && n !== i.x && pointInTriangle(a < h ? n : o, a, f, h, a < h ? o : n, a, i.x, i.y) && (u = Math.abs(a - i.y) / (n - i.x),
                locallyInside(i, t) && (u < l || u === l && (i.x > r.x || i.x === r.x && sectorContainsSector(r, i))) && (r = i,
                l = u)),
                (i = i.next) !== c; )
                    ;
                return r
            }
            function sectorContainsSector(t, e) {
                return area(t.NM, t, e.NM) < 0 && area(e.next, t, t.next) < 0
            }
            function indexCurve(t, e, r, i) {
                for (var n = t; null === n.z && (n.z = zOrder(n.x, n.y, e, r, i)),
                n.DM = n.NM,
                n.RM = n.next,
                (n = n.next) !== t; )
                    ;
                n.DM.RM = null,
                n.DM = null,
                sortLinked(n)
            }
            function sortLinked(t) {
                var e, r, i, n, a, o, s, u, c = 1;
                do {
                    for (r = t,
                    a = t = null,
                    o = 0; r; ) {
                        for (o++,
                        i = r,
                        e = s = 0; e < c && (s++,
                        i = i.RM); e++)
                            ;
                        for (u = c; 0 < s || 0 < u && i; )
                            0 !== s && (0 === u || !i || r.z <= i.z) ? (r = (n = r).RM,
                            s--) : (i = (n = i).RM,
                            u--),
                            a ? a.RM = n : t = n,
                            n.DM = a,
                            a = n;
                        r = i
                    }
                    a.RM = null,
                    c *= 2
                } while (1 < o);return t
            }
            function zOrder(t, e, r, i, n) {
                return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - r) * n) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - i) * n) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
            }
            function getLeftmost(t) {
                for (var e = t, r = t; (e.x < r.x || e.x === r.x && e.y < r.y) && (r = e),
                (e = e.next) !== t; )
                    ;
                return r
            }
            function pointInTriangle(t, e, r, i, n, a, o, s) {
                return 0 <= (n - o) * (e - s) - (t - o) * (a - s) && 0 <= (t - o) * (i - s) - (r - o) * (e - s) && 0 <= (r - o) * (a - s) - (n - o) * (i - s)
            }
            function isValidDiagonal(t, e) {
                return t.next.i !== e.i && t.NM.i !== e.i && !intersectsPolygon(t, e) && (locallyInside(t, e) && locallyInside(e, t) && middleInside(t, e) && (area(t.NM, t, e.NM) || area(t, e.NM, e)) || equals$2(t, e) && 0 < area(t.NM, t, t.next) && 0 < area(e.NM, e, e.next))
            }
            function area(t, e, r) {
                return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y)
            }
            function equals$2(t, e) {
                return t.x === e.x && t.y === e.y
            }
            function intersects(t, e, r, i) {
                var n = sign(area(t, e, r))
                  , a = sign(area(t, e, i))
                  , o = sign(area(r, i, t))
                  , s = sign(area(r, i, e));
                return n !== a && o !== s || 0 === n && onSegment(t, r, e) || 0 === a && onSegment(t, i, e) || 0 === o && onSegment(r, t, i) || 0 === s && onSegment(r, e, i)
            }
            function onSegment(t, e, r) {
                return e.x <= Math.max(t.x, r.x) && e.x >= Math.min(t.x, r.x) && e.y <= Math.max(t.y, r.y) && e.y >= Math.min(t.y, r.y)
            }
            function sign(t) {
                return 0 < t ? 1 : t < 0 ? -1 : 0
            }
            function intersectsPolygon(t, e) {
                var r = t;
                do {
                    if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && intersects(r, r.next, t, e))
                        return 1;
                    r = r.next
                } while (r !== t)
            }
            function locallyInside(t, e) {
                return area(t.NM, t, t.next) < 0 ? 0 <= area(t, e, t.next) && 0 <= area(t, t.NM, e) : area(t, e, t.NM) < 0 || area(t, t.next, e) < 0
            }
            function middleInside(t, e) {
                for (var r = t, i = !1, n = (t.x + e.x) / 2, a = (t.y + e.y) / 2; r.y > a != r.next.y > a && r.next.y !== r.y && n < (r.next.x - r.x) * (a - r.y) / (r.next.y - r.y) + r.x && (i = !i),
                (r = r.next) !== t; )
                    ;
                return i
            }
            function splitPolygon(t, e) {
                var r = new Node(t.i,t.x,t.y)
                  , i = new Node(e.i,e.x,e.y)
                  , n = t.next
                  , a = e.NM;
                return (t.next = e).NM = t,
                (r.next = n).NM = r,
                (i.next = r).NM = i,
                (a.next = i).NM = a,
                i
            }
            function insertNode(t, e, r, i) {
                var n = new Node(t,e,r);
                return i ? (n.next = i.next,
                (n.NM = i).next.NM = n,
                i.next = n) : (n.NM = n).next = n,
                n
            }
            function removeNode(t) {
                t.next.NM = t.NM,
                t.NM.next = t.next,
                t.DM && (t.DM.RM = t.RM),
                t.RM && (t.RM.DM = t.DM)
            }
            function Node(t, e, r) {
                this.i = t,
                this.x = e,
                this.y = r,
                this.NM = null,
                this.next = null,
                this.z = null,
                this.DM = null,
                this.RM = null,
                this.LM = !1
            }
            function signedArea(t, e, r, i) {
                for (var n = 0, a = e, o = r - i; a < r; a += i)
                    n += (t[o] - t[a]) * (t[a + 1] + t[o + 1]),
                    o = a;
                return n
            }
            earcut.PM = function(t, e, r, i) {
                var n = e && e.length
                  , a = n ? e[0] * r : t.length
                  , o = Math.abs(signedArea(t, 0, a, r));
                if (n)
                    for (var s = 0, u = e.length; s < u; s++) {
                        var c = e[s] * r
                          , f = s < u - 1 ? e[s + 1] * r : t.length;
                        o -= Math.abs(signedArea(t, c, f, r))
                    }
                var h = 0;
                for (s = 0; s < i.length; s += 3) {
                    var l = i[s] * r
                      , d = i[s + 1] * r
                      , v = i[s + 2] * r;
                    h += Math.abs((t[l] - t[v]) * (t[1 + d] - t[1 + l]) - (t[l] - t[d]) * (t[1 + v] - t[1 + l]))
                }
                return 0 === o && 0 === h ? 0 : Math.abs((h - o) / o)
            }
            ,
            earcut.UM = function(t) {
                for (var e = t[0][0].length, r = {
                    rp: [],
                    BM: [],
                    dimensions: e
                }, i = 0, n = 0; n < t.length; n++) {
                    for (var a = 0; a < t[n].length; a++)
                        for (var o = 0; o < e; o++)
                            r.rp.push(t[n][a][o]);
                    0 < n && (i += t[n - 1].length,
                    r.BM.push(i))
                }
                return r
            }
            ,
            earcut_1.default = default_1;
            var CoreFillBucket = (k6.prototype.Nx = function(t, e) {
                if (t.length < 6)
                    return 0;
                for (var r = this.Qx.length, i = this._b.length, n = (this.zM.length,
                earcut_1(t, e)), a = 0, o = n.length; a < o; a += 3)
                    this.Qx.kb(i + n[a], i + n[a + 1], i + n[a + 2]);
                for (a = 0,
                o = t.length; a < o; a += 2)
                    this._b.kb(t[a], t[a + 1]);
                var s = 3 * (this.Qx.length - r);
                return 0 < s && (this.Kx = !1),
                s
            }
            ,
            k6.prototype.Ew = function(t) {
                if (t.length < 2)
                    return 0;
                for (var e = this.qM.length, r = this.zM.length, i = 0, n = t.length; i < n; i += 2)
                    this.zM.kb(t[i][0], t[i][1]),
                    this.zM.kb(t[i + 1][0], t[i + 1][1]),
                    this.qM.kb(r + i, r + i + 1);
                var a = 2 * (this.qM.length - e);
                return 0 < a && (this.Kx = !1),
                a
            }
            ,
            k6.prototype.destroy = function() {
                this.Kx = !1,
                this.zs && (this.zs.context.deleteBuffer(this.zs),
                delete this.zs),
                this.Pc && (this.Pc.context.deleteBuffer(this.Pc),
                delete this.Pc),
                this.Ec && (this.Ec.context.deleteBuffer(this.Ec),
                delete this.Ec),
                this.Nc && (this.Nc.context.deleteBuffer(this.Nc),
                delete this.Nc)
            }
            ,
            k6);
            function k6() {
                this._b = new FillArray,
                this.zM = new FillArray,
                this.Kx = !1
            }
            var PolygonBucket = (A6 = CoreFillBucket,
            __extends(B6, A6),
            B6.prototype.upload = function(t, e) {
                void 0 === e && (e = !1),
                this.Kx || (this.destroy(),
                this.Kx = !0,
                this.zs = t.fe(this._b.Mb, FillArray.Rb),
                this.Pc = t.ve(this.Qx.UI),
                this.Ec = t.fe(this.zM.Mb, LinesIndexArray.Rb),
                this.Nc = t.ve(this.qM.UI),
                e && (delete this.Qx,
                delete this._b,
                delete this.zM,
                delete this.qM))
            }
            ,
            B6.prototype.reset = function() {
                this._b = new FillArray,
                this.zM = new FillArray,
                this.Qx = new TriangleIndexArrayUint,
                this.qM = new LinesIndexArrayUint,
                this.Kx = !1
            }
            ,
            B6), A6;
            function B6() {
                var t = A6.call(this) || this;
                return t.Qx = new TriangleIndexArrayUint,
                t.qM = new LinesIndexArrayUint,
                t
            }
            var FaceTextureCoord = {
                empty: fromValues$3(-1, -1),
                Gm: fromValues$3(1, 1),
                qm: fromValues$3(0, 1),
                Nm: fromValues$3(1, 0),
                Um: fromValues$3(0, 0)
            }
              , MaxInfo = {
                Gm: create$3(),
                qm: create$3(),
                Nm: create$3(),
                Um: create$3()
            }
              , floorHeight = 6
              , FillExtrusionBucket = (F6.prototype.tz = function(t, e, r) {
                void 0 === e && (e = 100);
                for (var i = [], n = [], a = t.length, o = 0; o < a; o += 2)
                    n[s = o / 2 * 3] = t[o],
                    n[s + 1] = t[o + 1],
                    n[s + 2] = 0;
                for (o = 0; o < a; o += 2) {
                    var s;
                    i[s = o / 2 * 3] = t[o],
                    i[s + 1] = t[o + 1],
                    i[s + 2] = e
                }
                return this.Nx(i, e, r) + this.RI(n, i, r)
            }
            ,
            F6.prototype.RI = function(t, e, r) {
                var i = e.length
                  , n = e[2]
                  , a = this._b.length;
                t = t.concat(t.slice(0, 3)),
                e = e.concat(e.slice(0, 3));
                for (var o = 0; o < i - 3; o += 3) {
                    var s = Math.abs(t[o] - t[o + 3])
                      , u = Math.abs(t[o + 1] - t[o + 4])
                      , c = Math.round(n)
                      , f = Math.round(Math.sqrt(Math.pow(s, 2) + Math.pow(u, 2)))
                      , h = fromValues$3(Math.ceil(f / floorHeight), Math.round(c / floorHeight));
                    0 < h[1] ? (mul(MaxInfo.qm, FaceTextureCoord.qm, h),
                    mul(MaxInfo.Gm, FaceTextureCoord.Gm, h),
                    mul(MaxInfo.Um, FaceTextureCoord.Um, h),
                    mul(MaxInfo.Nm, FaceTextureCoord.Nm, h)) : (set$1(MaxInfo.qm, -1, -1),
                    set$1(MaxInfo.Gm, -1, -1),
                    set$1(MaxInfo.Um, -1, -1),
                    set$1(MaxInfo.Nm, -1, -1));
                    var l = this.zI(t.slice(o, o + 3), t.slice(o + 3, o + 6), e.slice(o + 3, o + 6));
                    this._b.kb(t[o], t[o + 1], t[o + 2], n, l, MaxInfo.qm),
                    this._b.kb(t[o + 3], t[o + 4], t[o + 5], n, l, MaxInfo.Gm),
                    this._b.kb(e[o + 3], e[o + 4], e[o + 5], n, l, MaxInfo.Nm),
                    this._b.kb(t[o], t[o + 1], t[o + 2], n, l, MaxInfo.qm),
                    this._b.kb(e[o + 3], e[o + 4], e[o + 5], n, l, MaxInfo.Nm),
                    this._b.kb(e[o], e[o + 1], e[o + 2], n, l, MaxInfo.Um)
                }
                var d = this._b.length - a;
                return 0 < d && (this.Kx = !1),
                d
            }
            ,
            F6.prototype.Nx = function(t, e, r) {
                if (t.length < 9)
                    return 0;
                for (var i = this._b.length, n = earcut_1(t, r, 3), a = 0, o = n.length; a < o; a++) {
                    var s = 3 * n[a];
                    this._b.kb(t[s], t[1 + s], t[2 + s], e, fromValues$1(0, 0, 1), FaceTextureCoord.empty)
                }
                var u = this._b.length - i;
                return 0 < u && (this.Kx = !1),
                u
            }
            ,
            F6.prototype.zI = function(t, e, r) {
                var i = fromValues$1(t[0], t[1], t[2])
                  , n = fromValues$1(e[0], e[1], e[2])
                  , a = fromValues$1(r[0], r[1], r[2])
                  , o = create$1()
                  , s = create$1()
                  , u = create$1();
                return sub(s, i, n),
                sub(u, a, n),
                cross(o, s, u),
                o
            }
            ,
            F6.prototype.upload = function(t, e) {
                void 0 === e && (e = !1),
                this.Kx || (this.destroy(),
                this.Kx = !0,
                this.zs = t.fe(this._b.Mb, FillExtrusionArray.Rb),
                e && delete this._b)
            }
            ,
            F6.prototype.destroy = function() {
                this.Kx = !1,
                this.zs && (this.zs.context.deleteBuffer(this.zs),
                delete this.zs),
                this.Pc && (this.Pc.context.deleteBuffer(this.Pc),
                delete this.Pc)
            }
            ,
            F6.prototype.reset = function() {
                this._b = new FillExtrusionArray,
                this.Kx = !1
            }
            ,
            F6);
            function F6() {
                this._b = new FillExtrusionArray,
                this.Kx = !1
            }
            var NebulaSegements = (v7.prototype.add = function(t, e, r, i, n, a, o, s) {
                this.WM.eT(t, e, n, i) && a === this.WM.bz && o + "" == this.WM.roofColor + "" && s + "" == this.WM.wallColor + "" || (this.GM = t,
                this.HM = e,
                this.VM += this.WM ? this.WM.length : 0,
                this.WM = new LineSegement(t,e,this.VM,i,n,a,o,s),
                this.jc.push(this.WM)),
                this.WM.add(r)
            }
            ,
            v7);
            function v7() {
                this.jc = [],
                this.GM = -1,
                this.HM = -1,
                this.VM = 0,
                this.WM = new LineSegement(-1,-1,-1,-1,-1)
            }
            var LineSegement = (E7.prototype.add = function(t) {
                this.length += t
            }
            ,
            E7.prototype.eT = function(t, e, r, i) {
                return this.mainkey === t && this.subkey === e && this.maxzoom === r && this.minzoom === i
            }
            ,
            E7);
            function E7(t, e, r, i, n, a, o, s) {
                this.mainkey = t,
                this.subkey = e,
                this.offset = r,
                this.minzoom = i,
                this.maxzoom = n,
                this.bz = a,
                this.roofColor = o,
                this.wallColor = s,
                this.length = 0
            }
            var CONSTS = {
                ID: "__id__",
                Rp: 22,
                Mp: 2,
                jp: .8,
                Pp: .2,
                YM: 5,
                KM: {
                    dom: "div",
                    id: "_amap_custom_labellayer_div_",
                    className: "amap-layer",
                    style: {
                        cssText: "position:absolute;top:0;left:0;",
                        zIndex: "",
                        width: "",
                        height: "",
                        visible: ""
                    }
                },
                Dp: {
                    Op: 180,
                    Ad: 70,
                    Td: 260,
                    Bd: Math.PI / 10
                },
                XM: {
                    top: 3,
                    right: 3,
                    bottom: 3,
                    left: 3
                },
                JM: {
                    ZM: "top",
                    QM: "right",
                    tj: "bottom",
                    LEFT: "left",
                    nj: "middle",
                    ij: "center",
                    ej: "alphabetic"
                },
                oj: {
                    CLICK: "click",
                    MOUSEOVER: "mouseover",
                    MOUSEOUT: "mouseout",
                    MOUSEMOVE: "mousemove",
                    MOUSEDOWN: "mousedown",
                    MOUSEUP: "mouseup",
                    aj: "touchstart",
                    uj: "touchend"
                },
                sj: {
                    rank: 1,
                    angle: 0,
                    opacity: 1,
                    offset: [0, 0],
                    zooms: [3, 20],
                    icon: {
                        type: "image",
                        image: "://visuallocal.amap.com/public/poi-marker.png",
                        clipOrigin: [0, 0],
                        clipSize: [36, 36],
                        size: [36, 36],
                        anchor: "bottom-center",
                        angel: 0,
                        retina: !0,
                        zooms: [3, 20]
                    },
                    text: {
                        type: "billboard",
                        direction: "top",
                        offset: [0, 0],
                        zooms: [3, 20],
                        style: {
                            fj: 6,
                            fontFamily: "sans-serif",
                            fontSize: 12,
                            fontWeight: "normal",
                            fillColor: [0, 0, 0, 1],
                            strokeWidth: 0,
                            strokeColor: [.988, .988, .988, 1],
                            borderColor: "transparent",
                            padding: [3, 3, 3, 3],
                            backgroundColor: ""
                        }
                    }
                },
                hj: {
                    cj: {
                        opacity: .2
                    },
                    vj: "fadeIn",
                    lj: "fadeOut",
                    dj: {
                        bj: "start",
                        RUNNING: "running",
                        pj: "complete"
                    },
                    yj: {
                        mj: "opacity",
                        gj: "size"
                    }
                },
                _d: 3,
                wj: "_AMap_sdf_com_words",
                Mj: 128,
                pc: ["://sdf.amap.com", "://sdf01.amap.com", "://sdf02.amap.com", "://sdf03.amap.com", "://sdf04.amap.com"],
                Qu: 1,
                sp: 4,
                ec: 24,
                Cd: .78125,
                Ld: 205 / 256,
                Aj: {
                    kj: "纹理加载失败，请重试",
                    Oj: "资源加载失败，请重试"
                },
                xj: "bufferChanged",
                Ij: "frameBufferChanged",
                Tj: "combineFrameBufferChanged",
                Fj: 3,
                _j: 2,
                IB: 3,
                Sj: 8,
                ic: 1,
                ud: 12,
                Cj: 12,
                Ej: "__icon_combination",
                Nj: "__text_combination",
                Lj: {
                    Dj: {
                        0: "https://shop.zhiyousx.com/style_icon/2.0/icon-normal-big.png",
                        1: "https://shop.zhiyousx.com/style_icon/2.0/icon-biz-big.png"
                    },
                    size: [40, 40],
                    Rj: 10
                },
                Kp: {
                    buffer: 3,
                    Pj: "ios9",
                    size: 24
                },
                _n: {
                    Uj: [0, 0, 0, 1],
                    Gp: [0, 0, 0, 0]
                },
                yN: {
                    version: "1",
                    range: ["33-40863"],
                    urlPrefix: "://glyph.amap.com/static/"
                },
                gH: "sdf",
                RB: "sdfJson",
                FN: "version"
            }, S7;
            S7 = exports.uc || (exports.uc = {}),
            S7.BLOB = "blob",
            S7.TOLOAD = "toload",
            S7.LOADING = "loading",
            S7.LOADED = "loaded",
            S7.UNLOADED = "unloaded",
            S7.ERROR = "error",
            S7.RELOADING = "reloading",
            S7.UNCOMBINED = "uncombined",
            S7.COMBINING = "combining",
            S7.COMBINED = "combined";
            var tmp1 = 4294901760
              , tmp2 = 65535;
            function getUploadName(t, e) {
                return ((t = tmp1 - (t << 16)) + (e = tmp2 - e)).toString(16)
            }
            function staticSDFTileKeyToKey(t) {
                var e = map(t.split(","), function(t) {
                    return parseInt(t, 10)
                })
                  , r = e[1]
                  , i = e[2];
                return e[0] < 10 ? "lesszoom10" : (10 === e[0] || (12 === e[0] ? (r = Math.floor(r / 4),
                i = Math.floor(i / 4)) : 14 === e[0] ? (r = Math.floor(r / 16),
                i = Math.floor(i / 16)) : 15 === e[0] && (r = Math.floor(r / 32),
                i = Math.floor(i / 32))),
                getUploadName(r, i))
            }
            var labelsUtil = {
                Bj: function(t) {
                    void 0 === t && (t = {});
                    var e = {};
                    for (var r in t)
                        t.hasOwnProperty(r) && (e[r] = 1);
                    return e
                },
                zj: function(t, e) {
                    t.gs = e,
                    t.qj = e.options || {},
                    t.Wj = e.Wj || {},
                    t.Fs = e.Fs || {},
                    t.Gj = e.Gj || {},
                    t.Hj = e.Hj || {},
                    t.Vj = e.Vj || {},
                    t.$j = e.$j || 0
                },
                Yj: function(t, e) {
                    void 0 === t && (t = [NaN, NaN, NaN, NaN]),
                    void 0 === e && (e = [0, 0, 0, 1]);
                    for (var r = 0; r < t.length; r++) {
                        var i = t[r];
                        isNaN(i) && (t[r] = e[r])
                    }
                    return t
                },
                Kj: function(t) {
                    return [((16711680 & t) >> 16) / 255, ((65280 & t) >> 8) / 255, (255 & t) / 255, 1]
                },
                Xj: function(t, e) {
                    void 0 === e && (e = {});
                    for (var r = [], i = e.qw, n = e.Aw, a = e.complete, o = 0, s = t; o < s.length; o++) {
                        var u = s[o]
                          , c = new Promise(u);
                        r.push(c)
                    }
                    var f = 0;
                    Promise.all(r).then(function() {
                        i && i.apply(void 0, arguments),
                        a && !f && (f = 1,
                        a.apply(void 0, arguments))
                    }).catch(function() {
                        n && n.apply(void 0, arguments),
                        a && !f && (f = 1,
                        a.apply(void 0, arguments))
                    })
                },
                Jj: function(t, e) {
                    var r = t[0]
                      , i = void 0 === r ? 0 : r
                      , n = t[1]
                      , a = void 0 === n ? 0 : n
                      , o = e[0]
                      , s = void 0 === o ? 0 : o
                      , u = e[1]
                      , c = void 0 === u ? 0 : u;
                    return i <= s ? s <= a ? c < a ? [s, c] : [s, a] : null : labelsUtil.Jj(e, t)
                },
                measureText: function(t, e, r, i) {
                    if (void 0 === e && (e = ""),
                    void 0 === i && (i = "3D"),
                    "3D" === i)
                        return t.measureText(e, r)
                },
                lnglatToContainer: function(t, e) {
                    var r = e.zoom;
                    if ((void 0 === r ? 20 : r) < LocalZoom)
                        return t;
                    var i = lcs.getLocalByCoord(t);
                    return vector.Ip(t, i.center)
                },
                Sd: function(t, e) {
                    var r = t[0]
                      , i = void 0 === r ? 0 : r
                      , n = t[1]
                      , a = void 0 === n ? 0 : n
                      , o = e[0]
                      , s = void 0 === o ? 0 : o
                      , u = e[1]
                      , c = void 0 === u ? 0 : u
                      , f = Math.abs(s - i)
                      , h = Math.abs(c - a);
                    return Math.sqrt(Math.pow(f, 2) + Math.pow(h, 2))
                },
                getAngle: function(t, e) {
                    var r, i = t[0], n = void 0 === i ? 0 : i, a = t[1], o = void 0 === a ? 0 : a, s = e[0], u = void 0 === s ? 0 : s, c = e[1], f = u - n, h = (void 0 === c ? 0 : c) - o;
                    return 0 == f ? h < 0 ? 3 * Math.PI / 2 : Math.PI / 2 : 0 === (r = Math.atan(h / f)) || 0 < r ? 0 <= f ? r : r + Math.PI : 0 < f ? 2 * Math.PI + r : Math.PI + r
                },
                Fd: function(t, e, r) {
                    for (var i = t[0], n = void 0 === i ? 0 : i, a = t[1], o = void 0 === a ? 0 : a, s = e[0], u = void 0 === s ? 0 : s, c = e[1], f = u - n, h = (void 0 === c ? 0 : c) - o, l = [], d = 0; d < r; ) {
                        var v = [n + f / r * (d + 1), o + h / r * (d + 1)];
                        l.push(v),
                        d++
                    }
                    return l
                },
                Ed: function(t, e) {
                    void 0 === t && (t = []);
                    var r = t.length;
                    if (!r)
                        return !1;
                    var i = t[0]
                      , n = t[4 <= r ? Math.floor(r / 4 * 3) : r - 1]
                      , a = i[0]
                      , o = i[1]
                      , s = n[0]
                      , u = n[1]
                      , c = (u - o) / (s - a)
                      , f = [s - a, u - o];
                    return (1 < Math.abs(c) ? vector.Zj(f, [0, 1]) : vector.Zj(f, [1, 0])) < 0
                },
                Nd: function(t, e) {
                    var r, i = t[0], n = t[1], a = e[0], o = e[1], s = (o - n) / (a - i), u = [a - i, o - n];
                    return 1 < Math.abs(s) ? (r = 0 < vector.Zj(u, [0, -1]) ? vector.Qj(u, [0, -1]) : vector.Qj(u, [0, 1]),
                    0 < s && (r = -r)) : (r = 0 < vector.Zj(u, [1, 0]) ? vector.Qj(u, [1, 0]) : vector.Qj(u, [-1, 0]),
                    s < 0 && (r = -r)),
                    r
                },
                Od: function(t, e, r) {
                    var i, n;
                    return i = r * Math.sin(e),
                    n = r * Math.cos(e),
                    [t[0] + n, t[1] + i]
                },
                jd: function(t, e, r, i) {
                    var n = vector.Ip(t, e)
                      , a = vector.length(n)
                      , o = vector.Ip(r, e)
                      , s = vector.length(o)
                      , u = vector.Zj(n, o)
                      , c = Math.acos(u / (a * s))
                      , f = Math.PI - c
                      , h = a * Math.sin(f)
                      , l = a * Math.cos(f)
                      , d = Math.sqrt(Math.pow(i, 2) - Math.pow(h, 2)) - l
                      , v = 0 === o[0] ? 0 < o[1] ? Math.PI / 2 : -Math.PI / 2 : Math.atan(o[1] / o[0])
                      , g = Math.abs(d * Math.sin(v))
                      , p = d * Math.cos(v)
                      , b = [0 <= vector.Zj(o, [1, 0]) ? p : -p, 0 <= vector.Zj(o, [0, 1]) ? g : -g];
                    return vector.add(e, b)
                },
                rank: function(t) {
                    for (var e = [], r = 0; r < t.length; r++) {
                        var i = parseInt(t[r], 10);
                        i < 0 && (t.splice(r--, 1),
                        e.push(i + ""))
                    }
                    return e.concat(t)
                },
                $p: function(t) {
                    var e = CONSTS.Mp
                      , r = CONSTS.Rp;
                    return 20 <= t[1] && (t[1] = r),
                    t[0] <= 3 && (t[0] = e),
                    t
                },
                toString: function(t, e) {
                    void 0 === e && (e = 4);
                    var r = "";
                    if (!t)
                        return r;
                    for (var i = 0, n = t; i < n.length; i++) {
                        var a = n[i];
                        r += (a + "").length < e ? a : a.toFixed(e)
                    }
                    return r
                },
                xf: function(t, e) {
                    var r = []
                      , i = e.ja
                      , n = e.Fa
                      , a = e.Oa
                      , o = e.Ea;
                    for (var s in t)
                        if (t.hasOwnProperty(s)) {
                            if (s === CONSTS.gH || s === CONSTS.FN || s === CONSTS.RB)
                                continue;
                            if ("shields" === s) {
                                r.push(t[s]);
                                continue
                            }
                            if (i) {
                                var u = s.split("-")
                                  , c = parseInt(u[1], 10)
                                  , f = parseInt(u[2], 10);
                                i <= c && c <= a && n <= f && f <= o && r.push(t[s])
                            } else
                                r.push(t[s])
                        }
                    return r
                }
            }
              , vector = {
                add: function(t, e) {
                    for (var r = [], i = 0; i < t.length; i++)
                        r[i] = t[i] + e[i];
                    return r
                },
                Ip: function(t, e) {
                    for (var r = [], i = 0; i < t.length; i++)
                        r.push(t[i] - e[i]);
                    return r
                },
                multiply: function(t, e) {
                    for (var r = [], i = 0, n = t; i < n.length; i++) {
                        var a = n[i];
                        r.push(a * e)
                    }
                    return r
                },
                Up: function(t, e) {
                    for (var r = [], i = 0; i < t.length; i++)
                        r[i] = t[i] / e;
                    return r
                },
                tA: function(t) {
                    return this.multiply(t, -1)
                },
                Zj: function(t, e) {
                    var r = t[0]
                      , i = void 0 === r ? 0 : r
                      , n = t[1]
                      , a = void 0 === n ? 0 : n
                      , o = e[0]
                      , s = void 0 === o ? 0 : o
                      , u = e[1];
                    return i * s + a * (void 0 === u ? 0 : u)
                },
                Qj: function(t, e) {
                    var r = vector.Zj(t, e)
                      , i = vector.length(t)
                      , n = vector.length(e);
                    return Math.acos(r / (i * n))
                },
                length: function(t) {
                    var e = t[0]
                      , r = t[1];
                    return Math.sqrt(Math.pow(e, 2) + Math.pow(r, 2))
                }
            }
              , noop$1 = function(t) {}
              , XHR = {
                send: function(t, e) {
                    void 0 === e && (e = {});
                    var r = new XMLHttpRequest
                      , i = e.qw
                      , n = void 0 === i ? noop$1 : i
                      , a = e.Aw
                      , o = void 0 === a ? noop$1 : a
                      , s = e.Me
                      , u = e.method
                      , c = e.content;
                    return r.responseType = s || "json",
                    r.onreadystatechange = function() {
                        if (4 === r.readyState && 200 === r.status) {
                            var t = r.response;
                            try {
                                n(t)
                            } catch (t) {
                                o(t)
                            }
                        } else
                            404 === r.status && (r.abort(),
                            o(Error("404")))
                    }
                    ,
                    r.onerror = function(t) {
                        r.abort(),
                        o(t)
                    }
                    ,
                    r.open(u || "GET", t),
                    r.send(c || void 0),
                    r
                }
            }
              , LabelTileWorker = (lca.prototype.Ns = function(t, e) {
                return this._opts = e,
                this.bt = e.zoom,
                this.WW = e.ZL,
                this.rA(t)
            }
            ,
            lca.prototype.rA = function(t) {
                var e = t.data || {}
                  , r = e.poilabel || []
                  , i = {};
                for (var n in r)
                    if (r.hasOwnProperty(n)) {
                        var a = this.nA(r[n], t.zo.z < 10);
                        i[n] = a
                    }
                var o = e.roadName || []
                  , s = this.iA(o);
                return i.eA = s,
                i
            }
            ,
            lca.prototype.nA = function(t, e) {
                for (var r, i, n, a, o, s, u, c, f, h, l, d, v, g, p, b, y, m, T, M, x, A, w, S, P = CONSTS.Lj, $ = P.Dj, L = P.size, N = CONSTS.Mp, O = CONSTS.Pp, k = CONSTS.jp, _ = this._opts.scale, I = this.bt, C = [], E = 0, j = t; E < j.length; E++) {
                    var R = j[E];
                    if (r = R.cw,
                    i = R.ew,
                    n = R.pos,
                    a = R.name,
                    o = R.rank,
                    s = R.minzoom || N,
                    e || R.maxzoom,
                    u = R.Fp,
                    c = R.Ep,
                    (10002 !== u || 28 !== c) && (f = this.oA(u, c, this.WW)) && (h = 1 < _ || 9 < f.fontSize ? f.fontSize : 9,
                    g = f.sn,
                    p = f.Qe,
                    b = f.forceShow,
                    y = f.zIndex,
                    m = f.zooms,
                    T = labelsUtil.Jj([s, 25], m))) {
                        for (var F = (T = labelsUtil.$p(T))[0], U = [], D = {}; F <= T[1]; ) {
                            var G = this.parent.vn.dn(u, c, F);
                            if (G && "0" !== G.He) {
                                var V = G.He;
                                -1 === U.indexOf(V) && (U.push(V),
                                D[V] = []),
                                D[V].push(F)
                            }
                            F++
                        }
                        (10002 !== u || 20 !== c && 18 !== c) && 16 < h && (h = 15);
                        var B = [T[0] - O, T[1] + k];
                        10002 === u && (13 === c || 18 === c) && B[0] <= 3 && (B[0] = 2.5),
                        M = g && $[g],
                        x = {
                            data: {
                                id: r ? r + c : "",
                                position: n,
                                name: a,
                                txt: a,
                                rank: o,
                                extData: {
                                    Lp: u,
                                    Ap: c,
                                    id: r,
                                    type: "poi",
                                    bz: i
                                }
                            },
                            opts: {
                                type: "billboard",
                                angle: 0,
                                forceShow: b,
                                zIndex: y,
                                visible: !0,
                                zooms: B
                            }
                        },
                        A = f.nn || 0,
                        w = f.an || 0;
                        for (var z = [], H = void 0, W = [0, 0], q = void 0, Z = 0; Z < U.length; Z++) {
                            V = U[Z];
                            var K = g && this.aA(parseInt(V, 10))
                              , Y = this.mN(g, V)
                              , Q = this.TN(g, V, L)
                              , J = labelsUtil.$p(D[V])
                              , X = 1;
                            !a || "152" !== V && "153" !== V && "154" !== V || (X = a.length <= 2 ? 1 : a.length / 2),
                            q = vector.Up(Q, 2),
                            M && z.push({
                                type: "image",
                                image: M,
                                clipOrigin: vector.add(K, Y),
                                clipSize: Q,
                                size: [q[0] * X, q[1]],
                                anchor: [10 - 20 * A / 24, 10 - 20 * w / 24],
                                angle: 0,
                                retina: !0,
                                zooms: [J[0] - O, J[J.length - 1] + k]
                            })
                        }
                        a && (W = z.length && z[0].image ? (V = U[0],
                        "北京" === a ? (H = "top",
                        [0, 3]) : "澳门" === a ? (H = "left",
                        [0, -2]) : "合肥" === a || "太原" === a || "西安" === a || "郑州" === a || "杭州" === a || "台北" === a ? (H = "bottom",
                        [0, -3]) : 1 === p || "152" !== V && "153" !== V && "154" !== V ? (H = "right",
                        [0, -2]) : (H = "center",
                        [0, -1])) : (H = "center",
                        [A, w]));
                        var tt = "" + u + c
                          , et = this.uA[tt];
                        et ? (l = et.faceColor,
                        d = et.borderColor,
                        v = et.Ke) : (l = f.faceColor && Color.normalize(f.faceColor.rgba),
                        d = f.borderColor && Color.normalize(f.borderColor.rgba),
                        v = 3 === f.Qe ? f.Ke && Color.normalize(f.Ke.rgba) : null,
                        this.uA[tt] = {
                            faceColor: l,
                            borderColor: d,
                            Ke: v
                        }),
                        S = a ? {
                            direction: H,
                            offset: W,
                            style: {
                                fontSize: h,
                                fillColor: l,
                                strokeColor: d,
                                strokeWidth: 2,
                                padding: [0, 1, 0, 1],
                                backgroundColor: v,
                                fold: 5 <= I
                            }
                        } : {},
                        x.opts && (x.opts.icon = z,
                        x.opts.text = S),
                        M && (this.Fs[M] = 1),
                        a && this.Ws(a),
                        C.push(x),
                        f = null
                    }
                }
                return C
            }
            ,
            lca.prototype.iA = function(t) {
                for (var e = CONSTS.Lj, r = e.Dj, i = e.size, n = CONSTS.Mp, a = CONSTS.Rp, o = CONSTS.Pp, s = CONSTS.jp, u = [], c = this._opts.scale, f = 0, h = t; f < h.length; f++) {
                    var l = h[f]
                      , d = l.path
                      , v = l.name
                      , g = l.rank
                      , p = l.minzoom
                      , b = void 0 === p ? n : p
                      , y = l.maxzoom
                      , m = void 0 === y ? a : y
                      , T = l.shield
                      , M = l.dw;
                    if (v && this.Ws(v),
                    T) {
                        var x = Math.floor(d.length / 2);
                        if (!(x < 1)) {
                            var A = [d[x - 1], d[x]]
                              , w = M
                              , S = this.oA(40001, w, this.WW);
                            if (S) {
                                var P = 1 < c || 9 < S.fontSize ? S.fontSize : 9
                                  , $ = S.faceColor
                                  , L = S.He
                                  , N = {
                                    data: {
                                        id: Util.stamp(this),
                                        position: A,
                                        positionType: "relative",
                                        name: v,
                                        txt: T,
                                        rank: g,
                                        extData: {
                                            type: "shield",
                                            Lp: 40001,
                                            Ap: w
                                        }
                                    },
                                    opts: {
                                        type: "billboard",
                                        angle: 0,
                                        zooms: [b - o, m + s],
                                        visible: !0
                                    }
                                }
                                  , O = this.aA(parseInt(L, 10))
                                  , k = 1 < T.length / 4 ? T.length / 4 : 1;
                                k = 1 < c ? k : 9 * k / 7;
                                var _ = {
                                    type: "image",
                                    image: r[0],
                                    clipOrigin: O,
                                    clipSize: i,
                                    size: [24 * k, 24],
                                    anchor: "center",
                                    angle: 0,
                                    retina: !0
                                }
                                  , I = T ? {
                                    direction: "center",
                                    offset: [0, 0],
                                    style: {
                                        fontSize: P,
                                        fillColor: $ && Color.normalize($.rgba),
                                        strokeWidth: 0,
                                        padding: [0, 1, 0, 1]
                                    }
                                } : {};
                                N.opts && (N.opts.text = I,
                                N.opts.icon = [_]),
                                T && this.Ws(T),
                                u.push(N)
                            }
                        }
                    }
                }
                return u
            }
            ,
            lca.prototype.Ws = function(t) {
                void 0 === t && (t = "");
                for (var e = this.Es, r = 0; r < t.length; r++)
                    e[t.substr(r, 1).charCodeAt(0)] = 1
            }
            ,
            lca.prototype.aA = function(t) {
                var e = CONSTS.Lj
                  , r = e.Rj
                  , i = e.size
                  , n = Math.floor(t / r);
                return t % 10 == 0 && --n,
                [(t - r * n - 1) * i[0], n * i[1]]
            }
            ,
            lca.prototype.oA = function(t, e, r) {
                var i = [3, 20]
                  , n = this.parent.vn.dn(t, e, r)
                  , a = this.parent.vn.mn(t, e);
                if (!n)
                    for (var o = 1; (i[0] <= r - o || r + o <= i[1]) && !(n = (n = this.parent.vn.dn(t, e, r - o)) || this.parent.vn.dn(t, e, r + o)); )
                        o++;
                return n && (n.zooms = a),
                n
            }
            ,
            lca.prototype.mN = function(t, e) {
                var r = [0, 0];
                if ("0" === t)
                    switch (e) {
                    case "3":
                        r = [6, 6];
                        break;
                    case "4":
                    case "5":
                    case "6":
                        r = [9, 9]
                    }
                return r
            }
            ,
            lca.prototype.TN = function(t, e, r) {
                void 0 === r && (r = [0, 0]);
                var i = r;
                if ("0" === t)
                    switch (e) {
                    case "3":
                        i = [30, 30];
                        break;
                    case "4":
                    case "5":
                    case "6":
                        i = [20, 20]
                    }
                return i
            }
            ,
            lca);
            function lca(t, e) {
                this.parent = t,
                this.Fs = {},
                this.Es = {},
                this.Ts = [],
                this.bt = 20,
                this.WW = 20,
                this._opts = {},
                this.uA = {},
                this.z_ = e.z_,
                this.R_ = e.R_
            }
            var DynamicVertice = (Mea.prototype.upload = function(t) {
                this.buffer || (this.buffer = t.fe(this.rp.rp, CONSTS.sp))
            }
            ,
            Mea.prototype.destroy = function() {
                this.buffer && (this.buffer.context.deleteBuffer(this.buffer),
                delete this.buffer)
            }
            ,
            Mea);
            function Mea(t, e) {
                this.zo = t,
                this.Nf = e.Nf,
                this.style = e.style,
                this.coords = e.coords,
                this.rp = e.rp,
                this.zp = e.zp
            }
            var VectorTileFeature = function(t, e, r, i, n) {
                this.properties = {},
                this.extent = r,
                this.type = 0,
                this.fA = t,
                this.hA = -1,
                this.cA = i,
                this.vA = n,
                t.nw(readFeature, this, e)
            };
            function readFeature(t, e, r) {
                1 === t ? e.id = r.ow() : 2 === t ? readTag(r, e) : 3 === t ? e.type = r.ow() : 4 === t && (e.hA = r.pos)
            }
            function readTag(t, e) {
                for (var r = t.ow() + t.pos; t.pos < r; ) {
                    var i = e.cA[t.ow()]
                      , n = e.vA[t.ow()];
                    e.properties[i] = n
                }
            }
            function classifyRings(t) {
                var e = t.length;
                if (e <= 1)
                    return [t];
                for (var r, i = [], n = [], a = 0; a < e; a++) {
                    var o = signedArea$1(t[a]);
                    0 !== o && (void 0 === r && (r = o < 0),
                    r === o < 0 ? (n && i.push(n),
                    n = [t[a]]) : n.push(t[a]))
                }
                return n && i.push(n),
                i
            }
            function signedArea$1(t) {
                for (var e = 0, r = 0, i = t.length, n = i - 1, a = void 0, o = void 0; r < i; n = r++)
                    a = t[r],
                    e += ((o = t[n]).x - a.x) * (a.y + o.y);
                return e
            }
            VectorTileFeature.types = ["Unknown", "Point", "LineString", "Polygon"],
            VectorTileFeature.prototype.Dw = function() {
                var t = this.fA;
                t.pos = this.hA;
                for (var e = t.ow() + t.pos, r = 1, i = 0, n = 0, a = 0, o = [], s = []; t.pos < e; ) {
                    if (i <= 0) {
                        var u = t.ow();
                        r = 7 & u,
                        i = u >> 3
                    }
                    if (i--,
                    1 === r || 2 === r)
                        n += t.lA(),
                        a += t.lA(),
                        1 === r && (s && o.push(s),
                        s = []),
                        s.push([n, a]);
                    else {
                        if (7 !== r)
                            throw new Error("unknown command " + r);
                        s && s.push([s[0][0], s[0][1]])
                    }
                }
                return s && o.push(s),
                this.lines = o
            }
            ,
            VectorTileFeature.prototype.Ro = function() {
                var t = this.fA;
                t.pos = this.hA;
                for (var e = t.ow() + t.pos, r = 1, i = 0, n = 0, a = 0, o = 1 / 0, s = -1 / 0, u = 1 / 0, c = -1 / 0; t.pos < e; ) {
                    if (i <= 0) {
                        var f = t.ow();
                        r = 7 & f,
                        i = f >> 3
                    }
                    if (i--,
                    1 === r || 2 === r)
                        (n += t.lA()) < o && (o = n),
                        s < n && (s = n),
                        (a += t.lA()) < u && (u = a),
                        c < a && (c = a);
                    else if (7 !== r)
                        throw new Error("unknown command " + r)
                }
                return [o, u, s, c]
            }
            ,
            VectorTileFeature.prototype.dA = function(t, e, r) {
                var i, n, a = this.extent * Math.pow(2, r), o = this.extent * t, s = this.extent * e, u = this.Dw(), c = VectorTileFeature.types[this.type];
                function f(t) {
                    for (var e = 0; e < t.length; e++) {
                        var r = t[e]
                          , i = 180 - 360 * (r.y + s) / a;
                        t[e] = [360 * (r.x + o) / a - 180, 360 / Math.PI * Math.atan(Math.exp(i * Math.PI / 180)) - 90]
                    }
                }
                switch (this.type) {
                case 1:
                    var h = [];
                    for (i = 0; i < u.length; i++)
                        h[i] = u[i][0];
                    f(u = h);
                    break;
                case 2:
                    for (i = 0; i < u.length; i++)
                        f(u[i]);
                    break;
                case 3:
                    for (u = classifyRings(u),
                    i = 0; i < u.length; i++)
                        for (n = 0; n < u[i].length; n++)
                            f(u[i][n])
                }
                1 === u.length ? u = u[0] : c = "Multi" + c;
                var l = {
                    type: "Feature",
                    geometry: {
                        type: c,
                        coordinates: u
                    },
                    properties: this.properties
                };
                return "id"in this && (l.id = this.id),
                l
            }
            ;
            var VectorTileLayer = function(t, e) {
                this.version = 1,
                this.name = null,
                this.extent = 4096,
                this.length = 0,
                this.fA = t,
                this.cA = [],
                this.vA = [],
                this.Cw = [],
                t.nw(readLayer, this, e),
                this.length = this.Cw.length
            };
            function readLayer(t, e, r) {
                15 === t ? e.version = r.ow() : 1 === t ? e.name = r.aw() : 5 === t ? e.extent = r.ow() : 2 === t ? e.Cw.push(r.pos) : 3 === t ? e.cA.push(r.aw()) : 4 === t && e.vA.push(readValueMessage(r))
            }
            function readValueMessage(t) {
                for (var e = null, r = t.ow() + t.pos; t.pos < r; ) {
                    var i = t.ow() >> 3;
                    e = 1 == i ? t.aw() : 2 == i ? t.pA() : 3 == i ? t.yA() : 4 == i ? t.mA() : 5 == i ? t.ow() : 6 == i ? t.lA() : 7 == i ? t.vw() : null
                }
                return e
            }
            VectorTileLayer.prototype.Gw = function(t) {
                if (t < 0 || t >= this.Cw.length)
                    throw new Error("feature index out of bounds");
                this.fA.pos = this.Cw[t];
                var e = this.fA.ow() + this.fA.pos;
                return new VectorTileFeature(this.fA,e,this.extent,this.cA,this.vA)
            }
            ;
            var VectorTile = function(t, e) {
                this.layers = t.nw(readTile, {}, e)
            };
            function readTile(t, e, r) {
                if (3 === t) {
                    var i = new VectorTileLayer(r,r.ow() + r.pos);
                    i.length && (e[i.name] = i)
                }
            }
            VectorTile.Wb = function(t) {
                return t
            }
            ,
            VectorTile.Gb = function(t) {
                return t
            }
            ;
            var SHIFT_LEFT_32 = 4294967296
              , SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32
              , Pbf = (rga.prototype.destroy = function() {
                this.gA = new Uint8Array(0)
            }
            ,
            rga.prototype.nw = function(t, e, r) {
                for (r = r || this.length; this.pos < r; ) {
                    var i = this.ow()
                      , n = i >> 3
                      , a = this.pos;
                    this.type = 7 & i,
                    t(n, e, this),
                    this.pos === a && this.wA(i)
                }
                return e
            }
            ,
            rga.prototype.MA = function(t, e) {
                return this.nw(t, e, this.ow() + this.pos)
            }
            ,
            rga.prototype.jA = function() {
                var t = readUInt32(this.gA, this.pos);
                return this.pos += 4,
                t
            }
            ,
            rga.prototype.AA = function() {
                var t = readInt32(this.gA, this.pos);
                return this.pos += 4,
                t
            }
            ,
            rga.prototype.kA = function() {
                var t = readUInt32(this.gA, this.pos) + readUInt32(this.gA, this.pos + 4) * SHIFT_LEFT_32;
                return this.pos += 8,
                t
            }
            ,
            rga.prototype.OA = function() {
                var t = readUInt32(this.gA, this.pos) + readInt32(this.gA, this.pos + 4) * SHIFT_LEFT_32;
                return this.pos += 8,
                t
            }
            ,
            rga.prototype.pA = function() {
                var t = this.xA(this.gA, this.pos, !0, 23, 4);
                return this.pos += 4,
                t
            }
            ,
            rga.prototype.yA = function() {
                var t = this.xA(this.gA, this.pos, !0, 52, 8);
                return this.pos += 8,
                t
            }
            ,
            rga.prototype.ow = function(t) {
                var e, r, i = this.gA;
                return e = 127 & (r = i[this.pos++]),
                r < 128 ? e : (e |= (127 & (r = i[this.pos++])) << 7,
                r < 128 ? e : (e |= (127 & (r = i[this.pos++])) << 14,
                r < 128 ? e : (e |= (127 & (r = i[this.pos++])) << 21,
                r < 128 ? e : readVarintRemainder(e |= (15 & (r = i[this.pos])) << 28, t, this))))
            }
            ,
            rga.prototype.mA = function() {
                return this.ow(!0)
            }
            ,
            rga.prototype.lA = function() {
                var t = this.ow();
                return t % 2 == 1 ? (t + 1) / -2 : t / 2
            }
            ,
            rga.prototype.vw = function() {
                return Boolean(this.ow())
            }
            ,
            rga.prototype.aw = function() {
                var t = this.ow() + this.pos
                  , e = readUtf8(this.gA, this.pos, t);
                return this.pos = t,
                e
            }
            ,
            rga.prototype.mw = function() {
                var t = this.ow() + this.pos
                  , e = this.gA.subarray(this.pos, t);
                return this.pos = t,
                e
            }
            ,
            rga.prototype.tw = function(t, e) {
                var r = readPackedEnd(this);
                for (t = t || []; this.pos < r; )
                    t.push(this.ow(e));
                return t
            }
            ,
            rga.prototype.IA = function(t) {
                var e = readPackedEnd(this);
                for (t = t || []; this.pos < e; )
                    t.push(this.lA());
                return t
            }
            ,
            rga.prototype.TA = function(t) {
                var e = readPackedEnd(this);
                for (t = t || []; this.pos < e; )
                    t.push(this.vw());
                return t
            }
            ,
            rga.prototype.FA = function(t) {
                var e = readPackedEnd(this);
                for (t = t || []; this.pos < e; )
                    t.push(this.pA());
                return t
            }
            ,
            rga.prototype._A = function(t) {
                var e = readPackedEnd(this);
                for (t = t || []; this.pos < e; )
                    t.push(this.yA());
                return t
            }
            ,
            rga.prototype.SA = function(t) {
                var e = readPackedEnd(this);
                for (t = t || []; this.pos < e; )
                    t.push(this.jA());
                return t
            }
            ,
            rga.prototype.CA = function(t) {
                var e = readPackedEnd(this);
                for (t = t || []; this.pos < e; )
                    t.push(this.AA());
                return t
            }
            ,
            rga.prototype.EA = function(t) {
                var e = readPackedEnd(this);
                for (t = t || []; this.pos < e; )
                    t.push(this.kA());
                return t
            }
            ,
            rga.prototype.NA = function(t) {
                var e = readPackedEnd(this);
                for (t = t || []; this.pos < e; )
                    t.push(this.OA());
                return t
            }
            ,
            rga.prototype.wA = function(t) {
                var e = 7 & t;
                e === rga.LA || (e === rga.DA ? this.pos = this.ow() + this.pos : e === rga.RA ? this.pos += 4 : e === rga.PA ? this.pos += 8 : console.log("Unimplemented type: " + e))
            }
            ,
            rga.prototype.UA = function(t, e) {
                this.BA(t << 3 | e)
            }
            ,
            rga.prototype.zA = function(t) {
                for (var e = this.length || 16; e < this.pos + t; )
                    e *= 2;
                if (e !== this.length) {
                    var r = new Uint8Array(e);
                    r.set(this.gA),
                    this.gA = r,
                    this.length = e
                }
            }
            ,
            rga.prototype.finish = function() {
                return this.length = this.pos,
                this.pos = 0,
                this.gA.subarray(0, this.length)
            }
            ,
            rga.prototype.qA = function(t) {
                this.zA(4),
                writeInt32(this.gA, t, this.pos),
                this.pos += 4
            }
            ,
            rga.prototype.WA = function(t) {
                this.zA(4),
                writeInt32(this.gA, t, this.pos),
                this.pos += 4
            }
            ,
            rga.prototype.GA = function(t) {
                this.zA(8),
                writeInt32(this.gA, -1 & t, this.pos),
                writeInt32(this.gA, Math.floor(t * SHIFT_RIGHT_32), this.pos + 4),
                this.pos += 8
            }
            ,
            rga.prototype.HA = function(t) {
                this.zA(8),
                writeInt32(this.gA, -1 & t, this.pos),
                writeInt32(this.gA, Math.floor(t * SHIFT_RIGHT_32), this.pos + 4),
                this.pos += 8
            }
            ,
            rga.prototype.BA = function(t) {
                268435455 < (t = +t || 0) || t < 0 ? writeBigVarint(t, this) : (this.zA(4),
                this.gA[this.pos++] = 127 & t | (127 < t ? 128 : 0),
                t <= 127 || (this.gA[this.pos++] = 127 & (t >>>= 7) | (127 < t ? 128 : 0),
                t <= 127 || (this.gA[this.pos++] = 127 & (t >>>= 7) | (127 < t ? 128 : 0),
                t <= 127 || (this.gA[this.pos++] = t >>> 7 & 127))))
            }
            ,
            rga.prototype.VA = function(t) {
                this.BA(t < 0 ? 2 * -t - 1 : 2 * t)
            }
            ,
            rga.prototype.$A = function(t) {
                this.BA(Boolean(t))
            }
            ,
            rga.prototype.YA = function(t) {
                t = String(t),
                this.zA(4 * t.length),
                this.pos++;
                var e = this.pos;
                this.pos = writeUtf8(this.gA, t, this.pos);
                var r = this.pos - e;
                128 <= r && makeRoomForExtraLength(e, r, this),
                this.pos = e - 1,
                this.BA(r),
                this.pos += r
            }
            ,
            rga.prototype.KA = function(t) {
                this.zA(4),
                this.XA(this.gA, t, this.pos, !0, 23, 4),
                this.pos += 4
            }
            ,
            rga.prototype.JA = function(t) {
                this.zA(8),
                this.XA(this.gA, t, this.pos, !0, 52, 8),
                this.pos += 8
            }
            ,
            rga.prototype.ZA = function(t) {
                var e = t.length;
                this.BA(e),
                this.zA(e);
                for (var r = 0; r < e; r++)
                    this.gA[this.pos++] = t[r]
            }
            ,
            rga.prototype.QA = function(t, e) {
                this.pos++;
                var r = this.pos;
                t(e, this);
                var i = this.pos - r;
                128 <= i && makeRoomForExtraLength(r, i, this),
                this.pos = r - 1,
                this.BA(i),
                this.pos += i
            }
            ,
            rga.prototype.fw = function(t, e, r) {
                this.UA(t, rga.DA),
                this.QA(e, r)
            }
            ,
            rga.prototype.tk = function(t, e) {
                this.fw(t, writePackedVarint, e)
            }
            ,
            rga.prototype.rk = function(t, e) {
                this.fw(t, writePackedSVarint, e)
            }
            ,
            rga.prototype.nk = function(t, e) {
                this.fw(t, writePackedBoolean, e)
            }
            ,
            rga.prototype.ik = function(t, e) {
                this.fw(t, writePackedFloat, e)
            }
            ,
            rga.prototype.ek = function(t, e) {
                this.fw(t, writePackedDouble, e)
            }
            ,
            rga.prototype.ak = function(t, e) {
                this.fw(t, writePackedFixed32, e)
            }
            ,
            rga.prototype.uk = function(t, e) {
                this.fw(t, writePackedSFixed32, e)
            }
            ,
            rga.prototype.sk = function(t, e) {
                this.fw(t, writePackedFixed64, e)
            }
            ,
            rga.prototype.fk = function(t, e) {
                this.fw(t, writePackedSFixed64, e)
            }
            ,
            rga.prototype.ww = function(t, e) {
                this.UA(t, rga.DA),
                this.ZA(e)
            }
            ,
            rga.prototype.hk = function(t, e) {
                this.UA(t, rga.RA),
                this.qA(e)
            }
            ,
            rga.prototype.ck = function(t, e) {
                this.UA(t, rga.RA),
                this.WA(e)
            }
            ,
            rga.prototype.vk = function(t, e) {
                this.UA(t, rga.PA),
                this.GA(e)
            }
            ,
            rga.prototype.lk = function(t, e) {
                this.UA(t, rga.PA),
                this.HA(e)
            }
            ,
            rga.prototype.rw = function(t, e) {
                this.UA(t, rga.LA),
                this.BA(e)
            }
            ,
            rga.prototype.dk = function(t, e) {
                this.UA(t, rga.LA),
                this.VA(e)
            }
            ,
            rga.prototype.uw = function(t, e) {
                this.UA(t, rga.DA),
                this.YA(e)
            }
            ,
            rga.prototype.bk = function(t, e) {
                this.UA(t, rga.RA),
                this.KA(e)
            }
            ,
            rga.prototype.pk = function(t, e) {
                this.UA(t, rga.PA),
                this.JA(e)
            }
            ,
            rga.prototype.hw = function(t, e) {
                this.rw(t, Boolean(e))
            }
            ,
            rga.prototype.xA = function(t, e, r, i, n) {
                var a, o, s = 8 * n - i - 1, u = (1 << s) - 1, c = u >> 1, f = -7, h = r ? n - 1 : 0, l = r ? -1 : 1, d = t[e + h];
                for (h += l,
                a = d & (1 << -f) - 1,
                d >>= -f,
                f += s; 0 < f; a = 256 * a + t[e + h],
                h += l,
                f -= 8)
                    ;
                for (o = a & (1 << -f) - 1,
                a >>= -f,
                f += i; 0 < f; o = 256 * o + t[e + h],
                h += l,
                f -= 8)
                    ;
                if (0 === a)
                    a = 1 - c;
                else {
                    if (a === u)
                        return o ? NaN : 1 / 0 * (d ? -1 : 1);
                    o += Math.pow(2, i),
                    a -= c
                }
                return (d ? -1 : 1) * o * Math.pow(2, a - i)
            }
            ,
            rga.prototype.XA = function(t, e, r, i, n, a) {
                var o, s, u, c = 8 * a - n - 1, f = (1 << c) - 1, h = f >> 1, l = 23 === n ? Math.pow(2, -24) - Math.pow(2, -77) : 0, d = i ? 0 : a - 1, v = i ? 1 : -1, g = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
                for (e = Math.abs(e),
                isNaN(e) || e === 1 / 0 ? (s = isNaN(e) ? 1 : 0,
                o = f) : (o = Math.floor(Math.log(e) / Math.LN2),
                e * (u = Math.pow(2, -o)) < 1 && (o--,
                u *= 2),
                2 <= (e += 1 <= o + h ? l / u : l * Math.pow(2, 1 - h)) * u && (o++,
                u /= 2),
                f <= o + h ? (s = 0,
                o = f) : 1 <= o + h ? (s = (e * u - 1) * Math.pow(2, n),
                o += h) : (s = e * Math.pow(2, h - 1) * Math.pow(2, n),
                o = 0)); 8 <= n; t[r + d] = 255 & s,
                d += v,
                s /= 256,
                n -= 8)
                    ;
                for (o = o << n | s,
                c += n; 0 < c; t[r + d] = 255 & o,
                d += v,
                o /= 256,
                c -= 8)
                    ;
                t[r + d - v] |= 128 * g
            }
            ,
            rga.LA = 0,
            rga.PA = 1,
            rga.DA = 2,
            rga.RA = 5,
            rga);
            function rga(t) {
                this.gA = ArrayBuffer.isView && ArrayBuffer.isView(t) ? t : new Uint8Array(t || 0),
                this.pos = 0,
                this.type = 0,
                this.length = this.gA.length
            }
            function readVarintRemainder(t, e, r) {
                var i, n, a = r.gA;
                if (i = (112 & (n = a[r.pos++])) >> 4,
                n < 128)
                    return toNum(t, i, e);
                if (i |= (127 & (n = a[r.pos++])) << 3,
                n < 128)
                    return toNum(t, i, e);
                if (i |= (127 & (n = a[r.pos++])) << 10,
                n < 128)
                    return toNum(t, i, e);
                if (i |= (127 & (n = a[r.pos++])) << 17,
                n < 128)
                    return toNum(t, i, e);
                if (i |= (127 & (n = a[r.pos++])) << 24,
                n < 128)
                    return toNum(t, i, e);
                if (i |= (1 & (n = a[r.pos++])) << 31,
                n < 128)
                    return toNum(t, i, e);
                throw new Error("Expected varint not more than 10 bytes")
            }
            function readPackedEnd(t) {
                return t.type === Pbf.DA ? t.ow() + t.pos : t.pos + 1
            }
            function toNum(t, e, r) {
                return r ? 4294967296 * e + (t >>> 0) : 4294967296 * (e >>> 0) + (t >>> 0)
            }
            function writeBigVarint(t, e) {
                var r, i;
                if (0 <= t ? (r = t % 4294967296 | 0,
                i = t / 4294967296 | 0) : (i = ~(-t / 4294967296),
                4294967295 ^ (r = ~(-t % 4294967296)) ? r = r + 1 | 0 : i = i + 1 | (r = 0)),
                0x10000000000000000 <= t || t < -0x10000000000000000)
                    throw new Error("Given varint doesn't fit into 10 bytes");
                e.zA(10),
                writeBigVarintLow(r, i, e),
                writeBigVarintHigh(i, e)
            }
            function writeBigVarintLow(t, e, r) {
                r.gA[r.pos++] = 127 & t | 128,
                t >>>= 7,
                r.gA[r.pos++] = 127 & t | 128,
                t >>>= 7,
                r.gA[r.pos++] = 127 & t | 128,
                t >>>= 7,
                r.gA[r.pos++] = 127 & t | 128,
                t >>>= 7,
                r.gA[r.pos] = 127 & t
            }
            function writeBigVarintHigh(t, e) {
                var r = (7 & t) << 4;
                e.gA[e.pos++] |= r | ((t >>>= 3) ? 128 : 0),
                t && (e.gA[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0),
                t && (e.gA[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0),
                t && (e.gA[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0),
                t && (e.gA[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0),
                t && (e.gA[e.pos++] = 127 & t)))))
            }
            function makeRoomForExtraLength(t, e, r) {
                var i = e <= 16383 ? 1 : e <= 2097151 ? 2 : e <= 268435455 ? 3 : Math.ceil(Math.log(e) / (7 * Math.LN2));
                r.zA(i);
                for (var n = r.pos - 1; t <= n; n--)
                    r.gA[n + i] = r.gA[n]
            }
            function writePackedVarint(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.BA(t[r])
            }
            function writePackedSVarint(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.VA(t[r])
            }
            function writePackedFloat(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.KA(t[r])
            }
            function writePackedDouble(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.JA(t[r])
            }
            function writePackedBoolean(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.$A(t[r])
            }
            function writePackedFixed32(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.qA(t[r])
            }
            function writePackedSFixed32(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.WA(t[r])
            }
            function writePackedFixed64(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.GA(t[r])
            }
            function writePackedSFixed64(t, e) {
                for (var r = 0; r < t.length; r++)
                    e.HA(t[r])
            }
            function readUInt32(t, e) {
                return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + 16777216 * t[e + 3]
            }
            function writeInt32(t, e, r) {
                t[r] = e,
                t[r + 1] = e >>> 8,
                t[r + 2] = e >>> 16,
                t[r + 3] = e >>> 24
            }
            function readInt32(t, e) {
                return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + (t[e + 3] << 24)
            }
            function readUtf8(t, e, r) {
                for (var i = "", n = e; n < r; ) {
                    var a = t[n]
                      , o = null
                      , s = 239 < a ? 4 : 223 < a ? 3 : 191 < a ? 2 : 1;
                    if (r < n + s)
                        break;
                    var u = void 0
                      , c = void 0
                      , f = void 0;
                    1 === s ? a < 128 && (o = a) : 2 === s ? 128 == (192 & (u = t[n + 1])) && (o = (31 & a) << 6 | 63 & u) <= 127 && (o = null) : 3 === s ? (u = t[n + 1],
                    c = t[n + 2],
                    128 == (192 & u) && 128 == (192 & c) && ((o = (15 & a) << 12 | (63 & u) << 6 | 63 & c) <= 2047 || 55296 <= o && o <= 57343) && (o = null)) : 4 === s && (u = t[n + 1],
                    c = t[n + 2],
                    f = t[n + 3],
                    128 == (192 & u) && 128 == (192 & c) && 128 == (192 & f) && ((o = (15 & a) << 18 | (63 & u) << 12 | (63 & c) << 6 | 63 & f) <= 65535 || 1114112 <= o) && (o = null)),
                    null === o ? (o = 65533,
                    s = 1) : 65535 < o && (o -= 65536,
                    i += String.fromCharCode(o >>> 10 & 1023 | 55296),
                    o = 56320 | 1023 & o),
                    i += String.fromCharCode(o),
                    n += s
                }
                return i
            }
            function writeUtf8(t, e, r) {
                for (var i = 0, n = void 0, a = void 0; i < e.length; i++) {
                    if (55295 < (n = e.charCodeAt(i)) && n < 57344) {
                        if (!a) {
                            56319 < n || i + 1 === e.length ? (t[r++] = 239,
                            t[r++] = 191,
                            t[r++] = 189) : a = n;
                            continue
                        }
                        if (n < 56320) {
                            t[r++] = 239,
                            t[r++] = 191,
                            t[r++] = 189,
                            a = n;
                            continue
                        }
                        n = a - 55296 << 10 | n - 56320 | 65536,
                        a = null
                    } else
                        a && (t[r++] = 239,
                        t[r++] = 191,
                        t[r++] = 189,
                        a = null);
                    n < 128 ? t[r++] = n : (n < 2048 ? t[r++] = n >> 6 | 192 : (n < 65536 ? t[r++] = n >> 12 | 224 : (t[r++] = n >> 18 | 240,
                    t[r++] = n >> 12 & 63 | 128),
                    t[r++] = n >> 6 & 63 | 128),
                    t[r++] = 63 & n | 128)
                }
                return r
            }
            var Layer = (uka = Event,
            __extends(vka, uka),
            vka.prototype.p$ = function() {}
            ,
            vka.prototype.v$ = function() {}
            ,
            vka.prototype.Hh = function(t) {
                this.uo = t
            }
            ,
            vka.prototype.Do = function(t) {
                return this.Jh = t,
                this.Jh
            }
            ,
            vka.prototype.setMap = function(t) {
                var e = this;
                if (null === t && this.map)
                    this.map.removeLayer(this);
                else if (this.map = t) {
                    var r = t.getLayers();
                    find(r, function(t) {
                        return t.eo().id === e.eo().id
                    }) || t.addLayer(this)
                }
            }
            ,
            vka.prototype.Kh = function(t) {
                var e = this;
                (this.source = t) && this.source.on("complete", function() {
                    e.emit("complete")
                })
            }
            ,
            vka.prototype.setzIndex = function(t) {
                this.Qh = t,
                this.map && this.map.setNeedUpdate(!0)
            }
            ,
            vka.prototype.setOpacity = function(t) {
                this.tl = t,
                this.map && this.map.setNeedUpdate(!0)
            }
            ,
            vka.prototype.getOpacity = function() {
                return this.tl
            }
            ,
            vka.prototype.Vh = function() {
                if (this.uo)
                    return this.uo.Vh(this.co())
            }
            ,
            vka.prototype.getzIndex = function() {
                return this.eo().zIndex
            }
            ,
            vka.prototype.getMap = function() {
                return this.map
            }
            ,
            vka.prototype.ho = function() {
                return this.Jh
            }
            ,
            vka.prototype.eo = function() {
                return {
                    id: this.No,
                    zooms: this.xt,
                    zIndex: this.Qh,
                    opacity: this.tl,
                    visible: this._visible,
                    createTile: void 0,
                    rejectMapMask: this.lz
                }
            }
            ,
            vka.prototype.getOptions = function() {
                var t = this.eo()
                  , e = this._opts || {};
                return assign({}, e, t)
            }
            ,
            vka.prototype.getZooms = function() {
                return this.xt
            }
            ,
            vka.prototype.setZooms = function(t) {
                this.xt = t,
                this.map && this.map.setNeedUpdate(!0)
            }
            ,
            vka.prototype.getVisible = function() {
                return this._visible
            }
            ,
            vka.prototype.get = function(t) {
                return this.getOptions()[t]
            }
            ,
            vka.prototype.vi = function(t) {
                return null
            }
            ,
            vka.prototype.lo = function() {
                return this.source.lo()
            }
            ,
            vka.prototype.T$ = function() {
                return this.No
            }
            ,
            vka.prototype.show = function() {
                this._visible = !0,
                this.map && this.map.setNeedUpdate(!0)
            }
            ,
            vka.prototype.hide = function() {
                this._visible = !1,
                this.map && this.map.setNeedUpdate(!0)
            }
            ,
            vka.prototype.destroy = function() {}
            ,
            vka.prototype.rT = function() {
                this.map && this.map.addLayer(this)
            }
            ,
            vka), uka;
            function vka(t) {
                void 0 === t && (t = {});
                var e = uka.call(this) || this;
                return e.el = "AMap.Layer",
                e.CLASS_NAME = "AMap.Layer",
                e.hS = Util.stamp(e),
                e._visible = !0,
                e.tl = 1,
                e.xt = [2, 22],
                e.No = "layer",
                e.nl = !0,
                e.No = "layer_" + Util.sx(),
                e.xt = t.zooms || [2, 22],
                e.tl = void 0 === t.opacity ? 1 : t.opacity,
                e.Qh = t.zIndex || 1,
                e.lz = void 0 !== t.rejectMapMask && t.rejectMapMask,
                e._visible = void 0 === t.visible || t.visible,
                e.AF = void 0 !== t.depthTest && Boolean(t.depthTest),
                e.IF = void 0 !== t.ce && Boolean(t.ce),
                e.wl = void 0 !== t.cacheSize && t.cacheSize,
                e.map = t && t.map || null,
                e._opts = t,
                e
            }
            var BuildingLayer = (Oka = Layer,
            __extends(Pka, Oka),
            Pka.prototype.ro = function() {
                return {
                    zooms: this.xt,
                    heightFactor: this.Q_,
                    visible: this._visible,
                    zIndex: this.Qh,
                    opacity: this.tl,
                    wallColor: [],
                    roofColor: [],
                    To: this,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            Pka.prototype.eo = function() {
                return Oka.prototype.eo.call(this)
            }
            ,
            Pka.prototype.Lo = function() {
                return {
                    id: this.No,
                    type: "building",
                    tileUrl: AMap.getConfig().protocol + "://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v2",
                    tileSize: 0,
                    zooms: [2, 22]
                }
            }
            ,
            Pka.prototype.co = function() {
                return this.No
            }
            ,
            Pka.prototype.destroy = function() {
                this.Jh && this.Jh.destroy && (this.Jh.destroy(),
                delete this.Jh)
            }
            ,
            Pka), Oka;
            function Pka() {
                var t = Oka.call(this) || this;
                return t.CLASS_NAME = "AMap.Buildings",
                t.Q_ = 1,
                t.No = "building",
                t
            }
            var StyleOptionsBuilding = function() {
                this.hideWithoutStyle = !1,
                this.areas = []
            }, TrafficLayer = (Ska = Layer,
            __extends(Tka, Ska),
            Tka.prototype.ro = function() {
                return {
                    ol: !0,
                    al: !0,
                    visible: this._visible,
                    opacity: this.tl,
                    To: this,
                    zooms: this.xt,
                    zIndex: this.Qh,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            Tka.prototype.eo = function() {
                var t = Ska.prototype.eo.call(this);
                return t.mapNumber = "",
                t
            }
            ,
            Tka.prototype.Lo = function() {
                return {
                    id: "vectortraffic",
                    type: "vectortraffic",
                    tileUrl: "",
                    tileSize: 256,
                    zooms: [3, 18]
                }
            }
            ,
            Tka.prototype.co = function() {
                return "vectortraffic"
            }
            ,
            Tka.prototype.destroy = function() {
                this.Jh && this.Jh.destroy && (this.Jh.destroy(),
                delete this.Jh)
            }
            ,
            Tka.prototype.p$ = function() {
                var t = this;
                this.map.on("styleChanged", this.reload, this),
                this.dl && (this.iT = setInterval(function() {
                    t.reload()
                }, 1e3 * this.vl))
            }
            ,
            Tka.prototype.v$ = function() {
                this.map.off("styleChanged", this.reload, this),
                clearInterval(this.iT),
                delete this.iT
            }
            ,
            Tka.prototype.reload = function() {
                var t = this.Vh();
                t && this.map && (t.reload(),
                this.map.setNeedUpdate(!0))
            }
            ,
            Tka), Ska;
            function Tka() {
                var t = null !== Ska && Ska.apply(this, arguments) || this;
                return t.vl = 60,
                t.dl = !0,
                t
            }
            var defaultOptions = {
                opacity: 1,
                visible: !0,
                zIndex: 4,
                zooms: [7, 22],
                dataZooms: [7, 18],
                interval: 60,
                autoRefresh: !0,
                depthTest: !1
            }, VectorTraffic = (Yka = TrafficLayer,
            __extends(Zka, Yka),
            Zka), Yka;
            function Zka(t) {
                void 0 === t && (t = defaultOptions);
                var e = this;
                return t.id = Util.sx(),
                t.opacity = void 0 === t.opacity ? defaultOptions.opacity : t.opacity,
                t.visible = void 0 === t.visible ? defaultOptions.visible : t.visible,
                t.zIndex = void 0 === t.zIndex ? defaultOptions.zIndex : t.zIndex,
                t.zooms = void 0 === t.zooms ? defaultOptions.zooms : t.zooms,
                t.interval = void 0 === t.interval ? defaultOptions.interval : t.interval,
                t.autoRefresh = void 0 === t.autoRefresh ? defaultOptions.autoRefresh : t.autoRefresh,
                t.depthTest = void 0 === t.depthTest ? defaultOptions.depthTest : t.depthTest,
                (e = Yka.call(this, t) || this).vl = Math.max(30, t.interval || e.vl),
                e.dl = void 0 !== t.autoRefresh && e.dl,
                e.CLASS_NAME = "AMap.TileLayer.Traffic",
                e.rT(),
                e
            }
            var RasterLayer = (ala = Layer,
            __extends(bla, ala),
            bla.prototype.Lo = function() {
                return {
                    id: this.No || "tile",
                    tileUrl: this.Be || "",
                    type: "raster",
                    tileSize: this.Xa || 256,
                    zooms: this.xt,
                    dataZooms: this.Qs || [2, 20],
                    projection: this.hl || "EPS3857"
                }
            }
            ,
            bla.prototype.co = function() {
                return this.No
            }
            ,
            bla.prototype.ro = function() {
                return {
                    visible: this._visible,
                    opacity: this.tl,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF,
                    detectRetina: this.yl
                }
            }
            ,
            bla.prototype.Hh = function(t) {
                this.uo = t,
                this.uo.Vh(this.co()).Ks(this.wl)
            }
            ,
            bla), ala;
            function bla(t) {
                var e = ala.call(this, t) || this;
                return e.CLASS_NAME = "AMap.RasterLayer",
                e.Be = t.tileUrl,
                e.xt = t.zooms || [2, 22],
                e.Qs = t.dataZooms,
                e.tl = void 0 === t.opacity ? 1 : t.opacity,
                e.Qh = t.zIndex || 1,
                e._visible = void 0 === t.visible || t.visible,
                e.Xa = t.tileSize || 256,
                e.hl = t.projection,
                e.AF = void 0 !== t.depthTest && Boolean(t.depthTest),
                e.yl = void 0 === t.detectRetina || Boolean(t.detectRetina),
                e.wl = t.cacheSize,
                e
            }
            var defaultOptions$1 = {
                id: "tile_" + Util.sx(),
                tileUrl: void 0,
                zooms: [2, 22],
                dataZooms: [2, 18],
                opacity: 1,
                tileSize: 256,
                visible: !0,
                projection: "EPSG:3857",
                zIndex: 2
            }, satelliteDefaultOptions = {
                id: "satellite" + Util.sx(),
                tileUrl: "http://shop.zhiyousx.com/st0{1,2,3,4}/appmaptile?style=6&x=[x]&y=[y]&z=[z]",
                zooms: [2, 22],
                dataZooms: [3, 18],
                opacity: 1,
                tileSize: 256,
                visible: !0,
                projection: "EPSG:3857",
                zIndex: 2
            }, trafficDefaultOptions = {
                id: "traffic" + Util.sx(),
                tileUrl: "http://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&t=1&zoom=[z]&x=[x]&y=[y]",
                zooms: [7, 22],
                dataZooms: [7, 20],
                opacity: 1,
                tileSize: 256,
                visible: !0,
                projection: "EPSG:3857",
                zIndex: 4,
                getTileUrl: function(t, e, r) {
                    return AMap.getConfig().protocol + "://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0\n&t=1&zoom=" + (17 - r) + "&x=" + t + "&y=" + e
                }
            }, roadNetDefaultOptions = {
                id: "roadnet" + Util.sx(),
                tileUrl: "http://shop.zhiyousx.com/wp0{1,2,3,4}/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scl=1&style=8&ltype=11",
                zooms: [2, 22],
                dataZooms: [3, 18],
                opacity: 1,
                tileSize: 256,
                visible: !0,
                projection: "EPSG:3857",
                zIndex: 3
            }, flexibleDefaultOptions = {
                id: "flexible" + Util.sx(),
                zooms: [2, 22],
                dataZooms: [2, 22],
                opacity: 1,
                tileSize: 256,
                visible: !0,
                projection: "EPSG:3857",
                zIndex: 3
            }, wmsDefaultOptions = {
                id: "wms" + Util.sx(),
                url: "",
                zooms: [2, 22],
                dataZooms: [2, 22],
                opacity: 1,
                tileSize: 512,
                visible: !0,
                projection: "EPSG:3857",
                zIndex: 3
            }, TileLayer = (ila = RasterLayer,
            __extends(jla, ila),
            jla.prototype.setTileUrl = function(t) {
                t = 0 === (t = t.replace(/^\/\//, "").replace("http://", "")).indexOf("http") ? t : AMap.getConfig().protocol + "://" + t,
                this.Be = t,
                this.reload()
            }
            ,
            jla.prototype.getTileUrl = function() {
                return this.Be
            }
            ,
            jla.prototype.eo = function() {
                var t = "";
                return this.Be !== AMap.getConfig().qT && this.Be !== AMap.getConfig().YT || (t = "GS(2019)6379"),
                {
                    id: this.No,
                    tileUrl: this.Be,
                    zooms: this.xt,
                    zIndex: this.Qh,
                    opacity: this.tl,
                    visible: this._visible,
                    getTileUrl: this.ll,
                    mapNumber: t
                }
            }
            ,
            jla.prototype.reload = function() {
                var t = this.Vh();
                t && (t.setTileUrl(this.Be),
                t.reload(),
                t.Fo(!1),
                this.map && this.map.setNeedUpdate(!0))
            }
            ,
            jla), ila;
            function jla(t) {
                void 0 === t && (t = defaultOptions$1);
                var e = this
                  , r = {};
                return t.getTileUrl && "string" == typeof t.getTileUrl && (t.tileUrl = t.getTileUrl,
                delete t.getTileUrl),
                r.tileUrl = void 0 === t.tileUrl ? AMap.getConfig().y_ : t.tileUrl,
                r.tileUrl && (r.tileUrl = r.tileUrl.replace(/^\/\//, "").replace("http://", "")),
                r.tileUrl = r.tileUrl && 0 === r.tileUrl.indexOf("http") ? r.tileUrl : AMap.getConfig().protocol + "://" + r.tileUrl,
                r.id = t.id || "tile_" + Util.sx(),
                r.tileSize = t.tileSize || defaultOptions$1.tileSize,
                "d" === Support.baseRender && Support.$e && (defaultOptions$1.dataZooms = [2, 20]),
                r.dataZooms = t.dataZooms || defaultOptions$1.dataZooms,
                r.zooms = t.zooms || defaultOptions$1.zooms,
                r.projection = t.projection || defaultOptions$1.projection,
                r.opacity = void 0 === t.opacity ? defaultOptions$1.opacity : t.opacity,
                r.visible = void 0 === t.visible ? defaultOptions$1.visible : t.visible,
                r.zIndex = void 0 === t.zIndex ? defaultOptions$1.zIndex : t.zIndex,
                r.rejectMapMask = t.rejectMapMask,
                r.depthTest = void 0 !== t.depthTest && Boolean(t.depthTest),
                r.map = t.map,
                r.detectRetina = void 0 === t.detectRetina || t.detectRetina,
                r.cacheSize = t.cacheSize,
                (e = ila.call(this, r) || this).type = t.type || "base",
                e.ll = t.getTileUrl,
                e.CLASS_NAME = "AMap.TileLayer",
                e.rT(),
                e
            }
            var Satellite = (qla = TileLayer,
            __extends(rla, qla),
            rla.prototype.eo = function() {
                var t = qla.prototype.eo.call(this);
                return t.mapNumber = "GS(2020)617",
                t
            }
            ,
            rla), qla;
            function rla(t) {
                void 0 === t && (t = satelliteDefaultOptions);
                var e = this;
                return t.id = "satellite_" + Util.sx(),
                t.tileUrl = satelliteDefaultOptions.tileUrl,
                t.zooms = void 0 === t.zooms ? satelliteDefaultOptions.zooms : t.zooms,
                t.opacity = void 0 === t.opacity ? satelliteDefaultOptions.opacity : t.opacity,
                t.visible = void 0 === t.visible ? satelliteDefaultOptions.visible : t.visible,
                t.zIndex = void 0 === t.zIndex ? satelliteDefaultOptions.zIndex : t.zIndex,
                (e = qla.call(this, t) || this).CLASS_NAME = "AMap.TileLayer.Satellite",
                e.type = t.type || "base",
                e.rT(),
                e
            }
            var Traffic = (vla = TileLayer,
            __extends(wla, vla),
            wla.prototype.ul = function() {
                clearInterval(this.cl)
            }
            ,
            wla.prototype.pl = function() {
                var t = this;
                this.dl && 0 < this.vl && (this.cl = setInterval(function() {
                    t.reload()
                }, 1e3 * this.vl))
            }
            ,
            wla), vla;
            function wla(t) {
                void 0 === t && (t = trafficDefaultOptions);
                var e = this;
                return t.id = "traffic_" + Util.sx(),
                t.tileUrl = trafficDefaultOptions.tileUrl,
                t.zooms = void 0 === t.zooms ? trafficDefaultOptions.zooms : t.zooms,
                t.opacity = void 0 === t.opacity ? trafficDefaultOptions.opacity : t.opacity,
                t.visible = void 0 === t.visible ? trafficDefaultOptions.visible : t.visible,
                t.zIndex = void 0 === t.zIndex ? trafficDefaultOptions.zIndex : t.zIndex,
                t.getTileUrl = t.getTileUrl || trafficDefaultOptions.getTileUrl,
                (e = vla.call(this, t) || this).vl = Math.max(30, t.interval || 60),
                e.dl = void 0 === t.autoRefresh || t.autoRefresh,
                e.CLASS_NAME = "AMap.TileLayer.Traffic",
                e.type = t.type || "overlay",
                e.rT(),
                e.pl(),
                e
            }
            var RoadNet = (Ala = TileLayer,
            __extends(Bla, Ala),
            Bla.prototype.show = function() {
                Ala.prototype.show.call(this);
                var t = this.map && this.map.getLayerByClass("AMap.Nebula.LabelsLayer");
                t && t.oP() && t.show()
            }
            ,
            Bla.prototype.hide = function() {
                Ala.prototype.hide.call(this);
                var t = this.map && this.map.getLayerByClass("AMap.Nebula.LabelsLayer");
                t && t.aP() && t.hide()
            }
            ,
            Bla.prototype.v$ = function() {
                Ala.prototype.v$.call(this);
                var t = this.map && this.map.getLayerByClass("AMap.Nebula.LabelsLayer");
                t && t.aP() && t.hide()
            }
            ,
            Bla), Ala;
            function Bla(t) {
                var e;
                void 0 === t && (t = roadNetDefaultOptions);
                var r = this;
                return t.id = "roadNet_" + Util.sx(),
                t.tileUrl = roadNetDefaultOptions.tileUrl,
                "d" === Support.baseRender && (t.tileUrl = null === (e = t.tileUrl) || void 0 === e ? void 0 : e.replace("&ltype=11", "")),
                t.zooms = void 0 === t.zooms ? roadNetDefaultOptions.zooms : t.zooms,
                t.opacity = void 0 === t.opacity ? roadNetDefaultOptions.opacity : t.opacity,
                t.visible = void 0 === t.visible ? roadNetDefaultOptions.visible : t.visible,
                t.zIndex = void 0 === t.zIndex ? roadNetDefaultOptions.zIndex : t.zIndex,
                (r = Ala.call(this, t) || this).CLASS_NAME = "AMap.TileLayer.RoadNet",
                r.type = t.type || "overlay",
                r.rT(),
                r
            }
            var Flexible = (Lla = TileLayer,
            __extends(Mla, Lla),
            Mla.prototype.eo = function() {
                return {
                    id: this.No,
                    zooms: this.xt,
                    zIndex: this.Qh,
                    opacity: this.tl,
                    visible: this._visible,
                    createTile: this.bl,
                    cacheSize: this.wl,
                    getTileUrl: this.ll,
                    rejectMapMask: this.lz
                }
            }
            ,
            Mla.prototype.Hh = function(t) {
                this.uo = t,
                this.uo.Vh(this.co()).Ks(this.wl)
            }
            ,
            Mla), Lla;
            function Mla(t) {
                void 0 === t && (t = flexibleDefaultOptions);
                var e = this;
                return t.id = flexibleDefaultOptions.id,
                t.id = "flexible_" + Util.sx(),
                t.zooms = void 0 === t.zooms ? flexibleDefaultOptions.zooms : t.zooms,
                t.opacity = void 0 === t.opacity ? flexibleDefaultOptions.opacity : t.opacity,
                t.visible = void 0 === t.visible ? flexibleDefaultOptions.visible : t.visible,
                t.zIndex = void 0 === t.zIndex ? flexibleDefaultOptions.zIndex : t.zIndex,
                (e = Lla.call(this, t) || this).bl = t.createTile,
                e.CLASS_NAME = "AMap.TileLayer.Flexible",
                e.type = t.type || "base",
                e.rT(),
                e
            }
            var WMTS = (Qla = TileLayer,
            __extends(Rla, Qla),
            Rla.prototype._l = function() {
                this.kl.TileMatrixSet = this.kl.TileMatrixSet || "EPSG:3857",
                this.kl.Request = "GetTile",
                this.kl.Service = "WMTS",
                this.kl.Format = this.kl.Format || "image/png",
                this.Be = this.Ml + "?" + Util.join(this.kl, "&"),
                this.map && this.map.setNeedUpdate(!0)
            }
            ,
            Rla.prototype.Rl = function(t) {
                this.kl = assign({}, t),
                this._l()
            }
            ,
            Rla.prototype.zl = function() {
                return this.kl
            }
            ,
            Rla.prototype.Sl = function() {
                return this.Ml
            }
            ,
            Rla.prototype.Cl = function(t) {
                this.Ml = t,
                this._l()
            }
            ,
            Rla.prototype.eo = function() {
                return {
                    id: this.No,
                    zooms: this.xt,
                    zIndex: this.Qh,
                    opacity: this.tl,
                    visible: this._visible,
                    Ll: this.kl,
                    createTile: this.bl,
                    getTileUrl: this.ll
                }
            }
            ,
            Rla), Qla;
            function Rla(t) {
                void 0 === t && (t = flexibleDefaultOptions);
                var s = this;
                return t.id = "wmts_" + Util.sx(),
                t.cacheSize = flexibleDefaultOptions.cacheSize,
                t.zooms = void 0 === t.zooms ? flexibleDefaultOptions.zooms : t.zooms,
                t.opacity = void 0 === t.opacity ? flexibleDefaultOptions.opacity : t.opacity,
                t.visible = void 0 === t.visible ? flexibleDefaultOptions.visible : t.visible,
                t.zIndex = void 0 === t.zIndex ? flexibleDefaultOptions.zIndex : t.zIndex,
                (s = Qla.call(this, t) || this).kl = t.params || {},
                s.CLASS_NAME = "AMap.TileLayer.WMTS",
                s.type = t.type || "base",
                s.Be = t.url,
                s.Ml = t.url,
                s.bl = function(t, e, r, i, n) {
                    var a, o = document.createElement("img");
                    "w" === (null === (a = s.map) || void 0 === a ? void 0 : a.baseRender) && (o.crossOrigin = "anonymous"),
                    o.onload = function() {
                        i(o)
                    }
                    ,
                    o.onerror = function() {
                        n(o)
                    }
                    ,
                    o.src = s.Be + "&TileMatrix=" + r + "&TileRow=" + e + "&TileCol=" + t
                }
                ,
                s._l(),
                s.rT(),
                s
            }
            var WMS = (bma = TileLayer,
            __extends(cma, bma),
            cma.prototype._l = function() {
                this.kl.WIDTH = this.Xa,
                this.kl.HEIGHT = this.Xa,
                this.kl.CRS = this.kl.CRS || "EPSG:3857",
                this.kl.REQUEST = "GetMap",
                this.kl.SERVICE = "WMS",
                this.kl.FORMAT = this.kl.FORMAT || "image/png",
                this.kl.TRANSPARENT = void 0 === this.kl.TRANSPARENT ? "true" : this.kl.TRANSPARENT,
                delete this.kl.BBOX,
                this.Be = this.Ml + "?" + Util.join(this.kl, "&")
            }
            ,
            cma.prototype.Rl = function(t) {
                this.kl = assign({}, t),
                this._l()
            }
            ,
            cma.prototype.zl = function() {
                return this.kl
            }
            ,
            cma.prototype.Sl = function() {
                return this.Ml
            }
            ,
            cma.prototype.Cl = function(t) {
                this.Ml = t,
                this._l()
            }
            ,
            cma.prototype.eo = function() {
                return {
                    id: this.No,
                    zooms: this.xt,
                    zIndex: this.Qh,
                    opacity: this.tl,
                    visible: this._visible,
                    Ll: this.kl,
                    createTile: this.bl,
                    getTileUrl: this.ll
                }
            }
            ,
            cma), bma;
            function cma(t) {
                void 0 === t && (t = wmsDefaultOptions);
                var f = this;
                return t.id = "wms_" + Util.sx(),
                t.cacheSize = flexibleDefaultOptions.cacheSize,
                t.zooms = void 0 === t.zooms ? flexibleDefaultOptions.zooms : t.zooms,
                t.opacity = void 0 === t.opacity ? flexibleDefaultOptions.opacity : t.opacity,
                t.visible = void 0 === t.visible ? flexibleDefaultOptions.visible : t.visible,
                t.zIndex = void 0 === t.zIndex ? flexibleDefaultOptions.zIndex : t.zIndex,
                (f = bma.call(this, t) || this).Be = t.url,
                f.Ml = t.url,
                f.kl = t.params || {},
                f.CLASS_NAME = "AMap.TileLayer.WMS",
                f.type = t.type || "base",
                f.bl = function(t, e, r, i, n) {
                    var a, o = 2 * HALF_WORLD_SIZE / 256 / Math.pow(2, r) * f.Xa, s = [o * t - HALF_WORLD_SIZE, HALF_WORLD_SIZE - o * (e + 1)], u = [o * (t + 1) - HALF_WORLD_SIZE, HALF_WORLD_SIZE - o * e], c = document.createElement("img");
                    "w" === (null === (a = f.map) || void 0 === a ? void 0 : a.baseRender) && (c.crossOrigin = "anonymous"),
                    c.onload = function() {
                        i(c)
                    }
                    ,
                    c.onerror = function() {
                        n(c)
                    }
                    ,
                    f._l(),
                    c.src = f.Be + "&BBOX=" + s + "," + u
                }
                ,
                f.bl = f.bl.bind(f),
                f.rT(),
                f
            }
            TileLayer.RoadNet = RoadNet,
            TileLayer.Satellite = Satellite,
            TileLayer.Traffic = "d" === Support.baseRender ? Traffic : VectorTraffic,
            TileLayer.Flexible = Flexible,
            TileLayer.WMTS = WMTS,
            TileLayer.WMS = WMS;
            var DistrictLayer = (sma = TileLayer,
            __extends(tma, sma),
            tma.prototype.eo = function() {
                var t = sma.prototype.eo.call(this);
                return t.mapNumber = "GS(2019)6379",
                t
            }
            ,
            tma.prototype.Lo = function() {
                return {
                    id: this.No,
                    tileUrl: this.Be || "",
                    type: "districtVectorTile",
                    tileSize: this.Xa || 256,
                    zooms: this.xt,
                    dataZooms: this.Qs || [3, 16],
                    projection: this.hl || "EPS3857",
                    SOC: this.SOC
                }
            }
            ,
            tma.prototype.SS = function() {
                return {
                    zIndex: this.Qh,
                    visible: this._visible,
                    zooms: this.xt,
                    opacity: this.tl,
                    adcode: this._adcode,
                    styles: this.Ze,
                    To: this,
                    rejectMapMask: this.lz,
                    depthTest: this.AF
                }
            }
            ,
            tma.prototype.ro = function() {
                return exports.Ln({}, this.SS())
            }
            ,
            tma.prototype.getDistrictByContainerPos = function(t) {
                var e = this.map;
                if (e) {
                    var r = e.containerToLngLat(t)
                      , i = e.getProjection().project(r.KL, r.kT)
                      , n = e.getView().getStatus().optimalZoom
                      , a = e.getTileCoordByLngLat(r, this.Xa, n - 1)
                      , o = this.Vh().wS()
                      , s = o.ta(a);
                    if (!s && a.z < 12) {
                        var u = Math.pow(2, a.z) / ((this.Xa || 256) / 256);
                        s = o.ta(new TileCoord(a.z,a.x + u,a.y)) || o.ta(new TileCoord(a.z,a.x - u,a.y))
                    }
                    if (s && s.Ma && s.data) {
                        var c = [i[0] - s.Ma.center[0], i[1] - s.Ma.center[1]]
                          , f = s.data;
                        if (f.polygons)
                            for (var h = 0, l = f.polygons.length; h < l; h += 1) {
                                var d = f.polygons[h];
                                if (3 < d.path.length && 3 === d.properties.lW) {
                                    for (var v = [], g = 0, p = d.path.length; g < p; g += 2)
                                        v.push([d.path[g], d.path[g + 1]]);
                                    if (GeometryUtil.pointInRing(c, [[v]]))
                                        return d.properties
                                }
                            }
                    }
                }
            }
            ,
            tma.prototype.co = function() {
                return this.No
            }
            ,
            tma.prototype.destroy = function() {
                this.Jh && this.Jh.destroy && (this.Jh.destroy(),
                delete this.Jh)
            }
            ,
            tma.prototype.reload = function() {
                if (this.map) {
                    var t = this.Vh();
                    t.setTileUrl(this.Be),
                    t.reload(),
                    this.map.setNeedUpdate(!0)
                }
            }
            ,
            tma), sma;
            function tma() {
                var t = null !== sma && sma.apply(this, arguments) || this;
                return t.CLASS_NAME = "AMap.DistrictLayer",
                t
            }
            var DistrictLayerStyle = function() {
                this["stroke-width"] = "",
                this["coastline-stroke"] = "",
                this["nation-stroke"] = "",
                this["province-stroke"] = "",
                this["city-stroke"] = "",
                this["county-stroke"] = "",
                this.fill = ""
            }, DistrictLayer$1 = (Oma = DistrictLayer,
            __extends(Pma, Oma),
            Pma.prototype.setSOC = function(t) {
                this.SOC = t,
                this.Be = this.Ml.replace("[SOC]", this.SOC),
                this.reload()
            }
            ,
            Pma.prototype.setDistricts = function(t) {
                this.setAdcode(t)
            }
            ,
            Pma.prototype.getDistricts = function() {
                return this._adcode
            }
            ,
            Pma.prototype.setStyles = function(t) {
                this.Ze = Util.Jg(Util.Jg({}, this.tP.styles), t),
                this.map && (this.ho().i_(),
                this.map.setNeedUpdate(!0))
            }
            ,
            Pma.prototype.getStyle = function() {
                return this.Ze
            }
            ,
            Pma.prototype.setAdcode = function(t) {
                var e;
                t instanceof Array || (t = [t]);
                for (var r = {}, i = 0; i < t.length; i += 1)
                    r[t[i]] = 1;
                t = r,
                this._adcode = t,
                null !== (e = this.map) && void 0 !== e && e.setNeedUpdate(!0)
            }
            ,
            Pma), Oma;
            function Pma(t) {
                var e = Oma.call(this, t) || this;
                return e.tP = {
                    id: "DistrictLayer_" + Util.sx(),
                    tileUrl: AMap.getConfig().protocol + "://mvt.amap.com/district/[SOC]/[z]/[x]/[y]/4096?\nkey=" + AMap.getConfig().key,
                    zooms: [2, 20],
                    dataZooms: [1, 18],
                    opacity: 1,
                    visible: !0,
                    depth: 0,
                    zIndex: 80,
                    styles: {
                        "stroke-width": .5,
                        "nation-stroke": [.35, .35, .35, 1],
                        "coastline-stroke": [.18, .63, .94, 1],
                        "province-stroke": [.5, .5, .5, 1],
                        "city-stroke": [.7, .7, .7, 1],
                        "county-stroke": [.85, .85, .85, 1],
                        fill: [1, 1, 1, 1]
                    },
                    SOC: "CHN"
                },
                e.SOC = t.SOC || e.tP.SOC,
                e.No = e.tP.id,
                t.adcode && e.setAdcode(t.adcode),
                e._depth = t.depth || e.tP.depth,
                e.Ze = Util.Jg(Util.Jg({}, e.tP.styles), t.styles || {}),
                e.Ml = e.tP.tileUrl,
                e.Be = e.tP.tileUrl.replace("[SOC]", e.SOC),
                e.xt = t.zooms || e.tP.zooms,
                e.tl = void 0 === t.opacity ? e.tP.opacity : t.opacity,
                e._visible = void 0 === t.visible ? e.tP.visible : t.visible,
                e.Qh = void 0 === t.zIndex ? e.tP.zIndex : t.zIndex,
                e.Qs = e.tP.dataZooms,
                e.CLASS_NAME = "AMap.DistrictLayer",
                e
            }
            var WorldLayer = (Zma = DistrictLayer$1,
            __extends($ma, Zma),
            $ma), Zma;
            function $ma(t) {
                var e = this
                  , r = {
                    id: "WorldLayer_" + Util.sx(),
                    zIndex: 81,
                    SOC: "WLD"
                };
                return (e = Zma.call(this, t) || this).No = r.id,
                e.SOC = t.SOC || r.SOC,
                e.Qh = void 0 === t.zIndex ? r.zIndex : t.zIndex,
                e.Be = e.Ml.replace("[SOC]", e.SOC),
                e.CLASS_NAME = "AMap.District.World",
                e
            }
            var CountryLayer = (cna = DistrictLayer$1,
            __extends(dna, cna),
            dna), cna;
            function dna(t) {
                var e = this
                  , r = {
                    id: "CountryLayer_" + Util.sx(),
                    depth: 1,
                    zIndex: 82,
                    SOC: "CHN"
                };
                return 0 === (t = t || r).depth && (t.styles || (t.styles = {}),
                t.styles["stroke-width"] = 0),
                (e = cna.call(this, t) || this).No = r.id,
                e._depth = void 0 === t.depth ? r.depth : +t.depth,
                e.SOC = t.SOC || r.SOC,
                e.Qh = void 0 === t.zIndex ? r.zIndex : t.zIndex,
                "CHN" === e.SOC && 1 < e._depth && (e.SOC = "CHN2"),
                e.Be = e.Ml.replace("[SOC]", e.SOC),
                e.CLASS_NAME = "AMap.District.Country",
                e
            }
            var ProvinceLayer = (hna = DistrictLayer$1,
            __extends(ina, hna),
            ina), hna;
            function ina(t) {
                var e = this
                  , r = {
                    id: "ProvinceLayer_" + Util.sx(),
                    depth: 1,
                    zIndex: 83,
                    SOC: "CHN5"
                };
                return (e = hna.call(this, t) || this).No = r.id,
                e._depth = void 0 === t.depth ? r.depth : +t.depth,
                e.SOC = t.SOC || r.SOC,
                e.Qh = void 0 === t.zIndex ? r.zIndex : t.zIndex,
                0 === e._depth && (e.SOC = "CHN4"),
                1 === e._depth && (e.SOC = "CHN5"),
                2 === e._depth && (e.SOC = "CHN3"),
                e.Be = e.Ml.replace("[SOC]", e.SOC),
                e.CLASS_NAME = "AMap.District.Province",
                e.rT(),
                e
            }
            DistrictLayer$1.World = WorldLayer,
            DistrictLayer$1.Country = CountryLayer,
            DistrictLayer$1.Province = ProvinceLayer;
            var VectorTileSegements = (mna.prototype.add = function(t, e, r, i, n) {
                VTLineSegement.getKey(t, e, n, i) !== (this.WM ? this.WM.getKey() : "-1") && (this.GM = t,
                this.HM = e,
                this.VM += this.WM ? this.WM.length : 0,
                this.WM = new VTLineSegement(t,e,this.VM,i,n),
                this.jc.push(this.WM)),
                this.WM.add(r)
            }
            ,
            mna);
            function mna() {
                this.jc = [],
                this.GM = -1,
                this.HM = -1,
                this.VM = 0
            }
            var VTLineSegement = (una.getKey = function(t, e, r, i) {
                return t + ":" + e + ":" + r + ":" + i
            }
            ,
            una.prototype.add = function(t) {
                this.length += t
            }
            ,
            una.prototype.getKey = function() {
                return this.mainkey + ":" + this.subkey + ":" + this.maxzoom + ":" + this.minzoom
            }
            ,
            una);
            function una(t, e, r, i, n) {
                this.mainkey = t,
                this.subkey = e,
                this.offset = r,
                this.minzoom = i,
                this.maxzoom = n,
                this.length = 0
            }
            var registry = {}, aoa;
            function register(t, e, r) {
                void 0 === r && (r = {}),
                Object.defineProperty(e, "yk", {
                    value: t,
                    writable: !1
                }),
                registry[t] = {
                    mk: e,
                    gk: r.gk || [],
                    wk: r.wk || []
                }
            }
            function serialize(t, e) {
                if (null == t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || t instanceof Boolean || t instanceof Number || t instanceof String || t instanceof Date || t instanceof RegExp)
                    return t;
                if (t instanceof ArrayBuffer)
                    return e && e.push(t),
                    t;
                if (ArrayBuffer.isView(t)) {
                    var r = t;
                    return e && e.push(r.buffer),
                    r
                }
                if (t instanceof ImageData)
                    return e && e.push(t.data.buffer),
                    t;
                if (Array.isArray(t)) {
                    for (var i = [], n = 0, a = t; n < a.length; n++) {
                        var o = a[n];
                        i.push(serialize(o, e))
                    }
                    return i
                }
                if ("object" != typeof t)
                    throw new Error("can't serialize object of type " + typeof t);
                var s = t.constructor
                  , u = s.yk;
                if (!u)
                    throw new Error("can't serialize object of unregistered class");
                var c = void 0;
                if (s.Wb)
                    c = s.Wb(t, e);
                else {
                    for (var f in c = {},
                    t)
                        if (t.hasOwnProperty(f) && !(0 <= registry[u].gk.indexOf(f))) {
                            var h = t[f];
                            c[f] = 0 <= registry[u].wk.indexOf(f) ? h : serialize(h, e)
                        }
                    t instanceof Error && (c.message = t.message)
                }
                if (c.$name)
                    throw new Error("$name property is reserved for worker serialization logic.");
                return "Object" !== u && (c.$name = u),
                c
            }
            function deserialize(t) {
                if (null == t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || t instanceof Boolean || t instanceof Number || t instanceof String || t instanceof Date || t instanceof RegExp || t instanceof ArrayBuffer || ArrayBuffer.isView(t) || t instanceof ImageData)
                    return t;
                if (Array.isArray(t))
                    return map(t, deserialize);
                if ("object" != typeof t)
                    throw new Error("can't deserialize object of type " + typeof t);
                var e = t.$name || "Object"
                  , r = registry[e].mk;
                if (!r)
                    throw new Error("can't deserialize unregistered class " + e);
                if (r.Gb)
                    return r.Gb(t);
                for (var i = Object.create(r.prototype), n = 0, a = Object.keys(t); n < a.length; n++) {
                    var o = a[n];
                    if ("$name" !== o) {
                        var s = t[o];
                        i[o] = 0 <= registry[e].wk.indexOf(o) ? s : deserialize(s)
                    }
                }
                return i
            }
            register("Object", Object),
            register("LineArrayBuffer", LineArrayBuffer),
            register("TriangleIndexArray", TriangleIndexArray),
            register("TriangleIndexArrayUint", TriangleIndexArrayUint),
            register("PolylineBucket", PolylineBucket),
            register("LinesIndexArray", LinesIndexArray),
            register("LinesIndexArrayUint", LinesIndexArrayUint),
            register("FillArray", FillArray),
            register("PolygonBucket", PolygonBucket),
            register("FillExtrusionBucket", FillExtrusionBucket),
            register("FillExtrusionArray", FillExtrusionArray),
            register("Color", Color),
            register("Segements", NebulaSegements),
            register("VectorTileSegements", VectorTileSegements),
            register("VTLineSegement", VTLineSegement),
            register("LineSegement", LineSegement),
            register("DynamicVertice", DynamicVertice, {
                wk: ["originData", "style", "coords", "zoomsMap"]
            }),
            register("VectorTile", VectorTile),
            register("VectorTileLayer", VectorTileLayer),
            register("VectorTileFeature", VectorTileFeature),
            register("Pbf", Pbf),
            register("StyleOptionsBuilding", StyleOptionsBuilding),
            register("DistrictStyleOptions", DistrictLayerStyle),
            aoa = exports.Mo || (exports.Mo = {}),
            aoa.TOLOAD = "toload",
            aoa.LOADING = "loading",
            aoa.LOADED = "loaded",
            aoa.UNLOADED = "unloaded",
            aoa.ERROR = "error",
            aoa.RELOADING = "reloading";
            var TileCoord = function(t, e, r) {
                this.x = e,
                this.y = r,
                this.z = t,
                this.key = t + "," + e + "," + r
            };
            register("TileCoord", TileCoord);
            var Tile = (foa.YH = function(t) {
                return t.status === exports.Mo.LOADED || t.status === exports.Mo.RELOADING
            }
            ,
            foa.prototype.destroy = function() {}
            ,
            foa);
            function foa(t) {
                this.Ro = [0, 0, 0, 0],
                this.stamp = 0,
                this.zo = t,
                this.status = exports.Mo.TOLOAD,
                this.data = {}
            }
            var NebulaTile = (ioa = Tile,
            __extends(joa, ioa),
            Object.defineProperty(joa.prototype, "tag", {
                get: function() {
                    return this.nN
                },
                set: function(t) {
                    this.aN = this.tag,
                    this.nN = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(joa.prototype, "gB", {
                get: function() {
                    return this.VN
                },
                set: function(t) {
                    this.BN = this.gB,
                    this.VN = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(joa.prototype, "data", {
                get: function() {
                    var t = [];
                    return this.qc && this.qc.Dc ? t.push(this.qc) : (this.sN && t.push(this.sN),
                    this.uN && t.push(this.uN)),
                    this.zN && this.zN.labels ? t.push(this.zN) : (this.HN && t.push(this.HN),
                    this.WN && t.push(this.WN)),
                    t
                },
                set: function(t) {},
                enumerable: !0,
                configurable: !0
            }),
            joa.prototype.xa = function(t, e) {
                switch (void 0 === e && (e = exports.zB.ALL),
                e) {
                case exports.zB.LITE:
                    this.uN = exports.Ln(exports.Ln({}, this.uN), t);
                    break;
                case exports.zB.LEFT:
                    this.sN = exports.Ln(exports.Ln({}, this.sN), t);
                    break;
                case exports.zB.ALL:
                default:
                    this.qc = exports.Ln(exports.Ln({}, this.qc), t)
                }
            }
            ,
            joa.prototype.rO = function(t, e) {
                switch (void 0 === e && (e = exports.zB.ALL),
                e) {
                case exports.zB.LITE:
                    this.WN = exports.Ln(exports.Ln({}, this.WN), t);
                    break;
                case exports.zB.LEFT:
                    this.HN = exports.Ln(exports.Ln({}, this.HN), t);
                    break;
                case exports.zB.ALL:
                default:
                    this.zN = exports.Ln(exports.Ln({}, this.zN), t)
                }
            }
            ,
            joa.prototype.ID = function(t) {
                t && (t.uN && (this.uN = t.uN),
                t.sN && (this.sN = t.sN),
                t.qc && (this.qc = t.qc),
                t.WN && (this.WN = t.WN),
                t.HN && (this.HN = t.HN),
                t.zN && (this.zN = t.zN))
            }
            ,
            joa.prototype.rN = function() {
                this.aN ? this.nN = this.aN : this.nN = exports.zB.NONE,
                this.BN && (this.VN = this.BN,
                this.nN = exports.zB.NONE)
            }
            ,
            joa.prototype.AB = function() {
                var t = [];
                return this.qc && this.qc.road && this.zN && this.zN.labels ? t.push(this.qc) : (this.sN && this.sN.road && this.HN && this.HN.labels && t.push(this.sN),
                this.uN && this.uN.road && this.WN && this.WN.labels && t.push(this.uN)),
                t
            }
            ,
            joa.prototype.destroy = function() {
                var t = this.data;
                if (t)
                    for (var e = 0, r = t; e < r.length; e++) {
                        var i = r[e];
                        if (i.Dc && (i.Dc.destroy(),
                        delete i.Dc),
                        i.$c && (i.$c.destroy(),
                        delete i.$c),
                        i.labels) {
                            for (var n = 0, a = i.labels; n < a.length; n++)
                                a[n].destroy();
                            delete i.labels
                        }
                        i.Ta = !1,
                        delete i.gf
                    }
            }
            ,
            joa.prototype.oN = function() {
                var t = this.qc
                  , e = Object.keys(t || {});
                return !!e.length && (1 !== e.length || "sdfLoaded" !== e[0])
            }
            ,
            joa), ioa;
            function joa() {
                var t = null !== ioa && ioa.apply(this, arguments) || this;
                return t.aN = exports.zB.NONE,
                t.BN = exports.zB.NONE,
                t
            }
            var RasterTile = (Foa = Tile,
            __extends(Goa, Foa),
            Goa.prototype.destroy = function() {
                var t = this.data;
                t && (t.texture && (t.texture.destroy(),
                delete t.texture),
                t.zs && (t.zs.context.deleteBuffer(t.zs),
                delete t.zs),
                t.Js && (t.Js.destroy(),
                delete t.Js))
            }
            ,
            Goa), Foa;
            function Goa() {
                return null !== Foa && Foa.apply(this, arguments) || this
            }
            var VectorTile$1 = (Ioa = Tile,
            __extends(Joa, Ioa),
            Joa.prototype.destroy = function() {
                var t = this.data;
                t && (t.$c && (t.$c.destroy(),
                delete t.$c),
                t.Uc && delete t.Uc)
            }
            ,
            Joa), Ioa;
            function Joa() {
                return null !== Ioa && Ioa.apply(this, arguments) || this
            }
            register("Tile", Tile);
            var NebulaTileCoord = (Loa = [-180, -90],
            Moa = [180, 90],
            Noa = Moa[0] - Loa[0],
            Ooa = Moa[1] - Loa[1],
            {
                ga: function(t, e, r, i) {
                    void 0 === i && (i = "lnglat");
                    var n = Math.pow(2, r)
                      , a = Noa / n
                      , o = Ooa / n
                      , s = ProjectionManager.getProjection("EPSG:3857");
                    if ("lnglat" === i)
                        return [t * a + Loa[0], Moa[1] - e * o, (t + 1) * a + Loa[0], Moa[1] - (e + 1) * o];
                    if ("EPSG:3857" !== i)
                        return [0, 0, 0, 0];
                    var u = s.project(t * a + Loa[0], Moa[1] - e * o)
                      , c = s.project((t + 1) * a + Loa[0], Moa[1] - (e + 1) * o);
                    return [u[0], u[1], c[0], c[1]]
                }
            }), Loa, Moa, Noa, Ooa, Task = ($oa.prototype._H = function(t) {
                this.children.push(t)
            }
            ,
            $oa);
            function $oa(t) {
                var r = this;
                this.xN = t,
                this.cancel = function() {
                    r.xN.cancel();
                    for (var t = 0, e = r.children; t < e.length; t++)
                        e[t].cancel.apply(r)
                }
                ,
                this.children = []
            }
            var QueueBuilder = (fpa.prototype._B = function(t, e) {
                for (var r = 0; r < t.length; r += this.Bo) {
                    var i = t.slice(r, r + 5)
                      , n = this.qN++
                      , a = {
                        wD: this.target(i, n, e),
                        ZN: i,
                        id: n
                    };
                    this.KN.push(a),
                    this.YN[n] = a
                }
            }
            ,
            fpa.prototype.qH = function(t) {
                for (var e = [], r = [], i = 0, n = this.KN; i < n.length; i++)
                    for (var a = n[i], o = 0; o < a.ZN.length; o++) {
                        var s = a.ZN[o];
                        if (this.QN(t, s)) {
                            Array.prototype.push.apply(e, a.ZN);
                            break
                        }
                        o === a.ZN.length - 1 && r.push(a)
                    }
                for (var u = 0, c = r; u < c.length; u++) {
                    (a = c[u]).wD && a.wD.cancel();
                    var f = this.KN.indexOf(a);
                    this.KN.splice(f, 1),
                    delete this.YN[a.id],
                    this.JN(a.ZN)
                }
                return {
                    yB: e,
                    SB: r
                }
            }
            ,
            fpa.prototype.QN = function(t, e) {
                return -1 < t.indexOf(e.slice(0, -2))
            }
            ,
            fpa.prototype.CB = function(t) {
                var e = this.YN[t];
                if (delete this.YN[t],
                e) {
                    var r = this.KN.indexOf(e);
                    this.KN.splice(r, 1)
                }
            }
            ,
            fpa);
            function fpa(t, e) {
                this.target = t,
                this.JN = e,
                this.qN = 0,
                this.Bo = 5,
                this.KN = [],
                this.YN = {}
            }
            var LabelLayer = (Fpa.prototype.nO = function(t, e) {
                void 0 === e && (e = {}),
                this.iO = e.from || "nebula",
                labelsUtil.zj(this, t),
                this.eO(e)
            }
            ,
            Fpa.prototype.oO = function() {
                return this.gs.aO()
            }
            ,
            Fpa.prototype.uO = function() {
                return this.oO().viewMode,
                !0
            }
            ,
            Fpa.prototype.eO = function(t) {
                void 0 === t && (t = {});
                var e = t.center
                  , r = this.Gj || {}
                  , i = this.Vj || {}
                  , n = this.Hj || {}
                  , a = this.iO
                  , o = 0;
                for (var s in r)
                    if (r.hasOwnProperty(s) && s) {
                        var u = r[s] || {};
                        n[s] = this.sO(s, u),
                        i[s] = this.fO(s, u, n[s], {
                            from: a,
                            center: e
                        });
                        var c = u.data.txt
                          , f = u.opts
                          , h = f.icon
                          , l = f.text || {};
                        c && (o += c.length + 1,
                        l.style && l.style.borderWidth && (o += 4)),
                        h && h.length && h[0].image && (o += h.length)
                    }
                this.$j = o,
                this.Vj = i,
                this.Hj = n
            }
            ,
            Fpa.prototype.hO = function(t, e) {
                void 0 === t && (t = []),
                void 0 === e && (e = []);
                var r = CONSTS.Mp
                  , i = CONSTS.Rp
                  , n = t[0] || r
                  , a = t[1] || i
                  , o = e[0] || r
                  , s = e[1] || i;
                return [o < n ? n : o, a < s ? a : s]
            }
            ,
            Fpa.prototype.cO = function(t, e) {
                void 0 === t && (t = {});
                var r = {};
                return r.type = t.type || e.type,
                r.image = t.image || "",
                r.clipOrigin = t.clipOrigin || e.clipOrigin,
                r.clipSize = t.clipSize,
                r.size = t.size,
                r.anchor = t.anchor || e.anchor,
                r.angel = t.angel || e.angel,
                r.retina = t.retina || e.retina,
                r.zooms = t.zooms || e.zooms,
                r
            }
            ,
            Fpa.prototype.vO = function(t, e) {
                void 0 === t && (t = {});
                var r = {};
                r.type = t.type || e.type,
                r.direction = t.direction || e.direction,
                r.offset = t.offset || e.offset,
                r.zooms = t.zooms || e.zooms;
                var i = e.style
                  , n = t.style || {};
                r.style = {},
                r.style.fontFamily = n.fontFamily || i.fontFamily,
                r.style.fontSize = n.fontSize || i.fontSize,
                r.style.fontWeight = n.fontWeight || i.fontWeight,
                r.style.fillColor = n.fillColor || i.fillColor;
                var a = n.strokeColor
                  , o = n.strokeWidth;
                return isUndefined(o) && isUndefined(a) ? r.style.strokeWidth = i.strokeWidth : isUndefined(o) && !isUndefined(a) ? r.style.strokeWidth = 1 : r.style.strokeWidth = n.strokeWidth,
                r.style.borderColor = n.borderColor,
                r.style.borderWidth = n.borderWidth,
                r.style.strokeColor = n.strokeColor || i.strokeColor,
                r.style.borderColor = n.borderColor || i.borderColor,
                r.style.backgroundColor = n.backgroundColor,
                r.style.padding = n.padding || i.padding,
                r.style.fold = void 0 === n.fold || n.fold,
                r
            }
            ,
            Fpa.prototype.lO = function(t) {
                var e = (this.ac.Fs || {})[t] || {};
                return [e.width || 36, e.height || 36]
            }
            ,
            Fpa.prototype.dO = function(t, e) {
                var r = CONSTS.sj
                  , i = this.cO(t, r.icon);
                i.zooms = t.zooms || e.bO;
                var n = this.hO(e.zooms, i.zooms);
                if (i.zooms = n,
                !i.size || !i.clipSize) {
                    var a = this.lO(t.image || "")
                      , o = a[0] || 0
                      , s = a[1] || 0;
                    i.size || (i.size = [o, s]),
                    i.clipSize || (i.clipSize = [o, s])
                }
                return i
            }
            ,
            Fpa.prototype.pO = function(t, e) {
                void 0 === t && (t = {});
                var r = CONSTS.sj
                  , i = this.vO(t, r.text);
                i.zooms = t.zooms || e.bO;
                var n = i.direction
                  , a = e.yO
                  , o = this.mO(n || "", a)
                  , s = o.textAlign
                  , u = o.verticalAlign;
                i.style && (i.style.textAlign = s,
                i.style.verticalAlign = u);
                var c = this.hO(e.zooms, i.zooms);
                return i.zooms = c,
                i
            }
            ,
            Fpa.prototype.sO = function(t, e) {
                var r = e.data
                  , i = r && r.txt
                  , n = e.opts || {}
                  , a = n.angle || 0
                  , o = isUndefined(n.opacity) ? 1 : n.opacity
                  , s = n.icon
                  , u = n.text
                  , c = n.zooms
                  , f = n.visible
                  , h = {
                    angle: a,
                    opacity: o,
                    zooms: this.options.zooms,
                    bO: c
                }
                  , l = [];
                if (s)
                    for (var d = 0, v = s; d < v.length; d++) {
                        var g = v[d];
                        l.push(this.dO(g, h))
                    }
                h.yO = !!s;
                var p = i ? this.pO(u, h) : null;
                p && (p.txt = i);
                var b = {
                    icon: l,
                    text: p,
                    visible: f
                };
                return "labelsLayer" === this.iO && (b.tn = 1),
                b
            }
            ,
            Fpa.prototype.gO = function(t) {
                if (this.oO().zoom < LocalZoom)
                    return t;
                var e = lcs.getLocalByCoord(t);
                return vector.Ip(t, e.center)
            }
            ,
            Fpa.prototype.wO = function(t, e) {
                if (!e || !e.image)
                    return {
                        size: [0, 0],
                        origin: t,
                        anchorOffset: [0, 0],
                        coords: t
                    };
                var r = CONSTS.sj.icon
                  , i = e.size || this.lO(e.image)
                  , n = e.anchor || r.anchor
                  , a = this._getAnchorOffset(i, n);
                return {
                    size: i,
                    origin: t,
                    anchorOffset: a,
                    coords: vector.add(t, a)
                }
            }
            ,
            Fpa.prototype.MO = function(t, e, r) {
                if (void 0 === t && (t = "icon"),
                "text" === t) {
                    var s, i = e.origin, n = (e.start,
                    r.padding), a = r.c, o = void 0, u = n.offsetX, c = n.offsetY, f = n.w, h = n.h;
                    return s = this.uO() ? (o = a[0],
                    a[1]) : (o = i[0],
                    i[1]),
                    {
                        x: o + u,
                        y: s + c,
                        width: f,
                        height: h
                    }
                }
                var l = e.size
                  , d = void 0 === l ? [] : l;
                return e.coords,
                {
                    x: (a = e.c)[0],
                    y: a[1],
                    width: d[0] || 0,
                    height: d[1] || 0
                }
            }
            ,
            Fpa.prototype._getAnchorOffset = function(t, e) {
                var r = CONSTS.JM
                  , i = t[0] || 0
                  , n = t[1] || 0;
                if ("[object Array]" === Object.prototype.toString.apply(e)) {
                    var a = e[0]
                      , o = e[1];
                    if ("number" == typeof a && "number" == typeof o)
                        return vector.tA(e)
                } else if ("string" == typeof e) {
                    var s = e.split("-")
                      , u = s[0]
                      , c = s[1]
                      , f = 0
                      , h = 0;
                    switch (u !== r.ij || c || (u = r.nj,
                    c = r.ij),
                    c) {
                    case r.LEFT:
                        f = 0;
                        break;
                    case r.ij:
                        f = -i / 2;
                        break;
                    case r.QM:
                        f = -i;
                        break;
                    default:
                        f = 0
                    }
                    switch (u) {
                    case r.ZM:
                        h = 0;
                        break;
                    case r.nj:
                        h = -n / 2;
                        break;
                    case r.tj:
                        h = -n;
                        break;
                    default:
                        h = 0
                    }
                    return [f, h]
                }
                return [0, 0]
            }
            ,
            Fpa.prototype.jO = function(t) {
                return this._getAnchorOffset(t.size || [], "middle-center")
            }
            ,
            Fpa.prototype.AO = function(t, e, r, i) {
                void 0 === i && (i = {});
                var n, a, o = CONSTS.JM, s = i.kO, u = void 0 === s ? 0 : s, c = i.yO, f = void 0 !== c && c, h = i.padding, l = i.lines, d = this.jO(t), v = d[0] || 0, g = d[1] || 0, p = t.anchorOffset || [], b = p[0] || 0, y = p[1] || 0, m = t.size || [], T = m[0] || 0, M = m[1] || 0, x = b - v, A = y - g, w = h[0], S = h[1], P = h[2], $ = h[3], L = .8 * u;
                switch (r) {
                case o.ZM:
                    a = f ? (n = x,
                    y - P - .2 * u - (N = L * l + 3 * (l - 1))) : (n = b + $,
                    y + w);
                    break;
                case o.QM:
                    var N = L / 2 * l + 1.5 * (l - 1);
                    a = f ? (n = b + T + $,
                    A - N) : (n = b - S,
                    y - N - P);
                    break;
                case o.tj:
                    a = f ? (n = x,
                    y + M + w) : (n = b + $,
                    y - P - (N = L * l + 3 * (l - 1)));
                    break;
                case o.LEFT:
                    N = L / 2 * l + 1.5 * (l - 1),
                    a = f ? (n = b - S,
                    A - N) : (n = b + $,
                    y - N - P);
                    break;
                case o.nj:
                case o.ij:
                    a = f ? (n = b + T / 2,
                    A - (N = L / 2 * l + 1.5 * (l - 1))) : (n = b,
                    y - (N = L / 2 * l + 1.5 * (l - 1)) - P);
                    break;
                default:
                    n = b,
                    a = y - (N = L / 2 * l + 1.5 * (l - 1)) - P
                }
                return [n, a]
            }
            ,
            Fpa.prototype.OO = function(t, e) {
                void 0 === e && (e = {});
                var r, i, n = CONSTS.JM, a = CONSTS.ic, o = e.xO, s = (e.kO,
                e.yO), u = e.direction, c = e.lines, f = e.size, h = e.IO, l = t[0] || 0, d = t[1] || 0;
                switch (this.mO(u, s).textAlign) {
                case n.LEFT:
                    r = l,
                    i = d;
                    break;
                case n.QM:
                    r = l - o,
                    i = d;
                    break;
                case n.ij:
                    r = l - o / 2,
                    i = d
                }
                var v = this.TO(f, c)
                  , g = Math.ceil(h / c);
                return {
                    x: r,
                    y: i,
                    w: 1 < c ? f * g + a * (g - 1) : o,
                    h: v,
                    FO: l,
                    _O: d
                }
            }
            ,
            Fpa.prototype.mO = function(t, e) {
                var r, i, n = CONSTS.JM;
                if (e)
                    switch (t) {
                    case n.LEFT:
                        r = n.QM;
                        break;
                    case n.QM:
                        r = n.LEFT;
                        break;
                    case n.ZM:
                    case n.tj:
                    default:
                        r = n.ij,
                        i = n.tj
                    }
                else
                    switch (t) {
                    case n.LEFT:
                    case n.ij:
                    case n.QM:
                        r = t,
                        i = n.tj;
                        break;
                    case n.ZM:
                    case n.tj:
                    case n.nj:
                    default:
                        r = n.LEFT,
                        i = t
                    }
                return {
                    textAlign: r,
                    verticalAlign: i
                }
            }
            ,
            Fpa.prototype.TO = function(t, e) {
                return void 0 === t && (t = 12),
                void 0 === e && (e = 1),
                (t *= 5 / 4) * e + 3 * (e - 1)
            }
            ,
            Fpa.prototype.CT = function(t, e) {
                return this.Mf ? this.Mf.measureText(t, e) : this.NT ? (this.NT.font = (e || 12) + "px",
                this.NT.measureText(t.join("")).width) : 0
            }
            ,
            Fpa.prototype.SO = function(t, e, r) {
                if (!e || !r.txt)
                    return {
                        origin: t.origin,
                        offset: [0, 0],
                        coords: t.coords,
                        start: {}
                    };
                var i = CONSTS.sj.text
                  , n = i.direction
                  , a = i.offset
                  , o = i.style
                  , s = r.yO
                  , u = r.CO
                  , c = e.direction || n
                  , f = e.offset || a
                  , h = e.style || o
                  , l = h.fontSize || 12
                  , d = h.padding || o.padding
                  , v = !1 === h.fold ? 100 : o.fj
                  , g = r.txt.length
                  , p = Math.ceil(g / v)
                  , b = this.TO(l, 1)
                  , y = {
                    xO: this.CT(u, l),
                    kO: b,
                    yO: s,
                    direction: c,
                    padding: d,
                    fj: v,
                    lines: p,
                    size: l,
                    IO: g
                }
                  , m = this.AO(t, t.size, c, y)
                  , T = vector.add(m, f)
                  , M = vector.add(t.origin, T)
                  , x = this.OO(M, y);
                return {
                    origin: t.origin,
                    offset: T,
                    coords: M,
                    start: x
                }
            }
            ,
            Fpa.prototype.EO = function(t, e, r) {
                if (!e || !r.txt)
                    return {
                        offsetX: 0,
                        offsetY: 0,
                        w: 0,
                        h: 0
                    };
                var i, n, a = CONSTS.JM, o = CONSTS.sj, s = (t.coords,
                t.start), u = t.offset, c = void 0 === u ? [] : u, f = c[0], h = c[1], l = s.w, d = s.h, v = r.yO, g = o.text, p = g.direction, b = g.style, y = e.direction || p, m = (e.style || b).padding || b.padding, T = m[0], M = m[1], x = m[2], A = m[3];
                if (v)
                    switch (y) {
                    case a.ZM:
                        i = f - l / 2 - A,
                        n = h - T;
                        break;
                    case a.QM:
                        i = f - A,
                        n = h - T;
                        break;
                    case a.tj:
                        i = f - l / 2 - A,
                        n = h - T;
                        break;
                    case a.LEFT:
                        i = f - l - A,
                        n = h - T;
                        break;
                    case a.nj:
                    case a.ij:
                        i = f - l / 2 - A,
                        n = h - T;
                        break;
                    default:
                        i = f - l / 2 - A,
                        n = h + x
                    }
                else
                    switch (y) {
                    case a.ZM:
                        i = f - A,
                        n = h + x;
                        break;
                    case a.QM:
                        i = f - l - A,
                        n = h + x;
                        break;
                    case a.tj:
                    case a.LEFT:
                        i = f - A,
                        n = h + x;
                        break;
                    case a.nj:
                    case a.ij:
                        i = f - l / 2 - A,
                        n = h - T;
                        break;
                    default:
                        i = f - l / 2 - A,
                        n = h + x
                    }
                return {
                    offsetX: i,
                    offsetY: n,
                    w: l + A + M,
                    h: d + T + x
                }
            }
            ,
            Fpa.prototype.fO = function(t, e, r, i) {
                void 0 === i && (i = {});
                var n, a = i.from, o = i.center, s = e.data, u = e.opts || {}, c = s.position, f = s.txt, h = u.icon, l = r.text, d = e.CO, v = this.oO().zoom;
                n = "nebula" !== a || "relative" !== s.positionType && LocalZoom <= v ? vector.Ip(c, o) : c;
                var g = vector.add(n, [0, 0])
                  , p = !!h
                  , b = this.wO(g, h[0])
                  , y = this.SO(b, l, {
                    CO: d,
                    txt: f,
                    yO: p
                })
                  , m = {
                    txt: f,
                    yO: p
                };
                return {
                    origin: n,
                    icon: b,
                    text: y,
                    padding: this.EO(y, l, m)
                }
            }
            ,
            Fpa);
            function Fpa(t) {
                this.options = {},
                this.Gj = {},
                this.Hj = {},
                this.Vj = {},
                this.Wj = {},
                this.$j = 0,
                this.render = null,
                this.NO = {},
                this.ac = t.z_,
                this.Mf = t.R_,
                this.io = t.canvas,
                this.NT = t.Nz
            }
            var LabelGroup = (vua.prototype.nT = function(t) {
                if (!t)
                    return "";
                var e = t.fontSize
                  , r = t.fillColor
                  , i = void 0 === r ? CONSTS.aT.Uj : r
                  , n = t.strokeColor
                  , a = void 0 === n ? CONSTS.aT.Uj : n
                  , o = t.strokeWidth
                  , s = t.backgroundColor
                  , u = t.borderColor
                  , c = labelsUtil.toString(i) + labelsUtil.toString(a) + (s ? labelsUtil.toString(s) : "" + (u ? labelsUtil.toString(u) : "")) + e + o;
                return this.AS(c),
                this.oT[c]
            }
            ,
            vua.prototype.AS = function(t) {
                this.oT[t] || (this.oT[t] = this.index++)
            }
            ,
            vua);
            function vua() {
                this.oT = {},
                this.index = 1
            }
            var labelGroup = new LabelGroup
              , angle$1 = 0
              , LabelVertices = (Iua.prototype.LO = function(t, e) {
                var r = e.from
                  , i = void 0 === r ? "nebula" : r
                  , n = CONSTS.ud;
                labelsUtil.zj(this, t),
                this.iO = i;
                var a = this.DO;
                this.Mf && (a.rp = new Float32Array(this.$j * n * 6));
                var o = this.Gj
                  , s = this.Hj
                  , u = this.Vj;
                if (!s || !u)
                    return null;
                var c = assign(this.options, e)
                  , f = this.RO(o)
                  , h = isUndefined(c.opacity) ? 1 : c.opacity;
                if (this.Mf) {
                    for (var l = 0, d = 0, v = 0, g = 0, p = f; g < p.length; g++) {
                        var b = p[g]
                          , y = s[b[0]]
                          , m = {
                            vd: []
                        };
                        if (y && y.text && y.text.style) {
                            var T = s[b[0]].text.style || {};
                            m.vd = this.pO(T)
                        }
                        d = v,
                        m.start = d;
                        var M = o[b[0]].opts || {}
                          , x = M.opacity;
                        x = isUndefined(x) ? 1 : x;
                        var A = M.icon && M.icon[0] && M.icon[0].image;
                        m.opacity = x,
                        m.opacity *= h,
                        a.pp.push(m),
                        m.dp = [];
                        for (var w = 0, S = b; w < S.length; w++) {
                            var P = S[w]
                              , $ = o[P].CO || []
                              , L = {
                                height: o[P] && o[P].opts.height || 0
                            }
                              , N = this.PO(P, u[P], s[P], a, L)
                              , O = this.UO(P, u[P], s[P], a, L)
                              , k = this.BO(P, u[P], s[P], a, $, L)
                              , _ = 6 * (k + N + O);
                            m.dp.push({
                                id: P,
                                Rd: k,
                                icon: N,
                                bg: O,
                                kd: _
                            }),
                            v += _ * n
                        }
                        m.end = v,
                        m.pd = A;
                        var I = v - d;
                        l += I,
                        a.bd.push(I)
                    }
                    a.up = l
                }
                return a.Fz = f,
                this.DO = a
            }
            ,
            Iua.prototype.ym = function() {
                return this.gs.aO()
            }
            ,
            Iua.prototype.zO = function(t) {
                if (!t)
                    return [];
                var e = this.qO;
                if (e[t])
                    return e[t];
                var r = labelsUtil.Kj(parseInt(t, 10));
                return this.qO[t] = r,
                this.qO[t]
            }
            ,
            Iua.prototype.RO = function(t) {
                var e = {}
                  , r = this.Gj
                  , i = this.iO;
                for (var n in t)
                    if (t.hasOwnProperty(n)) {
                        var a = r[n]
                          , o = a.data || {}
                          , s = a.opts || {}
                          , u = s.zIndex
                          , c = o.rank;
                        c = s.forceShow ? c - 1e5 : c;
                        var f = isUndefined(s.opacity) ? 1 : s.opacity
                          , h = ("labelsLayer" === i ? u || c : u) || 1
                          , l = this.Hj[n] || {}
                          , d = l.text
                          , v = void 0 === d ? {} : d
                          , g = l.icon;
                        e[h] = e[h] || {};
                        var p = v && v.style || ""
                          , b = void 0;
                        b = p ? labelGroup.nT(p) + f : "-1-" + f,
                        "labelsLayer" === i && (b += g && g[0] && g[0].image ? g[0].image : ""),
                        e[h][b] || (e[h][b] = []),
                        e[h][b].push(n)
                    }
                var y = Object.keys(e)
                  , m = [];
                for (n = 0; n < y.length; n++)
                    (c = parseInt(y[n], 10)) < 0 && (y.splice(n--, 1),
                    m.push(c + ""));
                for (var T = [], M = 0, x = y = m.concat(y); M < x.length; M++)
                    for (var A = e[c = x[M]], w = 0, S = Object.keys(A).sort(); w < S.length; w++) {
                        var P = S[w];
                        T.push(A[P])
                    }
                return T
            }
            ,
            Iua.prototype.WO = function(t, e) {
                var r = Util.WorldAxesCenter;
                return [t - r.x, e - r.y]
            }
            ,
            Iua.prototype.GO = function(t) {
                return t
            }
            ,
            Iua.prototype.HO = function(t, e, r, i, n) {
                var a = n.VO
                  , o = n.type
                  , s = void 0 === o ? 0 : o
                  , u = n.zooms
                  , c = n.height
                  , f = e.icon
                  , h = void 0 === f ? [] : f
                  , l = CONSTS.ud
                  , d = this.$O
                  , v = 0
                  , g = 0
                  , p = this.ac.getImage(r.image);
                p && (v = p.startX || 0,
                g = p.startY || 0);
                var b = a[0]
                  , y = a[1]
                  , m = CONSTS._j
                  , T = u[0]
                  , M = u[1]
                  , x = m
                  , A = h.anchorOffset
                  , w = r.size
                  , S = r.clipSize
                  , P = r.clipOrigin
                  , $ = w[0]
                  , L = w[1]
                  , N = S[0]
                  , O = S[1]
                  , k = P[0]
                  , _ = P[1]
                  , I = this.GO(A)
                  , C = I[0] || 0
                  , E = I[1] || 0
                  , j = v + k
                  , R = g + _;
                i.set([C, E, j, R, b, y, x, s, T, M, c, angle$1, C + $, E, j + N, R, b, y, x, s, T, M, c, angle$1, C, L + E, j, R + O, b, y, x, s, T, M, c, angle$1, C + $, E, j + N, R, b, y, x, s, T, M, c, angle$1, C + $, L + E, j + N, R + O, b, y, x, s, T, M, c, angle$1, C, L + E, j, R + O, b, y, x, s, T, M, c, angle$1], d),
                this.$O += 6 * l
            }
            ,
            Iua.prototype.PO = function(t, e, r, i, n) {
                if (!e || !r)
                    return 0;
                var a = e.icon
                  , o = void 0 === a ? {} : a
                  , s = r.icon
                  , u = void 0 === s ? [] : s;
                if (!u.length || !u[0].image)
                    return 0;
                for (var c = o.origin, f = c[0], h = c[1], l = (c[2],
                this.WO(f, h)), d = n.height, v = 0, g = u; v < g.length; v++) {
                    var p = g[v];
                    this.HO(t, e, p, i.rp, {
                        VO: l,
                        zooms: p.zooms,
                        height: d
                    })
                }
                return u.length
            }
            ,
            Iua.prototype.YO = function(t, e, r, i, n) {
                var a = n.VO
                  , o = n.type
                  , s = void 0 === o ? 6 : o
                  , u = n.zooms
                  , c = n.height
                  , f = CONSTS.ud
                  , h = this.$O
                  , l = e.padding
                  , d = a[0]
                  , v = a[1]
                  , g = u[0]
                  , p = u[1]
                  , b = l.w
                  , y = l.h
                  , m = l.offsetX
                  , T = l.offsetY;
                i.set([m, T, 0, 0, d, v, 0, s, g, p, c, angle$1, m + b, T, 0, 0, d, v, 0, s, g, p, c, angle$1, m, y + T, 0, 0, d, v, 0, s, g, p, c, angle$1, m + b, T, 0, 0, d, v, 0, s, g, p, c, angle$1, m + b, y + T, 0, 0, d, v, 0, s, g, p, c, angle$1, m, y + T, 0, 0, d, v, 0, s, g, p, c, angle$1], h),
                this.$O += 6 * f,
                h = this.$O;
                var M = r.text.style.borderWidth;
                if (M) {
                    for (var x = [m, T, b, y, d, v, M, g, p, c, angle$1], A = 0; A < 4; A++)
                        x[11] = A,
                        this.sT(x, i, h),
                        h += 6 * f;
                    this.$O = h
                }
            }
            ,
            Iua.prototype.sT = function(t, e, r) {
                void 0 === t && (t = {});
                var i = t[0]
                  , n = t[1]
                  , a = t[2]
                  , o = t[3]
                  , s = t[4]
                  , u = t[5]
                  , c = t[6]
                  , f = t[7]
                  , h = t[8]
                  , l = t[9]
                  , d = t[10]
                  , v = 0
                  , g = 0
                  , p = 0
                  , b = 0
                  , y = 0
                  , m = 0
                  , T = 0
                  , M = 0;
                switch (t[11]) {
                case 0:
                    b = g = n - c,
                    y = v = i + 0,
                    T = p = i + a,
                    M = m = n + 0;
                    break;
                case 1:
                    p = (v = i + a) + c,
                    b = g = n - c,
                    T = (y = i + a) + c,
                    M = m = n + o + c;
                    break;
                case 2:
                    y = v = i + 0,
                    T = p = i + a,
                    M = m = (b = g = n + o) + c;
                    break;
                case 3:
                    v = i - c,
                    b = g = n - c,
                    y = (p = i) - c,
                    T = i,
                    M = m = n + o + c
                }
                e.set([v, g, 0, 0, s, u, 0, 8, f, h, l, d, p, b, 0, 0, s, u, 0, 8, f, h, l, d, y, m, 0, 0, s, u, 0, 8, f, h, l, d, p, b, 0, 0, s, u, 0, 8, f, h, l, d, y, m, 0, 0, s, u, 0, 8, f, h, l, d, T, M, 0, 0, s, u, 0, 8, f, h, l, d], r)
            }
            ,
            Iua.prototype.UO = function(t, e, r, i, n) {
                if (!e || !r)
                    return 0;
                var a = CONSTS.Mp
                  , o = CONSTS.Rp
                  , s = e.text
                  , u = (r.text || {}).zooms
                  , c = void 0 === u ? [a, o] : u;
                if (!r.text || !s.origin)
                    return 0;
                var f = s.origin
                  , h = f[0]
                  , l = f[1]
                  , d = (f[2],
                [h, l])
                  , v = n.height;
                this.YO(t, e, r, i.rp, {
                    VO: d,
                    zooms: c,
                    height: v
                });
                var g = 1;
                return r.text.style.borderWidth && (g += 4),
                g
            }
            ,
            Iua.prototype.pO = function(t) {
                var e = CONSTS.ec
                  , r = this.ym().KO
                  , i = void 0 === r ? 1 : r
                  , n = t.fontSize
                  , a = void 0 === n ? 12 : n
                  , o = t.fillColor
                  , s = void 0 === o ? [0, 0, 0, 1] : o
                  , u = t.strokeColor
                  , c = t.strokeWidth
                  , f = void 0 === c ? 0 : c
                  , h = t.backgroundColor
                  , l = void 0 === h ? 0 : h
                  , d = t.borderColor;
                s = labelsUtil.Yj(Util.color2RgbaArray(s)),
                l = l ? labelsUtil.Yj(Util.color2RgbaArray(l)) : [0, 0, 0, 0],
                u = labelsUtil.Yj(Util.color2RgbaArray(u), [.988, .988, .988, 1]),
                d = labelsUtil.Yj(Util.color2RgbaArray(d), [.988, .988, .988, 1]);
                var v = (a = a || 12) < 10 ? .78125 : 205 / 256
                  , g = 0
                  , p = 0;
                f && (p = v * (1 - (f = 10 < f * i ? 10 : f) / 10.1)),
                g = 1.4142 * (g = e < a || 1 < i ? 1.7 : 1.5) / a;
                var b = v + 1.5 / 256 * (i - 1)
                  , y = new Float32Array(19);
                return y.set(s, 0),
                y.set(u, 4),
                y[8] = g,
                y[9] = p,
                y[10] = b,
                y.set(l, 11),
                y.set(d, 15),
                y
            }
            ,
            Iua.prototype.CT = function(t, e) {
                return this.Mf ? this.Mf.measureText(t, e) : this.NT ? (this.NT.font = (e || 12) + "px",
                this.NT.measureText(t.join("")).width) : 0
            }
            ,
            Iua.prototype.XO = function(t, e) {
                void 0 === t && (t = []),
                void 0 === e && (e = {});
                var r = CONSTS.JM
                  , i = CONSTS.ec
                  , n = e.direction
                  , a = void 0 === n ? r.LEFT : n
                  , o = e.size
                  , s = void 0 === o ? i : o
                  , u = (e.yO,
                this.CT(t, s))
                  , c = 0
                  , f = 0;
                switch (a) {
                case r.LEFT:
                    c = -u,
                    f = 0;
                    break;
                case r.QM:
                    f = c = 0;
                    break;
                case r.ZM:
                case r.tj:
                    c = -u / 2,
                    f = 0;
                    break;
                case r.ij:
                case r.nj:
                    c = -u / 2,
                    f = 0;
                    break;
                default:
                    f = c = 0
                }
                return [c, f]
            }
            ,
            Iua.prototype.JO = function(t, e, r, i) {
                var n = CONSTS.Qu
                  , a = CONSTS.ud
                  , o = this.$O
                  , s = i.size
                  , u = i.VO
                  , c = i.type
                  , f = void 0 === c ? 2 : c
                  , h = (i.id,
                i.zooms)
                  , l = i.height
                  , d = CONSTS.Kp
                  , v = this.Mf.mz(e) || {
                    index: CONSTS.IB,
                    char: this.PN[e],
                    pos: {
                        startX: 0,
                        startY: 0
                    }
                }
                  , g = v.index
                  , p = v.char
                  , b = v.pos
                  , y = u[0]
                  , m = u[1]
                  , T = h[0]
                  , M = h[1];
                if (p) {
                    var x = s / d.size
                      , A = p[0]
                      , w = p[1]
                      , S = p[2]
                      , P = p[3]
                      , $ = p[4]
                      , L = p[5]
                      , N = p[6]
                      , O = d.buffer;
                    if (0 < A && 0 < w) {
                        A += 2 * O,
                        w += 2 * O;
                        var k = r.x
                          , _ = r.y
                          , I = +(k + (S - O) * x)
                          , C = +(k + (S - O + A) * x)
                          , E = _ - P * x
                          , j = +(_ + (w - P) * x)
                          , R = 0
                          , F = 0;
                        n <= g && (R += b.startX,
                        F += b.startY);
                        var U = R + L
                          , D = F + N;
                        t.set([I, E, U, D, y, m, g, f, T, M, l, angle$1, C, E, U + A, D, y, m, g, f, T, M, l, angle$1, I, j, U, D + w, y, m, g, f, T, M, l, angle$1, I, j, U, D + w, y, m, g, f, T, M, l, angle$1, C, E, U + A, D, y, m, g, f, T, M, l, angle$1, C, j, U + A, D + w, y, m, g, f, T, M, l, angle$1], o),
                        this.$O += 6 * a
                    }
                    r.x = r.x + ($ + CONSTS.ic) * x
                } else
                    console.log("!metric", e, String.fromCharCode(e))
            }
            ,
            Iua.prototype.BO = function(t, e, r, i, n, a) {
                if (!e || !r)
                    return 0;
                var o = CONSTS.Mp
                  , s = CONSTS.Rp
                  , u = r
                  , c = e.text
                  , f = c.origin
                  , h = c.offset
                  , l = u.text || {}
                  , d = l.style
                  , v = void 0 === d ? {} : d
                  , g = l.direction
                  , p = void 0 === g ? "left" : g
                  , b = l.zooms
                  , y = void 0 === b ? [o, s] : b
                  , m = n
                  , T = f[0]
                  , M = f[1];
                if (f[2],
                !u.text || !u.text.style)
                    return 0;
                for (var x = m.length, A = !1 === v.fold ? 100 : 6, w = Math.ceil(x / A), S = Math.ceil(x / w), P = v.fontSize, $ = {
                    direction: p,
                    size: P,
                    yO: u.icon.length && u.icon[0].image
                }, L = this.XO(m.slice(0, S), $), N = 1 < w && "center" === p ? this.XO(m.slice(0, x % S || S), $) : L, O = [T, M], k = vector.add(h, L), _ = vector.add(h, N), I = {
                    x: k[0] || 0,
                    y: k[1] || 0
                }, C = a.height, E = 0, j = 0; j < x; j++) {
                    var R = m[j]
                      , F = w - Math.ceil((x - j) / S);
                    F || j || "center" !== p || (I.x = _[0]),
                    F && (I.y = k[1] + (P + 3) * F,
                    E !== F && (I.x = k[0])),
                    E = F,
                    this.JO(i.rp, R, I, {
                        size: P,
                        VO: O,
                        id: t,
                        zooms: y,
                        height: C
                    })
                }
                return x
            }
            ,
            Iua);
            function Iua(t) {
                this.DO = {
                    rp: [],
                    pp: [],
                    bd: [],
                    up: 0
                },
                this.ZO = [],
                this.options = {},
                this.Gj = {},
                this.Hj = {},
                this.Vj = {},
                this.QO = {},
                this.tI = {},
                this.Fs = {},
                this.$j = 0,
                this.qO = {},
                this.$O = 0,
                this.rI = {},
                this.iO = "nebula",
                this.No = Util.stamp(this),
                this.Mf = t.R_,
                this.ac = t.z_,
                this.PN = t.info || {},
                this.io = t.canvas,
                this.NT = t.Nz
            }
            var DefaultLabelsLayerOpts = {
                opacity: 1,
                collision: !0,
                animation: !0
            }
              , LabelMain = (EAa.prototype.Ns = function(t, e, r) {
                void 0 === r && (r = {});
                var i = r.zoom
                  , n = r.center
                  , a = r.from;
                this.nI = t,
                this.iI = !0,
                this.iO = a,
                this.eI.zoom = i || 20,
                this.oI(),
                this.hu = n,
                this.uI(r, e)
            }
            ,
            EAa.prototype.aO = function() {
                return this.eI
            }
            ,
            EAa.prototype.zL = function(t) {
                return this.Wj[t]
            }
            ,
            EAa.prototype.uI = function(t, e) {
                void 0 === t && (t = {});
                var r = this.iO
                  , i = {
                    center: this.hu,
                    from: r
                };
                assign(i, t),
                this.sI.nO(this, i),
                this.$j = this.sI.$j;
                var n = this.fI.LO(this, i);
                if (n) {
                    var a = {}
                      , o = {}
                      , s = n.Fz || {};
                    delete n.Fz;
                    var u = this.Gj;
                    if ("nebula" === this.iO) {
                        for (var c in u)
                            if (u.hasOwnProperty(c)) {
                                var f = u[c]
                                  , h = this.Vj[c]
                                  , l = f.data
                                  , d = l.extData
                                  , v = l.position
                                  , g = l.name
                                  , p = l.rank;
                                a[c] = {
                                    data: {
                                        position: v,
                                        name: g,
                                        rank: p,
                                        extData: {
                                            type: d.type,
                                            id: d.id,
                                            Lp: d.Lp,
                                            Ap: d.Ap,
                                            bz: d.bz
                                        }
                                    }
                                },
                                o[c] = {
                                    origin: h.origin,
                                    icon: {
                                        anchorOffset: h.icon.anchorOffset,
                                        size: h.icon.size
                                    },
                                    padding: h.padding
                                },
                                f.opts && (a[c].opts = {
                                    zooms: f.opts.zooms
                                })
                            }
                        e && e({
                            Nf: a,
                            style: this.Hj,
                            coords: o,
                            rp: n,
                            zp: this.zp,
                            Fz: s
                        })
                    } else
                        e && e({
                            Nf: u,
                            style: this.Hj,
                            coords: this.Vj,
                            rp: n,
                            zp: this.zp,
                            Fz: s
                        })
                }
            }
            ,
            EAa.prototype.oI = function() {
                for (var t = this.nI, e = this.Gj || {}, r = this.Wj, i = this.zp, n = CONSTS.Mp, a = CONSTS.Rp, o = CONSTS.Pp, s = CONSTS.jp, u = 0, c = t; u < c.length; u++) {
                    var f = c[u]
                      , h = f.data.id
                      , l = f.opts && f.opts.zooms || []
                      , d = l[0]
                      , v = void 0 === d ? n : d
                      , g = l[1]
                      , p = void 0 === g ? a : g
                      , b = isUndefined(r[h]) ? Util.stamp(this) : r[h];
                    h && (r[h] = b);
                    for (var y = Math.ceil(v - o); y <= p + s; )
                        i[y] || (i[y] = []),
                        i[y].push(b),
                        y++;
                    e[b] = f,
                    e[b].CO = this.Ws(f),
                    this.hI(f)
                }
                if ("undefined" != typeof Uint32Array)
                    for (var m in i)
                        i.hasOwnProperty(m) && (i[m] = new Uint32Array(i[m]));
                this.Gj = e
            }
            ,
            EAa.prototype.hI = function(t) {
                var e = this.Fs
                  , r = t.opts.icon
                  , i = r && r.image || "";
                i && (e[i] = 1)
            }
            ,
            EAa.prototype.Ws = function(t) {
                for (var e = this.Es, r = [], i = t.data.txt || "", n = 0; n < i.length; n++) {
                    var a = i.charCodeAt(n);
                    e[a] = 1,
                    r.push(a)
                }
                return r
            }
            ,
            EAa);
            function EAa(t) {
                if (this.CLASS_NAME = "AMap.LabelsLayer",
                this.Gj = {},
                this.Hj = {},
                this.Vj = {},
                this.Fs = {},
                this.Es = {},
                this.Wj = {},
                this.$j = 0,
                this.zp = {},
                this.render = null,
                this.eI = {},
                this.nI = [],
                this.cI = !1,
                this.iI = !1,
                this.iO = "",
                this.cI = !1,
                this._opts = assign({}, DefaultLabelsLayerOpts, {
                    opacity: t.opacity
                }),
                this.Mf = t.R_,
                this.ac = t.z_,
                this.PN = t.info || {},
                !t.R_)
                    try {
                        var e = this.io = document.createElement("canvas")
                          , r = void 0;
                        e && (r = this.NT = e.getContext("2d")),
                        t.canvas = e,
                        t.Nz = r
                    } catch (t) {
                        console.log("canvas 初始化失败")
                    }
                this.sI = new LabelLayer(t),
                this.fI = new LabelVertices(t)
            }
            var Actor = (NBa.prototype.send = function(t, e, r, i) {
                var n = this
                  , a = r ? this.dI + ":" + this.bI++ : null;
                r && a && (this.pI[a] = r);
                var o = []
                  , s = serialize(e, o);
                if (this.target.postMessage({
                    yI: i,
                    mI: this.dI,
                    type: t,
                    id: String(a),
                    data: s
                }, o),
                r)
                    return {
                        cancel: function() {
                            n.target.postMessage({
                                yI: i,
                                mI: n.dI,
                                type: "<cancel>",
                                id: String(a),
                                key: e.ya
                            }),
                            a && delete n.pI[a]
                        }
                    }
            }
            ,
            NBa.prototype.gI = function(t) {
                var e, n = this, r = t.data, a = r.id;
                if (!r.yI || this.dI === r.yI)
                    if ("<cancel>" === r.type)
                        e = this.pI[r.id],
                        delete this.pI[r.id],
                        e && e(null);
                    else if ("<response>" === r.type || "<cancel>" === r.type)
                        e = this.pI[r.id],
                        delete this.pI[r.id],
                        e && r.error ? e(deserialize(r.error)) : e && e(null, deserialize(r.data));
                    else if (void 0 !== r.id && this.parent[r.type]) {
                        var o = function(t, e) {
                            delete n.pI[a];
                            var r = []
                              , i = serialize(e, r);
                            n.target.postMessage({
                                mI: n.dI,
                                type: "<response>",
                                id: String(a),
                                error: t ? serialize(t) : null,
                                data: i
                            }, r),
                            o = void 0
                        };
                        this.pI[r.id] = null;
                        var i = this.parent[r.type](r.mI, deserialize(r.data), o);
                        i && null === this.pI[r.id] && (this.pI[r.id] = i.cancel)
                    }
            }
            ,
            NBa.prototype.remove = function() {
                this.target.removeEventListener("message", this.gI, !1)
            }
            ,
            NBa);
            function NBa(t, e, r) {
                this.UD = !1,
                this.gI = this.gI.bind(this),
                this.target = t,
                this.parent = e,
                this.dI = r,
                this.pI = {},
                this.bI = 0,
                this.target.addEventListener("message", this.gI, !1)
            }
            var StyleParser = (jCa.Wb = function(t) {
                return {
                    style: JSON.stringify(t.styles)
                }
            }
            ,
            jCa.Gb = function(t) {
                return new jCa(JSON.parse(t.style))
            }
            ,
            jCa.prototype.i_ = function() {
                this.EI = -1,
                this.CI = {}
            }
            ,
            jCa.prototype.setStyle = function(t) {
                this.Ve = t,
                this.i_()
            }
            ,
            jCa.prototype.kF = function(t) {
                this.bN = t
            }
            ,
            jCa.prototype.dn = function(t, e, r) {
                if (this.SI(t, e, r))
                    return this.CI[t + ":" + e];
                if (this.jk(t, e, r)) {
                    var i = this.Ak(t, e, r, this.Ve) || null;
                    return this.CI[t + ":" + e] = i
                }
                return i = this.kk(t, e, r) || null,
                this.CI[t + ":" + e] = i
            }
            ,
            jCa.prototype.MF = function(t, e) {
                var r = this.bN;
                if (!r || !r[t])
                    return null;
                if (r[t].styles && r[t].styles.color) {
                    var i = Util.getOptimalZoom(e)
                      , n = {};
                    for (var a in r[t].styles.color.nodes)
                        if (r[t].styles.color.nodes.hasOwnProperty(a)) {
                            var o = r[t].styles.color.nodes[a];
                            n[o.zoom] = o.value
                        }
                    var s = this._k(n, i);
                    return n[s] ? Util.Hex2Rgba(n[s]) : null
                }
                if (r[t].color) {
                    var u = r[t].color;
                    return Util.Hex2Rgba(u)
                }
            }
            ,
            jCa.prototype.Ok = function(t, e, r) {
                if (void 0 === this.styles[t])
                    return null;
                var i = this.styles[t][e];
                if (!i)
                    return null;
                var n = i.levelStyleMapping[r];
                return void 0 !== n ? i.browserStyle[n] : null
            }
            ,
            jCa.prototype.xk = function(t, e, r) {
                if (void 0 === this.styles[t])
                    return null;
                if (void 0 === this.styles[t][e])
                    return null;
                if (void 0 === this.styles[t][e].levelStyleMapping)
                    return null;
                if (void 0 === this.styles[t][e].browserStyle)
                    return null;
                var i = this.styles[t][e].levelStyleMapping
                  , n = this.styles[t][e].browserStyle
                  , a = Math.floor(r)
                  , o = Math.ceil(r)
                  , s = r - a < .8 ? a : o
                  , u = n[i[a]]
                  , c = n[i[o]];
                if ((u || c) && (u || s !== a) && (!u || c || s !== o) && (u || !c || a !== s)) {
                    if (!u && c) {
                        var f = g = cloneDeep(c);
                        g instanceof Array && (f = g[0]);
                        for (var h = Object.keys(f), l = 0; l < h.length; l++)
                            if (-1 < (b = h[l]).indexOf("Color") && f[b] && f[b].rgba) {
                                var d = (r - a - .8) / .2
                                  , v = Math.floor(f[b].rgba[3] * d);
                                f[b].rgba[3] = v
                            } else
                                -1 < b.indexOf("Width") && (d = (r - a - .8) / .2,
                                f[b] = f[b] * d);
                        return g
                    }
                    if (u && c) {
                        var g, p = g = cloneDeep(u);
                        for (f = c,
                        g instanceof Array && (p = g[0]),
                        g instanceof Array && (f = c[0]),
                        h = Object.keys(p),
                        l = 0; l < h.length; l++) {
                            var b;
                            if (-1 < (b = h[l]).indexOf("Width")) {
                                var y = (r - a) * (f[b] - p[b]) + p[b];
                                p[b] = y
                            }
                        }
                        return g
                    }
                    return null
                }
            }
            ,
            jCa.prototype.Ik = function(t, e, r) {
                var i = [];
                return i[0] = t[0] + (e[0] - t[0]) * r,
                i[1] = t[1] + (e[1] - t[1]) * r,
                i[2] = t[2] + (e[2] - t[2]) * r,
                i[3] = t[3] + (e[3] - t[3]) * r,
                i
            }
            ,
            jCa.prototype.kk = function(t, e, r) {
                var i = t.toString()[0];
                if ("1" !== i && "4" !== i)
                    return this.xk(t, e, r);
                var n = Util.getOptimalZoom(r);
                return this.Ok(t, e, n)
            }
            ,
            jCa.prototype.Ak = function(t, e, r, i) {
                var n = cloneDeep(this.styles[t][e])
                  , a = (n.type,
                n.levelStyleMapping)
                  , o = n.browserStyle
                  , s = r
                  , u = i[t][e]
                  , c = null;
                if (u.styles) {
                    var f = Util.getOptimalZoom(r);
                    if (u.styles.visible) {
                        var h = this._k(u.styles.visible.nodes, f);
                        if (h) {
                            var l = u.styles.visible.nodes[h];
                            if (void 0 !== l && !1 === l)
                                return null
                        }
                    }
                    for (var d = Object.keys(u.styles), v = 0; v < d.length; v++) {
                        var g = d[v]
                          , p = u.styles[g]
                          , b = null;
                        if (p.transitional && "linear" === p.transitional) {
                            var y = this.Tk(p.nodes, r);
                            if (!y || !y[0])
                                continue;
                            if (!(s = y[0]))
                                continue;
                            if (void 0 === (M = a[f]))
                                continue;
                            c = o[M],
                            1 === y.length ? b = p.nodes[s] : "color" === g && (b = this.Fk(y, p.nodes, r))
                        } else {
                            if (!(s = this._k(p.nodes, f)))
                                continue;
                            if (void 0 === (M = a[f]))
                                continue;
                            c = o[M],
                            b = p.nodes[s]
                        }
                        if (!c)
                            return null;
                        var m = t.toString()[0]
                          , T = this.uP(u, f);
                        if ("1" === m) {
                            if (!T)
                                return null;
                            this.NI(g, b, c)
                        } else
                            "2" === m ? (this.Sk(g, b, c),
                            !T && c && c[1] && (c[1] = null)) : "4" === m ? this.LI(g, b, c) : this.Ck(g, b, c)
                    }
                } else {
                    if (void 0 !== u.visible && !1 === u.visible)
                        return null;
                    var M;
                    if (void 0 === (M = a[s = Util.getOptimalZoom(s)]))
                        return null;
                    for (c = o[M],
                    d = Object.keys(u),
                    T = this.uP(u, s),
                    v = 0; v < d.length; v++) {
                        if (g = d[v],
                        !c)
                            return null;
                        if ("1" === (m = t.toString()[0])) {
                            if (!T)
                                return null;
                            this.NI(g, u[g], c)
                        } else
                            "2" === m ? (this.Sk(g, u[g], c),
                            !T && c && c[1] && (c[1] = null)) : "4" === m ? this.LI(g, u[g], c) : this.Ck(g, u[g], c)
                    }
                }
                return c
            }
            ,
            jCa.prototype.mn = function(t, e) {
                if (void 0 === this.styles[t])
                    return null;
                var r = this.styles[t][e];
                if (!r)
                    return [];
                var i = r.levelStyleMapping || {}
                  , n = Object.keys(i);
                return [parseInt(n[0], 10), parseInt(n[n.length - 1], 10)]
            }
            ,
            jCa.prototype.Lw = function(t, e) {
                if (void 0 === this.styles[t])
                    return null;
                var r = this.styles[t][e];
                return r ? r.z : null
            }
            ,
            jCa.prototype.mW = function(t, e) {
                var r = "butt";
                if (void 0 === this.styles[t])
                    return r;
                var i = this.styles[t][e];
                if (!i)
                    return r;
                var n = i.browserStyle;
                return n && n[0] && n[0][0] && (-1 < n[0][0].hn.indexOf("roundcap") ? r = "round" : -1 < n[0][0].hn.indexOf("squarecap") && (r = "square")),
                r
            }
            ,
            jCa.prototype.uP = function(t, e) {
                var r = !0;
                if (t.styles && t.styles.showLabel) {
                    var i = this._k(t.styles.showLabel.nodes, e)
                      , n = t.styles.showLabel.nodes[i];
                    void 0 !== n && !1 === n && (r = !1)
                } else
                    void 0 !== t.showLabel && !1 === t.showLabel && (r = !1);
                return r
            }
            ,
            jCa.prototype.SI = function(t, e, r) {
                var i = Math.floor(r * (16.8 <= r ? 100 : 10));
                return this.EI !== i && (this.EI = i,
                this.CI = {}),
                void 0 !== this.CI[t + ":" + e]
            }
            ,
            jCa.prototype.jk = function(t, e, r) {
                return !!(this.Ve && this.Ve[t] && this.Ve[t][e] && this.styles && this.styles[t] && this.styles[t][e])
            }
            ,
            jCa.prototype.Fk = function(t, e, r) {
                var i = Util.Hex2Rgba(e[t[0]])
                  , n = Util.Hex2Rgba(e[t[1]])
                  , a = (r - t[0]) / (t[1] - t[0]);
                return [Math.floor(i[0] + a * (n[0] - i[0])), Math.floor(i[1] + a * (n[1] - i[1])), Math.floor(i[2] + a * (n[2] - i[2])), Math.floor(i[3] + a * (n[3] - i[3]))]
            }
            ,
            jCa.prototype.Tk = function(t, e) {
                var r = [];
                if (t[e])
                    return r.push(e),
                    r;
                for (var i = !0, n = Math.floor(e); i && 0 < n; ) {
                    if (t[n]) {
                        r.push(n),
                        i = !1;
                        break
                    }
                    n--
                }
                for (n = Math.ceil(e),
                i = !0; i && n < 25; ) {
                    if (t[n]) {
                        r.push(n),
                        i = !1;
                        break
                    }
                    n++
                }
                return r
            }
            ,
            jCa.prototype._k = function(t, e) {
                if (!t)
                    return null;
                if (t[e])
                    return e;
                for (var r = !0, i = e; r && 0 < i; )
                    if (t[--i] || !1 === t[i] || "" === t[i]) {
                        r = !1;
                        break
                    }
                if (!r)
                    return i;
                for (i = e; r && i < 25; )
                    if (t[++i] || !1 === t[i] || "" === t[i]) {
                        r = !1;
                        break
                    }
                return r ? null : i
            }
            ,
            jCa.prototype.Ck = function(t, e, r) {
                var i = null;
                switch (t) {
                case "color":
                case "fillColor":
                    i = e,
                    Array.isArray(e) || (i = Util.Hex2Rgba(e)),
                    r.faceColor || (r.faceColor = {}),
                    r.faceColor.rgba = i;
                    break;
                case "fontSize":
                    r.fontSize = e;
                    break;
                case "texture":
                    r.texture = e ? AMap.getConfig().protocol + "://" + e : "";
                    break;
                case "backgroundColor":
                    i = Util.Hex2Rgba(e),
                    r.Ke || (r.Ke = {}),
                    r.Ke.rgba = i;
                    break;
                case "strokeColor":
                    i = Util.Hex2Rgba(e),
                    r.borderColor || (r.borderColor = {}),
                    r.borderColor.rgba = i;
                    break;
                case "showIcon":
                    !1 === e && r.He && (r.He = "0")
                }
            }
            ,
            jCa.prototype.LI = function(t, e, r) {
                var i = null;
                switch (t) {
                case "textFillColor":
                    i = e,
                    Array.isArray(e) || (i = Util.Hex2Rgba(e)),
                    r.faceColor || (r.faceColor = {}),
                    r.faceColor.rgba = i;
                    break;
                case "fontSize":
                    r.fontSize = e;
                    break;
                case "backgroundColor":
                    i = Util.Hex2Rgba(e),
                    r.Ke || (r.Ke = {}),
                    r.Ke.rgba = i;
                    break;
                case "textStrokeColor":
                    i = Util.Hex2Rgba(e),
                    r.borderColor || (r.borderColor = {}),
                    r.borderColor.rgba = i;
                    break;
                case "showIcon":
                    !1 === e && r.He && (r.He = "0")
                }
            }
            ,
            jCa.prototype.NI = function(t, e, r) {
                var i = null;
                switch (t) {
                case "showIcon":
                    !1 === e && r.He && (r.He = "0");
                    break;
                case "textFillColor":
                    i = e,
                    Array.isArray(e) || (i = Util.Hex2Rgba(e)),
                    r.faceColor || (r.faceColor = {}),
                    r.faceColor.rgba = i;
                    break;
                case "fontSize":
                    r.fontSize = e;
                    break;
                case "backgroundColor":
                    i = Util.Hex2Rgba(e),
                    r.Ke || (r.Ke = {}),
                    r.Ke.rgba = i;
                    break;
                case "textStrokeColor":
                    i = Util.Hex2Rgba(e),
                    r.borderColor || (r.borderColor = {}),
                    r.borderColor.rgba = i
                }
            }
            ,
            jCa.prototype.Sk = function(t, e, r) {
                var i = null;
                switch (t) {
                case "color":
                case "fillColor":
                    i = Util.Hex2Rgba(e),
                    r[0] && (r[0].roadColor || (r[0].roadColor = {}),
                    r[0].roadColor.rgba = i);
                    break;
                case "fillOpacity":
                    if (r[0] && r[0].roadColor && r[0].roadColor.rgba) {
                        var n = r[0].roadColor.rgba;
                        i = Util.Opacity2Rgba(e, n),
                        r[0].roadColor.rgba = i
                    }
                    break;
                case "fillWidth":
                    r[0] && (r[0].roadWidth = e);
                    break;
                case "strokeColor":
                    i = Util.Hex2Rgba(e),
                    r[0] && (r[0].borderColor || (r[0].borderColor = {}),
                    r[0].borderColor.rgba = i);
                    break;
                case "strokeWidth":
                    r[0] && (r[0].borderWidth = e);
                    break;
                case "textFillColor":
                    r[1] && (i = Util.Hex2Rgba(e),
                    r[1].faceColor || (r[1].faceColor = {}),
                    r[1].faceColor.rgba = i);
                    break;
                case "textStrokeColor":
                    r[1] && (i = Util.Hex2Rgba(e),
                    r[1].borderColor || (r[1].borderColor = {}),
                    r[1].borderColor.rgba = i)
                }
            }
            ,
            jCa), LoadFlag, UEa, VEa;
            function jCa(t) {
                this.CI = {},
                this.Ve = null,
                this.bN = null,
                this.styles = t
            }
            function b64toBlob(t, e, r) {
                void 0 === e && (e = ""),
                void 0 === r && (r = 512);
                for (var i = atob(t), n = [], a = 0; a < i.length; a += r) {
                    for (var o = i.slice(a, a + r), s = new Array(o.length), u = 0; u < o.length; u++)
                        s[u] = o.charCodeAt(u);
                    var c = new Uint8Array(s);
                    n.push(c)
                }
                return new Blob(n,{
                    type: e
                })
            }
            register("StyleParser", StyleParser),
            UEa = LoadFlag = LoadFlag || {},
            UEa.TEXTUREFINISH = "TEXTUREFINISH",
            UEa.UNLOAD = "unload",
            UEa.LOADING = "loading",
            UEa.LOADED = "loaded",
            UEa.FAIL = "fail",
            VEa = exports.qu || (exports.qu = {}),
            VEa.AllLoaded = "AllLoaded",
            VEa.AllUnLoaded = "AllUnLoaded",
            VEa.SomeLoading = "SomeLoading",
            VEa.AllLoading = "AllLoading";
            var SDFManagerWorker = (fFa = Event,
            __extends(gFa, fFa),
            gFa.prototype.commonWordImageLoaded = function() {
                this.kc = LoadFlag.TEXTUREFINISH,
                this.emit("commonWordImageLoaded", {})
            }
            ,
            gFa.prototype.pH = function() {
                return this.kc === LoadFlag.TEXTUREFINISH || this.kc === LoadFlag.LOADED
            }
            ,
            gFa.prototype.vW = function(t, e) {
                var r = e.tiles
                  , i = void 0 === r ? [] : r
                  , n = e.cb
                  , a = e.optimalZoom
                  , o = e.tags
                  , s = void 0 === o ? [] : o
                  , u = e.stamp;
                this.cN = a,
                this.fN[u] || (this.fN[u] = s);
                for (var c = 0; c < i.length; c++) {
                    var f = i[c]
                      , h = this.Zu(t);
                    e.result = h,
                    this.oa(t, {
                        Bw: f,
                        result: h,
                        cb: n,
                        optimalZoom: a,
                        stamp: u,
                        i: c
                    })
                }
            }
            ,
            gFa.prototype.oa = function(t, e) {
                var r = this
                  , i = e.cb
                  , n = e.Bw
                  , a = e.result
                  , o = e.optimalZoom
                  , s = e.stamp
                  , u = e.i
                  , c = a || this.Zu(t);
                switch (c.status) {
                case exports.qu.AllLoaded:
                    var f = this.wI();
                    n && (f.zo = n.zo),
                    f.optimalZoom = o;
                    var h = this.fN[s] && this.fN[s][u];
                    f.tag = h,
                    this.emit("dynamicTextTextureInfoLoaded", f),
                    i([]);
                    break;
                case exports.qu.AllUnLoaded:
                    var l = this.Yu(i, {
                        Bw: n,
                        stamp: s,
                        index: u
                    });
                    this.MI(c.Vu, function(t) {
                        void 0 === t && (t = {}),
                        r.Xu[l] = t,
                        r.Hu()
                    });
                    break;
                case exports.qu.SomeLoading:
                    var d = this.Yu(i, {
                        Bw: n,
                        stamp: s,
                        index: u
                    });
                    this.MI(c.Vu, function(t) {
                        void 0 === t && (t = {}),
                        r.Xu[d] = t,
                        r.Hu()
                    });
                    break;
                case exports.qu.AllLoading:
                    var v = this.Yu(i, {
                        Bw: n,
                        stamp: s,
                        index: u
                    });
                    this.Xu[v] = [],
                    this.Hu()
                }
            }
            ,
            gFa.prototype.mz = function(t) {
                var e = this.Ku
                  , r = this.info || {}
                  , i = this.SF;
                if (this.kc === LoadFlag.TEXTUREFINISH || this.kc === LoadFlag.LOADED)
                    for (var n = 0, a = this.Ku; n < a.length; n++) {
                        var o = a[n];
                        if (i.hasOwnProperty(o) && (s = i[o]).info[t])
                            return {
                                key: o,
                                index: e.indexOf(o),
                                char: s.info[t],
                                pos: s.pos
                            }
                    }
                for (var o in r) {
                    var s;
                    if (r.hasOwnProperty(o) && e.indexOf(o) < 0 && (s = r[o]).pos && s.info[t])
                        return {
                            key: o,
                            index: CONSTS.Qu,
                            char: s.info[t],
                            pos: s.pos
                        }
                }
                return null
            }
            ,
            gFa.prototype.measureText = function(t, e) {
                for (var r = CONSTS.ic, i = CONSTS.ec, n = 0, a = this.info, o = this.SF, s = e / this._size, u = this.nc, c = 0, f = t; c < f.length; c++) {
                    var h = f[c]
                      , l = void 0
                      , d = h;
                    if (!(l = 13312 <= d && d <= 40959 ? i : u[d]))
                        for (var v in o)
                            if (o.hasOwnProperty(v) && (g = o[v].info[d])) {
                                this.nc[h] = l = g[4];
                                break
                            }
                    if (!l)
                        for (var v in a) {
                            var g;
                            if (a.hasOwnProperty(v) && (g = a[v].info[d])) {
                                this.nc[h] = l = g[4];
                                break
                            }
                        }
                    n += (l + r) * s
                }
                return n
            }
            ,
            gFa.prototype.Ju = function(t) {
                for (var e = {}, r = 0, i = t; r < i.length; r++) {
                    var n = i[r]
                      , a = n.range
                      , o = n.info
                      , s = this.info;
                    s[a],
                    s[a] = {
                        info: o.info,
                        pos: {
                            startX: 0,
                            startY: 0
                        }
                    },
                    this.range.push(a),
                    e[a] = 1
                }
                return e
            }
            ,
            gFa.prototype.loadCommonWords = function(t, e) {
                var r = this;
                if (this.kc !== LoadFlag.LOADING && this.kc !== LoadFlag.LOADED && this.kc !== LoadFlag.TEXTUREFINISH) {
                    this.kc = LoadFlag.LOADING;
                    var i = CONSTS.yN;
                    this.jI(t, i, function(t) {
                        t ? (r.kc = LoadFlag.LOADED,
                        r.emit("commonWordImageLoaded", {}),
                        e(t)) : (r.kc = LoadFlag.FAIL,
                        console.error("commonword load errro"),
                        e(null))
                    })
                } else
                    e()
            }
            ,
            gFa.prototype.AI = function(t, e) {
                this.info[t] && (this.info[t].pos = e)
            }
            ,
            gFa.prototype.wI = function(t) {
                var e;
                if (t) {
                    for (var r = 0, i = t; r < i.length; r++) {
                        var n = i[r]
                          , a = this.kI.Qk(n.info.info);
                        if (a) {
                            var o = a.tO.Dk(n.info.info, n.info.url);
                            n.pos = o,
                            this.AI(n.range, o)
                        }
                    }
                    var s = this.kI.Xk();
                    0 < s.Uk && (e = {
                        Dm: s.zk,
                        data: s.Gk(),
                        OI: this.kI.currentIndex
                    }),
                    s.clear()
                } else
                    e = {
                        Dm: [],
                        data: null,
                        OI: 0
                    };
                return e
            }
            ,
            gFa.prototype.MI = function(e, r) {
                var i = this;
                void 0 === e && (e = []);
                for (var t = e.length, n = CONSTS.Mj, a = 0, o = e; a < o.length; a++) {
                    var s = o[a];
                    this._c[s] = !0
                }
                for (var u = Math.ceil(t / CONSTS.Mj), c = [], f = 0; f < u; ) {
                    var h = n * f
                      , l = t < h + n ? t : h + n
                      , d = e.slice(h, l)
                      , v = this.xI(d);
                    c.push(v),
                    f++
                }
                Promise.all(c).then(function(t) {
                    i.II(e),
                    i.Ju(t),
                    r(t)
                })
            }
            ,
            gFa.prototype.xI = function(t) {
                var o = this
                  , e = this.fc() + ("/getsdfdata?chars=" + t.join(",").split(",").join("|"));
                return new Promise(function(n, a) {
                    XHR.send(e, {
                        Me: "json",
                        method: "get",
                        qw: function(t) {
                            if (t && t.info) {
                                var e = o.vc(t.info)
                                  , r = b64toBlob(t.url.substring(22), "image/png")
                                  , i = URLObject.createObjectURL(r);
                                t.url = i,
                                n({
                                    range: e,
                                    info: t
                                })
                            } else
                                a(null)
                        },
                        error: function() {
                            a(null)
                        }
                    })
                }
                )
            }
            ,
            gFa.prototype.fc = function() {
                var t = CONSTS.pc
                  , e = this.protocol + t[this.dc];
                return this.dc = (this.dc + 1) % t.length,
                e
            }
            ,
            gFa.prototype.vc = function(t) {
                void 0 === t && (t = {});
                var e = map(Object.keys(t), function(t) {
                    return parseInt(t, 10)
                });
                e.sort(function(t, e) {
                    return t - e
                });
                var r = e.length;
                return 2 <= r ? e[0] + "-" + e[r - 1] : 1 === r ? "" + e[0] : ""
            }
            ,
            gFa.prototype.mc = function() {}
            ,
            gFa.prototype.gc = function(t) {
                var e = this.range || []
                  , r = this.info || {}
                  , i = this.SF;
                if (this.kc === LoadFlag.TEXTUREFINISH || this.kc === LoadFlag.LOADED)
                    for (var n = 0, a = this.Ku; n < a.length; n++) {
                        var o = a[n];
                        if (i.hasOwnProperty(o)) {
                            var s = o.split("-")
                              , u = parseInt(s[0] || "", 10)
                              , c = parseInt(s[1] || "", 10);
                            if (u <= t && t <= c && (i[o] && i[o].info || {})[t])
                                return !0
                        }
                    }
                for (var f = 0, h = e; f < h.length; f++)
                    if ((o = h[f]).indexOf("-") < 0) {
                        if (t === +o && (r[o] && r[o].info || {})[t])
                            return !0
                    } else if (s = o.split("-"),
                    u = parseInt(s[0] || "", 10),
                    c = parseInt(s[1] || "", 10),
                    u <= t && t <= c && (r[o] && r[o].info || {})[t])
                        return !0;
                return !1
            }
            ,
            gFa.prototype.wc = function(t) {
                return this._c[t]
            }
            ,
            gFa.prototype.Zu = function(t) {
                for (var e = [], r = (this.range,
                0), i = 0, n = 0, a = t; n < a.length; n++) {
                    var o = a[n];
                    this.gc(o) || (this.wc(o) ? i += 1 : (r += 1,
                    e.push(o)))
                }
                return 0 === i && 0 === r ? {
                    status: exports.qu.AllLoaded,
                    Vu: e
                } : 0 < r && 0 === i ? {
                    status: exports.qu.AllUnLoaded,
                    Vu: e
                } : 0 === r && 0 < i ? {
                    status: exports.qu.AllLoading,
                    Vu: e
                } : {
                    status: exports.qu.SomeLoading,
                    Vu: e
                }
            }
            ,
            gFa.prototype.TI = function(t, e, r) {
                try {
                    var i = new XMLHttpRequest;
                    i.open("GET", t),
                    i.responseType = "blob",
                    i.onerror = function() {
                        r({
                            code: 0
                        })
                    }
                    ,
                    i.onload = function() {
                        if (200 === i.status) {
                            var t = new FileReader;
                            t.onload = function() {
                                r(t.result, e)
                            }
                            ,
                            t.readAsDataURL(i.response)
                        } else
                            r({
                                code: 0
                            })
                    }
                    ,
                    i.send()
                } catch (t) {
                    r({
                        code: 0
                    })
                }
            }
            ,
            gFa.prototype.FI = function(n) {
                var o = this;
                void 0 === n && (n = []);
                var s = n.length
                  , u = 0
                  , c = 0
                  , f = [];
                return new Promise(function(a, t) {
                    for (var e = function(t) {
                        var e = c;
                        c += 1;
                        var r = t.url
                          , i = t.range;
                        o.Ku.push(i);
                        var n = o.protocol + r;
                        o.ac.loadImage(n, {
                            name: i,
                            type: "common",
                            cb: function(t) {
                                u++,
                                f[e] = t,
                                u === s && a(f)
                            }
                        })
                    }, r = 0, i = n; r < i.length; r++)
                        e(i[r])
                }
                )
            }
            ,
            gFa.prototype._I = function(r) {
                var i = this;
                return new Promise(function(e, t) {
                    XHR.send(i.protocol + r, {
                        Me: "json",
                        qw: function(t) {
                            e(t)
                        },
                        error: function() {
                            t()
                        }
                    })
                }
                )
            }
            ,
            gFa.prototype.jI = function(t, e, v) {
                for (var g = this, p = e.range || [], r = e.urlPrefix || "", i = e.version ? e.version : "1", n = [], a = r + "commonWordsInfo.v" + i + ".json", o = 0, s = p; o < s.length; o++) {
                    var u = s[o]
                      , c = r + u + ".v" + i + (t ? ".webp" : ".png");
                    n.push({
                        range: u,
                        url: c
                    })
                }
                var f = this._I(a)
                  , h = this.FI(n);
                Promise.all([f, h]).then(function(t) {
                    for (var e = g.Ku, r = [], i = [], n = t[0], a = t[1], o = 0, s = n.length; o < s; o++) {
                        var u = n[o]
                          , c = a[o];
                        u && c.status === exports.uc.LOADED || v(null)
                    }
                    for (o = 0,
                    s = n.length; o < s; o++) {
                        u = n[o],
                        c = a[o];
                        var f = p[o];
                        u && c.status === exports.uc.LOADED && (g.SF[f] || (g.SF[f] = {
                            info: u,
                            pos: {
                                startX: 0,
                                startY: 0
                            }
                        }))
                    }
                    for (var h = 0, l = e; h < l.length; h++) {
                        var d = l[h];
                        r.push(g.ac.getImage(d)),
                        i.push({
                            range: d,
                            info: {
                                info: g.SF[d].info
                            },
                            pos: g.SF[d].pos
                        })
                    }
                    v({
                        Ku: e,
                        hc: r,
                        jm: i
                    })
                }).catch(function(t) {
                    console.error(t),
                    v(null)
                })
            }
            ,
            gFa.prototype.Yu = function(t, e) {
                void 0 === e && (e = {});
                var r = this.yc += 1;
                return this.xc.push(r),
                this.bc[r] = t,
                this.bc[r] = {
                    cb: t,
                    params: e
                },
                r
            }
            ,
            gFa.prototype.Hu = function() {
                var t = this.xc[0];
                if (t) {
                    var e = this.Xu[t];
                    if (e) {
                        this.xc.shift();
                        var r = this.bc[t];
                        if (r) {
                            var i = this.wI(e)
                              , n = void 0
                              , a = r.params || {};
                            if (a.Bw && (i.zo = n = r.params.Bw.zo),
                            i.optimalZoom = this.cN,
                            n) {
                                var o = this.fN[a.stamp] && this.fN[a.stamp][a.index];
                                i.tag = o
                            }
                            this.emit("dynamicTextTextureInfoLoaded", i),
                            this.emit("dynamicTextSDFInfoLoaded", {
                                data: e
                            }),
                            r.cb(e)
                        } else
                            console.error("sdf task error");
                        delete this.Xu[t],
                        delete this.bc[t],
                        this.Hu()
                    }
                }
            }
            ,
            gFa.prototype.II = function(t) {
                for (var e = 0, r = t; e < r.length; e++) {
                    var i = r[e];
                    delete this._c[i]
                }
            }
            ,
            gFa), fFa;
            function gFa(t) {
                var e = fFa.call(this) || this;
                return e.protocol = "https",
                e.range = [],
                e.Ku = [],
                e.info = {},
                e.SF = {},
                e.dc = 0,
                e.kc = LoadFlag.UNLOAD,
                e._c = {},
                e._size = 24,
                e.nc = {},
                e.xc = [],
                e.bc = {},
                e.Xu = {},
                e.yc = 1,
                e.fN = {},
                e.kI = new MockTextureManager,
                e.ac = t.z_,
                e
            }
            var TaskPool = (dJa.prototype.nS = function(r, t) {
                var i = this;
                return this.SN[r] = !0,
                this.listener[r] || (this.listener[r] = []),
                t(function(t, e) {
                    i.$N(r, t, e)
                })
            }
            ,
            dJa.prototype.cancel = function(t) {
                delete this.SN[t]
            }
            ,
            dJa.prototype.has = function(t) {
                return Boolean(this.SN[t])
            }
            ,
            dJa.prototype.GN = function(t) {
                return this.listener[t] && 0 < this.listener[t].length
            }
            ,
            dJa.prototype.SH = function(t, e) {
                this.listener[t] || (this.listener[t] = []),
                this.listener[t].push(e)
            }
            ,
            dJa.prototype.kN = function(t, e) {
                if (this.listener[t]) {
                    var r = this.listener[t].indexOf(e);
                    -1 < r && this.listener[t].splice(r, 1)
                }
            }
            ,
            dJa.prototype.$N = function(t, e, r) {
                delete this.SN[t];
                var i = this.listener[t];
                if (delete this.listener[t],
                i)
                    for (var n = 0, a = i; n < a.length; n++)
                        (0,
                        a[n])(e, r)
            }
            ,
            dJa);
            function dJa() {
                this.listener = {},
                this.SN = {}
            }
            var StaticSDFManagerWorker = (yJa.prototype.oa = function(t, e, r) {
                var s = this
                  , u = staticSDFTileKeyToKey(t);
                if (!u)
                    return console.log("!key"),
                    r(null, [void 0, ""]),
                    {
                        cancel: noop
                    };
                var i = this.fc()
                  , c = i + u + ".json"
                  , f = i + u + (e ? ".webp" : ".png");
                if (void 0 !== this._N[u] && void 0 !== this.NN[u])
                    return r(null, [this._N[u], this.NN[u]]),
                    {
                        cancel: noop
                    };
                function h(t, e) {
                    r(t, e)
                }
                var n = this.LN.has(u);
                return this.LN.SH(u, h),
                n ? {
                    cancel: noop
                } : this.LN.nS(u, function(n) {
                    var a = 0
                      , o = []
                      , t = s.ON(c, function(t, e) {
                        t ? "404" !== t ? (console.log(t),
                        n(t, null)) : (o[0] = e ? {} : null,
                        s._N[u] = o[0],
                        2 == ++a && n(null, o)) : (o[0] = e,
                        s._N[u] = e,
                        2 == ++a && n(null, o))
                    })
                      , e = s.IN(f, function(t, e) {
                        if (t || !e)
                            "404" !== t ? (console.log(t),
                            n(t, e)) : (o[1] = "",
                            s.NN[u] = o[1],
                            2 == ++a && n(null, o));
                        else if (!e || e && e.byteLength < 128)
                            o[1] = "",
                            s.NN[u] = o[1],
                            2 == ++a && n(null, o);
                        else {
                            var r = new Blob([e],{
                                type: "image/webp"
                            })
                              , i = URLObject.createObjectURL(r);
                            if (!i)
                                return console.log("createObjectURL fail"),
                                void n("createObjectURL fail", null);
                            o[1] = i,
                            s.NN[u] = i,
                            2 == ++a && n(null, o)
                        }
                    });
                    return "lesszoom10" !== u ? {
                        cancel: function() {
                            s.LN.kN(u, h),
                            s.LN.GN(u) || (t.abort(),
                            e.abort(),
                            s.LN.cancel(u)),
                            h("cancel", null)
                        }
                    } : {
                        cancel: function() {
                            s.LN.kN(u, h),
                            h("cancel", null)
                        }
                    }
                })
            }
            ,
            yJa.prototype.NW = function(t) {
                var e = this.NN[t];
                e && URLObject.revokeObjectURL(e),
                delete this.NN[t],
                delete this._N[t]
            }
            ,
            yJa.prototype.zW = function(t) {
                this._N = {},
                this.NN = {},
                this.jN = ["://glyph.amap.com/sdf" + t + "/", "://glyph01.amap.com/sdf" + t + "/", "://glyph01.amap.com/sdf" + t + "/", "://glyph02.amap.com/sdf" + t + "/", "://glyph03.amap.com/sdf" + t + "/", "://glyph04.amap.com/sdf" + t + "/"]
            }
            ,
            yJa.prototype.ON = function(t, e) {
                var r = t;
                return this.CN.send(r, {
                    Me: "json",
                    method: "get",
                    qw: function(t) {
                        e(null, t || null)
                    },
                    Aw: function(t) {
                        e(t && t.message || "unknown error")
                    }
                })
            }
            ,
            yJa.prototype.IN = function(t, e) {
                var r = t;
                return this.CN.send(r, {
                    Me: "arraybuffer",
                    method: "get",
                    qw: function(t) {
                        t ? e(null, t) : e("empty data", null)
                    },
                    Aw: function(t) {
                        e(t && t.message || "unknown error")
                    }
                })
            }
            ,
            yJa.prototype.fc = function() {
                this.EN = this.EN % this.jN.length;
                var t = this.parent.protocol + this.jN[this.EN];
                return this.EN++,
                t
            }
            ,
            yJa);
            function yJa(t, e) {
                this.parent = t,
                this.CN = e,
                this.jN = [],
                this.EN = 0,
                this._N = {},
                this.NN = {},
                this.LN = new TaskPool,
                this.zW(this.parent.GW.db),
                this.parent.Uh.send("updateDataVersion", this.parent.GW.nebulaVersion)
            }
            var emptyObj = {}
              , SDFStaticTextureCache = (mKa.prototype.xH = function(t, e) {
                void 0 === e && (e = !1);
                var r = staticSDFTileKeyToKey(t)
                  , i = this.RN[r];
                if (e) {
                    if (!i)
                        return;
                    i.indexOf(t) < 0 && i.push(t)
                }
                return this.DN.getImage(r)
            }
            ,
            mKa.prototype.LB = function(t) {
                var e = staticSDFTileKeyToKey(t);
                return this.XN[e] || emptyObj
            }
            ,
            mKa.prototype.bH = function(i, n, a, o) {
                var s = this
                  , u = staticSDFTileKeyToKey(i);
                this.DN.addImage(u, {
                    url: n,
                    cb: function(t, e) {
                        if (!t) {
                            URLObject.revokeObjectURL(n),
                            s.RN[u] || (s.RN[u] = [],
                            s.XN[u] = a);
                            var r = s.RN[u];
                            r.indexOf(i) < 0 && r.push(i)
                        }
                        o(t, e)
                    }
                })
            }
            ,
            mKa.prototype.kH = function(t) {
                var e = staticSDFTileKeyToKey(t)
                  , r = this.RN[e];
                if (r) {
                    var i = r.indexOf(t);
                    0 <= i && r.splice(i, 1),
                    0 === r.length && (this.DN.RH(e),
                    this.UN.deleteTileStaticSDF(e),
                    delete this.RN[e],
                    delete this.XN[e])
                } else
                    delete this.XN[e]
            }
            ,
            mKa);
            function mKa(t, e, r) {
                this.parent = t,
                this.DN = e,
                this.UN = r,
                this.RN = {},
                this.XN = {}
            }
            exports.Ge = AMapStyleSource,
            exports.Bh = Actor,
            exports.bb = BezierUtil,
            exports.BuildingLayer = BuildingLayer,
            exports.tc = CONSTS,
            exports._n = Color,
            exports.hL = Coordinate,
            exports.DistrictLayer = DistrictLayer$1,
            exports.La = DynamicVertice,
            exports.Event = Event,
            exports.iz = FillExtrusionBucket,
            exports.GeometryUtil = GeometryUtil,
            exports.rW = GeometryUtilCls,
            exports.$s = LabelMain,
            exports.Jw = LabelTileWorker,
            exports.lw = Layer,
            exports.LngLat = LngLat$2,
            exports.za = LocalTileZoom,
            exports.Ra = LocalZoom,
            exports.vo = MockTextureManager,
            exports.Module = Module,
            exports._w = NebulaSegements,
            exports.pa = NebulaTile,
            exports.TD = NebulaTileCache,
            exports.wa = NebulaTileCoord,
            exports.pw = Pbf,
            exports.Pixel = Pixel,
            exports.kS = PlaneGeometryUtilInstance,
            exports.K_ = PolygonBucket,
            exports.J_ = PolylineBucket,
            exports.at = ProjectionManager,
            exports.tS = Queue,
            exports.MB = QueueBuilder,
            exports.Vs = RasterTile,
            exports.jb = SDFManagerWorker,
            exports.LH = SDFStaticTextureCache,
            exports.Size = Size,
            exports.yp = SmartArrayBuffer,
            exports.xW = StaticSDFManagerWorker,
            exports.Cn = StyleParser,
            exports._ = Support,
            exports.zb = SymbolArray,
            exports.vH = Task,
            exports.IH = TaskPool,
            exports.Am = TextCombineTexture,
            exports.Gh = Tile,
            exports.OD = TileCache,
            exports.ca = TileCoord,
            exports.TileLayer = TileLayer,
            exports.V = transform,
            exports.cc = URLObject,
            exports.Util = Util,
            exports.Sw = VectorTile$1,
            exports.tW = VectorTile,
            exports.LW = VectorTileSegements,
            exports.Yw = XHR,
            exports.Ei = __extends,
            exports.Pt = __spreadArrays,
            exports.assign = assign,
            exports.jw = calcTileMectorBounds,
            exports.clone = clone$1,
            exports.Ex = clone,
            exports.yn = cloneDeep,
            exports.eg = copy,
            exports.create = create$3,
            exports.Il = create,
            exports.Dl = create$1,
            exports.Zl = create$2,
            exports.Ss = defaultsDeep,
            exports.Db = distanceBetweenPos,
            exports.oL = distanceOfMultiPolyline,
            exports.nL = distanceOfPolyline,
            exports.equals = equals$1,
            exports.Ru = equals,
            exports.every = every,
            exports.filter = filter,
            exports.find = find,
            exports.findIndex = findIndex,
            exports.forEach = forEach$3,
            exports.vx = forIn,
            exports.Bu = fromValues$3,
            exports.xd = fromValues$2,
            exports.sL = generateGeodesicPath,
            exports.N$ = getMultiPolygonArea,
            exports.E$ = getPolygonArea,
            exports.Ol = getTranslation,
            exports.Ul = invert,
            exports.xs = isBounds,
            exports.sB = isCircleMarker,
            exports.isEmpty = isEmpty,
            exports.isEqual = isEqual,
            exports.isFunction = isFunction,
            exports.px = isLayer,
            exports.Bs = isLngLat,
            exports.iL = isLnglatLikeArray,
            exports.eL = isLnglatLikeArrayArray,
            exports.yL = isLnglatLikeArrayArrayArray,
            exports.zm = isNebulaLabelsLayer,
            exports.ys = isNumberArrayArray,
            exports.Ox = isNumberArrayArrayArray,
            exports.tL = isNumberArrayArrayArrayArray,
            exports.er = isOverlay,
            exports.RF = isOverlayGroup,
            exports.oy = isPixel,
            exports.ay = isSize,
            exports.jz = isUndefined,
            exports.FF = isVectorLayer,
            exports.jsonLngLatData = jsonLngLatData,
            exports.keys = keys,
            exports.bf = labelsUtil,
            exports.lcs = lcs,
            exports.lookAt = lookAt,
            exports.map = map,
            exports.V$ = moveMultiPolygonWithPixel,
            exports.J$ = moveMultiPolygonWithPos,
            exports.H$ = movePolygonWithPixel,
            exports.Y$ = movePolygonWithPos,
            exports.G$ = moveRingWithPixel,
            exports.Z$ = moveRingWithPos,
            exports.K$ = multiPolygonJson,
            exports.aL = multiPolylineJson,
            exports.multiply = multiply,
            exports.ou = ortho,
            exports.parseLngLatData = parseLngLatData,
            exports.perspective = perspective,
            exports.W$ = pointInMultiPolygon,
            exports.U$ = pointInPolygon,
            exports.pointInRing = pointInRing,
            exports.scale = scale,
            exports.set = set$1,
            exports.Pl = set,
            exports.some = some,
            exports.subtract = subtract,
            exports.TH = testWepP,
            exports.Gu = transformMat4,
            exports.Sp = vector
        }),
        define(["./shared"], function(StaticSDFManagerWorker) {
            var Ring = {
                read: function(r, e) {
                    return r.nw(Ring.iw, {
                        path: []
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r && t.tw(e.path, !0)
                },
                write: function(r, e) {
                    if (r.path)
                        for (var t = 0; t < r.path.length; t++)
                            e.rw(0, r.path[t])
                }
            }
              , Building = {
                read: function(r, e) {
                    return r.nw(Building.iw, {
                        minzoom: 0,
                        maxzoom: 0,
                        path: [],
                        height: 0,
                        ew: ""
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r ? e.minzoom = t.ow() : 1 === r ? e.maxzoom = t.ow() : 2 === r ? e.path.push(Ring.read(t, t.ow() + t.pos)) : 3 === r ? e.height = t.ow() : 4 === r && (e.ew = t.aw())
                },
                write: function(r, e) {
                    if (r.minzoom && e.rw(0, r.minzoom),
                    r.maxzoom && e.rw(1, r.maxzoom),
                    r.path)
                        for (var t = 0; t < r.path.length; t++)
                            e.fw(2, Ring.write, r.path[t]);
                    r.height && e.rw(3, r.height),
                    r.ew && e.uw(4, r.ew)
                }
            }
              , BuildingSameStyle = {
                read: function(r, e) {
                    return r.nw(BuildingSameStyle.iw, {
                        mainkey: 0,
                        subkey: 0,
                        items: [],
                        resolution: 0
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r ? e.mainkey = t.ow() : 1 === r ? e.subkey = t.ow() : 2 === r ? e.items.push(Building.read(t, t.ow() + t.pos)) : 3 === r && (e.resolution = t.ow())
                },
                write: function(r, e) {
                    if (r.mainkey && e.rw(0, r.mainkey),
                    r.subkey && e.rw(1, r.subkey),
                    r.items)
                        for (var t = 0; t < r.items.length; t++)
                            e.fw(2, Building.write, r.items[t]);
                    r.resolution && e.rw(3, r.resolution)
                }
            }
              , buildingLayer = {
                read: function(r, e) {
                    return r.nw(buildingLayer.iw, {
                        building: []
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r && e.building.push(BuildingSameStyle.read(t, t.ow() + t.pos))
                },
                write: function(r, e) {
                    if (r.building)
                        for (var t = 0; t < r.building.length; t++)
                            e.fw(0, BuildingSameStyle.write, r.building[t])
                }
            }
              , Poi = {
                read: function(r, e) {
                    return r.nw(Poi.iw, {
                        minzoom: 0,
                        maxzoom: 0,
                        pos: [],
                        cw: "",
                        ew: "",
                        name: "",
                        rank: 0
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r ? e.minzoom = t.ow() : 1 === r ? e.maxzoom = t.ow() : 2 === r ? t.tw(e.pos, !0) : 3 === r ? e.cw = t.aw() : 4 === r ? e.ew = t.aw() : 5 === r ? e.name = t.aw() : 6 === r && (e.rank = t.ow())
                },
                write: function(r, e) {
                    if (r.minzoom && e.rw(0, r.minzoom),
                    r.maxzoom && e.rw(1, r.maxzoom),
                    r.pos)
                        for (var t = 0; t < r.pos.length; t++)
                            e.rw(2, r.pos[t]);
                    r.cw && e.uw(3, r.cw),
                    r.ew && e.uw(4, r.ew),
                    r.name && e.uw(5, r.name),
                    r.rank && e.rw(6, r.rank)
                }
            }
              , PoiSameStyle = {
                read: function(r, e) {
                    return r.nw(PoiSameStyle.iw, {
                        mainkey: 0,
                        subkey: 0,
                        items: [],
                        resolution: 0
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r ? e.mainkey = t.ow() : 1 === r ? e.subkey = t.ow() : 2 === r ? e.items.push(Poi.read(t, t.ow() + t.pos)) : 3 === r && (e.resolution = t.ow())
                },
                write: function(r, e) {
                    if (r.mainkey && e.rw(0, r.mainkey),
                    r.subkey && e.rw(1, r.subkey),
                    r.items)
                        for (var t = 0; t < r.items.length; t++)
                            e.fw(2, Poi.write, r.items[t]);
                    r.resolution && e.rw(3, r.resolution)
                }
            }
              , poiLayer = {
                read: function(r, e) {
                    return r.nw(poiLayer.iw, {
                        poilabel: []
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r && e.poilabel.push(PoiSameStyle.read(t, t.ow() + t.pos))
                },
                write: function(r, e) {
                    if (r.poilabel)
                        for (var t = 0; t < r.poilabel.length; t++)
                            e.fw(0, PoiSameStyle.write, r.poilabel[t])
                }
            }
              , Ring$1 = {
                read: function(r, e) {
                    return r.nw(Ring$1.iw, {
                        path: []
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r && t.tw(e.path, !0)
                },
                write: function(r, e) {
                    if (r.path)
                        for (var t = 0; t < r.path.length; t++)
                            e.rw(0, r.path[t])
                }
            }
              , Region = {
                read: function(r, e) {
                    return r.nw(Region.iw, {
                        minzoom: 0,
                        maxzoom: 0,
                        path: [],
                        sw: ""
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r ? e.minzoom = t.ow() : 1 === r ? e.maxzoom = t.ow() : 2 === r ? e.path.push(Ring$1.read(t, t.ow() + t.pos)) : 3 === r && (e.sw = t.aw())
                },
                write: function(r, e) {
                    if (r.minzoom && e.rw(0, r.minzoom),
                    r.maxzoom && e.rw(1, r.maxzoom),
                    r.path)
                        for (var t = 0; t < r.path.length; t++)
                            e.fw(2, Ring$1.write, r.path[t]);
                    r.sw && e.uw(3, r.sw)
                }
            }
              , RegionSameStyle = {
                read: function(r, e) {
                    return r.nw(RegionSameStyle.iw, {
                        mainkey: 0,
                        subkey: 0,
                        items: [],
                        resolution: 0
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r ? e.mainkey = t.ow() : 1 === r ? e.subkey = t.ow() : 2 === r ? e.items.push(Region.read(t, t.ow() + t.pos)) : 3 === r && (e.resolution = t.ow())
                },
                write: function(r, e) {
                    if (r.mainkey && e.rw(0, r.mainkey),
                    r.subkey && e.rw(1, r.subkey),
                    r.items)
                        for (var t = 0; t < r.items.length; t++)
                            e.fw(2, Region.write, r.items[t]);
                    r.resolution && e.rw(3, r.resolution)
                }
            }
              , regionLayer = {
                read: function(r, e) {
                    return r.nw(regionLayer.iw, {
                        region: []
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r && e.region.push(RegionSameStyle.read(t, t.ow() + t.pos))
                },
                write: function(r, e) {
                    if (r.region)
                        for (var t = 0; t < r.region.length; t++)
                            e.fw(0, RegionSameStyle.write, r.region[t])
                }
            }
              , Road = {
                read: function(r, e) {
                    return r.nw(Road.iw, {
                        minzoom: 0,
                        maxzoom: 0,
                        path: [],
                        shield: "",
                        dw: 0,
                        name: "",
                        rank: 0
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r ? e.minzoom = t.ow() : 1 === r ? e.maxzoom = t.ow() : 2 === r ? t.tw(e.path, !0) : 3 === r ? e.shield = t.aw() : 4 === r ? e.dw = t.ow() : 5 === r ? e.name = t.aw() : 6 === r && (e.rank = t.ow())
                },
                write: function(r, e) {
                    if (r.minzoom && e.rw(0, r.minzoom),
                    r.maxzoom && e.rw(1, r.maxzoom),
                    r.path)
                        for (var t = 0; t < r.path.length; t++)
                            e.rw(2, r.path[t]);
                    r.shield && e.uw(3, r.shield),
                    r.dw && e.rw(4, r.dw),
                    r.name && e.uw(5, r.name),
                    r.rank && e.rw(6, r.rank)
                }
            }
              , RoadSameStyle = {
                read: function(r, e) {
                    return r.nw(RoadSameStyle.iw, {
                        mainkey: 0,
                        subkey: 0,
                        items: [],
                        resolution: 0
                    }, e)
                },
                iw: function(r, e, t, a) {
                    0 === r ? e.mainkey = t.ow() : 1 === r ? e.subkey = t.ow() : 2 === r ? e.items.push(Road.read(t, t.ow() + t.pos)) : 3 === r && (e.resolution = t.ow())
                },
                write: function(r, e) {
                    if (r.mainkey && e.rw(0, r.mainkey),
                    r.subkey && e.rw(1, r.subkey),
                    r.items)
                        for (var t = 0; t < r.items.length; t++)
                            e.fw(2, Road.write, r.items[t]);
                    r.resolution && e.rw(3, r.resolution)
                }
            }
              , roadLayer = {
                read: function(r, e) {
                    return r.nw(roadLayer.iw, {
                        road: []
                    }, e)
                },
                iw: function(r, e, t, a) {
                    0 === r && e.road.push(RoadSameStyle.read(t, t.ow() + t.pos))
                },
                write: function(r, e) {
                    if (r.road)
                        for (var t = 0; t < r.road.length; t++)
                            e.fw(0, RoadSameStyle.write, r.road[t])
                }
            }
              , roadNameLayer = {
                read: function(r, e) {
                    return r.nw(roadNameLayer.iw, {
                        roadName: []
                    }, e)
                },
                iw: function(r, e, t, a) {
                    0 === r && e.roadName.push(RoadSameStyle.read(t, t.ow() + t.pos))
                },
                write: function(r, e) {
                    if (r.roadName)
                        for (var t = 0; t < r.road.length; t++)
                            e.fw(0, RoadSameStyle.write, r.roadName[t])
                }
            }
              , result = {
                read: function(r, e) {
                    return r.nw(result.iw, {
                        tiles: [],
                        version: "",
                        status: !1,
                        db: ""
                    }, e)
                },
                iw: function(r, e, t) {
                    0 === r ? e.tiles.push(result.Gh.read(t, t.ow() + t.pos)) : 1 === r ? e.version = t.aw() : 2 === r ? e.status = t.vw() : 3 === r && (e.db = t.aw())
                },
                write: function(r, e) {
                    if (r.tiles)
                        for (var t = 0; t < r.tiles.length; t++)
                            e.fw(0, result.Gh.write, r.tiles[t]);
                    r.version && e.uw(1, r.version),
                    r.status && e.hw(2, r.status),
                    r.db && e.uw(3, r.db)
                },
                Gh: {
                    read: function(r, e) {
                        return r.nw(result.Gh.iw, {
                            z: 0,
                            x: 0,
                            y: 0,
                            layers: []
                        }, e)
                    },
                    iw: function(r, e, t) {
                        0 === r ? e.z = t.ow() : 1 === r ? e.x = t.ow() : 2 === r ? e.y = t.ow() : 3 === r ? e.layers.push(result.Gh.lw.read(t, t.ow() + t.pos)) : 4 === r && (e.t = t.ow())
                    },
                    write: function(r, e) {
                        if (r.z && e.rw(0, r.z),
                        r.x && e.rw(1, r.x),
                        r.y && e.rw(2, r.y),
                        r.layers)
                            for (var t = 0; t < r.layers.length; t++)
                                e.fw(3, result.Gh.lw.write, r.layers[t]);
                        void 0 !== r.t && e.rw(4, r.t)
                    },
                    lw: {
                        read: function(r, e) {
                            return r.nw(result.Gh.lw.iw, {
                                z: 0,
                                x: 0,
                                y: 0,
                                type: 0,
                                d: null,
                                t: 0
                            }, e)
                        },
                        iw: function(r, e, t) {
                            0 === r ? e.z = t.ow() : 1 === r ? e.x = t.ow() : 2 === r ? e.y = t.ow() : 3 === r ? e.type = t.ow() : 4 === r ? e.d = t.mw() : 5 === r && (e.tag = t.ow())
                        },
                        write: function(r, e) {
                            r.z && e.rw(0, r.z),
                            r.x && e.rw(1, r.x),
                            r.y && e.rw(2, r.y),
                            r.type && e.rw(3, r.type),
                            r.d && e.ww(4, r.d),
                            r.t && e.rw(5, r.t)
                        }
                    }
                }
            }
              , decodePois = function(r) {
                var e = new StaticSDFManagerWorker.pw(r);
                return poiLayer.read(e)
            }
              , decodeRoads = function(r) {
                var e = new StaticSDFManagerWorker.pw(r);
                return roadLayer.read(e)
            }
              , decodeRoadNames = function(r) {
                var e = new StaticSDFManagerWorker.pw(r);
                return roadNameLayer.read(e)
            }
              , decodeRegions = function(r) {
                var e = new StaticSDFManagerWorker.pw(r);
                return regionLayer.read(e)
            }
              , decodeBuildings = function(r) {
                var e = new StaticSDFManagerWorker.pw(r);
                return buildingLayer.read(e)
            }
              , decodeTiles = function(r) {
                for (var e = new StaticSDFManagerWorker.pw(r), t = result.read(e), a = t.tiles, n = 0, i = a.length; n < i; n += 1)
                    for (var o = a[n].layers, c = 0, u = o.length; c < u; c += 1)
                        switch (o[c].type) {
                        case 0:
                            o[c].d = decodePois(o[c].d);
                            break;
                        case 1:
                            o[c].d = decodeRoads(o[c].d);
                            break;
                        case 2:
                            o[c].d = decodeRegions(o[c].d);
                            break;
                        case 3:
                            o[c].d = decodeBuildings(o[c].d);
                            break;
                        case 4:
                            o[c].d = decodeRoadNames(o[c].d)
                        }
                return t
            }
              , DEF_NDS_MAX_COORD = 2147483648
              , DEF_DEGREE_MAX_COORD = 180
              , MIN_LAT_WGS = -90
              , MAX_LAT_WGS = 90
              , MIN_LON_WGS = -180
              , MAX_LON_WGS = 180
              , MKT = 20037508.342789244;
            function tileInnerCoord2LngLat(r, e, t, a) {
                var n = getTileSWCoord(r, e)
                  , i = t + n[0]
                  , o = a + n[1]
                  , c = getCoordShift(r.z, e);
                return t = i << c,
                a = o << c,
                0 < i && t < 0 && (t = DEF_NDS_MAX_COORD - 1),
                [coord2Degree(t), coord2Degree(a)]
            }
            function lnglat2WGSCoord(r, e, t, a) {
                var n = getCoordShift(r, e);
                a < MIN_LAT_WGS && (a = MIN_LAT_WGS),
                MAX_LAT_WGS < a && (a = MAX_LAT_WGS),
                t < MIN_LON_WGS && (t = MIN_LON_WGS),
                MAX_LON_WGS < t && (t = MAX_LON_WGS);
                var i = degree2Coord(t)
                  , o = degree2Coord(a)
                  , c = i / (1 << n)
                  , u = o / (1 << n);
                return [i = 0 < c ? Math.floor(.5 + c) : Math.floor(c - .5), o = 0 < u ? Math.floor(.5 + u) : Math.floor(u - .5)]
            }
            function getWorldSize(r, e) {
                var t = lnglat2WGSCoord(r, e, 180, 90);
                return [2 * t[0], 2 * t[1]]
            }
            function getTileSWCoord(r, e) {
                var t = getWorldSize(r.z, e)
                  , a = t[0]
                  , n = t[1]
                  , i = 1 << r.z;
                return [-a / 2 + r.x * a / i, n / 2 - (r.y + 1) * n / i]
            }
            function degree2Coord(r) {
                return Math.floor(r * DEF_NDS_MAX_COORD / DEF_DEGREE_MAX_COORD + .5)
            }
            function coord2Degree(r) {
                return r * DEF_DEGREE_MAX_COORD / DEF_NDS_MAX_COORD
            }
            function getCoordShift(r, e) {
                return 33 - e - r
            }
            function getMVTTileBbox(r, e, t, a, n) {
                return void 0 === n && (n = 256),
                [r * n * a - MKT, -((e + 1) * n * a - MKT), (r + 1) * n * a - MKT, -(e * n * a - MKT)]
            }
            var geoUtil = new StaticSDFManagerWorker.rW({}), NebulaSourceWorker = ($c = StaticSDFManagerWorker.Event,
            StaticSDFManagerWorker.Ei(_c, $c),
            _c.prototype.loadCommonWords = function(r) {
                this.parent.yw.loadCommonWords(r)
            }
            ,
            _c.prototype.bw = function(r, e, d, S, s, t, l, v, g, a, n, h) {
                var D = this;
                r = r + ("?key=" + this.parent.key) + "&flds=" + n + "&t=" + e.join(";");
                var M = new XMLHttpRequest;
                return M.onreadystatechange = function() {
                    4 === M.readyState && 200 === M.status && setTimeout(function() {
                        var a = decodeTiles(new Uint8Array(M.response))
                          , n = [];
                        StaticSDFManagerWorker.forEach(a.tiles, function(r) {
                            var e = new StaticSDFManagerWorker.Gh(new StaticSDFManagerWorker.ca(r.z,r.x,r.y));
                            e.data = D.kw(r, s, e),
                            D.xw(e, d),
                            D.zw(e, d, v, g),
                            D.nz(e, l, S);
                            var t = StaticSDFManagerWorker.Util.pW(r.t);
                            n.push({
                                zo: e.zo,
                                ba: e.data,
                                tag: t,
                                version: a.version || ""
                            })
                        });
                        for (var r = [], e = 0, t = n; e < t.length; e++) {
                            var i = t[e];
                            if (i && i.ba) {
                                if (i.ba.road) {
                                    for (var o = [], c = 0, u = i.ba.road; c < u.length; c++) {
                                        var f = u[c];
                                        f.name && (delete f.gw,
                                        o.push(f))
                                    }
                                    i.ba.road = o
                                }
                                i.ba.road,
                                i.ba.poilabel,
                                delete i.ba.poilabel,
                                delete i.ba.region,
                                delete i.ba.building,
                                delete i.ba.Mw
                            }
                            r.push(i)
                        }
                        h(null, r)
                    }, 10)
                }
                ,
                M.responseType = "arraybuffer",
                M.open("GET", r, !0),
                M.send(),
                {
                    cancel: function() {
                        M.abort()
                    }
                }
            }
            ,
            _c.prototype.bW = function(r, k, m, W, F, y) {
                var b = this;
                r = r + ("?key=" + this.parent.key) + "&flds=poi,roadname&t=" + k.join(";");
                var p = new XMLHttpRequest
                  , w = new StaticSDFManagerWorker.vH({
                    cancel: function() {
                        p.abort()
                    }
                });
                return p.onreadystatechange = function() {
                    4 === p.readyState && 200 === p.status && setTimeout(function() {
                        var r = decodeTiles(new Uint8Array(p.response));
                        r.version && b.parent.GW.nebulaVersion !== r.version && (b.parent.GW.nebulaVersion = r.version,
                        b.parent.GW.db = r.db,
                        b.parent.IW.zW(b.parent.GW.db),
                        b.parent.Uh.send("updateDataVersion", b.parent.GW.nebulaVersion));
                        var a = [];
                        StaticSDFManagerWorker.forEach(r.tiles, function(r) {
                            var e = new StaticSDFManagerWorker.Gh(new StaticSDFManagerWorker.ca(r.z,r.x,r.y));
                            e.data = b.kw(r, m, e);
                            var t = StaticSDFManagerWorker.Util.pW(r.t);
                            a.push({
                                zo: e.zo,
                                ba: e.data,
                                tag: t
                            })
                        });
                        for (var s = [], e = 0, t = a; e < t.length; e++) {
                            var n = t[e];
                            if (n && n.ba) {
                                var i = n.ba.roadName;
                                if (i) {
                                    for (var o = [], c = 0, u = i; c < u.length; c++) {
                                        var f = u[c];
                                        f.name && (delete f.gw,
                                        o.push(f))
                                    }
                                    n.ba.roadName = o
                                }
                                i = n.ba.roadName;
                                var d = n.ba.poilabel;
                                delete n.ba.poilabel,
                                delete n.ba.region,
                                delete n.ba.building,
                                delete n.ba.Mw,
                                s.push({
                                    zo: n.zo,
                                    ba: {
                                        roadName: i,
                                        poilabel: d
                                    },
                                    tag: n.tag,
                                    version: r.version || ""
                                })
                            }
                        }
                        if (s.length)
                            for (var S = {}, l = k.length, v = 0, g = function(r, e, t) {
                                r ? y(r, null) : (v++,
                                S[e] = t,
                                v === l && y(null, S))
                            }, h = function(d, r) {
                                var S = k[d];
                                w._H(b.parent.IW.oa(S.slice(0, -2), F, function(r, e) {
                                    if (r)
                                        y(r, null);
                                    else {
                                        var t = s[d]
                                          , a = new StaticSDFManagerWorker.Gh(t.zo)
                                          , n = StaticSDFManagerWorker.wa.ga(a.zo.x, a.zo.y, a.zo.z, "EPSG:3857")
                                          , i = StaticSDFManagerWorker.lcs.getLocalByCoord([n[0], n[1]]);
                                        a.Ma = i,
                                        a.data = t.ba;
                                        var o = b.parent.params
                                          , c = (o.showLabel,
                                        o.scale)
                                          , u = (t.tag,
                                        new StaticSDFManagerWorker.Jw(b.parent,b.parent))
                                          , f = u.Ns(a, {
                                            ZL: W,
                                            zoom: a.zo.z,
                                            scale: c
                                        });
                                        b.parent.z_.Vw(StaticSDFManagerWorker.keys(u.Fs), {
                                            type: "icon",
                                            cb: function() {
                                                b.parent.R_.pH() ? SDFIconLoadedcb(a, S.slice(-1), t.version, f, e, W, b.parent.R_, b.parent.z_, g) : b.parent.R_.on("commonWordImageLoaded", function() {
                                                    SDFIconLoadedcb(a, S.slice(-1), t.version, f, e, W, b.parent.R_, b.parent.z_, g)
                                                }, b, !0)
                                            }
                                        })
                                    }
                                }))
                            }, D = 0, M = k.length; D < M; D++)
                                h(D)
                    }, 10)
                }
                ,
                p.responseType = "arraybuffer",
                p.open("GET", r, !0),
                p.send(),
                {
                    cancel: w.cancel
                }
            }
            ,
            _c.prototype.OW = function(r) {
                this.parent.Zw ? this.on("once", r) : r()
            }
            ,
            _c.prototype.kw = function(r, e, t) {
                var l = this
                  , a = {}
                  , v = StaticSDFManagerWorker.at.getProjection(e)
                  , n = StaticSDFManagerWorker.wa.ga(r.x, r.y, r.z, "EPSG:3857")
                  , g = StaticSDFManagerWorker.lcs.getLocalByCoord([n[0], n[1]]).center;
                t.Mw = g,
                t.Ro = n;
                var h = t.zo.z;
                return StaticSDFManagerWorker.forEach(r.layers, function(S) {
                    var s = []
                      , r = _c.Wa[S.type];
                    if (StaticSDFManagerWorker.forEach(S.d[r], function(f) {
                        f.items.sort(function(r, e) {
                            return r.minzoom - e.minzoom || r.maxzoom - e.maxzoom
                        });
                        var d = 2 === Math.floor(f.mainkey / 1e4) ? l.parent.vn.mW(f.mainkey, f.subkey) : "butt";
                        StaticSDFManagerWorker.forEach(f.items, function(r) {
                            if (r.path && r.path.length)
                                if (r.path[0].path) {
                                    var e = r.path;
                                    r.oW = [];
                                    for (var t = 0; t < e.length; t += 1) {
                                        var a = e[t].path
                                          , n = [];
                                        for (i = 0; i < a.length; i += 2)
                                            o = a[i],
                                            c = a[i + 1],
                                            u = tileInnerCoord2LngLat(S, f.resolution, o, c),
                                            n[i] = u[0],
                                            n[i + 1] = u[1],
                                            u = v.project(u[0], u[1]),
                                            h >= StaticSDFManagerWorker.Ra && (u[0] -= g[0],
                                            u[1] -= g[1]),
                                            a[i] = u[0],
                                            a[i + 1] = u[1];
                                        e[t] = a,
                                        r.oW[t] = n
                                    }
                                } else
                                    for (var i = 0; i < r.path.length; i += 2) {
                                        var o = r.path[i]
                                          , c = r.path[i + 1]
                                          , u = tileInnerCoord2LngLat(S, f.resolution, o, c);
                                        u = v.project(u[0], u[1]),
                                        h >= StaticSDFManagerWorker.Ra && (u[0] -= g[0],
                                        u[1] -= g[1]),
                                        r.path[i] = u[0],
                                        r.path[i + 1] = u[1]
                                    }
                            else
                                r.pos && (n = tileInnerCoord2LngLat(S, f.resolution, r.pos[0], r.pos[1]),
                                r.pos = v.project(n[0], n[1]));
                            s.push(StaticSDFManagerWorker.Ln(StaticSDFManagerWorker.Ln({}, r), {
                                du: f.resolution,
                                Fp: f.mainkey,
                                Ep: f.subkey,
                                zIndex: l.parent.vn.Lw(f.mainkey, f.subkey),
                                lineCap: d,
                                gw: {
                                    z: S.z,
                                    y: S.y,
                                    x: S.x
                                }
                            }))
                        })
                    }),
                    /(poilabel)/.test(r) ? l.Na(s) : l.Tw(s),
                    "poilabel" === r) {
                        var e = S.z + "-" + S.x + "-" + S.y;
                        a[r] ? a[r][e] ? a[r][e].push.apply(a[r][e], s) : a[r][e] = s : (a[r] = {},
                        a[r][e] = s)
                    } else
                        a[r] ? a[r].push.apply(a[r], s) : a[r] = s
                }),
                a.Mw = g,
                a
            }
            ,
            _c.prototype.Tw = function(r) {
                return r.sort(function(r, e) {
                    return r.zIndex - e.zIndex
                }),
                r
            }
            ,
            _c.prototype.Na = function(r) {
                return r.sort(function(r, e) {
                    return r.rank - e.rank
                }),
                r
            }
            ,
            _c.prototype.xw = function(r, e) {
                var t = r.data
                  , a = new StaticSDFManagerWorker._w;
                if (t.Uc = a,
                !t.$c) {
                    t.$c = new StaticSDFManagerWorker.J_,
                    t.road = t.road || [];
                    var n = r.Mw.slice(0);
                    if (r.zo.z <= StaticSDFManagerWorker.za && (n[0] = 0,
                    n[1] = 0),
                    t.road.push({
                        name: "",
                        rank: 1,
                        maxzoom: 22,
                        minzoom: 2,
                        path: [r.Ro[0] - n[0], r.Ro[1] - n[1], r.Ro[2] - n[0], r.Ro[1] - n[1], r.Ro[2] - n[0], r.Ro[3] - n[1], r.Ro[0] - n[0], r.Ro[3] - n[1], r.Ro[0] - n[0], r.Ro[1] - n[1]],
                        Fp: -2,
                        Ep: -2,
                        shield: "",
                        dw: 0,
                        du: 13,
                        lineCap: "butt"
                    }),
                    t.road)
                        for (var i = 0, o = t.road; i < o.length; i++) {
                            for (var c = o[i], u = [], f = 0, d = c.path.length; f < d; f += 2)
                                u.push(StaticSDFManagerWorker.Bu(c.path[f], c.path[f + 1]));
                            var S = t.$c.hb(u, {
                                X_: "butt" === c.lineCap ? 0 : .9,
                                lineCap: c.lineCap,
                                lineJoin: "auto"
                            })
                              , s = S.Iw
                              , l = S.distance;
                            0 < s && (a.add(c.Fp, c.Ep, s, c.minzoom, c.maxzoom),
                            c.distance = l)
                        }
                }
            }
            ,
            _c.prototype.zw = function(r, e, t, a) {
                var n = r.data
                  , i = new StaticSDFManagerWorker._w;
                if (n.Oc = i,
                n.Fc = new StaticSDFManagerWorker._w,
                !n.Dc) {
                    n.Dc = new StaticSDFManagerWorker.K_,
                    n.region = n.region || [];
                    var o = r.Mw.slice(0);
                    if (r.zo.z <= StaticSDFManagerWorker.za && (o[0] = 0,
                    o[1] = 0),
                    n.region.unshift({
                        maxzoom: 22,
                        minzoom: 2,
                        path: [[r.Ro[0] - o[0], r.Ro[1] - o[1], r.Ro[2] - o[0], r.Ro[1] - o[1], r.Ro[2] - o[0], r.Ro[3] - o[1], r.Ro[0] - o[0], r.Ro[3] - o[1], r.Ro[0] - o[0], r.Ro[1] - o[1]]],
                        Fp: 30001,
                        Ep: 1
                    }),
                    n.region)
                        for (var c = 0, u = n.region; c < u.length; c++)
                            for (var f = u[c], d = 0, S = f.path; d < S.length; d++)
                                (_ = S[d]).push(_[0], _[1]),
                                0 < (x = n.Dc.Nx(_)) && i.add(f.Fp, f.Ep, x, f.minzoom, f.maxzoom);
                    if (n.building) {
                        if (n.FD)
                            return;
                        n.FD = new StaticSDFManagerWorker.K_,
                        n.BD = new StaticSDFManagerWorker._w;
                        for (var s = n.BD, l = 0, v = n.building; l < v.length; l++) {
                            var g = v[l]
                              , h = StaticSDFManagerWorker.jw(g.gw.z, g.gw.x, g.gw.y)
                              , D = h[0]
                              , M = h[1]
                              , k = h[2]
                              , m = h[3];
                            r.Mw && (D -= r.Mw[0],
                            k -= r.Mw[0],
                            M -= r.Mw[1],
                            m -= r.Mw[1]);
                            var W = Math.floor(D)
                              , F = Math.floor(k)
                              , y = Math.floor(M)
                              , b = Math.floor(m);
                            if ("2D" === t) {
                                for (var p = 0, w = g.path; p < w.length; p++) {
                                    var _ = w[p];
                                    0 < (x = n.FD.Nx(_)) && s.add(g.Fp, g.Ep, x, g.minzoom, g.maxzoom, g.ew || "indoor_out_building")
                                }
                                for (var L = 0, T = g.path; L < T.length; L++) {
                                    var I = T[L];
                                    I.push(I[0], I[1]),
                                    _ = [];
                                    for (var C = 0, R = I.length; C < R - 2; C += 2)
                                        _.push(StaticSDFManagerWorker.Bu(I[C], I[C + 1])),
                                        _.push(StaticSDFManagerWorker.Bu(I[C + 2], I[C + 3]));
                                    var N = [];
                                    for (C = 0,
                                    R = _.length; C < R; C += 2) {
                                        var x, z = _[C][0], O = _[C][1], K = _[C + 1][0], A = _[C + 1][1], B = Math.floor(z), G = Math.floor(O);
                                        (z !== K || B !== W && B !== F) && (O !== A || G !== y && G !== b) ? N.push(_[C], _[C + 1]) : (0 < (x = n.Dc.Ew(N)) && n.Fc.add(g.Fp, g.Ep, x, g.minzoom, g.maxzoom, g.ew || "indoor_out_building"),
                                        N = [])
                                    }
                                    0 < N.length && 0 < (x = n.Dc.Ew(N)) && n.Fc.add(g.Fp, g.Ep, x, g.minzoom, g.maxzoom, g.ew)
                                }
                            }
                        }
                        for (var j = [], E = 0, X = n.building; E < X.length; E++)
                            if ((g = X[E]).ew)
                                if (-1 < g.ew.indexOf("|")) {
                                    var P = g.ew.split("|");
                                    for (C = 0; C < P.length; C++)
                                        j.push(P[C])
                                } else
                                    j.push(g.ew);
                        n.indoorInfo || (n.indoorInfo = []),
                        n.indoorInfo = j
                    }
                }
            }
            ,
            _c.prototype.nz = function(r, e, t) {
                void 0 === e && (e = {});
                var a = r.data;
                if (a.C_ = new StaticSDFManagerWorker._w,
                !a.A_) {
                    a.A_ = new StaticSDFManagerWorker.iz;
                    var n = e.hideWithoutStyle
                      , i = e.areas;
                    if (a.building)
                        for (var o = 0, c = a.building; o < c.length; o++)
                            for (var u = c[o], f = 0; f < u.path.length; f++) {
                                var d = u.path[f]
                                  , S = u.oW[f];
                                d.push(d[0], d[1]),
                                S.push(S[0], S[1]);
                                for (var s = [], l = 0; l < S.length; l += 2)
                                    s.push([S[l], S[l + 1]]);
                                if (i) {
                                    for (var v = !1, g = !1, h = {}, D = 0; D < i.length; D++) {
                                        var M = i[D]
                                          , k = M.path;
                                        geoUtil.isRingInRing(s, k) && (v = !0,
                                        !M.visible && void 0 !== M.visible || (g = !0,
                                        h = {
                                            roofColor: StaticSDFManagerWorker.Util.color2RgbaArray(M.color1),
                                            wallColor: StaticSDFManagerWorker.Util.color2RgbaArray(M.color2)
                                        }))
                                    }
                                    if (!v && n || v && !g)
                                        continue;
                                    0 < (m = a.A_.tz(d, u.height)) && a.C_.add(u.Fp, u.Ep, m, u.minzoom, u.maxzoom, u.ew, h.roofColor, h.wallColor)
                                } else {
                                    var m;
                                    0 < (m = a.A_.tz(d, u.height)) && a.C_.add(u.Fp, u.Ep, m, u.minzoom, u.maxzoom, u.ew)
                                }
                            }
                }
            }
            ,
            _c.Pw = [1, 0, 1, 0],
            _c.Wa = {
                0: "poilabel",
                1: "road",
                2: "region",
                3: "building",
                4: "roadName"
            },
            _c), $c;
            function _c(r) {
                var e = $c.call(this) || this;
                return e.parent = r,
                e.eW = {},
                e.aW = null,
                e
            }
            function SDFIconLoadedcb(t, r, e, a, n, i, o, c, u) {
                function f(e) {
                    if (a.hasOwnProperty(e)) {
                        var r = a[e];
                        new StaticSDFManagerWorker.$s({
                            R_: o,
                            z_: c,
                            info: n[0]
                        }).Ns(r, function(r) {
                            s[e] = new StaticSDFManagerWorker.La(t.zo,r)
                        }, {
                            ZL: i,
                            zoom: t.zo.z,
                            from: "nebula",
                            center: t.Ma.center
                        })
                    }
                }
                var d, S = t.zo.key + "," + r, s = ((d = {})[StaticSDFManagerWorker.tc.gH] = n[1],
                d[StaticSDFManagerWorker.tc.RB] = n[0],
                d[StaticSDFManagerWorker.tc.FN] = e,
                d);
                for (var l in a)
                    f(l);
                u(null, S, s)
            }
            var MVTSourceWorker = ($g.prototype.bw = function(r, t, a, n, i) {
                var o = this
                  , c = new XMLHttpRequest;
                return c.onreadystatechange = function() {
                    if (4 === c.readyState && 200 === c.status) {
                        var r = new StaticSDFManagerWorker.tW(new StaticSDFManagerWorker.pw(new Uint8Array(c.response)))
                          , e = o.Ow(r, {
                            x: t.x,
                            y: t.y,
                            z: t.z,
                            projectionId: a,
                            tileSize: n
                        });
                        i(null, {
                            zo: t,
                            Xw: e
                        })
                    }
                }
                ,
                c.responseType = "arraybuffer",
                c.open("GET", r, !0),
                c.send(),
                {
                    cancel: function() {
                        c.abort()
                    }
                }
            }
            ,
            $g.prototype.Ow = function(f, r) {
                var a = r.x
                  , n = r.y
                  , i = r.z
                  , o = r.tileSize
                  , c = r.projectionId;
                f.z = i,
                f.x = a,
                f.y = n;
                var e = StaticSDFManagerWorker.at.getProjection(c).getResolution(i);
                return f.Ro = getMVTTileBbox(a, n, i, e, o),
                f.zS = StaticSDFManagerWorker.lcs.getLocalByCoord([f.Ro[0], f.Ro[1]]),
                StaticSDFManagerWorker.vx(f.layers, function(u) {
                    var r = u.Cw
                      , e = u.extent;
                    u.Ah = [],
                    u.scale = o / e;
                    var t = StaticSDFManagerWorker.V[c].Xs(o * a, o * n, i);
                    u.ox = t[0],
                    u.oy = t[1],
                    StaticSDFManagerWorker.forEach(r, function(r, e) {
                        if ((r = u.Gw(e)).Dw(),
                        u.Ah.push(r),
                        r.lines && r.lines.length && (2 === r.type || 3 === r.type)) {
                            r.Rw = [];
                            for (var t = 0, a = r.lines.length; t < a; t++) {
                                for (var n = [], i = 0, o = r.lines[t].length; i < o; i++) {
                                    var c = [u.ox + u.scale * r.lines[t][i][0] - f.zS.center[0], u.oy + u.scale * r.lines[t][i][1] - f.zS.center[1]];
                                    n.push(c)
                                }
                                r.Rw.push(n)
                            }
                        }
                    })
                }),
                this.uW(f),
                this.xw(f),
                f
            }
            ,
            $g.prototype.uW = function(r) {
                var e = []
                  , t = [];
                for (var a in r.layers)
                    if (r.layers.hasOwnProperty(a))
                        for (var n = r.layers[a], i = 0; i < n.Ah.length; i += 1) {
                            var o = n.Ah[i];
                            if (3 === o.type)
                                for (var c = 0; c < o.Rw.length; c++) {
                                    for (var u = o.Rw[c], f = {
                                        properties: o.properties,
                                        path: []
                                    }, d = f.path, S = 0; S < u.length; S++) {
                                        var s = u[S];
                                        d.push(s[0], s[1])
                                    }
                                    6 < d.length && e.push(f)
                                }
                            else if (2 === o.type)
                                for (c = 0; c < o.Rw.length; c++) {
                                    u = o.Rw[c];
                                    var l = {
                                        properties: o.properties,
                                        path: []
                                    };
                                    for (d = l.path,
                                    S = 0; S < u.length; S++)
                                        s = u[S],
                                        d.push(s[0], s[1]);
                                    4 < d.length && t.push(l)
                                }
                        }
                r.polygons = e,
                r.Dh = t,
                delete r.layers
            }
            ,
            $g.prototype.xw = function(r) {
                if (!r.data || !r.data.$c) {
                    var e = r.data = {}
                      , t = new StaticSDFManagerWorker._w;
                    if (!e.$c && (e.Uc = t,
                    e.$c = new StaticSDFManagerWorker.J_,
                    r.Dh))
                        for (var a = 0, n = r.Dh; a < n.length; a++) {
                            for (var i = n[a], o = [], c = 0, u = i.length; c < u; c += 2)
                                o.push(StaticSDFManagerWorker.Bu(i.path[c], i.path[c + 1]));
                            var f = e.$c.hb(o, {
                                X_: 0,
                                lineJoin: "miter",
                                lineCap: "butt"
                            })
                              , d = f.Iw
                              , S = f.distance;
                            0 < d && (t.add(i.Fp, i.Ep, d, i.minzoom, i.maxzoom),
                            i.distance = S)
                        }
                }
            }
            ,
            $g.prototype.zw = function(r) {
                if (!r.data || !r.data.Dc) {
                    var e = r.data = {}
                      , t = new StaticSDFManagerWorker._w;
                    e.Oc = t,
                    e.Fc = new StaticSDFManagerWorker._w,
                    e.Dc = new StaticSDFManagerWorker.K_;
                    for (var a = 0, n = r.polygons; a < n.length; a++)
                        for (var i = n[a], o = 0, c = i; o < c.length; o++) {
                            var u = c[o];
                            u.push(u[0], u[1]);
                            var f = e.Dc.Nx(u);
                            0 < f && t.add(i.Fp, i.Ep, f, i.minzoom, i.maxzoom)
                        }
                }
            }
            ,
            $g.Wa = {
                0: "poilabel",
                1: "road",
                2: "region",
                3: "building"
            },
            $g);
            function $g(r) {
                this.parent = r
            }
            var DistrictSourceWorker = function() {
                function DistrictSourceWorker(r) {
                    this.parent = r,
                    this.fW = {}
                }
                return DistrictSourceWorker.prototype.bw = function(r, t, a, n, i, o, c) {
                    var u = this;
                    for (var e in i)
                        if (i.hasOwnProperty(e)) {
                            var f = i[e];
                            -1 < f.toString().indexOf("function") && (f = f.replace("function", "return function"),
                            i[e] = new Function(f))
                        }
                    var d = new XMLHttpRequest;
                    return d.onreadystatechange = function() {
                        if (4 === d.readyState && (200 === d.status || 204 === d.status)) {
                            var r = new StaticSDFManagerWorker.tW(new StaticSDFManagerWorker.pw(new Uint8Array(d.response)))
                              , e = u.Ow(r, {
                                x: t.x,
                                y: t.y,
                                z: t.z,
                                projectionId: a,
                                tileSize: n
                            }, i, o);
                            c(null, StaticSDFManagerWorker.Ln({
                                zo: t
                            }, e))
                        }
                    }
                    ,
                    d.responseType = "arraybuffer",
                    d.open("GET", r, !0),
                    d.send(),
                    {
                        cancel: function() {
                            d.abort()
                        }
                    }
                }
                ,
                DistrictSourceWorker.prototype.Ow = function(f, r, e, t) {
                    var a = r.x
                      , n = r.y
                      , i = r.z
                      , o = r.tileSize
                      , c = r.projectionId;
                    f.z = i,
                    f.x = a,
                    f.y = n;
                    var u = StaticSDFManagerWorker.at.getProjection(c).getResolution(i);
                    f.Ro = getMVTTileBbox(a, n, i, u, o),
                    f.zS = StaticSDFManagerWorker.lcs.getLocalByCoord([f.Ro[0], f.Ro[1]]);
                    var d = StaticSDFManagerWorker.at.getProjection(c).getResolution(i);
                    return StaticSDFManagerWorker.vx(f.layers, function(u) {
                        var r = u.Cw;
                        u.Ah = [],
                        u.scale = d * o / u.extent;
                        var e = StaticSDFManagerWorker.V[c].Xs(o * a, o * n, i);
                        u.ox = e[0],
                        u.oy = e[1],
                        StaticSDFManagerWorker.forEach(r, function(r, e) {
                            if ((r = u.Gw(e)).Dw(),
                            u.Ah.push(r),
                            r.lines && 0 < r.lines.length) {
                                r.Rw = [];
                                for (var t = 0, a = r.lines.length; t < a; t++) {
                                    for (var n = [], i = 0, o = r.lines[t].length; i < o; i++) {
                                        var c = [u.ox + u.scale * r.lines[t][i][0] - f.zS.center[0], u.oy - u.scale * r.lines[t][i][1] - f.zS.center[1]];
                                        n.push(c)
                                    }
                                    r.Rw.push(n)
                                }
                            }
                        })
                    }),
                    this.uW(f),
                    this.xw(f, e),
                    this.zw(f, e),
                    f
                }
                ,
                DistrictSourceWorker.prototype.uW = function(r) {
                    var e = []
                      , t = [];
                    for (var a in r.layers)
                        if (r.layers.hasOwnProperty(a))
                            for (var n = r.layers[a], i = 0; i < n.Ah.length; i += 1) {
                                var o = n.Ah[i];
                                if (3 == +o.type && o.Rw)
                                    for (var c = 0; c < o.Rw.length; c++) {
                                        for (var u = o.Rw[c], f = {
                                            properties: o.properties,
                                            path: []
                                        }, d = f.path, S = 0; S < u.length; S++) {
                                            var s = u[S];
                                            d.push(s[0], s[1])
                                        }
                                        e.push(f)
                                    }
                                else if (3 !== o.type && o.Rw)
                                    for (c = 0; c < o.Rw.length; c++)
                                        t.push({
                                            properties: o.properties,
                                            path: o.Rw[c]
                                        });
                                this.cW(o)
                            }
                    r.polygons = e,
                    r.Dh = t,
                    delete r.layers
                }
                ,
                DistrictSourceWorker.prototype.xw = function(r, e) {
                    if (!r || !r.$c) {
                        var t = new StaticSDFManagerWorker.LW;
                        if (!r.$c && (r.Uc = t,
                        r.$c = new StaticSDFManagerWorker.J_,
                        r.Dh))
                            for (var a = 0, n = r.Dh; a < n.length; a++) {
                                var i = n[a]
                                  , o = JSON.stringify(i.properties)
                                  , c = r.$c.hb(i.path, {
                                    X_: 0,
                                    lineJoin: "round",
                                    lineCap: "butt"
                                })
                                  , u = c.Iw
                                  , f = c.distance;
                                0 < u && (t.add(o, 0, u, 0, 22),
                                i.distance = f)
                            }
                    }
                }
                ,
                DistrictSourceWorker.prototype.zw = function(r, e) {
                    if (!r || !r.Dc) {
                        var t = new StaticSDFManagerWorker.LW;
                        r.Oc = t,
                        r.Dc = new StaticSDFManagerWorker.K_;
                        for (var a = 0, n = r.polygons; a < n.length; a++) {
                            var i = n[a]
                              , o = JSON.stringify(i.properties)
                              , c = r.Dc.Nx(i.path);
                            0 < c && t.add(o, 0, c, 0, 22)
                        }
                    }
                }
                ,
                DistrictSourceWorker.prototype.dW = function(r) {
                    switch (r) {
                    case 0:
                    case 1:
                        return "Nation_Border_China";
                    case 2:
                        return "Coastline_China";
                    case 3:
                    case 4:
                        return "Province_Border_China";
                    case 5:
                        return "City_Border_China";
                    case 6:
                        return "County_Border_China";
                    case 7:
                    case 8:
                        return "Nation_Border_Foreign";
                    case 9:
                        return "Coastline_Foreign";
                    case 10:
                    case 11:
                        return "Nation_Border_Foreign";
                    case 12:
                        return "Province_Border_Foreign";
                    default:
                        return ""
                    }
                }
                ,
                DistrictSourceWorker.prototype.sW = function(code) {
                    return this.fW[code] || (this.fW[code] = eval("'" + code.replace(/\//g, "\\u") + "'")),
                    this.fW[code]
                }
                ,
                DistrictSourceWorker.prototype.cW = function(r) {
                    r.properties.NAME_CHN && (r.properties.NAME_CHN = this.sW(r.properties.NAME_CHN.trim())),
                    r.properties.NAME_ENG && (r.properties.NAME_ENG = r.properties.NAME_ENG.trim()),
                    r.properties.level && (r.properties.level = r.properties.level.trim()),
                    r.properties.citycode && r.properties.citycode.length && (r.properties.citycode = r.properties.citycode.trim()),
                    r.properties.bC = +r.properties.type,
                    r.properties.lW = +r.type,
                    r.properties.type = this.dW(+r.properties.type)
                }
                ,
                DistrictSourceWorker
            }(), DefaultIconInfo = {
                TW: {
                    img: "https://shop.zhiyousx.com/style_icon/2.0/icon-normal-big.png",
                    width: 512,
                    height: 1024,
                    startX: 0,
                    startY: 0,
                    status: "loaded",
                    type: "icon",
                    ext: {
                        hv: 0
                    }
                },
                RW: {
                    img: "https://shop.zhiyousx.com/style_icon/2.0/icon-biz-big.png",
                    width: 512,
                    height: 1024,
                    startX: 0,
                    startY: 1024,
                    status: "loaded",
                    type: "icon",
                    ext: {
                        hv: 1
                    }
                }
            }, ImageManagerWorker = (Cj = StaticSDFManagerWorker.Event,
            StaticSDFManagerWorker.Ei(Dj, Cj),
            Dj.prototype.loadImage = function(r, e) {
                var t = e.name
                  , a = e.type
                  , n = e.cb
                  , i = t || r
                  , o = this.Fs[i];
                o && o.status === StaticSDFManagerWorker.uc.LOADED ? n(o, e) : o && o.status === StaticSDFManagerWorker.uc.LOADING ? (this.Mc[i] || (this.Mc[i] = []),
                this.Mc[i].push({
                    cb: n,
                    opts: e
                })) : ("icon" === a && (e.hv = this.Uw,
                this.Uw++),
                this.Rc(r, e))
            }
            ,
            Dj.prototype.loadImages = function(r, e) {
                var n = this
                  , t = e.cb
                  , i = e.type;
                if (0 !== Object.keys(r).filter(function(r) {
                    return !n.Fs[r]
                }).length) {
                    var o = []
                      , c = [];
                    if (r.length) {
                        for (var a = function(a) {
                            var r = new Promise(function(t, r) {
                                n.loadImage(a, {
                                    cb: function(r, e) {
                                        c.push(n.Fs[a]),
                                        t()
                                    },
                                    type: i
                                })
                            }
                            );
                            o.push(r)
                        }, u = 0, f = r; u < f.length; u++)
                            a(f[u]);
                        Promise.all(o).then(function() {
                            t(c)
                        }).catch(function() {
                            t(c)
                        })
                    } else
                        t(c)
                } else
                    t()
            }
            ,
            Dj.prototype.Vw = function(r, e) {
                var n = this
                  , i = e.cb
                  , o = r.filter(function(r) {
                    return !n.Fs[r]
                });
                if (0 !== o.length) {
                    var t = []
                      , c = [];
                    if (r.length) {
                        for (var a = function(a) {
                            var r = new Promise(function(t, r) {
                                n.loadImage(a, {
                                    cb: function(r, e) {
                                        c.push(n.Fs[a]),
                                        t()
                                    },
                                    type: "icon"
                                })
                            }
                            );
                            t.push(r)
                        }, u = 0, f = r; u < f.length; u++)
                            a(f[u]);
                        Promise.all(t).then(function() {
                            var r = [];
                            if (0 < o.length) {
                                for (var e = 0, t = o; e < t.length; e++) {
                                    var a = t[e];
                                    r.push({
                                        url: a,
                                        data: n.getImage(a)
                                    })
                                }
                                n.emit("iconImageLoaded", {
                                    data: r
                                })
                            }
                            i(c)
                        }).catch(function() {
                            i(c)
                        })
                    } else
                        i(c)
                } else
                    i([])
            }
            ,
            Dj.prototype.getImage = function(r) {
                return void 0 === r && (r = ""),
                this.Fs[r]
            }
            ,
            Dj.prototype.Bi = function() {
                var r;
                this.Fs = ((r = {})[DefaultIconInfo.TW.img] = DefaultIconInfo.TW,
                r[DefaultIconInfo.RW.img] = DefaultIconInfo.RW,
                r)
            }
            ,
            Dj.prototype.Rc = function(u, f) {
                var d = this
                  , S = f.name
                  , r = f.ext
                  , s = void 0 === r ? {} : r
                  , e = f.type
                  , l = void 0 === e ? "other" : e
                  , v = f.cb
                  , t = this.Fs;
                t[S || u] = {
                    status: StaticSDFManagerWorker.uc.LOADING,
                    startX: 0,
                    startY: 1024 * (f.hv || 0),
                    type: l,
                    height: 0,
                    width: 0
                },
                StaticSDFManagerWorker.Yw.send(u, {
                    Me: "blob",
                    qw: function(r) {
                        var e = new Blob([r],{
                            type: "image/png"
                        })
                          , t = StaticSDFManagerWorker.cc.createObjectURL(e)
                          , a = S || u
                          , n = d.Fs;
                        if (!t)
                            return console.error("createObjectURL fail"),
                            n[a].status = StaticSDFManagerWorker.uc.ERROR,
                            void v(n[a], f);
                        if ("icon" === l ? (s.hv = f.hv,
                        n[a] = {
                            ext: s,
                            type: l,
                            startX: 0,
                            startY: 1024 * (f.hv || 0),
                            height: 1024,
                            width: 512,
                            lc: t,
                            status: StaticSDFManagerWorker.uc.LOADED
                        }) : n[a] = {
                            ext: s,
                            type: l,
                            startX: 0,
                            startY: 0,
                            height: 0,
                            width: 0,
                            lc: t,
                            status: StaticSDFManagerWorker.uc.LOADED
                        },
                        v(n[a], f),
                        d.Mc[a]) {
                            for (var i = 0, o = d.Mc[a]; i < o.length; i++) {
                                var c = o[i];
                                c.cb(n[a], c.opts)
                            }
                            delete d.Mc[a]
                        }
                    },
                    Aw: function(r) {
                        console.log(r);
                        var e = S || u;
                        t[e].status = StaticSDFManagerWorker.uc.ERROR,
                        v(t[e], f)
                    }
                })
            }
            ,
            Dj.prototype.Sc = function(r) {
                var e, t;
                void 0 === r && (r = {});
                var a = r.img;
                return t = a && a.context ? (e = a.width || 0,
                a.height || 0) : (e = r.width || 0,
                r.height || 0),
                [e, t]
            }
            ,
            Dj), Cj;
            function Dj() {
                var r, e = Cj.call(this) || this;
                return e.Fs = ((r = {})[DefaultIconInfo.TW.img] = DefaultIconInfo.TW,
                r[DefaultIconInfo.RW.img] = DefaultIconInfo.RW,
                r),
                e.Cc = 16,
                e.Uw = 0,
                e.Hw = {},
                e.Mc = {},
                e
            }
            var LabelWorker = (al = StaticSDFManagerWorker.Event,
            StaticSDFManagerWorker.Ei(bl, al),
            bl.prototype.iW = function(r, e) {
                var u = this;
                void 0 === e && (e = {});
                var f = []
                  , t = {}
                  , a = {}
                  , n = [];
                this.MW.ZL = e.ZL || 20;
                var i = [];
                for (var o in r)
                    if (r.hasOwnProperty(o)) {
                        var c = r[o]
                          , d = c.Bw
                          , S = c.params
                          , s = S.scale
                          , l = S.tag;
                        i.push(l);
                        var v = new StaticSDFManagerWorker.Jw(this.parent,this)
                          , g = v.Ns(d, {
                            ZL: this.MW.ZL,
                            zoom: d.zo.z,
                            scale: s
                        });
                        StaticSDFManagerWorker.assign(t, v.Fs),
                        StaticSDFManagerWorker.assign(a, v.Es),
                        n.push(d),
                        f.push([d, v, g, l])
                    }
                var h = Object.keys(t)
                  , D = StaticSDFManagerWorker.map(Object.keys(a), function(r) {
                    return parseInt(r, 10)
                })
                  , M = Date.now()
                  , k = []
                  , m = n.length
                  , W = 0
                  , F = !1
                  , y = e.optimalZoom
                  , b = !1
                  , p = null;
                this.R_.vW(D, {
                    tiles: n,
                    optimalZoom: y,
                    tags: i,
                    stamp: M,
                    cb: function(r) {
                        if ((W += 1) === m) {
                            for (var e = 0, t = f; e < t.length; e++) {
                                var a = t[e]
                                  , n = a[0]
                                  , i = a[1]
                                  , o = a[2]
                                  , c = a[3];
                                k.push({
                                    Bw: n,
                                    gW: i,
                                    SW: o,
                                    tag: c
                                })
                            }
                            b = !0,
                            p = k,
                            u.yW(F, b, p)
                        }
                    }
                }),
                this.wW(h) ? (F = !0,
                this.yW(F, b, p)) : this.z_.Vw(h, {
                    type: "icon",
                    cb: function() {
                        F = !0,
                        u.yW(F, b, p)
                    }
                })
            }
            ,
            bl.prototype.hW = function(r) {
                r.length;
                for (var f = [], e = function(r) {
                    var t = r.Bw
                      , a = r.SW
                      , n = (r.gW,
                    r.tag)
                      , i = Object.keys(a).length
                      , o = {}
                      , c = 0;
                    if (0 === i)
                        return f.push({
                            data: t.zo
                        }),
                        "continue";
                    function e(e) {
                        if (a.hasOwnProperty(e)) {
                            var r = a[e];
                            new StaticSDFManagerWorker.$s({
                                R_: d.R_,
                                z_: d.z_
                            }).Ns(r, function(r) {
                                o[e] = new StaticSDFManagerWorker.La(t.zo,r),
                                ++c === i && f.push({
                                    data: o,
                                    tag: n
                                })
                            }, {
                                ZL: d.MW.ZL,
                                zoom: t.zo.z,
                                from: "nebula",
                                center: t.Ma.center
                            })
                        }
                    }
                    for (var u in a)
                        e(u)
                }, d = this, t = 0, a = r; t < a.length; t++)
                    e(a[t]);
                var n = StaticSDFManagerWorker.Util.getOptimalZoom(this.MW.ZL);
                this.emit("dynamicTextVerticeLoadedByTile", {
                    data: f,
                    optimalZoom: n
                })
            }
            ,
            bl.prototype.Fw = function(t, r, a, e) {
                var n = this;
                void 0 === e && (e = {});
                var i = e.optimalZoom
                  , o = Object.keys(a).length
                  , c = {}
                  , u = 0;
                if (0 !== o) {
                    var f = function(e) {
                        if (a.hasOwnProperty(e)) {
                            var r = a[e];
                            new StaticSDFManagerWorker.$s({
                                R_: d.R_,
                                z_: d.z_
                            }).Ns(r, function(r) {
                                c[e] = new StaticSDFManagerWorker.La(t.zo,r),
                                ++u === o && n.emit("dynamicTextVerticeLoaded", {
                                    data: c,
                                    optimalZoom: i
                                })
                            }, {
                                zoom: t.zo.z,
                                from: "nebula",
                                center: t.Ma.center
                            })
                        }
                    }
                      , d = this;
                    for (var S in a)
                        f(S)
                } else
                    this.emit("dynamicTextVerticeLoaded", {
                        data: t.zo,
                        optimalZoom: i
                    })
            }
            ,
            bl.prototype.commonWordImageLoaded = function() {
                this.R_.commonWordImageLoaded()
            }
            ,
            bl.prototype.loadCommonWords = function(r) {
                var e = this;
                "error" === this.Nw && (this.Nw = "loading",
                this.R_.loadCommonWords(r, function(r) {
                    r ? (e.Nw = "loaded",
                    e.parent.Uh.send("commonWordLoaded", r)) : e.Nw = "error"
                }))
            }
            ,
            bl.prototype.wW = function(r) {
                void 0 === r && (r = []);
                for (var e = this.hD, t = 0, a = 0, n = r; a < n.length; a++) {
                    var i = n[a];
                    -1 !== e.indexOf(i) && t++
                }
                return t === r.length
            }
            ,
            bl.prototype.yW = function(r, e, t) {
                r && e && t && this.hW(t)
            }
            ,
            bl), al, env;
            function bl(r) {
                var e = al.call(this) || this;
                return e.parent = r,
                e.Nw = "error",
                e.MW = {},
                e.hD = ["https://shop.zhiyousx.com/style_icon/2.0/icon-normal-big.png", "https://shop.zhiyousx.com/style_icon/2.0/icon-biz-big.png"],
                e.z_ = r.z_,
                e.R_ = r.R_,
                e
            }
            env = StaticSDFManagerWorker._.DW ? {
                movingDraw: sharedChunk.movingDraw,
                db: sharedChunk.db,
                nebulaVersion: sharedChunk.nebulaVersion
            } : {
                movingDraw: window.movingDraw
            };
            var AMapWorker = (Km.prototype.setId = function(r, e, t) {
                this.No = e,
                t()
            }
            ,
            Km.prototype.loadNebulaSourceTile = function(r, e, t) {
                var a = this
                  , n = e.url
                  , i = e.ya
                  , o = e.zoom
                  , c = e.projectionId
                  , u = e.optimalZoom
                  , f = e.Ca
                  , d = e.mS
                  , S = e.viewMode
                  , s = e.showBuildingBlock
                  , l = e.ZL
                  , v = e.hH;
                return this.Ww.bw(n, i, o, u, c, f, d, S, s, l, v, function(r, e) {
                    a.Zw ? a.$w.push({
                        done: t,
                        type: "NebulaSourceTile",
                        data: e
                    }) : t(r, e)
                })
            }
            ,
            Km.prototype.loadNebulaSourceTileSdf = function(r, e, t) {
                var a = this
                  , n = e.url
                  , i = e.CD
                  , o = (e.zoom,
                e.projectionId)
                  , c = (e.optimalZoom,
                e.Ca,
                e.mS,
                e.viewMode,
                e.showBuildingBlock,
                e.mH)
                  , u = e.ZL;
                return this.Ww.bW(n, i, o, u, c, function(r, e) {
                    a.Zw ? a.$w.push({
                        done: t,
                        type: "NebulaSourceTileSdf",
                        data: e
                    }) : t(r, e)
                })
            }
            ,
            Km.prototype.loadMVTSourceTile = function(r, e, t) {
                var a = e.url
                  , n = e.Zh
                  , i = e.projectionId
                  , o = e.tileSize;
                return this._getMVTSourceWorker(),
                this.Kw.bw(a, n, i, o, t)
            }
            ,
            Km.prototype.loadDistrictSourceTile = function(r, e, t) {
                var a = e.url
                  , n = e.Zh
                  , i = e.projectionId
                  , o = e.tileSize
                  , c = e.styles
                  , u = e.adcode;
                return this._getDistrictSourceWorker(),
                this.kW.bw(a, n, i, o, c, u, t)
            }
            ,
            Km.prototype.updateMapStyle = function(r, e, t) {
                this.vn = e.vn
            }
            ,
            Km.prototype.updateUserStyle = function(r, e, t) {
                this.vn && (this.vn.Ve = e.Kd),
                t && t()
            }
            ,
            Km.prototype.sendHttp = function(r, e) {
                this.R_.protocol = e.protocol,
                this.protocol = e.protocol
            }
            ,
            Km.prototype.updateParams = function(r, e) {
                this.params = e
            }
            ,
            Km.prototype.commonWordImageLoaded = function(r) {
                this.yw.commonWordImageLoaded()
            }
            ,
            Km.prototype.loadCommonWords = function(r, e) {
                this.Ww.loadCommonWords(e)
            }
            ,
            Km.prototype.getSDFData = function(r, e, t) {
                this.R_.oa(e, {
                    cb: function(r) {
                        t(r)
                    }
                })
            }
            ,
            Km.prototype.getImages = function(r, e) {
                var i = this
                  , o = e.data
                  , c = e.cb
                  , u = this.z_;
                u.loadImages(o, {
                    cb: function(r) {
                        for (var e = [], t = 0, a = o; t < a.length; t++) {
                            var n = a[t];
                            e.push({
                                url: n,
                                data: u.getImage(n)
                            })
                        }
                        i.Uh.send("imageLoaded", {
                            data: e,
                            cb: c
                        })
                    },
                    type: "icon"
                })
            }
            ,
            Km.prototype.Qw = function(r) {
                this.Uh.send("NebulaTileSdfLoaded", StaticSDFManagerWorker.ca)
            }
            ,
            Km.prototype.setMainThreadBusy = function(r, e) {
                if (env.movingDraw)
                    this.Zw = !1;
                else {
                    if (this.Zw = e,
                    !this.Zw)
                        for (var t = 0, a = this.$w; t < a.length; t++) {
                            var n = a[t];
                            n.done ? n.done(null, n.data) : this.Uh.send(n.type, n.data)
                        }
                    this.$w = []
                }
            }
            ,
            Km.prototype.deleteTileStaticSDF = function(r, e) {
                this.IW.NW(e)
            }
            ,
            Km.prototype._getNebulaSourceWorker = function() {
                return this.Ww || (this.Ww = new NebulaSourceWorker(this)),
                this.Ww
            }
            ,
            Km.prototype._getMVTSourceWorker = function() {
                return this.Kw || (this.Kw = new MVTSourceWorker(this)),
                this.Kw
            }
            ,
            Km.prototype._getDistrictSourceWorker = function() {
                return this.kW || (this.kW = new DistrictSourceWorker(this)),
                this.kW
            }
            ,
            Km.prototype.Fb = function() {
                var a = this;
                this.z_.on("iconImageLoaded", function(r) {
                    delete r.type,
                    a.Uh.send("iconImageLoaded", r)
                }),
                this.R_.on("dynamicTextTextureInfoLoaded", function(r) {
                    delete r.type,
                    a.Uh.send("dynamicTextTextureInfoLoaded", r)
                }),
                this.R_.on("dynamicTextSDFInfoLoaded", function(r) {
                    delete r.type,
                    a.Uh.send("dynamicTextSDFInfoLoaded", r.data)
                }),
                this.yw.on("dynamicTextVerticeLoaded", function(r) {
                    var e = r;
                    if (a.Zw) {
                        var t = r.type;
                        delete r.type,
                        a.$w.push({
                            type: t,
                            data: e
                        })
                    } else
                        delete r.type,
                        a.Uh.send("dynamicTextVerticeLoaded", e)
                }),
                this.yw.on("dynamicTextVerticeLoadedByTile", function(r) {
                    var e = r;
                    if (a.Zw) {
                        var t = r.type;
                        delete r.type,
                        a.$w.push({
                            type: t,
                            data: e
                        })
                    } else
                        delete r.type,
                        a.Uh.send("dynamicTextVerticeLoadedByTile", e)
                })
            }
            ,
            Km);
            function Km(r, e, t) {
                this.key = e,
                this.GW = t,
                this.Zw = !1,
                this.No = "-1",
                this.protocol = "https",
                this.$w = [],
                this.Uh = new StaticSDFManagerWorker.Bh(r,this),
                this.self = r;
                var a = this.z_ = new ImageManagerWorker;
                this.R_ = new StaticSDFManagerWorker.jb({
                    z_: a
                }),
                this.IW = new StaticSDFManagerWorker.xW(this,StaticSDFManagerWorker.Yw),
                this.Ww = new NebulaSourceWorker(this),
                this.yw = new LabelWorker(this),
                this.Fb()
            }
            return StaticSDFManagerWorker._.DW && (self.Wh = new AMapWorker(self,sharedChunk.key,env),
            self.Cn = StaticSDFManagerWorker.Cn),
            AMapWorker
        }),
        define(["./shared"], function(wt) {
            var f = {
                "AMap.MouseTool": ["AMap.RangingTool"],
                "AMap.Adaptor": ["AMap.CallAMap"]
            }
              , u = new wt.tS;
            function c(t) {
                try {
                    var i = localStorage.getItem("_AMap_" + t);
                    if (!i)
                        return;
                    var e = JSON.parse(i);
                    return e.version === wt.Module.eS.iS ? (window._jsload_(t, e.script, !0),
                    e.css && window._cssload_(t, e.css, !0),
                    1) : void window.localStorage.removeItem("_AMap_" + t)
                } catch (t) {
                    return
                }
            }
            function a(t) {
                for (var i = [], e = 0, n = t; e < n.length; e++) {
                    var o = n[e]
                      , r = o;
                    if (!u.has(o)) {
                        var a = f[r];
                        if (a)
                            for (var s = 0, h = a; s < h.length; s++) {
                                var l = h[s];
                                !t[l] && i.indexOf(l) < 0 && (c(l) || i.push(l))
                            }
                        i.indexOf(o) < 0 && (c(o) || i.push(o))
                    }
                }
                return i
            }
            function s(t, i) {
                var e = document.createElement("script");
                e.type = "text/javascript",
                document.body ? (e.onload = function() {
                    document.body.removeChild(e),
                    i()
                }
                ,
                e.src = t,
                document.body.appendChild(e)) : (e.onload = function() {
                    document.head.removeChild(e),
                    i()
                }
                ,
                e.src = t,
                document.head.appendChild(e))
            }
            var n = function() {
                var i = document.getElementById("AMap_Dynamic_style");
                if (!i) {
                    (i = document.createElement("style")).type = "text/css",
                    i.id = "AMap_Dynamic_style";
                    var t = document.head || document.getElementsByTagName("head")[0];
                    t.childNodes.length < 2 ? t.appendChild(i) : t.insertBefore(i, t.childNodes[1])
                }
                return function(t) {
                    i.appendChild(document.createTextNode(t))
                }
            }();
            window._cssload_ = function(t, i, e) {
                try {
                    !e && window.localStorage && i && "" !== i && window.localStorage.setItem("_AMap_" + t, JSON.stringify({
                        css: i,
                        version: wt.Module.eS.iS
                    }))
                } catch (t) {}
                n(i)
            }
            ,
            window._jsload_ = function(t, i, e) {
                try {
                    if (!e && i && "" !== i) {
                        var n = window.localStorage["_AMap_" + t];
                        n = n || "{}",
                        (n = JSON.parse(n)).version !== wt.Module.eS.iS || n.script ? window.localStorage.setItem("_AMap_" + t, JSON.stringify({
                            version: wt.Module.eS.iS,
                            script: i
                        })) : window.localStorage.setItem("_AMap_" + t, JSON.stringify({
                            version: wt.Module.eS.iS,
                            script: i,
                            css: n.css
                        }))
                    }
                } catch (t) {}
                wt.Module.nS(t, i)
            }
            ;
            var r = "function" == typeof Float32Array;
            function o(t, i) {
                return 1 - 3 * i + 3 * t
            }
            function h(t, i) {
                return 3 * i - 6 * t
            }
            function l(t) {
                return 3 * t
            }
            function d(t, i, e) {
                return ((o(i, e) * t + h(i, e)) * t + l(i)) * t
            }
            function p(t, i, e) {
                return 3 * o(i, e) * t * t + 2 * h(i, e) * t + l(i)
            }
            var L = (t.prototype.t = function(t) {
                for (var i = 0, e = 1; 10 !== e && this.i[e] <= t; ++e)
                    i += .1;
                --e;
                var n = i + (t - this.i[e]) / (this.i[e + 1] - this.i[e]) * .1
                  , o = p(n, this.o, this.s);
                return .001 <= o ? function(t, i, e, n) {
                    for (var o = 0; o < 4; ++o) {
                        var r = p(i, e, n);
                        if (0 === r)
                            return i;
                        i -= (d(i, e, n) - t) / r
                    }
                    return i
                }(t, n, this.o, this.s) : 0 === o ? n : function(t, i, e, n, o) {
                    for (var r, a, s = 0; 0 < (r = d(a = i + (e - i) / 2, n, o) - t) ? e = a : i = a,
                    1e-7 < Math.abs(r) && ++s < 10; )
                        ;
                    return a
                }(t, i, i + .1, this.o, this.s)
            }
            ,
            t.prototype.h = function(t) {
                return 0 === t ? 0 : 1 === t ? 1 : d(this.t(t), this.l, this.u)
            }
            ,
            t.prototype.p = function(t) {
                return t
            }
            ,
            t);
            function t(t, i, e, n) {
                if (!(0 <= t && t <= 1 && 0 <= e && e <= 1))
                    throw new Error("bezier x values must be in [0, 1] range");
                this.o = t,
                this.l = i,
                this.s = e,
                this.u = n,
                this.i = new (r ? Float32Array : Array)(11);
                for (var o = 0; o < 11; ++o)
                    this.i[o] = d(.1 * o, t, e)
            }
            var i, e, P = {
                getViewport: function(t) {
                    return t ? [t.clientWidth, t.clientHeight] : [0, 0]
                },
                n_: function(t, i) {
                    var e = t.style[i];
                    if ((!e || "auto" === e) && document.defaultView) {
                        var n = document.defaultView.getComputedStyle(t, null);
                        e = n ? n[i] : null
                    }
                    return e && "auto" !== e || "height" !== i || (e = t.clientHeight + "px"),
                    e && "auto" !== e || "width" !== i || (e = t.clientWidth + "px"),
                    "auto" === e ? null : e
                },
                getViewportOffset: function(t) {
                    var i, e = 0, n = 0, o = t, r = document.body, a = document.documentElement;
                    do {
                        if (e += o.offsetTop || 0,
                        n += o.offsetLeft || 0,
                        e += parseInt(P.n_(o, "borderTopWidth"), 10) || 0,
                        n += parseInt(P.n_(o, "borderLeftWidth"), 10) || 0,
                        i = P.n_(o, "position"),
                        o.offsetParent === r && "absolute" === i)
                            break;
                        if ("fixed" === i) {
                            e += r.scrollTop || a.scrollTop || 0,
                            n += r.scrollLeft || a.scrollLeft || 0;
                            break
                        }
                        o = o.offsetParent
                    } while (o);o = t;
                    do {
                        if (o === r)
                            break;
                        e -= o.scrollTop || 0,
                        n -= o.scrollLeft || 0,
                        !P.m() && wt._.webkit && (n += o.scrollWidth - o.clientWidth),
                        o = o.parentNode
                    } while (o);return [n, e]
                },
                m: function() {
                    return i || (e = "ltr" === P.n_(document.body, "direction"),
                    i = !0),
                    e
                },
                create: function(t, i, e, n) {
                    var o = document.createElement(t);
                    if (e && (o.className = e),
                    i)
                        if (n && "before" === n) {
                            var r = i.firstChild;
                            i.insertBefore(o, r)
                        } else
                            i.appendChild(o);
                    return o
                },
                toggleClass: function(t, i, e) {
                    e ? this.addClass(t, i) : this.removeClass(t, i)
                },
                hasClass: function(t, i) {
                    if (t && i)
                        return 0 < t.className.length && new RegExp("(^|\\s)" + i + "(\\s|$)").test(t.className)
                },
                addClass: function(t, i) {
                    t && i && (t.classList && t.classList.add ? t.classList.add(i) : this.hasClass(t, i) || (t.className += (t.className ? " " : "") + i))
                },
                setClass: function(t, i) {
                    t && (t.className = i || "")
                },
                removeClass: function(t, e) {
                    t && e && (t.classList && t.classList.remove ? t.classList.remove(e) : t.className = t.className.replace(/(\S+)\s*/g, function(t, i) {
                        return i === e ? "" : t
                    }).replace(/(^\s+|\s+$)/, ""))
                },
                watchSize: function(e, n, o) {
                    var t = document.createElement("iframe");
                    t.style.cssText = "width: 100%;height: 100%;position: absolute;pointEvents:none; opacity:0; margin: 0;padding: 0;border: none;",
                    t.onload = function() {
                        t.contentWindow.onresize = i
                    }
                    ,
                    e.appendChild(t),
                    t.src = "about:blank";
                    var r = 0
                      , a = 0;
                    function i() {
                        o.k = e.getBoundingClientRect(),
                        o.M = [e.clientLeft, e.clientTop];
                        var t = e.offsetWidth
                          , i = e.offsetHeight;
                        t === r && i === a || (n(t, i),
                        r = t,
                        a = i)
                    }
                    return i(),
                    o.resize = i,
                    window.onscroll = i,
                    function() {
                        t.contentWindow.onresize = null
                    }
                },
                watchSize2: function(e, n, o) {
                    var r = document.createElement("_");
                    r.className = "expand";
                    var a = r.appendChild(document.createElement("_"));
                    a.className = "shrink";
                    var s = r.appendChild(document.createElement("_"));
                    s.className = "expandChild";
                    var h, l, t = a.appendChild(document.createElement("_"));
                    return t.className = "shrinkChild",
                    a.style.cssText = r.style.cssText = "height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1",
                    t.style.cssText = s.style.cssText = "display:block;height:100%;transition:0s;width:100%",
                    t.style.width = t.style.height = "200%",
                    e.appendChild(r),
                    f(),
                    function() {
                        u(),
                        e.removeChild(r)
                    }
                    ;
                    function f() {
                        u(),
                        o.k = e.getBoundingClientRect(),
                        o.M = [e.clientLeft, e.clientTop];
                        var t = e.offsetWidth
                          , i = e.offsetHeight;
                        t === h && i === l || (h = t,
                        l = i,
                        s.style.width = 2 * t + "px",
                        s.style.height = 2 * i + "px",
                        r.scrollLeft = r.scrollWidth,
                        r.scrollTop = r.scrollHeight,
                        a.scrollLeft = a.scrollWidth,
                        a.scrollTop = a.scrollHeight,
                        n(t, i)),
                        a.addEventListener("scroll", f),
                        r.addEventListener("scroll", f)
                    }
                    function u() {
                        a.removeEventListener("scroll", f),
                        r.removeEventListener("scroll", f)
                    }
                },
                mousePos: function(t, i, e) {
                    t && (e.k = t.getBoundingClientRect(),
                    e.M = [t.clientLeft, t.clientTop]);
                    var n = e.k
                      , o = i;
                    return o.touches && o.changedTouches && (o = 0 < o.touches.length ? o.touches[0] : o.changedTouches[o.changedTouches.length - 1]),
                    [o.clientX - n.left - e.M[0], o.clientY - n.top - e.M[1]]
                },
                remove: function(t) {
                    t && t.parentNode && t.parentNode.removeChild(t)
                },
                empty: function(t) {
                    for (; t.firstChild; )
                        t.removeChild(t.firstChild)
                },
                closest: function(t, i) {
                    if (t) {
                        if (this.hasClass(t, i))
                            return t;
                        var e = t.parentElement;
                        return e ? P.closest(e, i) : null
                    }
                    return null
                },
                fillText: function(t, i) {
                    if (t)
                        return void 0 !== t.textContent ? t.textContent = i : void 0 !== t.innerText ? t.innerText = i : t.innerHTML = i,
                        t
                },
                _L: function(t) {
                    for (var i = document.documentElement.style, e = 0; e < t.length; e += 1)
                        if (t[e]in i)
                            return t[e];
                    return !1
                },
                rotate: function(t, i, e) {
                    var n = P.kL;
                    if (e = e || {
                        x: t.clientWidth / 2,
                        y: t.clientHeight / 2
                    },
                    n) {
                        var o = "";
                        o += " rotate(" + i + "deg)",
                        t.style[n] = o,
                        t.style[P.ML[n] + "-origin"] = e.x + "px " + e.y + "px"
                    } else {
                        var r = Math.cos(i * Math.PI / 180)
                          , a = Math.sin(i * Math.PI / 180);
                        if (t.style.filter = "progid:DXImageTransform.Microsoft.Matrix()",
                        0 < t.filters.length) {
                            var s = t.filters.item(0);
                            s.Dx = -e.x * r + e.y * a + e.x,
                            s.Dy = -e.x * a - e.y * r + e.y,
                            s.M11 = s.M22 = r,
                            s.M12 = -(s.M21 = a)
                        }
                    }
                },
                setCss: function(t, i) {
                    t = t instanceof Array ? t : [t];
                    for (var e = 0; e < t.length; e += 1)
                        for (var n in i)
                            i.hasOwnProperty(n) && (t[e].style[n] = i[n]);
                    return this
                },
                setOpacity: function(t, i) {
                    if (t.style)
                        if ("opacity"in t.style)
                            t.style.opacity = "" + i;
                        else if ("filter"in t.style) {
                            var e = Math.round(100 * i);
                            t.style.filter = "",
                            100 !== e && (t.style.filter = " progid:DXImageTransform.Microsoft.Alpha(opacity=" + e + ")")
                        }
                },
                ML: {},
                kL: e = i = !1
            };
            P.kL = P._L(["WebkitTransform", "OTransform", "MozTransform", "msTransform", "transform"]),
            P.ML = {
                transform: "transform",
                WebkitTransform: "-webkit-transform",
                OTransform: "-o-transform",
                MozTransform: "-moz-transform",
                msTransform: "-ms-transform"
            };
            var v = (m.prototype.isEnabled = function() {
                return "disabled" !== this.R
            }
            ,
            m.prototype.isActive = function() {
                return "active" === this.R
            }
            ,
            m.prototype.enable = function() {
                this.isEnabled() || (this.R = "enabled")
            }
            ,
            m.prototype.disable = function() {
                this.isEnabled() && (this.R,
                this.R = "disabled")
            }
            ,
            m.prototype.L = function(t) {
                this.A && (this.A = !1),
                t.ctrlKey || 0 !== t.button || (document.addEventListener("mousemove", this.T),
                document.addEventListener("mouseup", this.I),
                this.D(t))
            }
            ,
            m.prototype.P = function(t) {
                if (1 < t.touches.length)
                    return this.j.removeEventListener("touchmove", this.T),
                    void (this.R = "enabled");
                this.A && (this.A = !1),
                "enabled" === this.R && (this.j.addEventListener("touchmove", this.T, {
                    capture: !0,
                    passive: !0
                }),
                document.addEventListener("touchend", this.oS),
                this.D(t))
            }
            ,
            m.prototype.D = function(t) {
                this.$ = this.U = this.B = P.mousePos(this.j, t, this._map),
                this.YF = this._map.getView().getStatus().centerCoord,
                this.XF = this._map.containerToCoord(this.$),
                this.W = [[Date.now(), this.$]],
                this.R = "active"
            }
            ,
            m.prototype.Z = function(t) {
                if (!("touchmove" === t.type && 1 < t.touches.length) && (this.W.length < 2 && "active" === this.R && this.G("dragstart", t),
                "touchmove" === t.type && this.G("touchmove", t),
                this.G("dragging", t),
                this.isEnabled() && ("active" === this.R && (this.R = "pending"),
                "disabled" !== this.R))) {
                    var i = P.mousePos(this.j, t, this._map);
                    if (this.q = t,
                    this.B = wt.set(wt.create(), i[0], i[1]),
                    this.Y(),
                    this.W.push([Date.now(), this.B]),
                    !(this.W.length < 2)) {
                        var e = this._map.getView()
                          , n = (e.getStatus().rotation,
                        this._map.containerToCoord(i))
                          , o = [this.XF[0] - n[0] + this.YF[0], this.XF[1] - n[1] + this.YF[1]];
                        e.setOptions({
                            center: this._map.getProjection().unproject(o[0], o[1])
                        })
                    }
                }
            }
            ,
            m.prototype.tt = function(t) {
                if (0 === t.button) {
                    if (this.it())
                        return this.S(),
                        void this.C();
                    switch (this.R) {
                    case "active":
                        this.R = "enabled",
                        this.S(),
                        this.C();
                        break;
                    case "pending":
                        this.R = "enabled",
                        this.S(),
                        this.C(),
                        this.et(t),
                        this.G("dragend", t);
                        break;
                    default:
                        this.R = "enabled",
                        this.S(),
                        this.G("dragend", t)
                    }
                }
            }
            ,
            m.prototype.N = function(t) {
                if (0 < t.touches.length)
                    return this.$ = this.U = this.B = P.mousePos(this.j, t, this._map),
                    this.YF = this._map.getView().getStatus().centerCoord,
                    void (this.XF = this._map.containerToCoord(this.$));
                if (this.it())
                    return this.S(),
                    void this.C();
                switch (this.R) {
                case "active":
                    this.R = "enabled",
                    this.S(),
                    this.C();
                    break;
                case "pending":
                    this.R = "enabled",
                    this.S(),
                    this.C(),
                    this.G("dragend", t),
                    this.et(t);
                    break;
                default:
                    this.G("dragend", t),
                    this.S()
                }
            }
            ,
            m.prototype.it = function() {
                var t = this._map.getLimitBounds();
                if (t = t && t.toJSON()) {
                    var i = this._map.getBounds().toJSON()
                      , e = []
                      , n = this._map.getCenter().toJSON()
                      , o = [n[0], n[1]];
                    return (i[0] < t[0] || i[1] < t[1] || i[2] > t[2] || i[3] > t[3]) && (e[0] = i[0] - t[0],
                    e[1] = i[1] - t[1],
                    e[2] = i[2] - t[2],
                    e[3] = i[3] - t[3],
                    e[0] < 0 && 0 < e[2] ? o[0] = (t[0] + t[2]) / 2 : e[0] < 0 ? o[0] = n[0] - e[0] : 0 < e[2] && (o[0] = n[0] - e[2]),
                    e[1] < 0 && 0 < e[3] ? o[1] = (t[1] + t[3]) / 2 : e[1] < 0 ? o[1] = n[1] - e[1] : 0 < e[3] && (o[1] = n[1] - e[3]),
                    this._map.panTo(o, 100),
                    !0)
                }
            }
            ,
            m.prototype.S = function() {
                this.j.removeEventListener("touchmove", this.T),
                document.removeEventListener("touchend", this.oS),
                document.removeEventListener("mousemove", this.T),
                document.removeEventListener("mouseup", this.I)
            }
            ,
            m.prototype.C = function() {
                delete this.q,
                delete this.$,
                delete this.U,
                delete this.B
            }
            ,
            m.prototype.Y = function() {
                for (var t = this.W, i = Date.now(); 0 < t.length && 60 < i - t[0][0]; )
                    t.shift()
            }
            ,
            m.prototype.et = function(t) {
                if (this._map.getStatus().jogEnable) {
                    this.A = !0,
                    this.Y();
                    var i = this.W;
                    if (!(i.length < 2)) {
                        var e = i[i.length - 1]
                          , n = i[0]
                          , o = [e[1][0] - n[1][0], e[1][1] - n[1][1]]
                          , r = (e[0] - n[0]) / 1e3;
                        if (0 == r || wt.equals(e[1], n[1]))
                            this.G("moveend", t);
                        else {
                            var a = [o[0] / (.3 / r), o[1] / (.3 / r)]
                              , s = Math.sqrt(a[0] * a[0] + a[1] * a[1]) / 750
                              , h = this._map.getView()
                              , l = h.getStatus()
                              , f = l.rotation
                              , u = parseInt((1e3 * s + 400) / 17 + "", 10)
                              , c = u
                              , d = (new L(.1,0,1,.1),
                            wt.V[l.projectionId].nt(-o[0] / 7, o[1] / 7, l.zoom),
                            wt.at.getProjection(l.projectionId).project(l.center[0], l.center[1]))
                              , p = Date.now()
                              , v = 17 * c
                              , m = i[i.length - Math.min(i.length, 3)]
                              , y = [e[1][0] - m[1][0], e[1][1] - m[1][1]];
                            0 !== f && (y = this.J(f, y)),
                            y = wt.V[l.projectionId].nt(y[0], -y[1], l.zoom);
                            var g = Math.min(m[0] - e[0], -15)
                              , x = [y[0] / g, y[1] / g]
                              , b = [-x[0] / v, -x[1] / v]
                              , _ = [0, 0];
                            wt.Util.requestAnimFrame(function t() {
                                this.isEnabled() && this.A || (u = -1);
                                var i = Date.now() - p;
                                v < i && (u = -1);
                                var e = [x[0] * i + b[0] * i * i / 2, x[1] * i + b[1] * i * i / 2];
                                d = [d[0] + (e[0] - _[0]), d[1] + (e[1] - _[1])],
                                _ = e,
                                u <= 0 ? this.A = !1 : (h.setOptions({
                                    center: wt.at.getProjection(l.projectionId).unproject(d[0], d[1])
                                }),
                                wt.Util.requestAnimFrame(t.bind(this)),
                                u--)
                            }
                            .bind(this))
                        }
                    }
                }
            }
            ,
            m.prototype.J = function(t, i) {
                var e = Math.sqrt(i[0] * i[0] + i[1] * i[1])
                  , n = Math.atan2(i[1], i[0])
                  , o = t / 180 * Math.PI - n;
                return i[0] = e * Math.cos(o),
                i[1] = -e * Math.sin(o),
                i
            }
            ,
            m.prototype.G = function(t, i) {
                this._map.getBindHandler().fireEvent(t, i)
            }
            ,
            m);
            function m(t, i) {
                this.st = "mouse",
                this._map = i,
                this.W = [],
                this.j = t,
                this.R = "disabled",
                this.T = this.Z.bind(this),
                this.I = this.tt.bind(this),
                this.oS = this.N.bind(this)
            }
            var y = (g.prototype.isEnabled = function() {
                return "disabled" !== this.R
            }
            ,
            g.prototype.isActive = function() {
                return "active" === this.R
            }
            ,
            g.prototype.enable = function() {
                this.isEnabled() || (this.rt = !0,
                this.R = "enabled")
            }
            ,
            g.prototype.ht = function() {
                return !!this.lt
            }
            ,
            g.prototype.disable = function() {
                if (this.isEnabled())
                    switch (this.R) {
                    case "active":
                        this.R = "disabled",
                        this.S(),
                        this.C();
                        break;
                    case "pending":
                        this.R = "disabled",
                        this.S();
                        break;
                    default:
                        this.R = "disabled"
                    }
            }
            ,
            g.prototype.ut = function(t) {
                t.preventDefault(),
                "enabled" === this.R && this._map.getStatus().doubleClickZoom && (t.ctrlKey || 0 !== t.button || this.D(t))
            }
            ,
            g.prototype.P = function(t, i) {
                var e = this;
                if (this.$ = P.mousePos(this.j, t, this._map),
                2 === t.touches.length)
                    return this.rt = !1,
                    void (this.ct = 0);
                this.rt = !0,
                this.ct++,
                this.ft = i,
                this.lt = !1,
                setTimeout(function() {
                    1 === e.ct && (e.ct = 0)
                }, 300),
                this.pt = [t.changedTouches[0].clientX, t.changedTouches[0].clientY],
                this.j.addEventListener("touchmove", this.dt),
                2 <= this.ct && this.j.addEventListener("touchend", this.N.bind(this))
            }
            ,
            g.prototype.vt = function(t) {
                var i = this;
                this.rt && (this.yt++,
                setTimeout(function() {
                    i.yt = 0
                }, 300),
                2 !== this.yt || this.lt || (t.preventDefault(),
                this.yt = 0,
                this.ct = 0,
                this.D(t)),
                2 === this.ct && (this.ct = 0))
            }
            ,
            g.prototype.D = function(i) {
                var e = this;
                this.lt = !0,
                this.R = "active",
                this.G("zoomstart");
                var n = 0
                  , o = this._map.getView().getStatus().zoom
                  , r = new L(.4,0,.15,1);
                if (!(o >= this.xt[1])) {
                    var a = 0
                      , s = function() {
                        n += 16;
                        var t = o + r.h(n / 400);
                        t >= e.xt[1] || (e.bt(i, t),
                        o + 1 <= t && (wt.Util.cancelAnimFrame(a),
                        e.lt = !1,
                        e.R = "enabled",
                        e.tt(),
                        e.N()),
                        (e.lt || n < 400) && (a = wt.Util.requestAnimFrame(s)))
                    };
                    a = wt.Util.requestAnimFrame(s)
                }
            }
            ,
            g.prototype.gt = function(t) {
                var i = P.mousePos(this.j, t, this._map);
                if (i[0] - this.$[0] != 0 || i[1] - this.$[1] != 0)
                    if (this.yt = -1,
                    this.ct < 2)
                        this.ct = 0;
                    else if (this.rt) {
                        this.lt = !0,
                        this.wt = !0,
                        this.ft.disable();
                        var e = t.changedTouches.length
                          , n = this._map.getView()
                          , o = this._map.getView().getStatus().zoom - (t.changedTouches[e - 1].clientY - this.pt[1]) / 100;
                        n.setOptions({
                            zoom: o
                        }),
                        this.pt = [t.changedTouches[e - 1].clientX, t.changedTouches[e - 1].clientY]
                    }
            }
            ,
            g.prototype.N = function() {
                this.wt && 2 <= this.ct && (this.ft.enable(),
                this.tt(),
                this.lt = !1,
                this.wt = !1)
            }
            ,
            g.prototype.bt = function(t, i) {
                var e = this._map.getView()
                  , n = e.getStatus()
                  , o = n.center
                  , r = n.zoom
                  , a = n.rotation
                  , s = n.projectionId;
                if (this._map.getStatus().zoomEnable) {
                    var h = P.mousePos(this.j, t, this._map)
                      , l = [this.j.clientWidth / 2, this.j.clientHeight / 2]
                      , f = this._t(l, h)
                      , u = Math.atan((h[1] - l[1]) / (h[0] - l[0]))
                      , c = -a / 180 * Math.PI + u
                      , d = [-Math.cos(c) * f, Math.sin(c) * f];
                    h[0] - l[0] < 0 && (d[0] = -d[0],
                    d[1] = -d[1]);
                    var p = wt.V[s].nt(d[0], d[1], r)
                      , v = wt.V[s].nt(d[0], d[1], i)
                      , m = Math.pow(2, i - r);
                    e.setOptions({
                        kt: {
                            pos: h,
                            Mt: i,
                            Rt: v,
                            zt: p,
                            scale: m,
                            center: wt.set(wt.create(), o[0], o[1])
                        }
                    }),
                    this.G("zooming")
                }
            }
            ,
            g.prototype.tt = function(t) {
                t && 0 !== t.button || (this.S(),
                this.C(),
                this.G("zoomend"))
            }
            ,
            g.prototype.S = function() {
                this.j.removeEventListener("dblclick", this.St),
                this.j.removeEventListener("touchmove", this.dt)
            }
            ,
            g.prototype.C = function() {
                delete this.$,
                delete this.U,
                delete this.U
            }
            ,
            g.prototype._t = function(t, i) {
                var e = i[0] - t[0]
                  , n = i[1] - t[1];
                return Math.sqrt(e * e + n * n)
            }
            ,
            g.prototype.G = function(t, i) {
                this._map.getBindHandler().fireEvent(t, i)
            }
            ,
            g);
            function g(t, i) {
                this.lt = !1,
                this.wt = !1,
                this.rt = !0,
                this.xt = [2, 22],
                this.yt = 0,
                this.ct = 0,
                this.pt = [0, 0],
                this._map = i,
                this.j = t,
                this.R = "disabled",
                this.St = this.ut.bind(this),
                this.dt = this.gt.bind(this)
            }
            var x = (b.prototype.isEnabled = function() {
                return "disabled" !== this.R
            }
            ,
            b.prototype.isActive = function() {
                return "active" === this.R
            }
            ,
            b.prototype.enable = function() {
                this.isEnabled() || (this.R = "enabled")
            }
            ,
            b.prototype.disable = function() {
                if (this.isEnabled())
                    switch (P.removeClass(this.j, "mapboxgl-touch-drag-pan"),
                    this.R) {
                    case "active":
                        this.R = "disabled",
                        this.S(),
                        this.G("zoomstart");
                        break;
                    case "pending":
                        this.R = "disabled",
                        this.S();
                        break;
                    default:
                        this.R = "disabled"
                    }
            }
            ,
            b.prototype.ht = function() {
                return !!this.lt
            }
            ,
            b.prototype.P = function(t) {
                2 === t.touches.length && (t.stopPropagation(),
                this.G("zoomstart"),
                this.Ct = this._map.getView().getStatus().rotation,
                this.Lt = this._map.getView().getStatus().zoom,
                this.$ = t.touches,
                this.B = t.touches,
                this.j.addEventListener("touchmove", this.T),
                this.j.addEventListener("touchend", this.At))
            }
            ,
            b.prototype.Z = function(t) {
                if (!(t.touches.length < 2) && (this.G("touchmove"),
                this._map.getStatus().touchZoom && this.isEnabled())) {
                    this.lt = !0;
                    var i = this.CF(t)
                      , e = this._map.getView()
                      , n = e.getStatus()
                      , o = n.rotation
                      , r = n.center
                      , a = n.zoom
                      , s = n.projectionId
                      , h = n.Tt
                      , l = void 0 === h ? s : h
                      , f = n.pitch
                      , u = this._map.getStatus()
                      , c = u.rotateEnable
                      , d = u.zoomEnable
                      , p = u.pitchEnable
                      , v = u.touchZoomCenter
                      , m = !1
                      , y = !1
                      , g = !1
                      , x = this.It(this.B[0], this.B[1])
                      , b = this.It(t.touches[0], t.touches[1])
                      , _ = this.Dt(this.B[0], this.B[1])
                      , w = this.Dt(t.touches[0], t.touches[1])
                      , k = a + (b - x) / 180
                      , M = wt.Pt(P.mousePos(this.j, this.$[0], this._map), P.mousePos(this.j, this.$[1], this._map));
                    M = [(M[0] + M[2]) / 2, (M[1] + M[3]) / 2];
                    var C = [this.j.clientWidth / 2, this.j.clientHeight / 2]
                      , S = this.jt(C, M)
                      , z = Math.atan((M[1] - C[1]) / (M[0] - C[0]))
                      , R = o * Math.PI / 180 + z
                      , A = [-Math.cos(R) * S, Math.sin(R) * S];
                    M[0] - C[0] < 0 && (A[0] = -A[0],
                    A[1] = -A[1]);
                    var I = wt.V[l].nt(A[0], A[1], a)
                      , L = wt.V[l].nt(A[0], A[1], k)
                      , T = Math.pow(2, k - a)
                      , $ = o + (w - _);
                    3 < Math.abs($ - o) && (m = !0),
                    1 < Math.abs(i) && (y = m = !(g = !0)),
                    .01 < Math.abs(k - a) && (y = !0);
                    var D = P.mousePos(this.j, this.$[0], this._map)
                      , F = P.mousePos(this.j, this.$[1], this._map);
                    1 === v ? e.setOptions({
                        pitch: p && g ? f + i : f,
                        zoom: d && y ? k : a,
                        rotation: c && m ? $ : o
                    }) : e.setOptions({
                        pitch: p && g ? f + i : f,
                        kt: d && y && {
                            Mt: k,
                            Rt: L,
                            zt: I,
                            pos: [(D[0] + F[0]) / 2, (D[1] + F[1]) / 2],
                            scale: T,
                            center: wt.set(wt.create(), r[0], r[1])
                        },
                        rotation: c && m ? $ : o
                    }),
                    this.B = t.touches
                }
            }
            ,
            b.prototype.CF = function(t) {
                var i = this.B
                  , e = this.$
                  , n = [P.mousePos(this.j, i[0], this._map), P.mousePos(this.j, i[1], this._map)]
                  , o = (P.mousePos(this.j, e[0], this._map),
                P.mousePos(this.j, e[1], this._map),
                [P.mousePos(this.j, t.touches[0], this._map), P.mousePos(this.j, t.touches[1], this._map)])
                  , r = Math.sqrt(Math.pow(n[0][0] - n[1][0], 2) + Math.pow(n[0][1] - n[1][1], 2))
                  , a = Math.sqrt(Math.pow(o[0][0] - o[1][0], 2) + Math.pow(o[0][1] - o[1][1], 2));
                if (2 < Math.abs(a - r))
                    return 0;
                var s = o[0][0] - n[0][0]
                  , h = o[0][1] - n[0][1]
                  , l = o[1][0] - n[1][0]
                  , f = o[1][1] - n[1][1];
                return Math.abs(h) < Math.abs(s) || Math.abs(f) < Math.abs(l) ? 0 : -(h + f) / 2 / 4
            }
            ,
            b.prototype.Et = function(t) {
                this.G("zoomend"),
                this.S()
            }
            ,
            b.prototype.It = function(t, i) {
                var e = i.clientX - t.clientX
                  , n = i.clientY - t.clientY;
                return Math.sqrt(e * e + n * n)
            }
            ,
            b.prototype.jt = function(t, i) {
                var e = i[0] - t[0]
                  , n = i[1] - t[1];
                return Math.sqrt(e * e + n * n)
            }
            ,
            b.prototype.Dt = function(t, i) {
                var e = t.pageX - i.pageX
                  , n = t.pageY - i.pageY;
                return Math.atan2(n, e) / Math.PI * 180
            }
            ,
            b.prototype.S = function() {
                this.j.removeEventListener("touchstart", this.Nt),
                this.j.removeEventListener("touchmove", this.T),
                this.j.removeEventListener("touchend", this.At)
            }
            ,
            b.prototype.G = function(t, i) {
                this._map.getBindHandler().fireEvent(t, i)
            }
            ,
            b);
            function b(t, i) {
                this.Ot = !1,
                this.Ft = !1,
                this._map = i,
                this.W = [],
                this.j = t,
                this.R = "disabled",
                this.$t = 0,
                this.T = this.Z.bind(this),
                this.At = this.Et.bind(this)
            }
            var it = (_.wi = {
                ZERO: 0,
                ONE: 1,
                SRC_ALPHA: 770,
                ONE_MINUS_SRC_ALPHA: 771
            },
            _.tH = [!0, !0, !0, !0],
            _.iH = [!1, !1, !1, !1],
            _.disabled = new _([_.wi.ONE, _.wi.ZERO, _.wi.ONE, _.wi.ZERO],_.iH),
            _.Mi = new _([_.wi.ONE, _.wi.ZERO, _.wi.ONE, _.wi.ZERO],_.tH),
            _.Ri = new _([_.wi.SRC_ALPHA, _.wi.ONE_MINUS_SRC_ALPHA, _.wi.SRC_ALPHA, _.wi.ONE_MINUS_SRC_ALPHA],_.tH),
            _.zi = new _([_.wi.ONE, _.wi.ONE_MINUS_SRC_ALPHA, _.wi.ONE, _.wi.ONE_MINUS_SRC_ALPHA],_.tH),
            _.Si = new _([_.wi.SRC_ALPHA, _.wi.ONE_MINUS_SRC_ALPHA, _.wi.ONE, _.wi.ONE_MINUS_SRC_ALPHA],_.tH),
            _.land = new _([_.wi.SRC_ALPHA, _.wi.ONE_MINUS_SRC_ALPHA, _.wi.ONE, _.wi.ZERO],_.tH),
            _);
            function _(t, i) {
                this.Ci = t,
                this.mask = i
            }
            var T = (w.disable = new w({
                test: (w.wi = {
                    NOTEQUAL: 517,
                    ALWAYS: 519,
                    EQUAL: 514,
                    GEQUAL: 518,
                    GREATER: 516,
                    LESS: 513,
                    NEVER: 512,
                    KEEP: 7680,
                    REPLACE: 7681,
                    ZERO: 0,
                    INCR_WRAP: 34055,
                    INCR: 7682,
                    DECR: 7683
                }).ALWAYS,
                Li: 0,
                mask: 0
            },[w.wi.KEEP, w.wi.KEEP, w.wi.KEEP],0),
            w.Ai = new w({
                test: w.wi.ALWAYS,
                Li: 254,
                mask: 255
            },[w.wi.KEEP, w.wi.KEEP, w.wi.REPLACE],255),
            w.Ti = new w({
                test: w.wi.LESS,
                Li: 240,
                mask: 255
            },[w.wi.KEEP, w.wi.KEEP, w.wi.KEEP],255),
            w.nH = new w({
                test: w.wi.EQUAL,
                Li: 0,
                mask: 255
            },[w.wi.KEEP, w.wi.KEEP, w.wi.KEEP],0),
            w.$H = new w({
                test: w.wi.EQUAL,
                Li: 0,
                mask: 255
            },[w.wi.KEEP, w.wi.KEEP, w.wi.INCR],255),
            w.DH = new w({
                test: w.wi.EQUAL,
                Li: 254,
                mask: 255
            },[w.wi.KEEP, w.wi.KEEP, w.wi.KEEP],0),
            w.FH = new w({
                test: w.wi.EQUAL,
                Li: 254,
                mask: 255
            },[w.wi.KEEP, w.wi.KEEP, w.wi.DECR],255),
            w.PH = new w({
                test: w.wi.ALWAYS,
                Li: 255,
                mask: 255
            },[w.wi.KEEP, w.wi.KEEP, w.wi.INCR],255),
            w.HH = new w({
                test: w.wi.NOTEQUAL,
                Li: 1,
                mask: 1
            },[w.wi.KEEP, w.wi.KEEP, w.wi.KEEP],0),
            w);
            function w(t, i, e) {
                this.stencilFunc = t,
                this.stencilOp = i,
                this.stencilMask = e
            }
            var k = (C.prototype.set = function(t) {
                this.Ii = t
            }
            ,
            C.prototype.get = function() {
                return this.Ii
            }
            ,
            C.prototype.Di = function() {
                this.Pi = !0
            }
            ,
            C.prototype.reset = function() {
                this.set(this.default)
            }
            ,
            C.prototype.ji = function(t) {
                return this.Pi || !this.Oi(t, this.Ii)
            }
            ,
            C);
            function C(t) {
                this.Oi = pi,
                this.gl = t.gl,
                this.default = this.Fi(),
                this.Ii = this.Fi(),
                this.Pi = !1
            }
            var S, z = (S = k,
            wt.Ei(R, S),
            R.prototype.Fi = function() {
                return !1
            }
            ,
            R.prototype.set = function(t) {
                if (this.ji(t)) {
                    var i = this.gl;
                    t ? i.enable(i.BLEND) : i.disable(i.BLEND),
                    this.Ii = t,
                    this.Pi = !1
                }
            }
            ,
            R);
            function R() {
                return null !== S && S.apply(this, arguments) || this
            }
            var A, I = (A = k,
            wt.Ei($, A),
            $.prototype.Fi = function() {
                var t = this.gl;
                return [0, 0, t.drawingBufferWidth, t.drawingBufferHeight]
            }
            ,
            $.prototype.set = function(t) {
                var i = this.Ii;
                t[0] === i[0] && t[1] === i[1] && t[2] === i[2] && t[3] === i[3] && !this.Pi || (this.gl.viewport(t[0], t[1], t[2], t[3]),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            $);
            function $() {
                return null !== A && A.apply(this, arguments) || this
            }
            var D, F = (D = k,
            wt.Ei(H, D),
            H.prototype.Fi = function() {
                return !1
            }
            ,
            H.prototype.set = function(t) {
                if (this.ji(t)) {
                    var i = this.gl;
                    t ? (i.enable(i.DEPTH_TEST),
                    i.depthFunc(i.LEQUAL)) : i.disable(i.DEPTH_TEST),
                    this.Ii = t,
                    this.Pi = !1
                }
            }
            ,
            H);
            function H() {
                return null !== D && D.apply(this, arguments) || this
            }
            var O, B = (O = k,
            wt.Ei(E, O),
            E.prototype.Fi = function() {
                return !1
            }
            ,
            E.prototype.set = function(t) {
                if (this.ji(t)) {
                    var i = this.gl;
                    t ? i.enable(i.STENCIL_TEST) : i.disable(i.STENCIL_TEST),
                    this.Ii = t,
                    this.Pi = !1
                }
            }
            ,
            E);
            function E() {
                return null !== O && O.apply(this, arguments) || this
            }
            var j, N = (j = k,
            wt.Ei(W, j),
            W.prototype.Fi = function() {
                return {
                    test: this.gl.ALWAYS,
                    Li: 1,
                    mask: 65535
                }
            }
            ,
            W.prototype.set = function(t) {
                this.ji(t) && (this.gl.stencilFunc(t.test, t.Li, t.mask),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            W);
            function W() {
                return null !== j && j.apply(this, arguments) || this
            }
            var U, G = (U = k,
            wt.Ei(V, U),
            V.prototype.Fi = function() {
                var t = this.gl;
                return [t.KEEP, t.KEEP, t.KEEP]
            }
            ,
            V.prototype.set = function(t) {
                var i;
                this.ji(t) && ((i = this.gl).stencilOp.apply(i, t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            V);
            function V() {
                return null !== U && U.apply(this, arguments) || this
            }
            var Y, J, Z = (Y = k,
            wt.Ei(X, Y),
            X.prototype.Fi = function() {
                return !1
            }
            ,
            X.prototype.set = function(t) {
                if (this.ji(t)) {
                    var i = this.gl;
                    t ? i.enable(i.CULL_FACE) : i.disable(i.CULL_FACE),
                    this.Ii = t,
                    this.Pi = !1
                }
            }
            ,
            X);
            function X() {
                return null !== Y && Y.apply(this, arguments) || this
            }
            function q() {
                return null !== J && J.apply(this, arguments) || this
            }
            J = k,
            wt.Ei(q, J),
            q.prototype.Fi = function() {
                return [this.gl.ONE, this.gl.ZERO]
            }
            ,
            q.prototype.set = function(t) {
                this.ji(t) && (this.gl.blendFunc(t[0], t[1]),
                this.Ii = t,
                this.Pi = !1)
            }
            ;
            var Q, K = (Q = k,
            wt.Ei(tt, Q),
            tt.prototype.Fi = function() {
                var t = this.gl.ONE
                  , i = this.gl.ZERO;
                return [t, i, t, i]
            }
            ,
            tt.prototype.set = function(t) {
                var i;
                this.ji(t) && ((i = this.gl).blendFuncSeparate.apply(i, t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            tt);
            function tt() {
                return null !== Q && Q.apply(this, arguments) || this
            }
            var et, rt, nt = (et = k,
            wt.Ei(ot, et),
            ot.prototype.Fi = function() {
                return this.gl.FUNC_ADD
            }
            ,
            ot.prototype.set = function(t) {
                this.ji(t) && (this.gl.blendEquation(t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            ot);
            function ot() {
                return null !== et && et.apply(this, arguments) || this
            }
            function at() {
                return null !== rt && rt.apply(this, arguments) || this
            }
            rt = k,
            wt.Ei(at, rt),
            at.prototype.Fi = function() {
                return [this.gl.FUNC_ADD, this.gl.FUNC_ADD]
            }
            ,
            at.prototype.set = function(t) {
                var i;
                this.ji(t) && ((i = this.gl).blendEquationSeparate.apply(i, t),
                this.Ii = t,
                this.Pi = !1)
            }
            ;
            var st, ht = (st = k,
            wt.Ei(lt, st),
            lt.prototype.Fi = function() {
                return this.gl.BACK
            }
            ,
            lt.prototype.set = function(t) {
                this.ji(t) && (this.gl.cullFace(t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            lt);
            function lt() {
                return null !== st && st.apply(this, arguments) || this
            }
            var ft, ut = (ft = k,
            wt.Ei(ct, ft),
            ct.prototype.Fi = function() {
                return this.gl.CCW
            }
            ,
            ct.prototype.set = function(t) {
                (this.ji(t) || this.Pi) && (this.gl.frontFace(t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            ct);
            function ct() {
                return null !== ft && ft.apply(this, arguments) || this
            }
            var dt, pt = (dt = k,
            wt.Ei(vt, dt),
            vt.prototype.Fi = function() {
                return 1
            }
            ,
            vt.prototype.set = function(t) {
                this.ji(t) && (this.gl.clearDepth(t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            vt);
            function vt() {
                return null !== dt && dt.apply(this, arguments) || this
            }
            var mt, yt = (mt = k,
            wt.Ei(gt, mt),
            gt.prototype.Fi = function() {
                return [0, 0, 0, 0]
            }
            ,
            gt.prototype.set = function(t) {
                var i;
                this.ji(t) && ((i = this.gl).clearColor.apply(i, t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            gt);
            function gt() {
                return null !== mt && mt.apply(this, arguments) || this
            }
            var xt, bt = (xt = k,
            wt.Ei(_t, xt),
            _t.prototype.Fi = function() {
                return 0
            }
            ,
            _t.prototype.set = function(t) {
                this.ji(t) && (this.gl.clearStencil(t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            _t);
            function _t() {
                return null !== xt && xt.apply(this, arguments) || this
            }
            var kt, Mt = (kt = k,
            wt.Ei(Ct, kt),
            Ct.prototype.Fi = function() {
                return [!0, !0, !0, !0]
            }
            ,
            Ct.prototype.set = function(t) {
                var i;
                this.ji(t) && ((i = this.gl).colorMask.apply(i, t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            Ct);
            function Ct() {
                return null !== kt && kt.apply(this, arguments) || this
            }
            var St, zt = (St = k,
            wt.Ei(Rt, St),
            Rt.prototype.Fi = function() {
                return !0
            }
            ,
            Rt.prototype.set = function(t) {
                this.ji(t) && (this.gl.depthMask(t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            Rt);
            function Rt() {
                return null !== St && St.apply(this, arguments) || this
            }
            var At, It = (At = k,
            wt.Ei(Lt, At),
            Lt.prototype.Fi = function() {
                return 65535
            }
            ,
            Lt.prototype.set = function(t) {
                this.ji(t) && (this.gl.stencilMask(t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            Lt);
            function Lt() {
                return null !== At && At.apply(this, arguments) || this
            }
            var Tt, $t = (Tt = k,
            wt.Ei(Dt, Tt),
            Dt.prototype.Fi = function() {
                return null
            }
            ,
            Dt.prototype.set = function(t) {
                if (this.ji(t)) {
                    var i = this.gl;
                    i.bindFramebuffer(i.FRAMEBUFFER, t),
                    this.Ii = t,
                    this.Pi = !1
                }
            }
            ,
            Dt);
            function Dt() {
                return null !== Tt && Tt.apply(this, arguments) || this
            }
            var Ft, Pt = (Ft = k,
            wt.Ei(Ht, Ft),
            Ht.prototype.Fi = function() {
                return null
            }
            ,
            Ht.prototype.set = function(t) {
                this.ji(t) && (this.Ii && this.Ii !== t && this.Ii.Ni(),
                t ? this.gl.useProgram(t.$i) : this.gl.useProgram(null),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            Ht);
            function Ht() {
                return null !== Ft && Ft.apply(this, arguments) || this
            }
            var Ot, Bt = (Ot = k,
            wt.Ei(Et, Ot),
            Et.prototype.Fi = function() {
                return this.gl.TEXTURE0
            }
            ,
            Et.prototype.set = function(t) {
                this.ji(t) && (this.gl.activeTexture(this.gl.TEXTURE0 + t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            Et);
            function Et() {
                return null !== Ot && Ot.apply(this, arguments) || this
            }
            var jt, Nt = (jt = k,
            wt.Ei(Wt, jt),
            Wt.prototype.Fi = function() {
                return null
            }
            ,
            Wt.prototype.set = function(t) {
                if (this.ji(t)) {
                    var i = this.gl;
                    i.bindTexture(i.TEXTURE_2D, t),
                    this.Ii = t,
                    this.Pi = !1
                }
            }
            ,
            Wt);
            function Wt() {
                return null !== jt && jt.apply(this, arguments) || this
            }
            var Ut, Gt = (Ut = k,
            wt.Ei(Vt, Ut),
            Vt);
            function Vt(t, i) {
                var e = Ut.call(this, t) || this;
                return e.context = t,
                e.parent = i,
                e
            }
            var Yt, Zt = (Yt = Gt,
            wt.Ei(Xt, Yt),
            Xt.prototype.set = function(t) {
                if (this.Pi || this.ji(t)) {
                    var i = this.gl
                      , e = this.context.bindFramebuffer.Ii;
                    this.context.bindFramebuffer.set(this.parent.Ui),
                    i.framebufferTexture2D(i.FRAMEBUFFER, i.COLOR_ATTACHMENT0, i.TEXTURE_2D, t, 0),
                    this.context.bindFramebuffer.set(e),
                    this.Ii = t
                }
            }
            ,
            Xt.prototype.Bi = function() {
                var t = this.Ii
                  , i = this.gl;
                t && (i.deleteTexture(t),
                this.Ii = null)
            }
            ,
            Xt.prototype.Fi = function() {
                return null
            }
            ,
            Xt);
            function Xt() {
                return null !== Yt && Yt.apply(this, arguments) || this
            }
            var Jt, qt = (Jt = Gt,
            wt.Ei(Qt, Jt),
            Qt.prototype.set = function(t) {
                if (this.Pi || this.ji(t)) {
                    var i = this.gl;
                    this.context.bindFramebuffer.set(this.parent.Ui),
                    i.framebufferRenderbuffer(i.FRAMEBUFFER, i.DEPTH_ATTACHMENT, i.RENDERBUFFER, t),
                    this.Ii = t
                }
            }
            ,
            Qt.prototype.Bi = function() {
                var t = this.Ii
                  , i = this.gl;
                t && (i.deleteRenderbuffer(t),
                this.Ii = null)
            }
            ,
            Qt.prototype.Fi = function() {
                return null
            }
            ,
            Qt);
            function Qt() {
                return null !== Jt && Jt.apply(this, arguments) || this
            }
            var Kt, ti = (Kt = k,
            wt.Ei(ii, Kt),
            ii.prototype.Fi = function() {
                return null
            }
            ,
            ii.prototype.set = function(t) {
                t && t.xe,
                this.ji(t) && (this.gl.bindBuffer(this.gl.ARRAY_BUFFER, t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            ii);
            function ii() {
                return null !== Kt && Kt.apply(this, arguments) || this
            }
            var ei, ni = (ei = k,
            wt.Ei(oi, ei),
            oi.prototype.Fi = function() {
                return null
            }
            ,
            oi.prototype.set = function(t) {
                this.ji(t) && (this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            oi);
            function oi() {
                return null !== ei && ei.apply(this, arguments) || this
            }
            var ri, ai = (ri = k,
            wt.Ei(si, ri),
            si.prototype.Fi = function() {
                return !1
            }
            ,
            si.prototype.set = function(t) {
                this.ji(t) && (this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, t),
                this.Ii = t,
                this.Pi = !1)
            }
            ,
            si);
            function si() {
                return null !== ri && ri.apply(this, arguments) || this
            }
            var hi = (li.prototype.resize = function(t, i) {
                this.Wi.Bi(),
                this.Gi.Bi(),
                this.width = t,
                this.height = i
            }
            ,
            li.prototype.destroy = function() {
                var t = this.context.gl;
                this.Wi.Bi(),
                this.Gi.Bi(),
                t.deleteFramebuffer(this.Ui)
            }
            ,
            li.prototype.get = function() {
                return this.Ui
            }
            ,
            li);
            function li(t, i, e) {
                this.context = t,
                this.width = i,
                this.height = e;
                var n = t.gl.createFramebuffer();
                if (!n)
                    throw Error("createFramebuffer error");
                this.Ui = n,
                this.Wi = new Zt(t,this),
                this.Gi = new qt(t,this)
            }
            var fi = (ui.prototype.update = function(t, i, e) {
                var n = t.width
                  , o = t.height
                  , r = i && i.resize || (!this.size || this.size[0] !== n || this.size[1] !== o) && !e
                  , a = this.context.gl;
                if (this.Zi = Boolean(i && i.Zi),
                a.bindTexture(a.TEXTURE_2D, this.texture),
                i && i.Yi && a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1),
                r)
                    this.size = [n, o],
                    t instanceof HTMLImageElement || t instanceof HTMLCanvasElement || t instanceof HTMLVideoElement || t instanceof ImageData ? a.texImage2D(a.TEXTURE_2D, 0, a.RGBA, a.RGBA, a.UNSIGNED_BYTE, t) : a.texImage2D(a.TEXTURE_2D, 0, a.RGBA, n, o, 0, a.RGBA, a.UNSIGNED_BYTE, t.data);
                else {
                    var s = e || {
                        x: 0,
                        y: 0
                    }
                      , h = s.x
                      , l = s.y;
                    t instanceof HTMLImageElement || t instanceof HTMLCanvasElement || t instanceof HTMLVideoElement || t instanceof ImageData ? a.texSubImage2D(a.TEXTURE_2D, 0, h, l, a.RGBA, a.UNSIGNED_BYTE, t) : a.texSubImage2D(a.TEXTURE_2D, 0, h, l, n, o, a.RGBA, a.UNSIGNED_BYTE, t.data)
                }
                this.Zi && this.Vi() && a.generateMipmap(a.TEXTURE_2D),
                i && i.Yi && a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0),
                a.bindTexture(a.TEXTURE_2D, null)
            }
            ,
            ui.prototype.generateMipmap = function() {
                if (this.Vi()) {
                    var t = this.context.gl;
                    t.bindTexture(t.TEXTURE_2D, this.texture),
                    t.generateMipmap(t.TEXTURE_2D),
                    t.bindTexture(t.TEXTURE_2D, null)
                } else
                    console.log("generateMipmap error")
            }
            ,
            ui.prototype.bind = function(t, i, e) {
                var n = this.context.gl;
                n.bindTexture(n.TEXTURE_2D, this.texture),
                i && i !== this.Xi && (n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MAG_FILTER, i),
                this.Xi = i),
                e && e !== this.Hi && (n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, e),
                this.Hi = e),
                t && t !== this.wrap && (n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, t),
                n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, t),
                this.wrap = t)
            }
            ,
            ui.prototype.Vi = function() {
                return Math.log(this.size[0]) / Math.LN2 % 1 == 0 && Math.log(this.size[1]) / Math.LN2 % 1 == 0
            }
            ,
            ui.prototype.destroy = function() {
                this.context.gl.deleteTexture(this.texture),
                this.texture = null
            }
            ,
            ui.prototype.get = function() {
                return this.texture
            }
            ,
            ui);
            function ui(t, i, e) {
                this.context = t,
                this.texture = t.gl.createTexture(),
                this.update(i, e)
            }
            function ci(t, i) {
                return t !== i
            }
            function pi(t, i) {
                return !function(t, i) {
                    if (typeof t != typeof (n = i) || "object" == typeof t && Array.isArray(t) !== Array.isArray(n))
                        return 1;
                    var n;
                    switch (typeof t) {
                    case "boolean":
                    case "number":
                    case "string":
                        return ci(t, i);
                    case "object":
                        return (Array.isArray(t) ? function(t, i) {
                            if (t === i)
                                return !1;
                            if (t.length !== i.length)
                                return !0;
                            for (var e = 0, n = t.length; e < n; e++)
                                if (t[e] !== i[e])
                                    return !0;
                            return !1
                        }
                        : ci)(t, i);
                    default:
                        return 1
                    }
                }(t, i)
            }
            var vi = (mi.prototype.clear = function(t) {
                var i = 0
                  , e = this.gl;
                t.color && (i |= e.COLOR_BUFFER_BIT),
                t.depth && (i |= e.DEPTH_BUFFER_BIT),
                t.stencil && (i |= e.STENCIL_BUFFER_BIT),
                0 !== i && e.clear(i)
            }
            ,
            mi.prototype.Qi = function(t) {
                this.te(t, it.Mi) ? (this.ie.set(!1),
                this.colorMask.set(it.tH)) : this.te(t, it.disabled) ? this.colorMask.set(it.iH) : (this.ie.set(!0),
                this.ee.set(t.Ci),
                this.colorMask.set(t.mask))
            }
            ,
            mi.prototype.ne = function(t) {
                this.depthTest.set(t)
            }
            ,
            mi.prototype.ae = function(t) {
                this.te(t.stencilFunc.test, T.wi.ALWAYS) && !t.stencilMask ? this.se.set(!1) : (this.se.set(!0),
                this.stencilFunc.set(t.stencilFunc),
                this.stencilOp.set(t.stencilOp),
                this.stencilMask.set(t.stencilMask))
            }
            ,
            mi.prototype.re = function(t) {
                t.enable ? (this.cullFace.set(t.enable),
                this.he.set(t.mode),
                this.frontFace.set(t.frontFace)) : this.cullFace.set(!1)
            }
            ,
            mi.prototype.reset = function() {
                this.ie.reset(),
                this.ee.reset(),
                this.blendEquation.reset(),
                this.cullFace.reset(),
                this.he.reset(),
                this.frontFace.reset(),
                this.depthTest.reset(),
                this.se.reset(),
                this.stencilFunc.reset(),
                this.stencilOp.reset(),
                this.stencilMask.reset(),
                this.le.reset(),
                this.ue.reset(),
                this.ce.reset(),
                this.bindFramebuffer.set(null)
            }
            ,
            mi.prototype.createFramebuffer = function(t, i) {
                return new hi(this,t,i)
            }
            ,
            mi.prototype.createRenderbuffer = function(t, i) {
                var e = this.gl
                  , n = e.createRenderbuffer();
                if (e.bindRenderbuffer(e.RENDERBUFFER, n),
                e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_COMPONENT16, t, i),
                !n)
                    throw Error("bindRenderbuffer error");
                return n
            }
            ,
            mi.prototype.createTexture = function(t, i) {
                return new fi(this,t,i)
            }
            ,
            mi.prototype.fe = function(t, i, e) {
                void 0 === e && (e = "STATIC_DRAW");
                var n = this.gl
                  , o = n.createBuffer();
                if (!o)
                    throw Error("createBuffer error");
                o.context = this,
                o.size = i,
                o.length = t.byteLength / i;
                var r = this.de.Ii;
                return this.de.set(o),
                n.bufferData(n.ARRAY_BUFFER, t, n[e]),
                this.de.set(r),
                o
            }
            ,
            mi.prototype.ve = function(t) {
                var i = this.gl
                  , e = i.createBuffer();
                if (!e)
                    throw Error("createBuffer error");
                e.context = this,
                e.length = t.length,
                e.type = "int",
                e.G_ = !0,
                t instanceof Uint16Array ? e.size = 16 : e.size = 32;
                var n = this.me.Ii;
                return this.me.set(e),
                i.bufferData(i.ELEMENT_ARRAY_BUFFER, t, i.STATIC_DRAW),
                this.me.set(n),
                e
            }
            ,
            mi.prototype.getSize = function() {
                return {
                    width: this.gl.canvas.width,
                    height: this.gl.canvas.height
                }
            }
            ,
            mi.prototype.getParameter = function(t) {
                return this.ye[t] || (this.ye[t] = this.gl.getParameter(this.gl[t])),
                this.ye[t]
            }
            ,
            mi.prototype.deleteBuffer = function(t) {
                this.de.set(null),
                this.me.set(null),
                this.gl.deleteBuffer(t),
                t.xe = !0
            }
            ,
            mi.prototype.getExtension = function(t) {
                this.extensions[t] || (this.Z_ ? this.Z_.indexOf(t) < 0 ? console.error("WebGL: supportedExtension not exist " + t) : this.extensions[t] || (this.extensions[t] = this.gl.getExtension(t),
                this.extensions[t] || console.error("WebGL: getExtension " + t + " failed")) : console.error("WebGL: supportedExtension not exist"))
            }
            ,
            mi.prototype.Di = function() {
                this.ge.Di(),
                this.bindTexture.Di(),
                this.bindFramebuffer.Di(),
                this.de.Di(),
                this.me.Di(),
                this.be.Di(),
                this.activeTexture.Di(),
                this.colorMask.Di(),
                this.depthMask.Di(),
                this.se.Di(),
                this.le.Di(),
                this.stencilMask.Di(),
                this.stencilFunc.Di(),
                this.stencilOp.Di(),
                this.colorMask.Di(),
                this.ie.Di(),
                this.blendEquation.Di(),
                this.ee.Di(),
                this.depthTest.Di(),
                this.cullFace.Di(),
                this.he.Di(),
                this.frontFace.Di(),
                this.hB.Di()
            }
            ,
            mi);
            function mi(t) {
                this.te = pi,
                this.gl = t,
                this.Z_ = this.gl.getSupportedExtensions(),
                this.extensions = {},
                this.be = new I(this),
                this.ie = new z(this),
                this.ee = new K(this),
                this.blendEquation = new nt(this),
                this.cullFace = new Z(this),
                this.he = new ht(this),
                this.frontFace = new ut(this),
                this.depthTest = new F(this),
                this.se = new B(this),
                this.stencilFunc = new N(this),
                this.stencilOp = new G(this),
                this.stencilMask = new It(this),
                this.le = new bt(this),
                this.ue = new yt(this),
                this.ce = new pt(this),
                this.bindFramebuffer = new $t(this),
                this.ge = new Pt(this),
                this.bindTexture = new Nt(this),
                this.activeTexture = new Bt(this),
                this.de = new ti(this),
                this.me = new ni(this),
                this.colorMask = new Mt(this),
                this.depthMask = new zt(this),
                this.ye = {},
                this.hB = new ai(this)
            }
            var yi = (gi.we = new gi(!1,(gi.wi = {
                CW: 2304,
                CCW: 2305,
                FRONT: 1028,
                BACK: 1029,
                FRONT_AND_BACK: 1032
            }).FRONT_AND_BACK,gi.wi.CW),
            gi._e = new gi(!0,gi.wi.FRONT,gi.wi.CW),
            gi.back = new gi(!0,gi.wi.BACK,gi.wi.CW),
            gi);
            function gi(t, i, e) {
                this.enable = t,
                this.mode = i,
                this.frontFace = e
            }
            var xi = (bi.prototype.set = function(t) {
                var i = this.context.gl;
                if (t)
                    if (t.type === this.type) {
                        if (this.ke(t)) {
                            var e, n;
                            switch (this.Ii = t,
                            i.enableVertexAttribArray(this.location),
                            this.context.de.set(t.buffer),
                            this.type) {
                            case "float":
                            case "int":
                                e = 1;
                                break;
                            case "vec2":
                                e = 2;
                                break;
                            case "vec3":
                                e = 3;
                                break;
                            case "vec4":
                                e = 4;
                                break;
                            default:
                                e = 1
                            }
                            switch (this.Me) {
                            case "int8":
                                n = i.BYTE;
                                break;
                            case "uint8":
                                n = i.UNSIGNED_BYTE;
                                break;
                            case "int16":
                                n = i.SHORT;
                                break;
                            case "uint16":
                                n = i.UNSIGNED_SHORT;
                                break;
                            case "float32":
                                n = i.FLOAT
                            }
                            i.vertexAttribPointer(this.location, e, n, this.normalize, t.Re, t.offset)
                        }
                    } else
                        console.error("error webglBuffer type,need " + this.type + ", receive " + t.type + " ");
                else
                    i.disableVertexAttribArray(this.location)
            }
            ,
            bi.prototype.ke = function(t) {
                return !0
            }
            ,
            bi);
            function bi(t, i, e, n, o) {
                void 0 === o && (o = !1),
                this.context = t,
                this.type = i,
                this.Me = e,
                this.location = n,
                this.normalize = o
            }
            var _i = (wi.prototype.set = function(t) {
                if (!this.te(this.Ii, t) && void 0 !== t) {
                    switch (this.type) {
                    case "bool":
                    case "int":
                    case "sampler2D":
                        this.ze.uniform1i(this.location, t);
                        break;
                    case "sampler2D[]":
                        this.ze.uniform1iv(this.location, t);
                        break;
                    case "float":
                        this.ze.uniform1f(this.location, t);
                        break;
                    case "float[]":
                        this.ze.uniform1fv(this.location, t);
                        break;
                    case "vec2":
                        this.ze.uniform2f(this.location, t[0], t[1]);
                        break;
                    case "vec3":
                        this.ze.uniform3f(this.location, t[0], t[1], t[2]);
                        break;
                    case "vec4":
                        this.ze.uniform4f(this.location, t[0], t[1], t[2], t[3]);
                        break;
                    case "mat2":
                        this.ze.uniformMatrix2fv(this.location, !1, new Float32Array(t));
                        break;
                    case "mat3":
                        this.ze.uniformMatrix3fv(this.location, !1, new Float32Array(t));
                        break;
                    case "mat4":
                        this.ze.uniformMatrix4fv(this.location, !1, new Float32Array(t))
                    }
                    this.Ii = t
                }
            }
            ,
            wi);
            function wi(t, i, e) {
                this.context = t,
                this.type = i,
                this.location = e,
                this.Re = 0,
                this.offset = 0,
                this.te = pi,
                this.ze = t.gl
            }
            var ki = (Mi.createProgram = function(t, i, e) {
                var n = Mi.Se(t, t.VERTEX_SHADER, i)
                  , o = Mi.Se(t, t.FRAGMENT_SHADER, e);
                if (!n || !o)
                    return null;
                var r = t.createProgram();
                if (!r)
                    return null;
                t.attachShader(r, n),
                t.attachShader(r, o),
                t.bindAttribLocation(r, 0, "a_Position"),
                t.linkProgram(r);
                var a = t.getProgramParameter(r, t.LINK_STATUS);
                if (t.deleteShader(o),
                t.deleteShader(n),
                a)
                    return r;
                var s = t.getProgramInfoLog(r);
                return console.log("Failed to link program: " + s),
                t.deleteProgram(r),
                null
            }
            ,
            Mi.Se = function(t, i, e) {
                var n = t.createShader(i);
                if (null === n)
                    return null;
                if (t.shaderSource(n, e),
                t.compileShader(n),
                t.getShaderParameter(n, t.COMPILE_STATUS))
                    return n;
                var o = t.getShaderInfoLog(n);
                return console.log("Failed to compile shader: " + o),
                t.deleteShader(n),
                null
            }
            ,
            Mi.prototype.Ce = function(t, i, e, n, o, r, a, s, h, l) {
                if (void 0 === o && (o = "TRIANGLES"),
                void 0 === r && (r = !1),
                void 0 === a && (a = it.Mi),
                void 0 === s && (s = T.disable),
                void 0 === h && (h = yi.we),
                void 0 === l && (l = 0),
                this.je) {
                    var f = this.context
                      , u = f.gl;
                    f.ge.set(this),
                    f.ne(r),
                    f.ae(s),
                    f.Qi(a),
                    f.re(h),
                    f.hB.set(!1),
                    this.Le(t),
                    this.Ae(i),
                    n ? (f.me.set(n),
                    32 === n.size ? u.drawElements(u[o], e, u.UNSIGNED_INT, n.size / 8 * l) : u.drawElements(u[o], e, u.UNSIGNED_SHORT, n.size / 8 * l)) : u.drawArrays(u[o], l, e)
                }
            }
            ,
            Mi.prototype.Le = function(t) {
                if (this.je)
                    for (var i in this.Te) {
                        var e = this.Te[i];
                        if ("sampler2D" === e.type)
                            0 <= (f = this.Ie.indexOf(i)) && (this.context.activeTexture.set(f),
                            (l = t[i]).bind(),
                            e.set(f));
                        else if ("sampler2D[]" === e.type) {
                            for (var n = t[i], o = n.De, r = n.offset || 0, a = n.count || o.length, s = [], h = 0; h < a; h++) {
                                var l, f = r + h;
                                (l = o[h]) ? (this.context.activeTexture.set(f),
                                l.bind(),
                                s.push(f)) : (this.context.activeTexture.set(r),
                                o[0].bind(),
                                s.push(r))
                            }
                            e.set(s)
                        } else
                            e.set(t[i])
                    }
            }
            ,
            Mi.prototype.Ae = function(t) {
                if (this.je)
                    for (var i in this.attributes)
                        this.attributes.hasOwnProperty(i) && this.attributes[i].set(t[i])
            }
            ,
            Mi.prototype.Pe = function(t, i, e, n, o, r, a, s) {
                if (void 0 === i && (i = 0),
                void 0 === n && (n = "TRIANGLES"),
                void 0 === o && (o = !1),
                void 0 === r && (r = it.Mi),
                void 0 === a && (a = T.disable),
                void 0 === s && (s = yi.we),
                this.je) {
                    var h = this.context
                      , l = h.gl;
                    h.ge.set(this),
                    h.ne(o),
                    h.ae(a),
                    h.Qi(r),
                    h.re(s),
                    e ? (h.me.set(e),
                    l.drawElements(l[n], t, l.UNSIGNED_SHORT, e.size / 8 * i)) : l.drawArrays(l[n], i, t)
                }
            }
            ,
            Mi.prototype.Ni = function() {
                if (this.je)
                    for (var t in this.attributes)
                        this.attributes.hasOwnProperty(t) && this.attributes[t].set(null)
            }
            ,
            Mi.prototype.destroy = function() {
                this.je && (this.context.gl.deleteProgram(this.$i),
                this.$i = null)
            }
            ,
            Mi);
            function Mi(t, i, e, n, o, r) {
                this.name = r,
                this.Ie = [],
                this.context = t,
                this.attributes = {},
                this.Te = {};
                var a = t.gl
                  , s = Mi.createProgram(a, i, e);
                if (this.$i = s,
                !this.$i)
                    return console.log("createProgram fail", this.name),
                    this.je = !1,
                    this;
                for (var h in this.je = !0,
                n)
                    if (n.hasOwnProperty(h)) {
                        var l = n[h].Oe
                          , f = n[h].Me
                          , u = a.getAttribLocation(this.$i, h)
                          , c = n[h].normalize;
                        this.attributes[h] = new xi(t,l,f,u,c)
                    }
                for (var h in o)
                    o.hasOwnProperty(h) && (l = o[h],
                    (u = a.getUniformLocation(this.$i, h)) && (this.Te[h] = new _i(t,l,u)),
                    "sampler2D" === l && this.Ie.push(h))
            }
            function Ci(t, i, e) {
                return t + (i - t) * e
            }
            var Si = (zi.prototype.An = function(t, i, e, n, o) {
                var r = this.Tn(t, i, e, n);
                if (!r)
                    return null;
                var a = r[this.key];
                return a && a.rgba ? this.In(a.rgba) : a
            }
            ,
            zi.prototype.In = function(t) {
                return [t[0] / 255, t[1] / 255, t[2] / 255, t[3] / 255]
            }
            ,
            zi.prototype.Dn = function(t, i, e, n, o) {
                var r = Math.floor(n)
                  , a = Math.ceil(n)
                  , s = n - r < .8 ? r : a
                  , h = this.Tn(t, i, e, r)
                  , l = this.Tn(t, i, e, a);
                if ((h || s !== r) && (h || l) && (!h || l || s !== a) && (h || !l || r !== s)) {
                    var f = n - r;
                    if (h || (f = (f - .8) / .2),
                    f = Math.max(f, 0),
                    "const" === this.type)
                        return this.Pn(t, i, e, s);
                    if ("linear" === this.type && r === a)
                        return this.Pn(t, i, e, r);
                    if (!h && l) {
                        var u = l[this.key];
                        return "number" != typeof u ? ((g = u.normalize()) && "line" !== this.sort && (g[3] = g[3] * f),
                        g) : Ci(0, u, f)
                    }
                    if (h && !l)
                        return this.Pn(t, i, e, r);
                    var c = h[this.key]
                      , d = l[this.key];
                    if (c)
                        return "number" == typeof c ? Ci(c, d, f) : (v = d,
                        m = f,
                        y = [0, 0, 0, 1],
                        wt.forEach(c.rgba, function(t, i) {
                            var e = v.rgba[i];
                            y[i] = Ci(t, e, m) / 255
                        }),
                        y);
                    if ("number" == typeof d)
                        return Ci(0, d, f);
                    var v, m, y, g = d.normalize();
                    return "line" !== this.sort && (g[3] = g[3] * f),
                    g
                }
            }
            ,
            zi.prototype.Pn = function(t, i, e, n) {
                var o;
                switch (this.sort) {
                case "line":
                    o = this.jn(t, i, e, n);
                    break;
                case "other":
                    o = this.On(t, i, e, n);
                    break;
                default:
                    o = this.On(t, i, e, n)
                }
                return o
            }
            ,
            zi.prototype.Tn = function(t, i, e, n) {
                var o;
                switch (this.sort) {
                case "line":
                    o = this.Fn(t, i, e, n);
                    break;
                case "other":
                    o = this.En(t, i, e, n);
                    break;
                default:
                    o = this.En(t, i, e, n)
                }
                return o
            }
            ,
            zi.prototype.Fn = function(t, i, e, n) {
                var o = t.dn(i, e, n);
                if (this.Nn(o))
                    return o[0]
            }
            ,
            zi.prototype.En = function(t, i, e, n) {
                var o = t.dn(i, e, n);
                if (this.Nn(o))
                    return o
            }
            ,
            zi.prototype.jn = function(t, i, e, n) {
                var o, r = Math.floor(n), a = Math.ceil(n), s = t.dn(i, e, r);
                return s ? (o = s[0][this.key]) && o.normalize ? o.normalize() : o : (o = t.dn(i, e, a)[0][this.key]) && o.normalize ? o.normalize() : o
            }
            ,
            zi.prototype.On = function(t, i, e, n) {
                var o, r = Math.floor(n), a = Math.ceil(n), s = t.dn(i, e, r);
                return s ? (o = s[this.key])instanceof wt._n ? o.normalize() : o : (o = t.dn(i, e, a)[this.key])instanceof wt._n ? o.normalize() : o
            }
            ,
            zi);
            function zi(t, i, e) {
                void 0 === e && (e = "other"),
                this.key = t,
                this.type = i,
                this.sort = e
            }
            var Ri, Ai = (Ri = Si,
            wt.Ei(Ii, Ri),
            Ii.prototype.Nn = function(t) {
                return t && t[0].roadColor
            }
            ,
            Ii);
            function Ii(t, i) {
                var e = Ri.call(this, t, i, "line") || this;
                return e.key = t,
                e.type = i,
                e
            }
            var Li, Ti = (Li = Si,
            wt.Ei($i, Li),
            $i.prototype.Nn = function(t) {
                return t && t[0].borderColor
            }
            ,
            $i);
            function $i(t, i) {
                var e = Li.call(this, t, i, "line") || this;
                return e.key = t,
                e.type = i,
                e
            }
            var Di, Fi = (Di = Si,
            wt.Ei(Pi, Di),
            Pi.prototype.Nn = function(t) {
                return t && t.faceColor
            }
            ,
            Pi);
            function Pi() {
                return null !== Di && Di.apply(this, arguments) || this
            }
            var Hi, Oi = (Hi = Si,
            wt.Ei(Bi, Hi),
            Bi.prototype.Nn = function(t) {
                return t && t.faceColor
            }
            ,
            Bi);
            function Bi() {
                return null !== Hi && Hi.apply(this, arguments) || this
            }
            var Ei, ji = (Ei = Si,
            wt.Ei(Ni, Ei),
            Ni.prototype.Nn = function(t) {
                return t && t.wallColor2
            }
            ,
            Ni);
            function Ni() {
                return null !== Ei && Ei.apply(this, arguments) || this
            }
            function Wi(t, i, e, n, o) {
                void 0 === e && (e = [0, 0]),
                void 0 === o && (o = 1);
                var r = t.$n.zoom;
                if (!(i.minzoom - .2 > t.$n.zoom && 3 < i.minzoom)) {
                    var a = i.mainkey
                      , s = i.subkey
                      , h = i.minzoom
                      , l = Vi.faceColor.An(n, a, s, r, h)
                      , f = t.map.JF();
                    if (l)
                        return {
                            u_matrix: t.$n.mvpMatrix,
                            u_color: l,
                            u_offset: [0, 0],
                            u_skyHeight: o,
                            u_viewHeight: t.$n.size[1],
                            u_skyColor: f || [1, 1, 1, 0],
                            u_image: Vi.texture.An(n, a, s, r, h),
                            u_imageSize: [1, 1],
                            u_localDeltaCenter: e,
                            u_resolution: t.$n.optimalResolution
                        }
                }
            }
            function Ui(t, i, e, n, o) {
                void 0 === e && (e = [0, 0]),
                void 0 === o && (o = 1);
                var r = t.$n.zoom;
                if (!(i.minzoom - .2 > t.$n.zoom && 3 < i.minzoom)) {
                    var a = i.mainkey
                      , s = i.subkey
                      , h = i.minzoom
                      , l = Vi.faceColor.An(n, a, s, r, h)
                      , f = t.map.JF();
                    if (l)
                        return {
                            u_matrix: t.$n.mvpMatrix,
                            u_color: l,
                            u_offset: [0, 0],
                            u_skyHeight: o,
                            u_viewHeight: t.$n.size[1],
                            u_skyColor: f || [1, 1, 1, 0],
                            u_image: Vi.texture.An(n, a, s, r, h),
                            u_imageSize: [1, 1],
                            u_localDeltaCenter: e,
                            u_resolution: t.$n.optimalResolution
                        }
                }
            }
            var Vi = {
                faceColor: new Fi("faceColor","linear"),
                borderWidth: new Fi("borderWidth","linear"),
                borderColor: new Fi("borderColor","linear"),
                texture: new Fi("texture","const")
            };
            function Zi(t, i, e, n, o, r, a) {
                void 0 === e && (e = [0, 0]);
                var s = t.$n.zoom
                  , h = t.$n.pitch
                  , l = t.$n.size[1]
                  , f = [16, 22]
                  , u = 1
                  , c = 1;
                if ("AMap.Buildings" === n.To.CLASS_NAME && (f = n.zooms,
                u = n.opacity,
                c = n.heightFactor),
                !(f[0] > s || f[1] < s))
                    return {
                        u_skyBMRange: a,
                        u_skyHeight: r,
                        u_viewHeight: l,
                        u_heightFactor: c,
                        u_roofColor: o.roofColor,
                        u_wallColor: o.wallColor,
                        u_lightDir: Ji(t.$n.center),
                        u_opacity: u,
                        u_pitch: h,
                        u_matrix: t.$n.mvpMatrix,
                        u_offset: [0, 0],
                        u_normalMatrix: t.$n.modelMatrix,
                        u_localDeltaCenter: e
                    }
            }
            function Ji(t) {
                var i = new Date
                  , e = -15 * (i.getHours() + i.getMinutes() / 60) + 300;
                return [Math.sin(t[0] - e), 1, .75]
            }
            function qi(t, i, e, n, o, r, a, s) {
                void 0 === e && (e = [0, 0]);
                var h = t.$n.zoom
                  , l = t.$n.pitch
                  , f = t.$n.size[1]
                  , u = [16, 22]
                  , c = 1
                  , d = 1;
                if ("AMap.Buildings" === n.To.CLASS_NAME && (u = n.zooms,
                c = n.opacity,
                d = n.heightFactor),
                !(u[0] > h || u[1] < h)) {
                    var p = i.mainkey
                      , v = i.subkey
                      , m = i.minzoom
                      , y = ie.texture.An(s, p, v, h, m);
                    if (y)
                        return {
                            u_skyBMRange: a,
                            u_skyHeight: r,
                            u_viewHeight: f,
                            u_heightFactor: d,
                            u_roofColor: o.roofColor,
                            u_wallColor: o.wallColor,
                            u_lightDir: Ji(t.$n.center),
                            u_opacity: c,
                            u_pitch: l,
                            u_matrix: t.$n.mvpMatrix,
                            u_offset: [0, 0],
                            u_normalMatrix: t.$n.modelMatrix,
                            u_localDeltaCenter: e,
                            u_image: y,
                            u_imageSize: [1, 1],
                            u_resolution: t.$n.optimalResolution
                        }
                }
            }
            function Qi(t, i, e, n) {
                var o = t.$n.zoom;
                if (!(i.minzoom - .5 > t.$n.zoom && 3 < i.minzoom)) {
                    var r = i.mainkey
                      , a = i.subkey
                      , s = i.minzoom
                      , h = re.borderColor.An(n, r, a, o, s);
                    if (h)
                        return {
                            u_color: h,
                            u_normal: [0, 0, -.1],
                            u_matrix: t.$n.mvpMatrix,
                            u_localDeltaCenter: e
                        }
                }
            }
            function Ki(t, i, e, n, o, r) {
                void 0 === n && (n = [0, 0]);
                var a = i.minzoom
                  , s = i.maxzoom
                  , h = t.$n.zoom;
                if (!(h < a - .2 && 3 < a || s + .8 < h && s < 18))
                    return i.mainkey,
                    i.subkey,
                    (e ? function(t, i, e, n, o) {
                        void 0 === e && (e = [0, 0]);
                        var r = t.$n.zoom
                          , a = i.mainkey
                          , s = i.subkey
                          , h = i.minzoom
                          , l = ae.borderColor.An(n, a, s, r, h);
                        if (l) {
                            var f = ae.roadWidth.An(n, a, s, r, h) + ae.borderWidth.An(n, a, s, r, h)
                              , u = ae.borderDash.An(n, a, s, r, h) || [1, 0, 1, 0];
                            return {
                                u_skyHeight: o,
                                u_matrix: t.$n.mvpMatrix,
                                u_meter_per_pixel: t.$n.resolution,
                                u_width: f,
                                u_border: 1,
                                u_color: l,
                                u_dash: u,
                                u_localDeltaCenter: e,
                                u_viewHeight: t.size[1]
                            }
                        }
                    }
                    : function(t, i, e, n, o) {
                        void 0 === e && (e = [0, 0]);
                        var r = t.$n.zoom
                          , a = i.mainkey
                          , s = i.subkey
                          , h = i.minzoom
                          , l = (i.maxzoom,
                        ae.roadColor.An(n, a, s, r, h));
                        if (s < 0 && a < 0 && (l = [1, 0, 0, t.debug ? 1 : 0]),
                        l) {
                            var f = ae.roadWidth.An(n, a, s, r, h)
                              , u = ae.roadDash.An(n, a, s, r, h) || [1, 0, 1, 0];
                            return {
                                u_matrix: t.$n.mvpMatrix,
                                u_meter_per_pixel: t.$n.resolution,
                                u_width: f,
                                u_color: l,
                                u_dash: u,
                                u_border: 0,
                                u_localDeltaCenter: e,
                                u_viewHeight: t.size[1],
                                u_skyHeight: o
                            }
                        }
                    }
                    )(t, i, n, o, r)
            }
            var ie = {
                texture: new Oi("texture","const")
            }
              , re = {
                faceColor: new Oi("faceColor","linear"),
                borderWidth: new ji("borderWidth","const"),
                borderColor: new ji("borderColor","linear"),
                wallColor1: new Oi("wallColor1","linear"),
                wallColor2: new Oi("wallColor2","linear")
            }
              , ae = {
                roadColor: new Ai("roadColor","linear"),
                roadWidth: new Ai("roadWidth","linear"),
                roadDash: new Ai("roadDash","const"),
                borderColor: new Ti("borderColor","linear"),
                borderWidth: new Ti("borderWidth","linear"),
                borderDash: new Ti("borderDash","const")
            }
              , se = {
                a_pos: {
                    Oe: "vec2",
                    Me: "float32"
                },
                a_normal: {
                    Oe: "vec2",
                    Me: "float32"
                },
                a_distance: {
                    Oe: "float",
                    Me: "float32"
                },
                a_dir: {
                    Oe: "vec2",
                    Me: "float32"
                }
            }
              , he = {
                fill: {
                    uniforms: {
                        u_skyColor: "vec3",
                        u_color: "vec4",
                        u_skyHeight: "float",
                        u_viewHeight: "float",
                        u_offset: "vec2",
                        u_matrix: "mat4",
                        u_localDeltaCenter: "vec2"
                    },
                    attributes: {
                        a_pos: {
                            Me: "float32",
                            Oe: "vec2"
                        }
                    },
                    vertexSource: "precision highp float;\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\nuniform vec2 u_offset;\nvarying vec4 v_pos;\n\nvoid main() {\n    vec2 pos = vec2(a_pos.x+u_localDeltaCenter.x+u_offset.x,a_pos.y+u_localDeltaCenter.y+u_offset.y);\n    gl_Position = u_matrix * vec4(pos, 0, 1);\n    v_pos = gl_Position;\n}\n",
                    fragmentSource: "precision highp float;\nuniform vec4 u_color;\n// uniform float u_opacity;\nuniform float u_skyHeight;\nuniform float u_viewHeight;  // 地图容器高度，单位像素\nuniform vec3 u_skyColor;\nvarying vec4 v_pos;\n\nvoid main() {\n    gl_FragColor = u_color;\n    // gl_FragColor = v_color;\n    // gl_FragColor = vec4(0,0,1.0,1.0);\n    // return;\n\n    // 雾化\n    float y = v_pos.y / v_pos.w;\n    float fogHeight = 2. / u_viewHeight * 30.;  // 10 像素高度作为模糊处理\n    vec3 fogColor= vec3(0.9, 0.9, 0.9);\n    if(u_skyHeight < 1.0 && y > 0.0) {\n        float fogFactor = smoothstep(u_skyHeight + fogHeight/2.0, u_skyHeight - fogHeight/2.0, y);\n        // float fogFactor = smoothstep(u_skyHeight + fogHeight, u_skyHeight, y);\n        // gl_FragColor.rgb = gl_FragColor.rgb * fogFactor + fogColor * (1.0 - fogFactor);\n        gl_FragColor.a *= fogFactor;\n    }\n    #ifdef OVERDRAW_INSPECTOR\n        gl_FragColor = vec4(1.0);\n    #endif\n}\n"
                },
                fillPattern: {
                    uniforms: {
                        u_color: "vec4",
                        u_skyColor: "vec4",
                        u_viewHeight: "float",
                        u_skyHeight: "float",
                        u_offset: "vec2",
                        u_matrix: "mat4",
                        u_localDeltaCenter: "vec2",
                        u_image: "sampler2D",
                        u_resolution: "float",
                        u_imageSize: "vec2"
                    },
                    attributes: {
                        a_pos: {
                            Me: "float32",
                            Oe: "vec2"
                        }
                    },
                    vertexSource: "precision highp float;\n#define GLSLIFY 1\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\nuniform float u_resolution;\nuniform vec2 u_offset;\nvarying vec4 v_pos;\nvarying vec2 v_coord;\n\n// varying vec2 v_texture_pos;\nvoid main(){\n    vec2 pos = vec2(a_pos.x+u_localDeltaCenter.x+u_offset.x,a_pos.y+u_localDeltaCenter.y+u_offset.y);\n    gl_Position = u_matrix * vec4(pos, 0, 1);\n    v_pos = gl_Position;\n    v_coord = pos;\n}\n",
                    fragmentSource: "precision highp float;\n#define GLSLIFY 1\nuniform vec4 u_color;\nuniform sampler2D u_image;\n// uniform float u_opacity;\nuniform float u_skyHeight;\nuniform float u_viewHeight;  // 地图容器高度，单位像素\nuniform float u_resolution;\nuniform vec2 u_imageSize;\nvarying vec4 v_pos;\nvarying vec2 v_coord;\n// varying vec2 v_texture_pos;\n\nfloat fogcalc(vec4 pos, float skyHeight, float viewHeight) {\n    float y = pos.y / pos.w;\n    float fogHeight = 2. / viewHeight * 30.;\n    float fogFactor = 1.0;\n    if(skyHeight < 1.0 && y > 0.0) {\n        fogFactor = smoothstep(skyHeight + fogHeight/2.0, skyHeight - fogHeight/2.0, y);\n    }\n    return fogFactor;\n}\n\nvoid main() {\n    vec2 v_texture_pos = mod(vec2(v_coord.x,v_coord.y*-1.0)/u_resolution/u_imageSize,1.0);\n    gl_FragColor = texture2D(u_image, v_texture_pos);\n    // gl_FragColor = vec4(1.0,0,0,1.0);\n   \n    float y = v_pos.y / v_pos.w;\n    if(u_skyHeight > 0.0 && y > u_skyHeight) {\n        gl_FragColor.a = 1.0 - smoothstep(u_skyHeight, 1.0, y);\n    }\n    gl_FragColor.a *= fogcalc(v_pos, u_skyHeight, u_viewHeight);\n    #ifdef OVERDRAW_INSPECTOR\n        gl_FragColor = vec4(1.0);\n    #endif\n}\n"
                },
                sky: {
                    uniforms: {
                        u_mvpMatrix: "mat4",
                        u_opacity: "float",
                        u_skyline: "vec2"
                    },
                    attributes: {
                        a_pos: {
                            Me: "float32",
                            Oe: "vec4"
                        },
                        a_color: {
                            Me: "float32",
                            Oe: "vec4"
                        }
                    },
                    vertexSource: "precision highp float;\nuniform vec2 u_skyline;\nuniform mat4 u_mvpMatrix;\nattribute vec4 a_pos;\nattribute vec4 a_color;\nvarying vec4 v_color;\nvarying vec4 v_pos;\n\nvoid main() {\n    vec4 pos = u_mvpMatrix * vec4(a_pos.xyz, 1);\n    gl_Position = pos;\n    v_color = a_color;\n    v_pos = gl_Position;\n}\n",
                    fragmentSource: "precision highp float;\nuniform float u_opacity;\n\nvarying vec4 v_color;\nvarying vec4 v_pos;\n\nvoid main() {\n  gl_FragColor = v_color;\n  // float x = v_pos.x / v_pos.w;\n  gl_FragColor.a *= u_opacity;\n}"
                },
                mask: {
                    uniforms: {
                        u_mvpMatrix: "mat4",
                        u_color: "vec4",
                        u_deltaCenter: "vec2"
                    },
                    attributes: {
                        a_pos: {
                            Me: "float32",
                            Oe: "vec2"
                        }
                    },
                    vertexSource: "precision highp float;\nuniform mat4 u_mvpMatrix;\nuniform vec2 u_deltaCenter;\nattribute vec2 a_pos;\n\nvoid main() {\n    gl_Position = u_mvpMatrix * vec4(a_pos.xy+u_deltaCenter, 0, 1);\n}\n",
                    fragmentSource: "precision highp float;\n// uniform float u_opacity;\nuniform vec4 u_color;\n\n// varying vec4 v_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n    // gl_FragColor = vec4(0, 0, 0, 0);\n}"
                },
                fillExtrusion: {
                    uniforms: {
                        u_skyBMRange: "vec2",
                        u_skyHeight: "float",
                        u_viewHeight: "float",
                        u_heightFactor: "float",
                        u_roofColor: "vec4",
                        u_wallColor: "vec4",
                        u_lightDir: "vec3",
                        u_opacity: "float",
                        u_pitch: "float",
                        u_offset: "vec2",
                        u_matrix: "mat4",
                        u_normalMatrix: "mat4",
                        u_localDeltaCenter: "vec2"
                    },
                    attributes: {
                        a_pos: {
                            Me: "float32",
                            Oe: "vec4"
                        },
                        a_normal: {
                            Me: "float32",
                            Oe: "vec3"
                        }
                    },
                    vertexSource: "precision highp float;\nattribute vec4 a_pos;\n// attribute vec4 a_color;\n// attribute float a_flag;\nattribute vec3 a_normal;\n\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\nuniform vec2 u_offset;\nuniform float u_pitch;\nuniform float u_heightFactor;\nuniform vec4 u_roofColor;\nuniform vec4 u_wallColor;\n\nvarying vec3 v_normal;\nvarying vec4 v_color;\nvarying vec4 v_roofColor;\n// varying vec4 v_color;\n// varying float v_height;\n// varying float v_flag;\nvarying float v_fullHeight;\nvarying float v_fragHeight;\nvarying vec4 v_pos;\n\nvoid main() {\n    vec3 pos = vec3(\n        a_pos.x + u_localDeltaCenter.x + u_offset.x,\n        a_pos.y + u_localDeltaCenter.y + u_offset.y,\n        a_pos.z * u_heightFactor * min((u_pitch + 20.0) / 50.0, 0.8)\n    );\n    gl_Position = u_matrix * vec4(pos.xyz, 1);\n\n    // v_color = a_color;\n    // v_flag = a_flag;\n    v_pos = gl_Position;\n    // vec4(a_pos, 1);\n    v_fragHeight = a_pos.z;\n    v_fullHeight = a_pos.w;\n    // v_height = pos.z / a_pos.w;\n    v_normal = normalize(a_normal);\n    // 1.4 拿过来的\n    v_roofColor = u_roofColor;\n    v_color = u_roofColor + (u_wallColor - u_roofColor) * (a_pos.z == 0.0 ? 1.0 : 0.6);\n}\n",
                    fragmentSource: "precision mediump float;\n\n// uniform vec4 u_roofColor;\n// uniform vec4 u_wallColor;\nuniform vec3 u_lightColor;\nuniform vec3 u_lightDir;\nuniform mat4 u_normalMatrix;\nuniform float u_opacity;\nuniform float u_skyHeight;\nuniform float u_viewHeight;\nuniform vec2 u_skyBMRange;\n\nvarying vec3 v_normal;\nvarying vec4 v_color;\n// varying vec4 v_color;\n// varying float v_flag;\nvarying float v_fullHeight;\nvarying float v_fragHeight;\nvarying vec4 v_roofColor;\nvarying vec4 v_pos;\n\nvoid main() {\n    // 环境光\n    vec3 ambientLightColor = vec3(1, 1, 1);\n    float ambientStrength = 0.92;\n    vec3 ambient = ambientStrength * ambientLightColor;\n\n    // 平行光的漫反射\n    // vec3 norm = normalize(vec3(u_normalMatrix * vec4(v_normal, 1)));  //\n    vec3 lightDir = u_lightDir;\n    vec3 lightColor = vec3(1, 1, 1);\n    float lightStrength = 0.1;\n    vec3 norm = normalize(v_normal);\n    float nDotL = max(dot(lightDir, norm), 0.0);\n    vec3 diff = lightStrength * lightColor * nDotL;\n\n    // 如果是顶面，不同建筑物的顶面透明度是要有差异的\n    float topOpacity = 1.0;\n    if(v_fragHeight >= v_fullHeight) {\n        // topOpacity = clamp((1.3 - v_fullHeight / 50.0), 0.9, 1.3);\n    }\n\n    // 根据楼高判断颜色\n    if(v_fragHeight >= v_fullHeight) {\n        gl_FragColor = v_roofColor;\n        // gl_FragColor = u_roofColor;\n    } else {\n        // 渐变色，暂时不用\n        // float hFactor = v_fragHeight / v_fullHeight / 8.0 + 1.0;\n        gl_FragColor = v_color;\n    }\n\n    gl_FragColor.rgb *= diff + ambient;\n    gl_FragColor.a *= u_opacity * topOpacity;\n\n    // 雾化\n    // float y = v_pos.y / v_pos.w;\n    // float fogHeight = 2. / u_viewHeight * 10.;  // 20 像素高度作为模糊处理\n    // vec3 fogColor = vec3(0.95, 0.85, 0.95);\n    if(u_skyHeight < 1.0) {\n        // float fogFactor = smoothstep(u_skyHeight, u_skyHeight - fogHeight, y);\n        // gl_FragColor.rgb = gl_FragColor.rgb * fogFactor + fogColor * (1.0 - fogFactor);\n        // gl_FragColor.a *= fogFactor;\n\n        float cameraToFragDist = gl_FragCoord.z * v_pos.w;\n        float fogFactor = smoothstep(u_skyBMRange.y, u_skyBMRange.x, cameraToFragDist);\n        gl_FragColor.a *= fogFactor;\n    }\n\n    #ifdef OVERDRAW_INSPECTOR\n        gl_FragColor = vec4(1.0);\n    #endif\n}\n"
                },
                fillExtrusionPattern: {
                    uniforms: {
                        u_skyBMRange: "vec2",
                        u_skyHeight: "float",
                        u_viewHeight: "float",
                        u_heightFactor: "float",
                        u_roofColor: "vec4",
                        u_wallColor: "vec4",
                        u_lightDir: "vec3",
                        u_opacity: "float",
                        u_pitch: "float",
                        u_offset: "vec2",
                        u_matrix: "mat4",
                        u_normalMatrix: "mat4",
                        u_localDeltaCenter: "vec2",
                        u_image: "sampler2D",
                        u_imageSize: "vec2",
                        u_resolution: "float"
                    },
                    attributes: {
                        a_pos: {
                            Me: "float32",
                            Oe: "vec4"
                        },
                        a_normal: {
                            Me: "float32",
                            Oe: "vec3"
                        },
                        a_textureCoord: {
                            Me: "uint16",
                            Oe: "vec2"
                        }
                    },
                    vertexSource: "precision highp float;\nattribute vec4 a_pos;\n// attribute vec4 a_color;\n// attribute float a_flag;\nattribute vec3 a_normal;\nattribute vec2 a_textureCoord;\n\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\nuniform vec2 u_offset;\nuniform float u_pitch;\nuniform float u_heightFactor;\nuniform vec4 u_roofColor;\nuniform vec4 u_wallColor;\n\nvarying vec3 v_normal;\nvarying vec4 v_color;\nvarying vec4 v_roofColor;\n// varying vec4 v_color;\n// varying float v_height;\n// varying float v_flag;\nvarying float v_fullHeight;\nvarying float v_fragHeight;\nvarying vec4 v_pos;\nvarying vec3 v_coord;\nvarying vec2 v_textureCoord;\n\n\nvoid main() {\n    vec3 pos = vec3(\n        a_pos.x + u_localDeltaCenter.x + u_offset.x,\n        a_pos.y + u_localDeltaCenter.y + u_offset.y,\n        a_pos.z * u_heightFactor * min((u_pitch + 20.0) / 50.0, 0.8)\n    );\n    gl_Position = u_matrix * vec4(pos.xyz, 1);\n\n    // v_color = a_color;\n    // v_flag = a_flag;\n    v_coord = pos;\n    v_textureCoord = a_textureCoord;\n    v_pos = gl_Position;\n    // vec4(a_pos, 1);\n    v_fragHeight = a_pos.z;\n    v_fullHeight = a_pos.w;\n    // v_height = pos.z / a_pos.w;\n    v_normal = normalize(a_normal);\n    // 1.4 拿过来的\n    v_roofColor = u_roofColor;\n    v_color = u_roofColor + (u_wallColor - u_roofColor) * (a_pos.z == 0.0 ? 1.0 : 0.6);\n}\n",
                    fragmentSource: "precision mediump float;\n\n// uniform vec4 u_roofColor;\n// uniform vec4 u_wallColor;\nuniform vec3 u_lightColor;\nuniform vec3 u_lightDir;\nuniform mat4 u_normalMatrix;\nuniform float u_opacity;\nuniform float u_skyHeight;\nuniform float u_viewHeight;\nuniform vec2 u_skyBMRange;\n\n// pattern\nuniform float u_resolution;\nuniform sampler2D u_image;\nuniform vec2 u_imageSize;\n\nvarying vec3 v_normal;\nvarying vec4 v_color;\n// varying vec4 v_color;\n// varying float v_flag;\nvarying float v_fullHeight;\nvarying float v_fragHeight;\nvarying vec4 v_roofColor;\nvarying vec4 v_pos;\nvarying vec3 v_coord;\nvarying vec2 v_textureCoord;\n\n\nvoid main() {\n    // 环境光\n    vec3 ambientLightColor = vec3(1, 1, 1);\n    float ambientStrength = 0.92;\n    vec3 ambient = ambientStrength * ambientLightColor;\n\n    // 平行光的漫反射\n    // vec3 norm = normalize(vec3(u_normalMatrix * vec4(v_normal, 1)));  //\n    vec3 lightDir = u_lightDir;\n    vec3 lightColor = vec3(1, 1, 1);\n    float lightStrength = 0.1;\n    vec3 norm = normalize(v_normal);\n    float nDotL = max(dot(lightDir, norm), 0.0);\n    vec3 diff = lightStrength * lightColor * nDotL;\n\n    // 如果是顶面，不同建筑物的顶面透明度是要有差异的\n    float topOpacity = 1.0;\n    if(v_fragHeight >= v_fullHeight) {\n        // topOpacity = clamp((1.3 - v_fullHeight / 50.0), 0.9, 1.3);\n    }\n\n    // 根据楼高判断颜色\n    if(v_fragHeight >= v_fullHeight) {\n        // vec2 v_texture_pos = mod(vec2(v_coord.x,v_coord.y*-1.0)/u_resolution/u_imageSize,1.0);\n        // gl_FragColor = texture2D(u_image, v_texture_pos);\n        gl_FragColor = v_roofColor;\n    } else if(v_textureCoord.x<0.0){\n        gl_FragColor = v_color;\n      \n    }else{\n        vec2 v_texture_pos = v_textureCoord;\n        gl_FragColor = texture2D(u_image, v_texture_pos);\n        gl_FragColor.a *= v_color.a;\n    }\n\n    gl_FragColor.rgb *= diff + ambient;\n    gl_FragColor.a *= u_opacity * topOpacity;\n\n    // 雾化\n    // float y = v_pos.y / v_pos.w;\n    // float fogHeight = 2. / u_viewHeight * 10.;  // 20 像素高度作为模糊处理\n    // vec3 fogColor = vec3(0.95, 0.85, 0.95);\n    if(u_skyHeight < 1.0) {\n        // 片元颜色 = 物体颜色 * 雾化因子 + 雾的颜色 * （1 - 雾化因子）\n        // float fogFactor = smoothstep(u_skyHeight, u_skyHeight - fogHeight, y);\n        // gl_FragColor.rgb = gl_FragColor.rgb * fogFactor + fogColor * (1.0 - fogFactor);\n        // gl_FragColor.a *= fogFactor;\n\n        float cameraToFragDist = gl_FragCoord.z * v_pos.w;\n        float fogFactor = smoothstep(u_skyBMRange.y, u_skyBMRange.x, cameraToFragDist);\n        gl_FragColor.a *= fogFactor;\n    }\n\n    #ifdef OVERDRAW_INSPECTOR\n        gl_FragColor = vec4(1.0);\n    #endif\n}\n"
                },
                raster: {
                    uniforms: {
                        u_skyColor: "vec3",
                        u_viewHeight: "float",
                        u_skyHeight: "float",
                        u_texture: "sampler2D",
                        u_opacity: "float",
                        u_mvpMatrix: "mat4",
                        u_localDeltaCenter: "vec2"
                    },
                    attributes: {
                        a_Position: {
                            Oe: "vec4",
                            Me: "float32"
                        }
                    },
                    vertexSource: "precision highp float;\n\nuniform mat4 u_mvpMatrix;\nuniform vec2 u_localDeltaCenter;\n\nvarying vec2 v_TextureCoord;\nvarying vec4 v_pos;\n\nattribute vec4 a_Position;\n\nvoid main(){\n    v_TextureCoord=a_Position.zw;\n    vec4 pos=vec4(a_Position.x+u_localDeltaCenter.x,a_Position.y+u_localDeltaCenter.y,0.,1.);\n    gl_Position=u_mvpMatrix*pos;\n    v_pos = gl_Position;\n}\n",
                    fragmentSource: "precision highp float;\n\nuniform sampler2D u_texture;\nuniform float u_opacity;\nuniform float u_skyHeight;\nuniform float u_viewHeight;  // 地图容器高度，单位像素\nuniform vec3 u_skyColor;\n\nvarying vec2 v_TextureCoord;\nvarying vec4 v_pos;\n\nvoid main(void) {\n    vec4 smpColor = texture2D(u_texture, v_TextureCoord);\n    if(smpColor.a < 0.01){\n        discard;\n    }\n    gl_FragColor = smpColor;\n    gl_FragColor.a *= u_opacity;\n\n    float y = v_pos.y / v_pos.w;\n    float fogHeight = 2. / u_viewHeight * 30.;  // 10 像素高度作为模糊处理\n    vec3 fogColor = vec3(0.9, 0.9, 0.9);\n    if(u_skyHeight < 1.0 && y > 0.0) {\n        // 片元颜色 = 物体颜色 * 雾化因子 + 雾的颜色 * （1 - 雾化因子）\n        // float fogFactor = smoothstep(u_skyHeight + fogHeight, u_skyHeight, y);\n        float fogFactor = smoothstep(u_skyHeight + fogHeight/2.0, u_skyHeight - fogHeight/2.0, y);\n        gl_FragColor.rgb = gl_FragColor.rgb * fogFactor + fogColor * (1.0 - fogFactor);\n        gl_FragColor.a *= fogFactor;\n    }\n    // gl_FragColor = vec4(1.0,0,0,1.0);\n}\n"
                },
                labelsLayer: {
                    uniforms: {
                        u_gl_size: "vec2",
                        u_matrix: "mat4",
                        u_texsize: "float[]",
                        u_texture: "sampler2D[]",
                        u_event: "int",
                        u_zoom: "float",
                        u_color: "vec4",
                        u_borderColor: "vec4",
                        u_strokeColor: "vec4",
                        u_backgroundColor: "vec4",
                        u_borderBuffer: "float",
                        u_buffer: "float",
                        u_gamma: "float",
                        u_opacity: "float",
                        u_delta_center: "vec2",
                        u_offset: "vec2",
                        u_transform: "vec4",
                        u_skyHeight: "float"
                    },
                    attributes: {
                        a_vertex: {
                            Oe: "vec2",
                            Me: "float32"
                        },
                        a_texcoord: {
                            Oe: "vec2",
                            Me: "float32"
                        },
                        a_origin: {
                            Oe: "vec2",
                            Me: "float32"
                        },
                        a_zooms: {
                            Oe: "vec2",
                            Me: "float32"
                        },
                        a_height: {
                            Oe: "float",
                            Me: "float32"
                        },
                        a_angle: {
                            Oe: "float",
                            Me: "float32"
                        },
                        a_type: {
                            Oe: "float",
                            Me: "float32"
                        },
                        a_texIndex: {
                            Oe: "float",
                            Me: "float32"
                        },
                        a_visible: {
                            Oe: "float",
                            Me: "uint8"
                        }
                    },
                    vertexSource: "precision mediump float;\nattribute highp vec2 a_vertex;\nattribute vec2 a_texcoord;\nattribute highp vec2 a_origin;\nattribute lowp float a_type;\nattribute lowp float a_texIndex;\nattribute vec4 a_color;\nattribute lowp vec2 a_zooms;\nattribute lowp float a_visible;\nattribute highp float a_height;\nattribute lowp float a_angle;\n\nuniform lowp vec2 u_gl_size;\nuniform highp mat4 u_matrix;\nuniform float u_texsize[_TotalTextureLenTwice];\nuniform lowp int u_event;\nuniform float u_zoom;\nuniform highp vec2 u_delta_center;\nuniform highp vec2 u_offset;\n// u_transform.x => rotate; u_transform.y => pinch; u_transform.z => scale\nuniform lowp vec4 u_transform;\nuniform float u_skyHeight;\n\nvarying vec2 v_texcoord;\nvarying float v_texIndex;\nvarying float v_type;\nvarying vec4 v_color;\nvarying vec2 v_zooms;\nvarying lowp float v_visible;\nvarying vec2 v_pos;\n\nmat4 rotateMat4(mat4 a, float rad, vec3 axis) {\n    float x = axis[0], y = axis[1], z = axis[2];\n    float len = length(axis);\n    float s, c, t;\n    float a00, a01, a02, a03;\n    float a10, a11, a12, a13;\n    float a20, a21, a22, a23;\n    float b00, b01, b02;\n    float b10, b11, b12;\n    float b20, b21, b22;\n\n    len = 1.0 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = sin(rad);\n    c = cos(rad);\n    t = 1.0 - c;\n\n    a00 = a[0][0]; a01 = a[0][1]; a02 = a[0][2]; a03 = a[0][3];\n    a10 = a[1][0]; a11 = a[1][1]; a12 = a[1][2]; a13 = a[1][3];\n    a20 = a[2][0]; a21 = a[2][1]; a22 = a[2][2]; a23 = a[2][3];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    mat4 outMatrix = mat4(\n    a00 * b00 + a10 * b01 + a20 * b02,\n    a00 * b10 + a10 * b11 + a20 * b12,\n    a00 * b20 + a10 * b21 + a20 * b22,\n    a[3][0],\n\n    a01 * b00 + a11 * b01 + a21 * b02,\n    a01 * b10 + a11 * b11 + a21 * b12,\n    a01 * b20 + a11 * b21 + a21 * b22,\n    a[3][1],\n\n    a02 * b00 + a12 * b01 + a22 * b02,\n    a02 * b10 + a12 * b11 + a22 * b12,\n    a02 * b20 + a12 * b21 + a22 * b22,\n    a[3][2],\n\n    a03 * b00 + a13 * b01 + a23 * b02,\n    a03 * b10 + a13 * b11 + a23 * b12,\n    a03 * b20 + a13 * b21 + a23 * b22,\n    a[3][3]\n    );\n\n\n    //    outMatrix = mat4(1.0);\n    return outMatrix;\n}\n\nmat4 scaleMat4(mat4 a, vec3 v) {\n    float x = v.x, y = v.y, z = v.z;\n\n    mat4 outMatrix = mat4(\n        a[0][0] * x, a[1][0] * y, a[2][0] * z, a[3][0],\n        a[0][1] * x, a[1][1] * y, a[2][1] * z, a[3][1],\n        a[0][2] * x, a[1][2] * y, a[2][2] * z, a[3][2],\n        a[0][3] * x, a[1][3] * y, a[2][3] * z, a[3][3]\n    );\n\n    return outMatrix;\n}\n\nvec2 getSizeFromArray(float u_texsize[_TotalTextureLenTwice], int ndx){\n    vec2 texsize;\n\n    if (ndx==0){\n        texsize=vec2(u_texsize[0], u_texsize[1]);\n    } else if (ndx==1){\n        texsize=vec2(u_texsize[2], u_texsize[3]);\n    } else if (ndx==2){\n        texsize=vec2(u_texsize[4], u_texsize[5]);\n    } else if (ndx==3){\n        texsize=vec2(u_texsize[6], u_texsize[7]);\n    } else if (ndx==4){\n        texsize=vec2(u_texsize[8], u_texsize[9]);\n    } else if (ndx==5){\n        texsize=vec2(u_texsize[10], u_texsize[11]);\n    }else if (ndx==6){\n        texsize=vec2(u_texsize[12], u_texsize[13]);\n    }\n\n    return texsize;\n}\n\nvoid main(){\n    float pi = 3.141592653589793238462;\n\n    // 任意点打点测试\n    if (a_type==4.){\n        gl_PointSize = 8.0;\n        gl_Position = u_matrix * vec4(a_vertex.xy, 0, 1);\n        v_type=a_type;\n        return;\n    }\n\n    // 纹理拼接\n    if (a_type == 5.0){\n        vec4 pos = u_matrix * vec4(a_vertex.xy, 0, 1);\n        gl_Position = vec4(pos.xy/u_gl_size * 2.0, 0, 1);\n        v_type = a_type;\n        v_texIndex = a_texIndex;\n        v_texcoord = a_texcoord;\n        return;\n    }\n    // for what??\n    if (a_type == 7.0){\n        gl_Position = vec4(a_vertex.xy, 0, 1);\n        v_type = a_type;\n        v_texcoord = a_texcoord;\n        return;\n    }\n    // zooms 放弃绘制\n    v_zooms=a_zooms;\n    v_visible=a_visible;\n\n    if (a_visible==0. || u_zoom<a_zooms.x || u_zoom>a_zooms.y){\n        return;\n    }\n\n    // 绘制背景 || border\n    if (a_type==6. || a_type==8.){\n        vec4 cur_position=u_matrix*vec4(a_origin.xy + u_delta_center + u_offset, a_height, 1);\n        gl_Position=cur_position/cur_position.w+vec4(a_vertex.x/u_gl_size.x*2., -a_vertex.y/u_gl_size.y*2., 0, 0);\n        v_type=a_type;\n        v_zooms=a_zooms;\n        v_visible=a_visible;\n        v_pos = gl_Position.xy;\n        return;\n    }\n\n    // 绘制贴地效果文字\n    if (a_type==1.){\n        gl_Position = u_matrix * vec4(a_vertex.xy, 0, 1);\n    } else {\n        // 绘制 billborad 效果\n        mat4 originMatirx = mat4(1.0);\n        mat4 scaleMatrix = scaleMat4(originMatirx, vec3(u_transform.z));\n        mat4 rotateMatrix = rotateMat4(originMatirx, a_angle + u_transform.x, vec3(0, 0, 1));\n        vec4 trans_position = rotateMatrix * scaleMatrix * vec4(a_vertex.x, -a_vertex.y, 0, 1);\n\n        vec4 trans_normalize_position = vec4(trans_position.xy/u_gl_size.xy*2., 0, 1);\n\n        vec4 cur_position = u_matrix * vec4(a_origin.xy + u_delta_center + u_offset, a_height, 1);\n\n        // 修复文字超出 z 轴范围没有裁剪的问题，现象就是在地图最大级别、pitch 最大的时候出现文字（不应该在地图中的）悬浮在高空中。\n        if(cur_position.z / cur_position.w > 1. || cur_position.z / cur_position.w < -1.) {\n            gl_Position = vec4(0, 0, cur_position.z/cur_position.w, 1);\n        } else {\n            gl_Position=vec4(cur_position.xy/cur_position.w+trans_normalize_position.xy/trans_normalize_position.w,0,1);\n        }\n    }\n    // if(gl_Position.y > u_skyHeight) {\n    //     gl_Position = vec4(0, 0, 0, 0);\n    // }\n\n    // 事件支持\n    if (u_event==1){\n        v_color=a_color;\n        return;\n    }\n\n    v_texcoord=a_texcoord/getSizeFromArray(u_texsize, int(a_texIndex));\n    v_texIndex=a_texIndex;\n    v_type=floor(a_type + 0.1);\n//    v_type= a_type;\n    v_pos = gl_Position.xy;\n}\n",
                    fragmentSource: "precision mediump float;\nuniform sampler2D u_texture[_TotalTextureLen];\nuniform vec4 u_color;\nuniform vec4 u_borderColor;\nuniform vec4 u_strokeColor;\nuniform vec4 u_backgroundColor;\nuniform float u_borderBuffer;\nuniform float u_buffer;\nuniform float u_gamma;\nuniform lowp int u_event;\nuniform float u_zoom;\nuniform lowp float u_opacity;\nuniform float u_skyHeight;\n\nvarying vec2 v_texcoord;\nvarying float v_texIndex;\nvarying float v_type;\nvarying vec4 v_color;\nvarying vec2 v_zooms;\nvarying vec2 v_pos;\nvarying lowp float v_visible;\n\nfloat skyOpacity() {\n    if (v_pos.y > u_skyHeight){\n        return 1.0 - smoothstep(u_skyHeight, u_skyHeight + (1.0 - u_skyHeight) / 6.0, v_pos.y);\n    }\n    return 1.0;\n}\n\n/*由于片元着色器的数据index必须是常量，只能如此取出相应的值*/\n\nvoid main() {\n    // texture5\n    if (v_type == 7.0){\n        gl_FragColor = texture2D(u_texture[4], v_texcoord);\n        return;\n    }\n    if (v_type == 4.0){\n        gl_FragColor = u_color;\n        return;\n    }\n    int texIdx = int(floor(v_texIndex + 0.1));\n\n    vec4 distColor;\n    // 拼接纹理\n    if (v_type == 5.0){\n        __SmpColorLoop__\n        gl_FragColor = distColor;\n        return;\n    }\n\n    if (v_type == 6.0){\n        gl_FragColor = vec4(u_backgroundColor.rgb, u_backgroundColor.a * u_opacity);\n        gl_FragColor.a *= skyOpacity();\n        return;\n    }\n\n    if (v_type == 8.0){\n         gl_FragColor = vec4(u_borderColor.rgb, u_borderColor.a * u_opacity);\n        gl_FragColor.a *= skyOpacity();\n        return;\n    }\n\n    if (u_event == 1){\n        gl_FragColor = v_color;\n        gl_FragColor.a *= skyOpacity();\n        return;\n    }\n\n    __SmpColorLoop__\n\n    // icon\n    if (v_type == 0.0){\n        float opacity = u_opacity * distColor.a;\n        if (opacity < 0.03){\n            discard;\n        }\n        gl_FragColor = vec4(distColor.rgb, opacity);\n        // gl_FragColor = vec4(distColor.rgb, u_opacity * distColor.a);\n        gl_FragColor.a *= skyOpacity();\n        return;\n    }\n\n    float dist = distColor.r;\n    float alpha;\n    if (u_borderBuffer == 0.0){\n        alpha = smoothstep(u_buffer - u_gamma, u_buffer, dist);\n        gl_FragColor = vec4(u_color.rgb, alpha * u_color.a * u_opacity);\n        // gl_FragColor = vec4(1.0,0,0,1.0);\n\n    } else {\n\n        if (dist <= u_buffer - u_gamma){\n            // border 与外界交界\n            alpha = smoothstep(u_borderBuffer - u_gamma, u_borderBuffer, dist);\n            float opacity = alpha * u_strokeColor.a * u_opacity;\n            if (opacity == 0.0){\n                discard;\n            }\n            gl_FragColor = vec4(u_strokeColor.rgb, opacity);\n        } else if (dist < u_buffer){\n            // 文字与 border 交界\n            alpha = smoothstep(u_buffer - u_gamma, u_buffer, dist);\n            gl_FragColor = vec4(alpha * u_color.rgb + (1.0 - alpha) * u_strokeColor.rgb, 1.0 * u_color.a *\n            alpha * u_opacity + (1.0 - alpha) * u_strokeColor.a * u_opacity);\n        } else {\n            // 文字\n            alpha = 1.0;\n            gl_FragColor = vec4(u_color.rgb, alpha * u_color.a * u_opacity);\n        }\n    }\n    gl_FragColor.a *= skyOpacity();\n}"
                },
                fillOutline: {
                    uniforms: {
                        u_color: "vec4",
                        u_normal: "vec3",
                        u_matrix: "mat4",
                        u_localDeltaCenter: "vec2"
                    },
                    attributes: {
                        a_pos: {
                            Oe: "vec2",
                            Me: "float32"
                        }
                    },
                    vertexSource: "precision highp float;\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\n\nvarying vec2 v_pos;\n\nvoid main(){\n    vec2 pos=vec2(a_pos.x+u_localDeltaCenter.x,a_pos.y+u_localDeltaCenter.y);\n    gl_Position=u_matrix*vec4(pos,0,1);\n    v_pos=(gl_Position.xy/gl_Position.w+1.)/2.*vec2(1583.*1.,946.*1.);\n}\n",
                    fragmentSource: "precision mediump float;\nuniform vec4 u_color;\nvarying vec2 v_pos;\n// uniform float u_opacity;\n\nvoid main(){\n    // float dist=length(v_pos-gl_FragCoord.xy);\n    // float alpha=1.-smoothstep(0.,1.,dist);\n    gl_FragColor=u_color;\n    // gl_FragColor=vec4(0.8, 0.8, 0.8, 0.5);\n\n    #ifdef OVERDRAW_INSPECTOR\n    gl_FragColor=vec4(1.);\n    #endif\n}\n"
                },
                line: {
                    uniforms: {
                        u_skyHeight: "float",
                        u_viewHeight: "float",
                        u_width: "float",
                        u_border: "float",
                        u_matrix: "mat4",
                        u_meter_per_pixel: "float",
                        u_color: "vec4",
                        u_dash: "vec4",
                        u_localDeltaCenter: "vec2"
                    },
                    attributes: {
                        a_pos: {
                            Oe: "vec2",
                            Me: "float32"
                        },
                        a_normal: {
                            Oe: "vec2",
                            Me: "float32"
                        },
                        a_distance: {
                            Oe: "float",
                            Me: "float32"
                        },
                        a_dir: {
                            Oe: "vec2",
                            Me: "float32"
                        }
                    },
                    vertexSource: "precision highp float;\nattribute vec2 a_pos;\nattribute vec2 a_normal;\nattribute float a_distance;\nattribute vec2 a_dir;\n\n// attribute vec4 a_color;\n// attribute float a_width;\n// attribute vec4 a_dash;\n\nuniform float u_meter_per_pixel;\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\nuniform float u_width;\n\nvarying float v_distance;\nvarying vec2 v_normal;\nvarying float v_width;\nvarying vec4 v_pos;\n\n#define WORLD_SIZE 20037508.342789244\n\nvoid main(){\n    float width = u_width + 0.0;\n    float cosValue = dot(a_normal , a_dir);\n    v_distance = a_distance/u_meter_per_pixel + (cosValue * width * 0.5);\n\n    vec2 pos=a_pos;\n    pos.x+=u_localDeltaCenter.x;\n    pos.y+=u_localDeltaCenter.y;\n    gl_Position = u_matrix * vec4(pos + a_normal * width * u_meter_per_pixel * 0.5, 0, 1);\n    v_normal = normalize(a_normal*sign(width*u_meter_per_pixel*.5));\n    v_width = width;\n    v_pos = gl_Position;\n}",
                    fragmentSource: "precision highp float;\n\nuniform vec4 u_color;\n// uniform float u_opacity;\nuniform vec4 u_dash;\nuniform float u_border;\nuniform float u_skyHeight;\nuniform float u_viewHeight;\n\nvarying highp float v_distance;\nvarying vec2 v_normal;\nvarying float v_width;\nvarying vec4 v_pos;\n\nvoid main() {\n    float offset = mod(v_distance, u_dash.r + u_dash.g + u_dash.b + u_dash.a);\n    if(offset>u_dash.r && offset < u_dash.r + u_dash.g){\n        discard;\n    }else if(offset> u_dash.r + u_dash.g + u_dash.b){\n        discard;\n    }\n\n    float startBlur = 0.0;\n    float endBlur = 1.0;\n    // float dist = length(v_normal) * 0.8;\n\n    // if(v_width < 4.0 && u_border == 1.0) {\n    //     startBlur = 0.0;\n    // } else {\n    //     // 线主体\n    //     if(v_width < 4.0 && u_border == 0.0) {\n    //         startBlur = 0.0;\n    //     } else {\n    //         startBlur = 0.4;\n    //     }\n    // }\n    // startBlur = clamp(0.0, 0.4, smoothstep(0.0, 4.0, v_width) - 0.6);\n\n    // startBlur = 0.0;\n    // float opacity = 1.0 - smoothstep(startBlur, endBlur, dist);\n    gl_FragColor = u_color;\n    // gl_FragColor.a *= opacity;\n\n    // gl_FragColor = vec4(1, 0, 0, 1);\n\n\n    // 雾化\n    float y = v_pos.y / v_pos.w;\n    float fogHeight = 2. / u_viewHeight * 30.;  // 10 像素高度作为模糊处理\n    vec3 fogColor= vec3(0.9, 0.9, 0.9);\n    if(u_skyHeight < 1.0 && y > 0.0) {\n        // 片元颜色 = 物体颜色 * 雾化因子 + 雾的颜色 * （1 - 雾化因子）\n        float fogFactor = smoothstep(u_skyHeight + fogHeight/2.0, u_skyHeight - fogHeight/2.0, y);\n        // float fogFactor = smoothstep(u_skyHeight + fogHeight, u_skyHeight, y);\n        // gl_FragColor.rgb = gl_FragColor.rgb * fogFactor + fogColor * (1.0 - fogFactor);\n        gl_FragColor.a *= fogFactor;\n    }\n\n    #ifdef OVERDRAW_INSPECTOR\n        gl_FragColor = vec4(1.0);\n    #endif\n}\n"
                },
                combineText: {
                    uniforms: {
                        u_sourceTexture: "sampler2D",
                        u_sourceTextureSize: "vec2",
                        u_targetTextureSize: "vec2"
                    },
                    attributes: {
                        a_targetTexturePos: {
                            Oe: "vec2",
                            Me: "uint16"
                        },
                        a_sourceTexturePos: {
                            Oe: "vec2",
                            Me: "uint16"
                        }
                    },
                    vertexSource: "precision highp float;\n\nattribute vec2 a_targetTexturePos;\nattribute vec2 a_sourceTexturePos;\n\nuniform vec2 u_targetTextureSize;\nuniform vec2 u_sourceTextureSize;\n\nvarying vec2 v_textureCoord;\n\n\nvoid main() {\n  v_textureCoord = a_sourceTexturePos / u_sourceTextureSize;\n  // v_textureCoord = vec2(a_sourceTexturePos.x / u_sourceTextureSize.x, a_sourceTexturePos.y / u_sourceTextureSize.y);\n\n  vec2 pos = (a_targetTexturePos / u_targetTextureSize) *2.0 -vec2(1.0,1.0);\n  // vec2 pos = vec2(a_targetTexturePos.x / u_targetTextureSize.x, a_targetTexturePos.y / u_targetTextureSize.y);\n  // pos.x = (pos.x - 0.5)*2.0;\n  // pos.y = (pos.y - 0.5)*2.0;\n\n  gl_Position = vec4(pos, 0, 1.0);\n  // gl_Position = vec4(a_targetTexturePos,0,1.0);\n}",
                    fragmentSource: "precision highp float;\n\nuniform sampler2D u_sourceTexture; \n\nvarying vec2 v_textureCoord;\n\n\nvoid main(){\n  gl_FragColor = texture2D(u_sourceTexture, v_textureCoord);\n  // gl_FragColor = vec4(1,0, 0, 0 ,1.0);\n    // gl_FragColor = vec4(0,0,1.0,1.0);\n}"
                },
                debugImage: {
                    uniforms: {
                        u_texture: "sampler2D"
                    },
                    attributes: {
                        a_pos: {
                            Oe: "vec2",
                            Me: "uint16"
                        },
                        a_coord: {
                            Oe: "vec2",
                            Me: "uint16"
                        }
                    },
                    vertexSource: "precision highp float;\n\nattribute vec2 a_pos;\nattribute vec2 a_coord;\n\nvarying vec2 v_coord;\n\nvoid main() {\n  v_coord = vec2(a_coord.x,1.0 - a_coord.y) ;\n  vec2 pos = a_pos *2.0 -vec2(1.0,1.0);\n  // vec2 pos = a_pos -vec2(,1.0);\n  gl_Position = vec4(pos,0,1.0);\n}",
                    fragmentSource: "precision highp float;\n\nvarying vec2 v_coord;\n\nuniform sampler2D u_texture;\n\nvoid main(){\n  gl_FragColor = texture2D(u_texture, v_coord);\n  // gl_FragColor = vec4(1.0,0,0,1.0);\n}\n"
                },
                circle: {
                    uniforms: {
                        u_color: "vec4",
                        u_borderColor: "vec4",
                        u_matrix: "mat4",
                        u_localDeltaCenter: "vec2",
                        u_offset: "vec2",
                        u_radius: "float",
                        u_range: "vec2",
                        u_retinaRatio: "float",
                        u_skyHeight: "float",
                        u_viewHeight: "float"
                    },
                    attributes: {
                        a_pos: {
                            Me: "float32",
                            Oe: "vec2"
                        }
                    },
                    vertexSource: "precision highp float;\n#define GLSLIFY 1\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\nuniform float u_radius;\nuniform vec2 u_localDeltaCenter;\nuniform vec2 u_offset;\nuniform float u_retinaRatio;\nvarying vec4 v_pos;\n\nvoid main(){\n    vec2 pos=vec2(a_pos.x+u_localDeltaCenter.x+u_offset.x,a_pos.y+u_localDeltaCenter.y+u_offset.y);\n    gl_Position=u_matrix * vec4(pos,0,1);\n    gl_PointSize = u_radius * u_retinaRatio * 2.0;\n    v_pos = gl_Position;\n}\n",
                    fragmentSource: "\n\nprecision highp float;\n#define GLSLIFY 1\nuniform  float u_radius;\nuniform  vec2 u_range;\nuniform highp vec4 u_color;\nuniform highp vec4 u_borderColor;\nuniform float u_skyHeight;\nuniform float u_viewHeight;  // 地图容器高度，单位像素\n\nvarying vec4 v_pos;\n\nfloat fogcalc(vec4 pos, float skyHeight, float viewHeight) {\n    float y = pos.y / pos.w;\n    float fogHeight = 2. / viewHeight * 30.;\n    float fogFactor = 1.0;\n    if(skyHeight < 1.0 && y > 0.0) {\n        fogFactor = smoothstep(skyHeight + fogHeight/2.0, skyHeight - fogHeight/2.0, y);\n    }\n    return fogFactor;\n}\n\nvoid main() {\n  float offset = distance(gl_PointCoord, vec2(0.5,0.5))*2.0;\n  float flag = step(offset, u_range[0]) + step(u_range[1], offset);\n\n  if(flag > 0.0){\n    discard;\n  }\n  float opacity_t = 1.-smoothstep(u_range[1] -1./u_radius, u_range[1], offset);\n  gl_FragColor = mix(u_borderColor, u_color, opacity_t);\n  gl_FragColor.a *= fogcalc(v_pos, u_skyHeight, u_viewHeight);\n}"
                },
                polyline: {
                    uniforms: {
                        u_width: "float",
                        u_dashType: "int",
                        u_matrix: "mat4",
                        u_offset: "vec2",
                        u_meter_per_pixel: "float",
                        u_color: "vec4",
                        u_dash: "vec3",
                        u_localDeltaCenter: "vec2",
                        u_skyHeight: "float",
                        u_viewHeight: "float"
                    },
                    attributes: {
                        a_pos: {
                            Oe: "vec2",
                            Me: "float32"
                        },
                        a_normal: {
                            Oe: "vec2",
                            Me: "float32"
                        },
                        a_distance: {
                            Oe: "float",
                            Me: "float32"
                        },
                        a_dir: {
                            Oe: "vec2",
                            Me: "float32"
                        }
                    },
                    vertexSource: "precision highp float;\n#define GLSLIFY 1\nattribute vec2 a_pos;\nattribute vec2 a_normal;\nattribute float a_distance;\nattribute vec2 a_dir;\n\n// attribute vec4 a_color;\n// attribute float a_width;\n// attribute vec4 a_dash;\n\nuniform float u_meter_per_pixel;\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\n\nuniform  mediump float u_width;\nuniform vec2 u_offset;  // polygin 拖动平移的时候使用\nvarying float v_distance;\nvarying float v_width;\nvarying vec2 v_normal;\nvarying float v_flag;\nvarying vec4 v_pos;\n\n#define WORLD_SIZE 20037508.342789244\n\nvoid main(){\n\n    float width = u_width;\n    float cosValue = dot(a_normal , a_dir);\n    float sinValue = cross(vec3(normalize(a_normal),0.0), vec3(a_dir,0.0))[2];\n    sinValue = step(0.0, sinValue);\n    sinValue = (sinValue - 0.5)* 2.0;\n    v_distance = a_distance/u_meter_per_pixel + (cosValue * width *0.5);\n\n    vec2 pos = a_pos;\n    pos.x+=u_localDeltaCenter.x + u_offset.x;\n    pos.y+=u_localDeltaCenter.y + u_offset.y;\n//    gl_PointSize = 3.0;\n//    gl_Position = u_matrix * vec4(pos, 0, 1);\n    gl_Position = u_matrix * vec4(pos + a_normal * width * u_meter_per_pixel * 0.5, 0, 1);\n    v_width = width;\n    v_normal = normalize(a_normal * sqrt(1.0 - pow(cosValue, 2.0)));\n    v_flag = sinValue;\n    v_pos = gl_Position;\n\n}",
                    fragmentSource: "precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 u_color;\nuniform vec4 u_outLinecolor;\n// uniform float u_opacity;\nuniform vec3 u_dash;\nuniform int u_dashType;\nuniform sampler2D u_texture;\nuniform  mediump float u_width;\n\nvarying highp float v_distance;\nvarying float v_width;\nvarying vec2 v_normal;\nvarying float v_flag;\nvarying vec4 v_pos;\n\nuniform float u_skyHeight;\nuniform float u_viewHeight;  // 地图容器高度，单位像素\nfloat fogcalc(vec4 pos, float skyHeight, float viewHeight) {\n    float y = pos.y / pos.w;\n    float fogHeight = 2. / viewHeight * 30.;\n    float fogFactor = 1.0;\n    if(skyHeight < 1.0 && y > 0.0) {\n        fogFactor = smoothstep(skyHeight + fogHeight/2.0, skyHeight - fogHeight/2.0, y);\n    }\n    return fogFactor;\n}\n\nvoid main() {\n    // vec2 icon_offset = vec2(80.0, 0.0);\n    // vec2 icon_size = vec2(40.0, 40.0);\n    // vec2 icon_offset = vec2(0.0, 0.0);\n    // vec2 icon_size = vec2(44.0, 32.0);\n    // vec2 texture_size = vec2(512.0, 2048.0);\n    float offset = 0.0;\n    if( u_dashType == 2 ){\n        float offset = mod(v_distance, u_dash.r + u_dash.g);\n        if(offset>u_dash.r && offset < u_dash.r + u_dash.g){\n            discard;\n        }\n    }else if(u_dashType == 3) {\n        float all = u_dash[0] * 2.0 + u_dash[1] * 2.0 + u_dash[2] * 2.0;\n        offset = mod(v_distance, all);\n        vec3 solidBound = vec3(u_dash[0], u_dash[0] + u_dash[1] + u_dash[2], u_dash[0] * 2.0 + u_dash[1] * 2.0 + u_dash[2]);\n        vec3 dashBound = vec3(solidBound.x + u_dash[1], solidBound.y + u_dash[0], solidBound.z + u_dash[2]);\n\n        if (offset > solidBound.x && offset <= dashBound.x\n            || offset > solidBound.y && offset <= dashBound.y\n            || offset > solidBound.z && offset <= dashBound.z) {\n            discard;\n        }\n    }\n\n    float startBlur = 0.0;\n    float endBlur = 1.0;\n    // float dist = length(v_normal) * 0.8;\n\n    // if(v_width < 4.0 && u_border == 1.0) {\n    //     startBlur = 0.0;\n    // } else {\n    //     // 线主体\n    //     if(v_width < 4.0 && u_border == 0.0) {\n    //         startBlur = 0.0;\n    //     } else {\n    //         startBlur = 0.4;\n    //     }\n    // }\n    // startBlur = clamp(0.0, 0.4, smoothstep(0.0, 4.0, v_width) - 0.6);\n\n    // startBlur = 0.0;\n    // float opacity = 1.0 - smoothstep(startBlur, endBlur, dist);\n\n    gl_FragColor = u_color;\n    gl_FragColor.a *= fogcalc(v_pos, u_skyHeight, u_viewHeight);\n    #ifdef OVERDRAW_INSPECTOR\n        gl_FragColor = vec4(1.0);\n    #endif\n}\n"
                },
                "polyline-pattern": {
                    uniforms: {
                        u_width: "float",
                        u_matrix: "mat4",
                        u_offset: "vec2",
                        u_meter_per_pixel: "float",
                        u_meter_per_pixel_optimal: "float",
                        u_localDeltaCenter: "vec2",
                        u_texture: "sampler2D",
                        u_iconsize: "vec2",
                        u_dir_color: "vec3",
                        u_custom_img_flag: "bool",
                        u_skyHeight: "float",
                        u_viewHeight: "float"
                    },
                    attributes: se,
                    vertexSource: "precision highp float;\n#define GLSLIFY 1\nattribute vec2 a_pos;\nattribute vec2 a_normal;\nattribute float a_distance;\nattribute vec2 a_dir;\n\n// attribute vec4 a_color;\n// attribute float a_width;\n// attribute vec4 a_dash;\n\nuniform highp float u_meter_per_pixel;\nuniform highp float u_meter_per_pixel_optimal;\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\n\nuniform  highp float u_width;\nuniform vec2 u_offset;  // polygin 拖动平移的时候使用\nvarying highp float v_distance;\n// varying mediump float v_width;\n// varying vec2 v_normal;\nvarying highp float v_flag;\nvarying vec4 v_pos;\n\n#define WORLD_SIZE 20037508.342789244\n\nvoid main(){\n\n    float width = u_width + 0.0;\n    float cosValue = dot(a_normal , a_dir);\n    float sinValue = cross(vec3(normalize(a_normal),0.0), vec3(a_dir,0.0))[2];\n    sinValue = step(0.0, sinValue);\n    // sinValue = (sinValue - 0.5)* 2.0;\n    v_distance = a_distance/u_meter_per_pixel + (cosValue * width *0.5);\n\n    vec2 pos = a_pos;\n    pos.x+=u_localDeltaCenter.x + u_offset.x;\n    pos.y+=u_localDeltaCenter.y + u_offset.y;\n//    gl_PointSize = 3.0;\n//    gl_Position = u_matrix * vec4(pos, 0, 1);\n    gl_Position = u_matrix * vec4(pos + a_normal * width * u_meter_per_pixel * 0.5, 0, 1);\n    // v_width = width;\n    // v_normal = normalize(a_normal * sqrt(1.0 - pow(cosValue, 2.0)));\n    v_flag = sinValue;\n    v_pos = gl_Position;\n\n}",
                    fragmentSource: "precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D u_texture;\nuniform  highp vec2 u_iconsize;\nuniform  mediump vec3 u_dir_color;\nuniform  bool u_custom_img_flag;\nuniform  highp float u_width;\nuniform highp float u_meter_per_pixel;\nuniform highp float u_meter_per_pixel_optimal;\n\nvarying highp float v_distance;\n// varying float v_width;\n// varying vec2 v_normal;\nvarying highp float v_flag;\nvarying vec4 v_pos;\n\nuniform float u_skyHeight;\nuniform float u_viewHeight;  // 地图容器高度，单位像素\nfloat fogcalc(vec4 pos, float skyHeight, float viewHeight) {\n    float y = pos.y / pos.w;\n    float fogHeight = 2. / viewHeight * 30.;\n    float fogFactor = 1.0;\n    if(skyHeight < 1.0 && y > 0.0) {\n        fogFactor = smoothstep(skyHeight + fogHeight/2.0, skyHeight - fogHeight/2.0, y);\n    }\n    return fogFactor;\n}\n\nvoid main() {\n    // if(abs(v_flag)>=1.0){\n    //     discard;\n    // }\n    vec2 icon_size = u_iconsize * vec2(u_width/u_iconsize.y, 1.0 );\n    float offset = 0.0;\n    float text_offset_x = mod(v_distance, (icon_size.x*4.0)*u_meter_per_pixel_optimal/u_meter_per_pixel);\n    // float text_offset_x = mod(v_distance, 120.0);\n\n    if(text_offset_x<=0.0){\n        discard;\n    }\n    if(text_offset_x>=icon_size.x){\n        discard;\n    }\n\n    text_offset_x = 1.0 - clamp(0.0,1.0,text_offset_x/icon_size.x);\n\n    // float  text_offset_y  = (v_flag+1.0)/2.0  ;\n    float  text_offset_y  = v_flag  ;\n\n    if(u_custom_img_flag){\n        gl_FragColor = texture2D(u_texture, vec2(text_offset_y, text_offset_x));\n    }else{\n        vec4 color = texture2D(u_texture, vec2(text_offset_y,text_offset_x));\n        if(color.a>0.0){\n            gl_FragColor = vec4(u_dir_color,1.0);\n        }\n    }\n   gl_FragColor.a *= fogcalc(v_pos, u_skyHeight, u_viewHeight);\n    #ifdef OVERDRAW_INSPECTOR\n        gl_FragColor = vec4(1.0);\n    #endif\n}\n"
                },
                "polyline-gradient": {
                    uniforms: {
                        u_width: "float",
                        u_matrix: "mat4",
                        u_offset: "vec2",
                        u_meter_per_pixel: "float",
                        u_localDeltaCenter: "vec2",
                        u_texture: "sampler2D",
                        u_total_distance: "float",
                        u_skyHeight: "float",
                        u_viewHeight: "float"
                    },
                    attributes: se,
                    vertexSource: "precision highp float;\n#define GLSLIFY 1\nattribute vec2 a_pos;\nattribute vec2 a_normal;\nattribute float a_distance;\nattribute vec2 a_dir;\n\n// attribute vec4 a_color;\n// attribute float a_width;\n// attribute vec4 a_dash;\n\nuniform float u_meter_per_pixel;\nuniform mat4 u_matrix;\nuniform vec2 u_localDeltaCenter;\n\nuniform  mediump float u_width;\nuniform vec2 u_offset;  // polygin 拖动平移的时候使用\n\nvarying float v_distance;\nvarying float v_width;\nvarying vec2 v_normal;\nvarying float v_flag;\nvarying vec4 v_pos;\n\n#define WORLD_SIZE 20037508.342789244\n\nvoid main(){\n\n    float width = u_width;\n    float cosValue = dot(a_normal , a_dir);\n\n    v_distance = a_distance + (cosValue * width *0.5)*u_meter_per_pixel;\n    // v_distance = a_distance;\n\n    vec2 pos = a_pos;\n    pos.x+=u_localDeltaCenter.x + u_offset.x;\n    pos.y+=u_localDeltaCenter.y + u_offset.y;\n    gl_Position = u_matrix * vec4(pos + a_normal * width * u_meter_per_pixel * 0.5, 0, 1);\n    v_pos = gl_Position;\n}",
                    fragmentSource: "precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 u_outLinecolor;\n// uniform float u_opacity;\nuniform vec3 u_dash;\nuniform int u_dashType;\nuniform sampler2D u_texture;\nuniform  mediump float u_width;\nuniform  highp float u_total_distance;\n\nvarying highp float v_distance;\nvarying vec4 v_pos;\n\nuniform float u_skyHeight;\nuniform float u_viewHeight;  // 地图容器高度，单位像素\nfloat fogcalc(vec4 pos, float skyHeight, float viewHeight) {\n    float y = pos.y / pos.w;\n    float fogHeight = 2. / viewHeight * 30.;\n    float fogFactor = 1.0;\n    if(skyHeight < 1.0 && y > 0.0) {\n        fogFactor = smoothstep(skyHeight + fogHeight/2.0, skyHeight - fogHeight/2.0, y);\n    }\n    return fogFactor;\n}\n\nvoid main() {\n\n    float offset = 0.0;\n    if( u_dashType == 2 ){\n        float offset = mod(v_distance, u_dash.r + u_dash.g);\n        if(offset>u_dash.r && offset < u_dash.r + u_dash.g){\n            discard;\n        }\n    }else if(u_dashType == 3) {\n        float all = u_dash[0] * 2.0 + u_dash[1] * 2.0 + u_dash[2] * 2.0;\n        offset = mod(v_distance, all);\n        vec3 solidBound = vec3(u_dash[0], u_dash[0] + u_dash[1] + u_dash[2], u_dash[0] * 2.0 + u_dash[1] * 2.0 + u_dash[2]);\n        vec3 dashBound = vec3(solidBound.x + u_dash[1], solidBound.y + u_dash[0], solidBound.z + u_dash[2]);\n\n        if (offset > solidBound.x && offset <= dashBound.x\n            || offset > solidBound.y && offset <= dashBound.y\n            || offset > solidBound.z && offset <= dashBound.z) {\n            discard;\n        }\n    }\n    float texture_x = v_distance/u_total_distance;\n    gl_FragColor = texture2D(u_texture, vec2(texture_x,0.5));\n    gl_FragColor.a *= fogcalc(v_pos, u_skyHeight, u_viewHeight);\n    #ifdef OVERDRAW_INSPECTOR\n        gl_FragColor = vec4(1.0);\n    #endif\n}\n"
                }
            }
              , le = (fe.prototype.Un = function() {
                return this.Bn("circle")
            }
            ,
            fe.prototype.rS = function() {
                return this.Bn("sky")
            }
            ,
            fe.prototype.aS = function() {
                return this.Bn("mask")
            }
            ,
            fe.prototype.Wn = function() {
                return this.Bn("fill")
            }
            ,
            fe.prototype.aH = function() {
                return this.Bn("fillPattern")
            }
            ,
            fe.prototype.k_ = function() {
                return this.Bn("fillExtrusion")
            }
            ,
            fe.prototype.sH = function() {
                return this.Bn("fillExtrusionPattern")
            }
            ,
            fe.prototype.Gn = function() {
                return this.Bn("raster")
            }
            ,
            fe.prototype.Zn = function() {
                var t = this.context.gl
                  , i = "labelsLayer";
                if (!this.qn[i]) {
                    for (var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), n = Math.min(e, 16), o = he[i], r = [], a = 0; a < n; a++)
                        r.push((0 < a ? "else " : " ") + "if(texIdx==" + a + "){ distColor = texture2D(u_texture[" + a + "], v_texcoord); }");
                    o.vertexSource = o.vertexSource.replace(/_TotalTextureLenTwice/g, (2 * n).toString()).replace(/_TotalTextureLen/g, n.toString()),
                    o.fragmentSource = o.fragmentSource.replace(/_TotalTextureLen/g, n.toString()).replace(/__SmpColorLoop__/g, r.join("\n"))
                }
                return this.Bn(i)
            }
            ,
            fe.prototype.Yn = function() {
                return this.Bn("fillOutline")
            }
            ,
            fe.prototype.Vn = function() {
                return this.Bn("line")
            }
            ,
            fe.prototype.Xn = function() {
                return this.Bn("polyline")
            }
            ,
            fe.prototype.M_ = function() {
                return this.Bn("polyline-pattern")
            }
            ,
            fe.prototype.sS = function() {
                return this.Bn("polyline-gradient")
            }
            ,
            fe.prototype.Hn = function() {
                return this.Bn("combineText")
            }
            ,
            fe.prototype.Jn = function() {
                return this.Bn("debugImage")
            }
            ,
            fe.prototype.destroy = function() {
                for (var t in this.qn)
                    this.qn.hasOwnProperty(t) && (this.qn[t].destroy(),
                    delete this.qn[t])
            }
            ,
            fe.prototype.Bn = function(t) {
                if (this.qn[t])
                    return this.qn[t];
                var i = he[t];
                return i && (this.qn[t] = new ki(this.context,i.vertexSource,i.fragmentSource,i.attributes,i.uniforms,t)),
                this.qn[t]
            }
            ,
            fe);
            function fe(t) {
                this.context = t,
                this.context = t,
                this.qn = {}
            }
            var ue = (ce.prototype.destroy = function() {}
            ,
            ce);
            function ce() {
                this.hS = wt.Util.stamp(this)
            }
            var de, pe = (de = ue,
            wt.Ei(ve, de),
            ve.prototype.Kn = function(t, i, e, n, o) {}
            ,
            ve);
            function ve() {
                var t = de.call(this) || this;
                return t.CLASS_NAME = "AMap.Land",
                t.e_ = [0, 0, 0, 0],
                t.Qn = {
                    color: [.9882352941176471, .9764705882352941, .9490196078431372, 1]
                },
                t
            }
            var me = (ye.prototype.lS = function(t, i) {
                var e = this.map.fS()
                  , n = e.uS()
                  , o = {};
                for (var r in n)
                    if (n.hasOwnProperty(r)) {
                        var a = n[r]
                          , s = (a.ro(),
                        i.uo.getData(a.co(), i.$n, this.context || null));
                        o[r] = s
                    }
                e.cS(t, i, o)
            }
            ,
            ye);
            function ye(t) {
                this.map = t
            }
            var ge, xe = wt._.scale, be = (ge = me,
            wt.Ei(_e, ge),
            _e.prototype.getMapState = function() {
                return this.map && this.map.getMapState() || {}
            }
            ,
            _e.prototype.getMap = function() {
                return this.map
            }
            ,
            _e.prototype.to = function() {
                this.map && this.map.setNeedUpdate(!0)
            }
            ,
            _e.prototype.Kn = function(t) {
                t.size[0] * xe !== this.io.width && (this.io.width = t.size[0] * xe,
                this.io.style.width = t.size[0] + "px"),
                t.size[1] * xe !== this.io.height && (this.io.height = t.size[1] * xe,
                this.io.style.height = t.size[1] + "px"),
                this.context.be.set([0, 0, this.io.width, this.io.height]),
                this.context.clear({
                    stencil: !0,
                    color: !0,
                    depth: !0
                });
                var i, e = t.$n.zoom, n = t.layers.sort(function(t, i) {
                    return t.eo().zIndex - i.eo().zIndex
                });
                this.no.Kn(this.oo, this.map.options.backgroundColor, t, {}, this),
                this.map.ao.update(this.oo),
                this.map.so.update(this.oo),
                this.lS(this.oo, t);
                for (var o = !0, r = 0, a = n.length; r < a; r += 1) {
                    var s = (i = n[r]).ro()
                      , h = i.eo().zooms
                      , l = 0 < s.opacity;
                    if ("AMap.IndoorMap" === i.CLASS_NAME && (l = 0 <= s.opacity),
                    s.visible && l && wt.Util.dS(e, h) || "AMap.CustomLayer" === i.CLASS_NAME) {
                        var f = i.ho();
                        if (f) {
                            i.lo() || (o = !1);
                            var u = t.uo.getData(n[r].co(), t.$n, this.context);
                            u && f.Kn(this.oo, u, t, s, this, n[r], u.fo)
                        }
                    }
                }
                !this.map.complete && o && (this.map.emit("complete"),
                this.map.complete = !0),
                this.map.getView().h_() || (this.map.getView().aD(),
                this.map.emit("viewchange", {
                    zoom: t.$n.zoom,
                    center: t.$n.center,
                    pitch: t.$n.pitch,
                    rotation: t.$n.rotation
                }))
            }
            ,
            _e.prototype.destroy = function() {
                this.oo.destroy(),
                this.po.destroy()
            }
            ,
            _e);
            function _e(t) {
                var i = ge.call(this, t) || this;
                i.map = t,
                i.io = P.create("canvas", t.do, "amap-layer"),
                i.io.width = 0,
                i.io.height = 0;
                var e = wt._.getContext(i.io, !1);
                return (i.gl = e).getExtension("OES_standard_derivatives"),
                e.getExtension("OES_element_index_uint"),
                i.context = new vi(e),
                i.oo = new le(i.context),
                i.z_ = t.z_,
                i.R_ = t.R_,
                i.po = new wt.vo,
                i.no = new pe,
                i
            }
            var we, ke = (we = wt.Event,
            wt.Ei(Me, we),
            Me.prototype.lo = function() {
                return this.Oo
            }
            ,
            Me.prototype.destroy = function() {}
            ,
            Me.prototype.Fo = function(t) {
                t && t !== this.Oo && !this.pS && (this.pS = !0,
                this.emit("complete")),
                this.Oo = t
            }
            ,
            Me.prototype.UH = function(t) {}
            ,
            Me.prototype.Eo = function() {
                this.map.setNeedUpdate(!0)
            }
            ,
            Me);
            function Me(t, i, e, n) {
                var o = we.call(this) || this;
                return o.map = e,
                o.To = n,
                o.Oo = !1,
                o.pS = !1,
                o.No = t.id,
                o.Wt = t.type,
                o.Be = t.tileUrl,
                t.url && (o.$o = t.url),
                o
            }
            var Ce, Se = wt._.scale, ze = (Ce = ke,
            wt.Ei(Re, Ce),
            Re.prototype.oa = function(t, i, e, n) {
                var o = this;
                this.aa = t,
                this.sa = [];
                for (var r = t.bounds, a = this.ra(t.optimalZoom), s = this.ha(r, a), h = [], l = t.optimalZoom, f = wt.map(s, function(t) {
                    var i = o.fa(t.x, t.z);
                    return t.z + "," + i + "," + t.y
                }), u = this.QH.qH(f), c = this.KH.qH(f), d = [], p = [], v = 0; v < s.length; v++) {
                    var m, y, g = s[v], x = new wt.ca(g.z,this.fa(g.x, g.z),g.y), b = new wt.ca(g.z,g.x,g.y), _ = wt.Util.kD(x.key, l), w = this.ua.ta(x, !0);
                    if (w)
                        (m = this.ua.MD(w.tag, _)) && (w.tag = _,
                        k = g.key + "," + wt.Util.SD(m),
                        u.yB.indexOf(k) < 0 && d.push(k)),
                        w.gB === m || w.xB && w.xB !== wt.Mo.ERROR || (k = g.key + "," + wt.Util.SD(m),
                        c.yB.indexOf(k) < 0 && (w.xB = wt.Mo.LOADING,
                        p.push(g.key + "," + wt.Util.SD(w.gB)))),
                        (y = this.ua.MD(w.gB, _)) && (w.gB = _,
                        k = g.key + "," + wt.Util.SD(m),
                        c.yB.indexOf(k) < 0 && p.push(k));
                    else {
                        var k = x.key + "," + wt.Util.SD(_);
                        if (u.yB.indexOf(k) < 0) {
                            var M = new wt.pa(x);
                            M.status = wt.Mo.LOADING,
                            M.xB = wt.Mo.LOADING,
                            this.ua.Jo(M),
                            M.tag = _,
                            M.gB = _,
                            d.push(k),
                            p.push(k)
                        }
                    }
                    !w || w.status !== wt.Mo.LOADED && w.status !== wt.Mo.RELOADING || this.sa.push(b),
                    w && (w.status === wt.Mo.LOADED || w.status === wt.Mo.RELOADING) || h.push(g),
                    w && w.status === wt.Mo.LOADED && w.version && w.version !== this.VH && (this.sa.push(b),
                    w.status = wt.Mo.RELOADING,
                    d.push(g.key + "," + wt.Util.SD(w.tag)),
                    p.push(g.key + "," + wt.Util.SD(w.gB)),
                    (m = this.ua.MD(w.tag, _)) && (k = g.key + "," + wt.Util.SD(m),
                    u.yB.indexOf(k) < 0 && d.push(k)),
                    (y = this.ua.MD(w.gB, _)) && (k = g.key + "," + wt.Util.SD(y),
                    c.yB.indexOf(k) < 0 && p.push(k)))
                }
                this.da(t, this.sa, h, n),
                this.zD(d, t, a, n, e),
                n.showLabel && this.bB(p, t)
            }
            ,
            Re.prototype.getData = function(i) {
                var e = this
                  , t = i.bounds
                  , n = this.ra(i.optimalZoom)
                  , o = this.ha(t, n)
                  , r = []
                  , a = {};
                14 === n && (a = this.ha(t, 15, !0));
                var s = this.map.qF();
                if (this.ua.QF(s),
                this.sa.sort(function(t) {
                    return e.ra(i.optimalZoom) === t.z ? 1 : -1
                }),
                0 < this.sa.length)
                    for (var h = 0; h < this.sa.length; h++) {
                        var l = this.sa[h]
                          , f = this.ua.ta(l, !0)
                          , u = 0
                          , c = 0
                          , d = [0, 0]
                          , p = i.centerCoord;
                        if (f) {
                            var v = wt.lcs.getLocalByCoord([p[0], p[1]]);
                            if (i.optimalZoom >= wt.Ra) {
                                var m = wt.lcs.getSize();
                                u = f.Ma.x - v.x,
                                c = f.Ma.y - v.y,
                                0 !== u && (u *= m[0],
                                d[0] = u),
                                0 !== c && (c *= m[1],
                                d[1] = c),
                                i.optimalZoom >= wt.Ra && wt.za >= f.zo.z && (d[0] = -v.center[0],
                                d[1] = -v.center[1])
                            } else
                                i.optimalZoom < wt.Ra && wt.za < f.zo.z && (d[0] = v.center[0],
                                d[1] = v.center[1])
                        } else {
                            var y = new wt.ca(l.z,this.fa(l.x, l.z),l.y)
                              , g = this.ua.ta(y, !0);
                            if (g) {
                                if (f = new wt.pa(l),
                                m = 1 << l.z,
                                l.x < 0) {
                                    var x = Math.floor(l.x / m);
                                    d[0] += 20037508.342789244 * x * 2
                                } else
                                    l.x >= m && (x = Math.floor(l.x / m),
                                    d[0] += 20037508.342789244 * x * 2);
                                var b = g.tag;
                                f.Ro = g.Ro,
                                f.ID(g),
                                f.Sa = d,
                                f.status = g.status,
                                f.tag = b
                            }
                        }
                        f && (f.stamp = s,
                        f.Sa = d,
                        r.push(f))
                    }
                var _ = i.optimalZoom
                  , w = wt.every(o, function(a) {
                    return wt.some(r, function(t) {
                        var i = t.zo.key
                          , e = t.zo.z
                          , n = wt.Util.VF(e, _)
                          , o = t.tag
                          , r = wt.Util.LD(o, n);
                        return i === a.key && r
                    })
                });
                this.Fo(w);
                var k = this.R_.pH() && wt.every(o, function(t) {
                    return wt.some(r, function(t) {
                        return wt.every(t.data, function(t) {
                            return t && t.Ta
                        })
                    })
                });
                return w && (this.a_ = !0),
                {
                    s_: this.a_,
                    fo: !!w && !!k,
                    tiles: r,
                    Ca: a
                }
            }
            ,
            Re.prototype.dynamicTextVerticeLoaded = function(t) {
                var i = t.data;
                if (i instanceof wt.ca) {
                    var e = this.ua.ta(i);
                    if (!e)
                        return;
                    return e.data || e.xa({}, t.tag),
                    void e.rO({}, t.tag)
                }
                var n = i[Object.keys(i)[0]]
                  , o = this.ua.ta(n.zo, !0);
                if (o) {
                    o.data || o.xa({}, t.tag);
                    var r = {};
                    for (var a in i)
                        if (i.hasOwnProperty(a)) {
                            var s = i[a];
                            r[a] = new wt.La(s.zo,s)
                        }
                    o.rO({
                        labels: r
                    }, t.tag),
                    this.Eo()
                }
            }
            ,
            Re.prototype.dynamicTextVerticeLoadedByTile = function(t) {
                for (var i = 0, e = t.data; i < e.length; i++) {
                    var n = e[i];
                    this.dynamicTextVerticeLoaded({
                        data: n.data,
                        tag: n.tag
                    })
                }
            }
            ,
            Re.prototype.ra = function(t) {
                return {
                    2: 3,
                    3: 3,
                    4: 3,
                    5: 3,
                    6: 6,
                    7: 6,
                    8: 8,
                    9: 8,
                    10: 10,
                    11: 10,
                    12: 10,
                    13: 12,
                    14: 12,
                    15: 14,
                    16: 14,
                    17: 14,
                    18: 14,
                    19: 14,
                    20: 14,
                    21: 14,
                    22: 14
                }[t]
            }
            ,
            Re.prototype.destroy = function() {
                this.ua.forEach(function(t) {
                    t.status !== wt.Mo.LOADED && t.request && (t.request.cancel(),
                    delete t.request),
                    t.destroy()
                }),
                this.ua.destroy(),
                this.sa = [],
                this.la = []
            }
            ,
            Re.prototype.reload = function() {
                this.ua.forEach(function(t) {
                    t.status !== wt.Mo.LOADED && t.request && (t.request.cancel(),
                    delete t.request)
                }),
                this.ua.destroy(),
                this.sa = [],
                this.la = []
            }
            ,
            Re.prototype.Aa = function(t) {
                if (t.zo) {
                    var i = this.ua.ta(t.zo);
                    i && i.rO({
                        Ta: !0
                    }, t.tag)
                }
            }
            ,
            Re.prototype.Ks = function(t) {
                t = t || (wt._.$e ? 50 : 200),
                this.ua.Xo(t)
            }
            ,
            Re.prototype.UH = function(t) {
                this.VH = t
            }
            ,
            Re.prototype.Ia = function() {
                this.map.gn.on("dynamicTextVerticeLoaded", this.dynamicTextVerticeLoaded.bind(this)),
                this.map.gn.on("dynamicTextVerticeLoadedByTile", this.dynamicTextVerticeLoadedByTile.bind(this)),
                this.map.on("tileSdfInfoFinished", this.Aa.bind(this))
            }
            ,
            Re.prototype.zD = function(t, i, e, n, o, r) {
                void 0 === r && (r = "road,building,region");
                var a = this.cP()
                  , s = {};
                a && (s = a.ro().vS),
                s = wt.Ln(wt.Ln({}, s), {
                    buildingColor: wt.Ln({}, n.getBuildingColor())
                });
                var h = {
                    zoom: i.zoom,
                    optimalZoom: i.optimalZoom,
                    projectionId: i.projectionId,
                    mS: s,
                    viewMode: i.viewMode,
                    showBuildingBlock: this.map.yS(),
                    ZL: i.zoom,
                    hH: r
                };
                this.QH._B(t, h)
            }
            ,
            Re.prototype.bB = function(t, i) {
                var e = {
                    zoom: i.zoom,
                    projectionId: i.projectionId,
                    mH: wt._.mH
                };
                this.KH._B(t, e)
            }
            ,
            Re.prototype.cP = function() {
                for (var t, i = this.map.getLayers(), e = 0; e < i.length; e++)
                    if ("AMap.Buildings" === (n = i[e]).CLASS_NAME && !n.ro().u$) {
                        t = n;
                        break
                    }
                if (!t)
                    for (e = 0; e < i.length; e++) {
                        var n;
                        if ("AMap.Buildings" === (n = i[e]).CLASS_NAME) {
                            t = n;
                            break
                        }
                    }
                return t
            }
            ,
            Re.prototype.ma = function(t, i) {
                var e = new RegExp(/\{(\w|\,)+\}/g);
                if (e.test(this.Be)) {
                    var n = this.Be.match(e)[0].replace(/[\{|\}]/g, "").split(",");
                    return this.Be.replace(e, n[(t + i) % 4])
                }
                return this.Be
            }
            ,
            Re.prototype.AD = function() {
                var t = new RegExp(/\{(\w|\,)+\}/g)
                  , i = this.Be.match(t)[0].replace(/[\{|\}]/g, "").split(",")
                  , e = i.length
                  , n = this.Be.replace(t, i[this.$D % e]);
                return this.$D = (this.$D + 1) % e,
                n
            }
            ,
            Re.prototype.ha = function(t, i, e) {
                void 0 === e && (e = !1);
                var n = [t[0], t[3]]
                  , o = [t[2], t[1]]
                  , r = this.Ga(n, i)
                  , a = this.Ga(o, i)
                  , s = r[0]
                  , h = r[1]
                  , l = a[0]
                  , f = a[1];
                if (e)
                    return {
                        ja: s,
                        Fa: h,
                        Oa: l,
                        Ea: f,
                        z: i
                    };
                this.Pa = {
                    ja: s,
                    Fa: h,
                    Oa: l,
                    Ea: f,
                    z: i
                };
                for (var u = [], c = s; c <= l; c += 1)
                    for (var d = h; d <= f; d += 1)
                        u.push(new wt.ca(i,c,d));
                return this.Da(u),
                u
            }
            ,
            Re.prototype.da = function(t, i, e, n) {
                var o, r, a, s = [3, 6, 8, 10, 12, 14], h = this.ra(t.optimalZoom);
                if (this.Za) {
                    var l = Math.min(14, h + 3);
                    for (r = h + 1; e.length && r <= l; r += 1)
                        if (-1 !== s.indexOf(r)) {
                            var f = r - h
                              , u = [];
                            for (a = [],
                            o = e.length - 1; 0 <= o; --o)
                                for (var c = e[o].x << f, d = e[o].y << f, p = 1 << f; 0 <= p; --p)
                                    for (var v = 1 << f; 0 <= v; --v) {
                                        var m = new wt.ca(r,this.fa(c + p, r),d + v)
                                          , y = new wt.ca(r,c + p,d + v);
                                        (M = this.ua.ta(m, !0)) && M.status === wt.Mo.LOADED ? a.push(y) : u.push(y)
                                    }
                            a.length && i.push.apply(i, a),
                            e = u
                        }
                }
                if (this.qa) {
                    var g = this.xt[0];
                    for (r = h - 1; e.length && g <= r; --r)
                        if (-1 !== s.indexOf(r)) {
                            a = [],
                            u = [];
                            var x = {};
                            for (o = e.length - 1; 0 <= o; --o) {
                                var b = e[o]
                                  , _ = (f = r,
                                b.z - f)
                                  , w = (p = b.x >> _,
                                v = b.y >> _,
                                (m = new wt.ca(f,p,v)).key);
                                if (!x[w]) {
                                    var k = new wt.ca(f,this.fa(p, f),v)
                                      , M = (y = new wt.ca(f,p,v),
                                    this.ua.ta(k, !0));
                                    x[w] = !0,
                                    M && M.status === wt.Mo.LOADED ? a.push(y) : u.push(y)
                                }
                            }
                            a.length && i.push.apply(i, a),
                            e = u
                        }
                }
                return i
            }
            ,
            Re.prototype.Da = function(t) {
                if (t.length) {
                    var a = this.Pa.z
                      , s = (this.Pa.ja + this.Pa.Oa) / 2
                      , h = (this.Pa.Fa + this.Pa.Ea) / 2;
                    t.sort(function(t, i) {
                        var e = (t.x << a - t.z) - s
                          , n = (t.y << a - t.z) - h
                          , o = (i.x << a - i.z) - s
                          , r = (i.y << a - i.z) - h;
                        return e * e + n * n <= o * o + r * r ? -1 : 1
                    })
                }
            }
            ,
            Re.prototype.Ga = function(t, i) {
                var e = Math.pow(2, i)
                  , n = 360 / e
                  , o = 180 / e;
                return [Math.floor(t[0] / n) + e / 2, e / 2 - Math.ceil(t[1] / o)]
            }
            ,
            Re.prototype.fa = function(t, i) {
                for (var e = 1 << (i = i || this.aa.optimalZoom); t < 0 || e <= t; )
                    t = e <= t ? t - e : t < 0 ? e + t : t;
                return t
            }
            ,
            Re.prototype.sD = function() {
                var o = this
                  , r = this.hD
                  , a = this.z_;
                a.loadImages(r, {
                    type: "icon",
                    cb: function() {
                        for (var t = [], i = 0; i < r.length; i++) {
                            var e = r[i]
                              , n = a.getImage(e);
                            t.push({
                                img: n.img,
                                name: e,
                                hv: i
                            })
                        }
                        o.map.so.sv(t)
                    }
                })
            }
            ,
            Re);
            function Re(t, i, e, n) {
                var h = Ce.call(this, t, i, e, n) || this;
                h.Ya = !1,
                h.Va = !1,
                h.xt = [2, 22],
                h.sa = [],
                h.la = [],
                h.bD = [],
                h._D = {},
                h.wB = [],
                h.kB = {},
                h.qa = !0,
                h.Za = !0,
                h.a_ = !1,
                h.$D = 0,
                h.hD = ["https://shop.zhiyousx.com/style_icon/2.0/icon-normal-big.png", "https://shop.zhiyousx.com/style_icon/2.0/icon-biz-big.png"],
                h.VH = "",
                h.wH = function(t) {
                    h.map.yH && (parseInt(t.key.split(",")[0], 10) < 10 || h.map.yH.kH(t.key))
                }
                ,
                h.Xa = t.tileSize,
                h.Be = t.tileUrl;
                var o = wt._.$e ? 50 : 200;
                return h.ua = new wt.TD(o),
                e.gn.Ha({
                    scale: Se,
                    showLabel: e.showLabel,
                    DD: -1 !== location.search.indexOf("forceAll")
                }),
                h.R_ = e.R_,
                h.z_ = e.z_,
                e.gn.Ja(AMap.getConfig().protocol),
                h.mapStyle = e.mapStyle,
                h.mapStyle.pn(function() {
                    e.gn.Ka(h.mapStyle.vn)
                }),
                h.Ia(),
                h.sD(),
                h.ua.on("delete", h.wH),
                h.QH = new wt.MB(function(t, s, i) {
                    return new wt.vH(h.map.gn.va({
                        url: h.AD(),
                        zoom: i.zoom,
                        optimalZoom: i.optimalZoom,
                        projectionId: i.projectionId,
                        mS: i.mS,
                        viewMode: i.viewMode,
                        showBuildingBlock: i.showBuildingBlock,
                        ya: t,
                        ZL: i.zoom,
                        hH: i.hH
                    }, function(t) {
                        h.QH.CB(s);
                        for (var i = 0, e = t; i < e.length; i++) {
                            var n = e[i]
                              , o = n && h.ua.ta(n.zo);
                            if (o) {
                                delete o.request,
                                o.xa(n.ba, n.tag),
                                o.status = wt.Mo.LOADED;
                                var r = wt.wa.ga(o.zo.x, o.zo.y, o.zo.z, "EPSG:3857")
                                  , a = wt.lcs.getLocalByCoord([r[0], r[1]]);
                                o.Ma = a,
                                o.Ro = r
                            }
                        }
                        h.map.setNeedUpdate(!0)
                    }))
                }
                ,function(t) {
                    for (var i = 0, e = t; i < e.length; i++) {
                        var n = e[i]
                          , o = h.ua.xf(n.slice(0, -2));
                        o && o.status !== wt.Mo.LOADED && h.ua.ea(o)
                    }
                }
                ),
                h.KH = new wt.MB(function(t, r, i) {
                    return new wt.vH(h.map.gn.RD({
                        url: h.AD(),
                        projectionId: i.projectionId,
                        CD: t,
                        ZL: i.zoom,
                        mH: i.mH
                    }, function(t, o) {
                        if (h.KH.CB(r),
                        t)
                            console.error(t);
                        else if (o)
                            if (h.map.I_)
                                if (h.map.yH)
                                    for (var i = function(i) {
                                        var t = i.slice(0, -2)
                                          , e = o[i]
                                          , n = h.ua.xf(t);
                                        if (!n)
                                            return "continue";
                                        n.version = e.version,
                                        n.xB = wt.Mo.LOADED,
                                        e && e[wt.tc.gH] && e[wt.tc.RB] ? h.map.yH.xH(t, !0) ? (n.xa({
                                            Ta: !0
                                        }, wt.Util.pW(parseInt(i[i.length - 1], 10))),
                                        n.rO({
                                            Ta: !0,
                                            labels: e
                                        }, wt.Util.pW(parseInt(i[i.length - 1], 10))),
                                        h.Eo()) : h.map.yH.bH(t, e[wt.tc.gH], e[wt.tc.RB], function(t) {
                                            t ? console.error(t) : (n.xa({
                                                Ta: !0
                                            }, wt.Util.pW(parseInt(i[i.length - 1], 10))),
                                            n.rO({
                                                Ta: !0,
                                                labels: e
                                            }, wt.Util.pW(parseInt(i[i.length - 1], 10))),
                                            h.Eo())
                                        }) : (n.xa({
                                            Ta: !0
                                        }, wt.Util.pW(parseInt(i[i.length - 1], 10))),
                                        n.rO({
                                            Ta: !0,
                                            labels: {}
                                        }, wt.Util.pW(parseInt(i[i.length - 1], 10))),
                                        h.Eo())
                                    }, e = 0, n = Object.keys(o); e < n.length; e++)
                                        i(n[e]);
                                else
                                    console.error("no sdfStaticManager");
                            else
                                console.error("no textureManger")
                    }))
                }
                ,function(t) {
                    for (var i = 0, e = t; i < e.length; i++) {
                        var n = e[i]
                          , o = h.ua.xf(n.slice(0, -2));
                        o && o.xB !== wt.Mo.LOADED && (o.xB = wt.Mo.ERROR)
                    }
                }
                ),
                h
            }
            function Ae() {}
            var Ie = (Ae.prototype.Qa = function(t) {
                for (var i = this.createEmpty(), e = 0, n = t.length; e < n; e += 1)
                    this.extendCoordinate(i, t[e]);
                return i
            }
            ,
            Ae.prototype.ns = function(t, i, e) {
                var n = Math.min.apply(null, t)
                  , o = Math.max.apply(null, t)
                  , r = Math.min.apply(null, i)
                  , a = Math.max.apply(null, i);
                return this.os(n, o, r, a, e)
            }
            ,
            Ae.prototype.buffer = function(t, i) {
                t[0] -= i,
                t[1] -= i,
                t[2] += i,
                t[3] += i
            }
            ,
            Ae.prototype.clone = function(t) {
                return t.slice()
            }
            ,
            Ae.prototype.ss = function(t, i) {
                return t[0] <= i[0] && i[0] <= t[2] && t[1] <= i[1] && i[1] <= t[3]
            }
            ,
            Ae.prototype.rs = function(t, i) {
                return t[0] <= i[0] && i[2] <= t[2] && t[1] <= i[1] && i[3] <= t[3]
            }
            ,
            Ae.prototype.createEmpty = function() {
                return [1 / 0, 1 / 0, -1 / 0, -1 / 0]
            }
            ,
            Ae.prototype.os = function(t, i, e, n, o) {
                return void 0 !== o ? (o[0] = t,
                o[2] = i,
                o[1] = e,
                o[3] = n,
                o) : [t, e, i, n]
            }
            ,
            Ae.prototype.empty = function(t) {
                return t[0] = t[1] = 1 / 0,
                t[2] = t[3] = -1 / 0,
                t
            }
            ,
            Ae.prototype.equals = function(t, i) {
                return t[0] === i[0] && t[2] === i[2] && t[1] === i[1] && t[3] === i[3]
            }
            ,
            Ae.prototype.extend = function(t, i) {
                i[0] < t[0] && (t[0] = i[0]),
                i[2] > t[2] && (t[2] = i[2]),
                i[1] < t[1] && (t[1] = i[1]),
                i[3] > t[3] && (t[3] = i[3])
            }
            ,
            Ae.prototype.extendCoordinate = function(t, i) {
                i[0] < t[0] && (t[0] = i[0]),
                i[0] > t[2] && (t[2] = i[0]),
                i[1] < t[1] && (t[1] = i[1]),
                i[1] > t[3] && (t[3] = i[1])
            }
            ,
            Ae.prototype.hs = function(t) {
                return [t[0], t[1]]
            }
            ,
            Ae.prototype.ls = function(t) {
                return [t[2], t[1]]
            }
            ,
            Ae.prototype.getCenter = function(t) {
                return [(t[0] + t[2]) / 2, (t[1] + t[3]) / 2]
            }
            ,
            Ae.prototype.us = function(t, i, e, n, o) {
                var r, a, s, h = i * n[0] / 2, l = i * n[1] / 2, f = Math.cos(e), u = Math.sin(e), c = [-h, -h, h, h], d = [-l, l, -l, l];
                for (r = 0; r < 4; r += 1)
                    a = c[r],
                    s = d[r],
                    c[r] = t[0] + a * f - s * u,
                    d[r] = t[1] + a * u + s * f;
                return this.ns(c, d, o)
            }
            ,
            Ae.prototype.getHeight = function(t) {
                return t[3] - t[1]
            }
            ,
            Ae.prototype.getSize = function(t) {
                return [t[2] - t[0], t[3] - t[1]]
            }
            ,
            Ae.prototype.cs = function(t) {
                return [t[0], t[3]]
            }
            ,
            Ae.prototype.fs = function(t) {
                return [t[2], t[3]]
            }
            ,
            Ae.prototype.getWidth = function(t) {
                return t[2] - t[0]
            }
            ,
            Ae.prototype.intersects = function(t, i) {
                return t[0] <= i[2] && t[2] >= i[0] && t[1] <= i[3] && t[3] >= i[1]
            }
            ,
            Ae.prototype.isEmpty = function(t) {
                return t[2] < t[0] || t[3] < t[1]
            }
            ,
            Ae.prototype.normalize = function(t, i) {
                return [(i[0] - t[0]) / (t[2] - t[0]), (i[1] - t[1]) / (t[3] - t[1])]
            }
            ,
            Ae.prototype.ps = function(t, i) {
                var e = (t[2] - t[0]) / 2 * (i - 1)
                  , n = (t[3] - t[1]) / 2 * (i - 1);
                t[0] -= e,
                t[2] += e,
                t[1] -= n,
                t[3] += n
            }
            ,
            Ae.prototype.touches = function(t, i) {
                return this.intersects(t, i) && (t[0] === i[2] || t[2] === i[0] || t[1] === i[3] || t[3] === i[1])
            }
            ,
            Ae.prototype.transform = function(t, i, e) {
                var n = [t[0], t[1], t[0], t[3], t[2], t[1], t[2], t[3]];
                i(n, n, 2);
                var o = [n[0], n[2], n[4], n[6]]
                  , r = [n[1], n[3], n[5], n[7]];
                return this.ns(o, r, e)
            }
            ,
            new Ae)
              , Le = (Te.from = function(t) {
                for (var i = 1 / 0, e = 1 / 0, n = -1 / 0, o = -1 / 0, r = 0, a = t; r < a.length; r++) {
                    var s = a[r];
                    i = Math.min(i, s.southWest.KL),
                    e = Math.min(e, s.southWest.kT),
                    n = Math.max(n, s.northEast.KL),
                    o = Math.max(o, s.northEast.kT)
                }
                return new Te(new wt.LngLat(i,e),new wt.LngLat(n,o))
            }
            ,
            Te.xS = function(t) {
                if (t) {
                    var i = wt.jsonLngLatData(t);
                    return new Te(Ie.Qa(i))
                }
            }
            ,
            Te.bS = function(t) {
                if (t && t.length) {
                    for (var i, e = 0, n = wt.jsonLngLatData(t); e < n.length; e++) {
                        var o = n[e];
                        if (i) {
                            var r = Te.ds(o);
                            r && i.union(r)
                        } else
                            i = Te.xS(o)
                    }
                    return i
                }
            }
            ,
            Te.ds = function(t) {
                if (t) {
                    var i = wt.jsonLngLatData(t);
                    return wt.ys(i) ? Te.xS(i) : Te.xS(i[0])
                }
            }
            ,
            Te.ms = function(t) {
                if (t && t.length) {
                    for (var i, e = 0, n = wt.jsonLngLatData(t); e < n.length; e++) {
                        var o = n[e];
                        if (i) {
                            var r = Te.ds(o);
                            r && i.union(r)
                        } else
                            i = Te.ds(o)
                    }
                    return i
                }
            }
            ,
            Te.prototype.getSouthWest = function() {
                return this.southWest
            }
            ,
            Te.prototype.getNorthEast = function() {
                return this.northEast
            }
            ,
            Te.prototype.getNorthWest = function() {
                return new wt.LngLat(this.southWest.KL,this.northEast.kT,!0)
            }
            ,
            Te.prototype.getSouthEast = function() {
                return new wt.LngLat(this.northEast.KL,this.southWest.kT,!0)
            }
            ,
            Te.prototype.contains = function(t) {
                var i = this.southWest
                  , e = this.northEast;
                if (wt.xs(t))
                    return !1;
                t = wt.parseLngLatData(t);
                var n = i.KL
                  , o = e.KL;
                return o < n && (o += 360),
                t.KL >= n && t.kT >= i.kT && t.KL <= o && t.kT <= e.kT
            }
            ,
            Te.prototype.intersects = function(t) {
                var i = this.southWest
                  , e = this.northEast
                  , n = t.southWest
                  , o = t.northEast
                  , r = o.kT >= i.kT && n.kT <= e.kT
                  , a = o.KL >= i.KL && n.KL <= e.KL;
                return r && a
            }
            ,
            Te.prototype.getCenter = function() {
                var t = this.southWest.KL > this.northEast.KL ? (this.southWest.KL + this.northEast.KL + 360) / 2 % 360 : (this.southWest.KL + this.northEast.KL) / 2
                  , i = (this.southWest.kT + this.northEast.kT) / 2;
                return new wt.LngLat(t,i)
            }
            ,
            Te.prototype.extend = function(t) {
                return this.southWest.setLng(Math.min(this.southWest.KL, t.KL)),
                this.southWest.setLat(Math.min(this.southWest.kT, t.kT)),
                this.northEast.setLng(Math.max(this.northEast.KL, t.KL)),
                this.northEast.setLat(Math.max(this.northEast.kT, t.kT)),
                this
            }
            ,
            Te.prototype.union = function(t) {
                return this.extend(t.southWest).extend(t.northEast)
            }
            ,
            Te.prototype.toString = function() {
                return this.southWest.toString() + ";" + this.northEast.toString()
            }
            ,
            Te.prototype.toJSON = function() {
                return [this.southWest.lng, this.southWest.lat, this.northEast.lng, this.northEast.lat]
            }
            ,
            Te.prototype.getWidth = function() {
                return Math.abs(this.northEast.lng - this.southWest.lng)
            }
            ,
            Te.prototype.getHeight = function() {
                return Math.abs(this.southWest.lat - this.northEast.lat)
            }
            ,
            Te.prototype.clone = function() {
                return Te.from([this])
            }
            ,
            Te);
            function Te() {
                for (var t, i, e = [], n = 0; n < arguments.length; n++)
                    e[n] = arguments[n];
                this.className = "AMap.Bounds";
                var o = "function" == typeof Float64Array;
                if (1 === arguments.length && (arguments[0]instanceof Array || o && arguments[0]instanceof Float64Array))
                    t = new wt.LngLat(arguments[0][0],arguments[0][1],!0),
                    i = new wt.LngLat(arguments[0][2],arguments[0][3],!0);
                else if (2 === arguments.length)
                    t = wt.parseLngLatData(arguments[0]),
                    i = wt.parseLngLatData(arguments[1]),
                    t = new wt.LngLat(t.KL,t.kT),
                    i = new wt.LngLat(i.KL,i.kT);
                else if (4 === arguments.length)
                    t = new wt.LngLat(arguments[0],arguments[1]),
                    i = new wt.LngLat(arguments[2],arguments[3]);
                else {
                    if (0 !== arguments.length)
                        throw Error("Invalid Object: Bounds(" + arguments + ")");
                    t = new wt.LngLat(-180,-90),
                    i = new wt.LngLat(180,90)
                }
                if (t.KL > i.KL || t.kT > i.kT) {
                    var r = Math.max(t.KL, i.KL)
                      , a = Math.min(t.KL, i.KL)
                      , s = Math.max(t.kT, i.kT)
                      , h = Math.min(t.kT, i.kT);
                    t = new wt.LngLat(a,h),
                    i = new wt.LngLat(r,s)
                }
                this.southWest = t,
                this.northEast = i
            }
            var $e, De = ($e = ke,
            wt.Ei(Fe, $e),
            Fe.prototype.oa = function(t, r, a) {
                var s = this;
                if (this.ze = r,
                !this.Oo || this.io) {
                    var h = t.projectionId
                      , i = new Image;
                    i.crossOrigin = "",
                    i.onload = function(t) {
                        if (!s.Oo || s.io) {
                            s.Fo(!0);
                            var i = s.gs.getBounds();
                            i instanceof Le && (i = i.toJSON());
                            var e = wt.at.getProjection(h)
                              , n = e.project(i[0], i[1])
                              , o = e.project(i[2], i[3]);
                            s.ws = [n[0], n[1], o[0], o[1]],
                            r && (s._s = r.createTexture(t.target, {}),
                            s._s.bind(r.gl.CLAMP_TO_EDGE, r.gl.LINEAR, r.gl.LINEAR),
                            s.ks = r.fe(new Float32Array([s.ws[0], s.ws[1], 0, 1, s.ws[2], s.ws[1], 1, 1, s.ws[0], s.ws[3], 0, 0, s.ws[2], s.ws[1], 1, 1, s.ws[2], s.ws[3], 1, 0, s.ws[0], s.ws[3], 0, 0]), 16)),
                            a()
                        }
                    }
                    ,
                    this.io ? i.src = this.io.toDataURL() : i.src = this.gs.getImageUrl(),
                    this.Rs = i
                }
            }
            ,
            Fe.prototype.getData = function(t) {
                if (this.Oo) {
                    var i = this.gs.getBounds();
                    i instanceof Le && (i = i.toJSON());
                    var e = wt.lcs.getLocalByCoord([t.centerCoord[0], t.centerCoord[1]])
                      , n = wt.at.getProjection(t.projectionId)
                      , o = n.project(i[0], i[1])
                      , r = n.project(i[2], i[3])
                      , a = [0, 0, 0, 0];
                    if (t.optimalZoom >= wt.Ra) {
                        var s = wt.lcs.getLocalByCoord([o[0], o[1]])
                          , h = wt.lcs.getLocalByCoord([r[0], r[1]])
                          , l = wt.lcs.getSize();
                        a = [s.x - e.x, s.y - e.y, h.x - e.x, h.y - e.y];
                        for (var f = 0; f < a.length; f++)
                            0 !== a[f] && (a[f] *= l[0]);
                        a = [a[0] - s.center[0], a[1] - s.center[1], a[2] - h.center[0], a[3] - h.center[1]]
                    }
                    return this.ze && (this.ks = this.ze.fe(new Float32Array([o[0] + a[0], o[1] + a[1], 0, 1, r[0] + a[2], o[1] + a[1], 1, 1, o[0] + a[0], r[1] + a[3], 0, 0, r[0] + a[2], o[1] + a[1], 1, 1, r[0] + a[2], r[1] + a[3], 1, 0, o[0] + a[0], r[1] + a[3], 0, 0]), 16)),
                    {
                        Ro: this.ws,
                        image: this.Rs,
                        texture: this._s,
                        zs: this.ks,
                        Sa: [0, 0]
                    }
                }
            }
            ,
            Fe);
            function Fe(t, i, e, n) {
                var o = $e.call(this, t, i, e, n) || this;
                return o.gs = n,
                o.io = n.canvas,
                o
            }
            var Pe, He = (Pe = ke,
            wt.Ei(Oe, Pe),
            Oe.prototype.add = function(t, i, e) {
                void 0 === t && (t = {}),
                void 0 === i && (i = {}),
                Object.keys(t).length && (this.Ls = t,
                this.HB = !0,
                this.OB = i,
                e && e())
            }
            ,
            Oe.prototype.remove = function(t, i, e) {
                void 0 === t && (t = {}),
                void 0 === i && (i = {}),
                this.Ls = t,
                this.HB = !0,
                this.OB = i,
                e && e()
            }
            ,
            Oe.prototype.update = function(t, i) {
                void 0 === t && (t = {}),
                this.HB = !0,
                this.OB = t,
                i && i()
            }
            ,
            Oe.prototype.clear = function() {
                this.Ls = {},
                this.Ts = [],
                this.gS = null
            }
            ,
            Oe.prototype.getData = function() {
                return this.gS
            }
            ,
            Oe.prototype.Ds = function(t) {
                return this.Ls[t] || null
            }
            ,
            Oe.prototype.zL = function(t) {
                return this.CL && this.CL.zL(t)
            }
            ,
            Oe.prototype.oa = function(t, i, e) {
                var n = this;
                this.HB && (this.HB = !1,
                this.As(this.OB, function() {
                    n.Fo(!0)
                }))
            }
            ,
            Oe.prototype.As = function(i, e) {
                var n = this;
                void 0 === i && (i = {});
                var o = this.R_
                  , t = this.z_
                  , r = this.Ls;
                for (var a in this.Ts = [],
                r)
                    if (r.hasOwnProperty(a)) {
                        var s = r[a]
                          , h = this.Ps(s);
                        this.Ts.push(h)
                    }
                if (!this.Ts.length)
                    return this.clear(),
                    void e();
                var l = this.Ts[0].data.position;
                this.Os(l),
                t.loadImages(Object.keys(this.Fs), {
                    cb: function() {
                        if (o) {
                            var t = Object.keys(n.Es);
                            o.getData(t, function(t) {
                                n.qL(i, e)
                            })
                        } else
                            n.qL(i, e)
                    }
                })
            }
            ,
            Oe.prototype.qL = function(t, i) {
                var e = this;
                void 0 === t && (t = {});
                var n = this.R_
                  , o = this.z_
                  , r = this.CL = new wt.$s({
                    R_: n,
                    z_: o
                })
                  , a = this.Us
                  , s = {
                    from: "labelsLayer",
                    zoom: this._map.getView().getOptions().zoom,
                    center: a.center
                };
                wt.assign(s, t),
                r.Ns(this.Ts, function(t) {
                    e._map && e._map.isDOMMode() ? e.gS = t : e.gS = new wt.La(t.zo,t),
                    e.gS.zo = a,
                    i && i(t)
                }, s)
            }
            ,
            Oe.prototype.Ps = function(t) {
                if (!t || "AMap.LabelMarker" === t.type) {
                    var i = this._map.getProjection();
                    this.AL = {};
                    var e = t.getOptions()
                      , n = t.getPosition();
                    if (!n)
                        return null;
                    var o = [wt.tc.Mp, wt.tc.Rp]
                      , r = e.zooms
                      , a = void 0 === r ? o : r
                      , s = e.opacity
                      , h = e.rank
                      , l = e.icon
                      , f = e.text
                      , u = e.zIndex
                      , c = e.visible
                      , d = void 0 === c || c
                      , p = wt.Bs(n) ? n.toJSON() : n
                      , v = f && f.content || ""
                      , m = f && f.style;
                    l && l.image && (this.Fs[l.image] = 1),
                    f && f.content && this.Ws(f.content);
                    var y, g, x = l && l.image ? [{
                        type: "image",
                        image: l.image || "",
                        size: l.size,
                        clipOrigin: l.clipOrigin,
                        clipSize: l.clipSize,
                        anchor: l.anchor,
                        retina: l.retina
                    }] : {}, b = 0, _ = 0;
                    m && (b = !m.strokeWidth && m.strokeColor ? 1 : m.strokeWidth || 0,
                    y = !m.strokeColor && m.strokeWidth ? "#fcfcfc" : m.strokeColor,
                    _ = !m.borderWidth && m.borderColor ? 1 : m.borderWidth || 0,
                    g = !m.borderColor && m.strokeWidth ? "#ccc" : m.borderColor);
                    var w = m ? {
                        fontFamily: m.fontFamily,
                        fontSize: m.fontSize,
                        fontWeight: m.fontWeight,
                        fillColor: m.fillColor,
                        strokeColor: y,
                        strokeWidth: b,
                        borderColor: g,
                        borderWidth: _,
                        padding: this.Gs(m.padding || [3]),
                        backgroundColor: m.backgroundColor,
                        fold: m.fold
                    } : {}
                      , k = wt.bf.Jj(a, f && f.zooms || o)
                      , M = f && v ? {
                        txt: f.content || "",
                        direction: f.direction,
                        offset: f.offset,
                        zooms: k,
                        style: w
                    } : {}
                      , C = i.project(p[0], p[1]);
                    return {
                        data: {
                            id: t.hS,
                            name: v,
                            txt: v,
                            position: C,
                            positionType: "lnglat",
                            extData: {
                                id: t.hS
                            },
                            rank: h,
                            zooms: a
                        },
                        opts: {
                            visible: d,
                            opacity: s,
                            zooms: a,
                            zIndex: u,
                            icon: x,
                            text: M
                        }
                    }
                }
            }
            ,
            Oe.prototype.Ws = function(t) {
                void 0 === t && (t = "");
                for (var i = 0; i < t.length; i++)
                    this.Es[t.substr(i, 1)] = 1
            }
            ,
            Oe.prototype.Os = function(t) {
                wt.Bs(t) ? this.Us = wt.lcs.getLocalByCoord([t.KL, t.kT]) : this.Us = wt.lcs.getLocalByCoord(t)
            }
            ,
            Oe.prototype.Gs = function(t) {
                if ("string" == typeof t && (t = (t = t.trim()).split(" ")),
                "[object Array]" !== Object.prototype.toString.apply(t))
                    return [3, 3, 3, 3];
                for (var i = t.length, e = 0; e < i; e++) {
                    var n = t[e];
                    n = "string" == typeof n ? parseInt(n, 10) : n,
                    isNaN(n) ? t[e] = 3 : t[e] = n
                }
                switch (i) {
                case 0:
                    t = [3, 3, 3, 3];
                    break;
                case 1:
                    t = [t[0], t[0], t[0], t[0]];
                    break;
                case 2:
                    t = [t[0], t[1], t[0], t[1]];
                    break;
                case 3:
                    t = [t[0], t[1], t[2], t[1]]
                }
                return t
            }
            ,
            Oe);
            function Oe(t, i, e, n) {
                var o = Pe.call(this, t, i, e, n) || this;
                o.Fs = {},
                o.Es = {},
                o.Ts = [],
                o.HB = !1,
                o.Ls = {},
                o.AL = {};
                var r = e.R_
                  , a = e.z_;
                return o.R_ = r,
                o.z_ = a,
                o._map = e,
                o
            }
            var Be, Ee = (Be = ke,
            wt.Ei(je, Be),
            je.prototype.setTileUrl = function(t) {
                void 0 === t && (t = ""),
                this.Be = t
            }
            ,
            je.prototype.oa = function(t, i, e, n) {
                var a = this;
                this.aa = t,
                this.ze = i,
                this.Zs = [],
                this.sa = [];
                var o = t.projectionId
                  , r = []
                  , s = t.boundsCoord
                  , h = t.optimalZoom
                  , l = t.optimalResolution
                  , f = this.ha(s, h, l);
                this.ua.forEach(function(t) {
                    var i = t.zo
                      , e = !1;
                    if (t.status !== wt.Mo.LOADED) {
                        for (var n = f.ja; n <= f.Oa; n += 1)
                            for (var o = f.Fa; o <= f.Ea; o += 1) {
                                var r = a.fa(n, f.z);
                                i.z === f.z && i.y === o && r === i.x && (e = !0)
                            }
                        e || (t.data.src = "",
                        a.ua.ea(t))
                    }
                });
                var u = this.qs(t, this.Zs, r);
                this.Ys(u, i, o, e),
                this.da(t, this.sa, r, n),
                this.sa = this.sa.concat(this.Zs)
            }
            ,
            je.prototype.getData = function() {
                var t = this.aa
                  , i = []
                  , e = this.map.qF();
                if (this.ua.QF(e),
                0 < this.sa.length)
                    for (var n = 0; n < this.sa.length; n++) {
                        for (var o = this.sa[n], r = [], a = 0; a < o.length; a++) {
                            var s = 0
                              , h = 0
                              , l = [0, 0]
                              , f = t.centerCoord
                              , u = this.ua.ta(o[a])
                              , c = wt.lcs.getLocalByCoord([f[0], f[1]]);
                            if (!u) {
                                var d = this.ua.ta(new wt.ca(o[a].z,this.fa(o[a].x, o[a].z),o[a].y));
                                if (u = new wt.Vs(o[a]),
                                d) {
                                    var p = this.aa.projectionId
                                      , v = wt.at.getProjection(p).getResolution(u.zo.z)
                                      , m = u.zo.x * this.Xa * v
                                      , y = m + this.Xa * v
                                      , g = u.zo.y * this.Xa * v
                                      , x = g + this.Xa * v
                                      , b = wt.V[p].Xs(m, g)
                                      , _ = wt.V[p].Xs(y, x);
                                    m = b[0],
                                    y = _[0],
                                    g = _[1],
                                    x = b[1],
                                    u.Ro = [m, g, y, x];
                                    var w = wt.lcs.getLocalByCoord([u.Ro[0], u.Ro[1]]);
                                    this.aa.optimalZoom >= wt.Ra && (u.Ro[0] -= w.center[0],
                                    u.Ro[1] -= w.center[1],
                                    u.Ro[2] -= w.center[0],
                                    u.Ro[3] -= w.center[1]),
                                    this.ze ? u.data = {
                                        Hs: w,
                                        texture: d.data.texture,
                                        Js: d.data.Js,
                                        zs: this.ze.fe(new Float32Array([u.Ro[0], u.Ro[1], 0, 1, u.Ro[2], u.Ro[1], 1, 1, u.Ro[0], u.Ro[3], 0, 0, u.Ro[2], u.Ro[1], 1, 1, u.Ro[2], u.Ro[3], 1, 0, u.Ro[0], u.Ro[3], 0, 0]), 16)
                                    } : (u.data = d.data,
                                    u.data.Hs = w),
                                    u.data && (u.status = wt.Mo.LOADED)
                                }
                            }
                            if (u.data) {
                                if (t.optimalZoom >= wt.Ra && u.data.Hs) {
                                    var k = wt.lcs.getSize();
                                    s = u.data.Hs.x - c.x,
                                    h = u.data.Hs.y - c.y,
                                    0 !== s && (s *= k[0],
                                    l[0] = s),
                                    0 !== h && (h *= k[1],
                                    l[1] = h),
                                    t.optimalZoom >= wt.Ra && wt.za >= u.zo.z && (l[0] = -c.center[0],
                                    l[1] = -c.center[1])
                                } else
                                    t.optimalZoom < wt.Ra && wt.za < u.zo.z && (l[0] = c.center[0],
                                    l[1] = c.center[1]);
                                u.data.Sa = l,
                                u.stamp = e,
                                r.push(u)
                            }
                        }
                        i.push(r)
                    }
                return {
                    tiles: i
                }
            }
            ,
            je.prototype.Ks = function(t) {
                t = t || (wt._.$e ? 50 : 200),
                this.ua.Xo(t)
            }
            ,
            je.prototype.reload = function() {
                this.ua.forEach(function(t) {
                    t.status !== wt.Mo.LOADED && t.request && t.request.cancel && (t.request.cancel(),
                    delete t.request)
                }),
                this.ua.destroy(),
                this.sa = [],
                this.pS = !1,
                this.Fo(!1)
            }
            ,
            je.prototype.wS = function() {
                return this.ua
            }
            ,
            je.prototype.Da = function(t, i) {
                if (t.length) {
                    var a = this.Pa.z
                      , s = (this.Pa.ja + this.Pa.Oa) / 2
                      , h = (this.Pa.Fa + this.Pa.Ea) / 2;
                    t.sort(function(t, i) {
                        var e = (t.x << a - t.z) - s
                          , n = (t.y << a - t.z) - h
                          , o = (i.x << a - i.z) - s
                          , r = (i.y << a - i.z) - h;
                        return e * e + n * n <= o * o + r * r ? -1 : 1
                    })
                }
            }
            ,
            je.prototype.ha = function(t, i, e) {
                var n = this.aa.projectionId
                  , o = wt.at.getProjection(n);
                this.TB() && (i++,
                e = o.getResolution(i)),
                i < this.Qs[0] ? (i = this.Qs[0],
                e = o.getResolution(i)) : i > this.Qs[1] && (i = this.Qs[1],
                e = o.getResolution(i));
                var r = this.Xa
                  , a = 20037508.342789244
                  , s = t[0] + a
                  , h = -(t[3] - a)
                  , l = s / e
                  , f = (t[2] + a) / e
                  , u = h / e
                  , c = -(t[1] - a) / e;
                return {
                    Oa: Math.floor(f / r),
                    Ea: Math.min((1 << i) - 1, Math.floor(c / r)),
                    ja: Math.floor(l / r),
                    Fa: Math.max(Math.floor(u / r), 0),
                    z: i
                }
            }
            ,
            je.prototype.qs = function(t, i, e) {
                this.Oo = !1;
                var n = t.optimalZoom
                  , o = t.optimalResolution
                  , r = t.boundsCoord
                  , a = wt.at.getProjection(t.projectionId)
                  , s = this.ha(r, n, o);
                this.TB() && n++,
                n < this.Qs[0] ? n = this.Qs[0] : n > this.Qs[1] && (n = this.Qs[1]),
                o = a.getResolution(n);
                for (var h = [], l = [], f = !0, u = s, c = u.ja; c <= u.Oa; c += 1)
                    for (var d = u.Fa; d <= u.Ea; d += 1) {
                        var p = new wt.ca(n,this.fa(c, n),d)
                          , v = this.ua.ta(p);
                        this.PF(p, t.projectionId);
                        var m = new wt.ca(n,c,d);
                        v ? v.status === wt.Mo.LOADED ? l.push(m) : (f = !1,
                        e.push(m)) : (f = !1,
                        h.push(p),
                        e.push(m))
                    }
                return l.length && i.push(l),
                this.Pa = s,
                this.Fo(f),
                h
            }
            ,
            je.prototype.da = function(t, i, e, n) {
                var o, r, a, s = t.optimalZoom;
                if (this.Za = "overlay" !== this.To.type,
                this.qa = "overlay" !== this.To.type,
                this.Za) {
                    var h = Math.min(this.xt[1], s + 2);
                    for (r = s + 1; e.length && r <= h; r += 1) {
                        var l = [];
                        a = [];
                        var f = r;
                        for (o = e.length - 1; 0 <= o; --o)
                            for (var u = e[o], c = u.x << 1, d = u.y << 1, p = 1; 0 <= p; --p)
                                for (var v = 1; 0 <= v; --v) {
                                    var m = new wt.ca(f,this.fa(c + p, f),d + v)
                                      , y = this.ua.ta(m)
                                      , g = new wt.ca(f,c + p,d + v);
                                    y && y.status === wt.Mo.LOADED ? a.push(g) : l.push(g)
                                }
                        a.length && i.push(a),
                        e = l
                    }
                }
                if (this.qa) {
                    var x = this.xt[0];
                    for (r = s - 1; e.length && x <= r; --r) {
                        a = [],
                        l = [];
                        var b = {};
                        for (o = e.length - 1; 0 <= o; --o) {
                            var _ = e[o]
                              , w = (f = r,
                            _.z - f)
                              , k = (p = _.x >> w,
                            v = _.y >> w,
                            (m = new wt.ca(f,this.fa(p, f),v)).key);
                            b[k] || (y = this.ua.ta(m),
                            b[k] = !0,
                            y && y.status === wt.Mo.LOADED ? a.push(new wt.ca(f,p,v)) : l.push(new wt.ca(f,p,v)))
                        }
                        a.length && i.push(a),
                        e = l
                    }
                }
                return i
            }
            ,
            je.prototype.ma = function() {
                var t = new RegExp(/\{(\w|\,)+\}/g);
                if (t.test(this.Be)) {
                    var i = this.Be.match(t)[0].replace(/[\{|\}]/g, "").split(",");
                    return this.tr++,
                    i && this.tr >= i.length && (this.tr = 0),
                    this.Be.replace(t, i[this.tr])
                }
                return this.Be
            }
            ,
            je.prototype.Ys = function(v, m, y, g) {
                var x, b;
                if (!(this.aa.optimalZoom < this.xt[0] || this.aa.optimalZoom > this.xt[1])) {
                    this.Da(v);
                    for (var t = function(t, i) {
                        var e = _.To.eo()
                          , n = v[t]
                          , o = _.ma().replace("[z]", n.z + "").replace("[x]", n.x + "").replace("[y]", n.y + "")
                          , s = new wt.Vs(n);
                        _.ua.Qo(s),
                        e.getTileUrl && (o = e.getTileUrl(n.x, n.y, n.z));
                        var r = wt.at.getProjection(y).getResolution(n.z)
                          , a = n.x * _.Xa * r
                          , h = a + _.Xa * r
                          , l = n.y * _.Xa * r
                          , f = l + _.Xa * r
                          , u = wt.V[y].Xs(a, l)
                          , c = wt.V[y].Xs(h, f);
                        if (a = u[0],
                        h = c[0],
                        l = c[1],
                        f = u[1],
                        s.Ro = [a, l, h, f],
                        s.status = wt.Mo.LOADING,
                        "AMap.TileLayer.Flexible" === _.To.CLASS_NAME || "AMap.TileLayer.WMTS" === _.To.CLASS_NAME || "AMap.TileLayer.WMS" === _.To.CLASS_NAME)
                            e.createTile(n.x, n.y, n.z, function(t) {
                                m ? p(t) : (s.data = t,
                                s.status = wt.Mo.LOADED)
                            }
                            .bind(_), function() {});
                        else {
                            var d = new Image;
                            "w" === (null === (x = _.map) || void 0 === x ? void 0 : x.baseRender) && (d.crossOrigin = "anonymous"),
                            d.onload = p.bind(_),
                            "d" === (null === (b = _.map) || void 0 === b ? void 0 : b.baseRender) && 0 < o.indexOf("traffictile") && (o += "&hash=" + Math.random()),
                            d.src = o,
                            (s.data = d).addEventListener("dragstart", function(t) {
                                return t.preventDefault(),
                                !1
                            })
                        }
                        function p(t) {
                            if (m) {
                                var i = m.createTexture(t.target || t, {
                                    Zi: !0
                                });
                                i.bind(m.gl.CLAMP_TO_EDGE, m.gl.LINEAR, m.gl.LINEAR);
                                var e = wt.lcs.getLocalByCoord([s.Ro[0], s.Ro[1]]);
                                s.zo.z > wt.za && (s.Ro[0] -= e.center[0],
                                s.Ro[1] -= e.center[1],
                                s.Ro[2] -= e.center[0],
                                s.Ro[3] -= e.center[1]);
                                var n = m.fe(new Float32Array([s.Ro[0], s.Ro[1], 0, 1, s.Ro[2], s.Ro[1], 1, 1, s.Ro[0], s.Ro[3], 0, 0, s.Ro[2], s.Ro[1], 1, 1, s.Ro[2], s.Ro[3], 1, 0, s.Ro[0], s.Ro[3], 0, 0]), 16)
                                  , o = document.createElement("canvas")
                                  , r = o.getContext("2d");
                                r && (o.height = o.width = 256,
                                o.style.height = "512px",
                                o.style.width = "512px",
                                r.beginPath(),
                                r.moveTo(0, 0),
                                r.lineTo(256, 0),
                                r.lineTo(256, 256),
                                r.lineTo(0, 256),
                                r.lineTo(0, 0),
                                r.lineWidth = 1,
                                r.font = "25px Verdana",
                                r.fillStyle = "#ff0000",
                                r.strokeStyle = "#FF0000",
                                r.strokeRect(0, 0, 256, 256),
                                r.fillText(s.zo.z + "/" + s.zo.x + "/" + s.zo.y, 50, 50),
                                r.stroke());
                                var a = m.createTexture(o, {
                                    Zi: !0
                                });
                                a.bind(m.gl.MIRRORED_REPEAT, m.gl.LINEAR, m.gl.LINEAR_MIPMAP_NEAREST),
                                s.data = {
                                    texture: i,
                                    zs: n,
                                    Js: a,
                                    Hs: e
                                }
                            }
                            s.status = wt.Mo.LOADED,
                            g()
                        }
                    }, _ = this, i = 0, e = v.length; i < e; i += 1)
                        t(i)
                }
            }
            ,
            je.prototype.fa = function(t, i) {
                for (var e = 1 << (i = i || this.aa.optimalZoom); t < 0 || e <= t; )
                    t = e <= t ? t - e : t < 0 ? e + t : t;
                return t
            }
            ,
            je.prototype.PF = function(t, i) {
                var e = wt.at.getProjection(i).getResolution(t.z)
                  , n = t.x * this.Xa * e
                  , o = n + this.Xa * e
                  , r = t.y * this.Xa * e
                  , a = r + this.Xa * e
                  , s = wt.V[i].Xs(n, r)
                  , h = wt.V[i].Xs(o, a);
                n = s[0],
                o = h[0],
                r = h[1],
                a = s[1];
                var l = this.map.getView().getStatus().boundsCoord;
                return !(o < l[0] && a < l[1] || n > l[2] && o > l[3])
            }
            ,
            je.prototype.TB = function() {
                var t = !1;
                return this.To.ro().detectRetina && wt._.Ue,
                "d" === wt._.baseRender && wt._.Ue && this.To.ro().detectRetina && wt._.$e && (t = !0),
                t
            }
            ,
            je);
            function je(t, i, e, n) {
                var o = Be.call(this, t, i, e, n) || this;
                return o.ua = new wt.OD(wt._.$e ? 200 : 400),
                o.Xa = 256,
                o.sa = [],
                o.Zs = [],
                o.tr = -1,
                o.qa = !0,
                o.Za = !0,
                o.xt = t.zooms,
                o.Qs = t.dataZooms,
                o.Xa = t.tileSize,
                o.Be = t.tileUrl,
                o
            }
            var Ne, We = (Ne = ke,
            wt.Ei(Ue, Ne),
            Ue.prototype.oa = function(t, i, e) {
                this.ze = i,
                this.Oo || (this.Fo(!0),
                e())
            }
            ,
            Ue.prototype.getData = function(t) {
                if (this.ir = t.bounds,
                this.Oo) {
                    var i = wt.lcs.getLocalByCoord([t.centerCoord[0], t.centerCoord[1]])
                      , e = wt.at.getProjection(t.projectionId)
                      , n = e.project(this.ir[0], this.ir[1])
                      , o = e.project(this.ir[2], this.ir[3])
                      , r = [0, 0, 0, 0];
                    if (t.optimalZoom >= wt.Ra) {
                        var a = wt.lcs.getLocalByCoord([n[0], n[1]])
                          , s = wt.lcs.getLocalByCoord([o[0], o[1]])
                          , h = wt.lcs.getSize();
                        r = [a.x - i.x, a.y - i.y, s.x - i.x, s.y - i.y];
                        for (var l = 0; l < r.length; l++)
                            0 !== r[l] && (r[l] *= h[0]);
                        r = [r[0] - a.center[0], r[1] - a.center[1], r[2] - s.center[0], r[3] - s.center[1]]
                    }
                    return {
                        texture: this._s,
                        zs: this.ks,
                        Sa: [0, 0]
                    }
                }
            }
            ,
            Ue);
            function Ue(t, i, e, n) {
                var o = Ne.call(this, t, i, e, n) || this;
                return o.ir = e.getView().getStatus().bounds,
                o.io = n.canvas,
                o
            }
            var Ge, Ve = (Ge = ke,
            wt.Ei(Ye, Ge),
            Ye.prototype.hasOverlay = function(t) {
                return -1 < this._overlays.indexOf(t)
            }
            ,
            Ye.prototype.getAllOverlays = function() {
                return this._overlays
            }
            ,
            Ye.prototype.add = function(t) {
                this.hasOverlay(t) || wt.er(t) && (this._overlays.push(t),
                t.Zx(this.map),
                t.init(),
                t._bindEvents && t._bindEvents(),
                t._afterSetMap && t._afterSetMap(this.map),
                this.map.setNeedUpdate(!0))
            }
            ,
            Ye.prototype.remove = function(t) {
                this.hasOverlay(t) && wt.er(t) && (t._beforeRemoveMap && t._beforeRemoveMap(),
                this.ar(t),
                this.map.setNeedUpdate(!0),
                t.Zx(null))
            }
            ,
            Ye.prototype.getData = function() {
                return this.nr(),
                {
                    sr: this._overlays
                }
            }
            ,
            Ye.prototype.oa = function() {}
            ,
            Ye.prototype.destroy = function() {
                for (var t = 0, i = this._overlays.slice(0); t < i.length; t++) {
                    var e = i[t];
                    this.remove(e)
                }
                this._overlays = []
            }
            ,
            Ye.prototype.rr = function(t) {
                for (var i = t.lnglat, e = t.pixel, n = this._overlays.length - 1; 0 <= n; n--) {
                    var o = this._overlays[n];
                    if (!o._opts.noSelect && o.visible)
                        if (wt.sB(o) && e) {
                            if (o.containsWithPixel(e))
                                return o
                        } else if (o.contains(i))
                            return o
                }
            }
            ,
            Ye.prototype.nr = function() {
                this._overlays.sort(function(t, i) {
                    return t._opts.zIndex - i._opts.zIndex
                })
            }
            ,
            Ye.prototype.ar = function(t) {
                var i = this._overlays.indexOf(t);
                -1 < i && this._overlays.splice(i, 1)
            }
            ,
            Ye);
            function Ye(t, i, e, n) {
                var o = Ge.call(this, t, i, e, n) || this;
                return o._overlays = [],
                o.Fo(!0),
                o
            }
            var Ze = {
                _r: {},
                kr: {
                    "pedestrian-polygon": {
                        width: 128,
                        height: 128,
                        x: 0,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "turning-circle-outline": {
                        width: 92,
                        height: 92,
                        x: 128,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "turning-circle": {
                        width: 84,
                        height: 84,
                        x: 0,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-truck-2": {
                        width: 40,
                        height: 80,
                        x: 84,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-truck-3": {
                        width: 52,
                        height: 80,
                        x: 124,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-alternate-2": {
                        width: 40,
                        height: 76,
                        x: 176,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-alternate-3": {
                        width: 52,
                        height: 76,
                        x: 216,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-business-2": {
                        width: 40,
                        height: 76,
                        x: 268,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-business-3": {
                        width: 52,
                        height: 76,
                        x: 308,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-bypass-2": {
                        width: 40,
                        height: 76,
                        x: 360,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-bypass-3": {
                        width: 52,
                        height: 76,
                        x: 400,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-truck-2": {
                        width: 40,
                        height: 76,
                        x: 452,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-truck-3": {
                        width: 52,
                        height: 76,
                        x: 220,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pe-national-2": {
                        width: 36,
                        height: 52,
                        x: 272,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pe-national-3": {
                        width: 44,
                        height: 52,
                        x: 308,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "za-provincial-2": {
                        width: 48,
                        height: 48,
                        x: 352,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "br-federal-3": {
                        width: 52,
                        height: 44,
                        x: 400,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "in-national-2": {
                        width: 32,
                        height: 44,
                        x: 452,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "in-national-3": {
                        width: 40,
                        height: 44,
                        x: 0,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "in-national-4": {
                        width: 48,
                        height: 44,
                        x: 40,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "in-state-2": {
                        width: 32,
                        height: 44,
                        x: 88,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "in-state-3": {
                        width: 40,
                        height: 44,
                        x: 120,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mx-federal-2": {
                        width: 36,
                        height: 44,
                        x: 160,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mx-federal-3": {
                        width: 46,
                        height: 44,
                        x: 196,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mx-federal-4": {
                        width: 56,
                        height: 44,
                        x: 242,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mx-state-2": {
                        width: 36,
                        height: 44,
                        x: 298,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mx-state-3": {
                        width: 46,
                        height: 44,
                        x: 334,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mx-state-4": {
                        width: 56,
                        height: 44,
                        x: 380,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pe-regional-3": {
                        width: 46,
                        height: 44,
                        x: 436,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pe-regional-4": {
                        width: 58,
                        height: 44,
                        x: 0,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-communal-4": {
                        width: 56,
                        height: 44,
                        x: 58,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-communal-5": {
                        width: 46,
                        height: 44,
                        x: 114,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-communal-6": {
                        width: 68,
                        height: 44,
                        x: 160,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-2": {
                        width: 40,
                        height: 44,
                        x: 228,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-3": {
                        width: 52,
                        height: 44,
                        x: 268,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-4": {
                        width: 64,
                        height: 44,
                        x: 320,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-duplex-4": {
                        width: 64,
                        height: 44,
                        x: 384,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-duplex-5": {
                        width: 76,
                        height: 44,
                        x: 0,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "airfield-15": {
                        width: 42,
                        height: 42,
                        x: 448,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "airport-15": {
                        width: 42,
                        height: 42,
                        x: 76,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "alcohol-shop-15": {
                        width: 42,
                        height: 42,
                        x: 118,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "amusement-park-15": {
                        width: 42,
                        height: 42,
                        x: 160,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "aquarium-15": {
                        width: 42,
                        height: 42,
                        x: 202,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "art-gallery-15": {
                        width: 42,
                        height: 42,
                        x: 244,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "attraction-15": {
                        width: 42,
                        height: 42,
                        x: 286,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bakery-15": {
                        width: 42,
                        height: 42,
                        x: 328,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bank-15": {
                        width: 42,
                        height: 42,
                        x: 370,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bar-15": {
                        width: 42,
                        height: 42,
                        x: 412,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "beer-15": {
                        width: 42,
                        height: 42,
                        x: 454,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bicycle-15": {
                        width: 42,
                        height: 42,
                        x: 0,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bicycle-share-15": {
                        width: 42,
                        height: 42,
                        x: 42,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bus-15": {
                        width: 42,
                        height: 42,
                        x: 84,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cafe-15": {
                        width: 42,
                        height: 42,
                        x: 126,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "campsite-15": {
                        width: 42,
                        height: 42,
                        x: 168,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "car-15": {
                        width: 42,
                        height: 42,
                        x: 210,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "castle-15": {
                        width: 42,
                        height: 42,
                        x: 252,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cemetery-15": {
                        width: 42,
                        height: 42,
                        x: 294,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cinema-15": {
                        width: 42,
                        height: 42,
                        x: 336,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "circle-15": {
                        width: 42,
                        height: 42,
                        x: 378,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "circle-stroked-15": {
                        width: 42,
                        height: 42,
                        x: 420,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "clothing-store-15": {
                        width: 42,
                        height: 42,
                        x: 462,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "college-15": {
                        width: 42,
                        height: 42,
                        x: 0,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dentist-15": {
                        width: 42,
                        height: 42,
                        x: 42,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "doctor-15": {
                        width: 42,
                        height: 42,
                        x: 84,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dog-park-15": {
                        width: 42,
                        height: 42,
                        x: 126,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "drinking-water-15": {
                        width: 42,
                        height: 42,
                        x: 168,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "embassy-15": {
                        width: 42,
                        height: 42,
                        x: 210,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "entrance-15": {
                        width: 42,
                        height: 42,
                        x: 252,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fast-food-15": {
                        width: 42,
                        height: 42,
                        x: 294,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ferry-15": {
                        width: 42,
                        height: 42,
                        x: 336,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fire-station-15": {
                        width: 42,
                        height: 42,
                        x: 378,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fuel-15": {
                        width: 42,
                        height: 42,
                        x: 420,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "garden-15": {
                        width: 42,
                        height: 42,
                        x: 462,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "golf-15": {
                        width: 42,
                        height: 42,
                        x: 0,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "grocery-15": {
                        width: 42,
                        height: 42,
                        x: 42,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "harbor-15": {
                        width: 42,
                        height: 42,
                        x: 84,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "heliport-15": {
                        width: 42,
                        height: 42,
                        x: 126,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hospital-15": {
                        width: 42,
                        height: 42,
                        x: 168,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ice-cream-15": {
                        width: 42,
                        height: 42,
                        x: 210,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "information-15": {
                        width: 42,
                        height: 42,
                        x: 252,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "laundry-15": {
                        width: 42,
                        height: 42,
                        x: 294,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "library-15": {
                        width: 42,
                        height: 42,
                        x: 336,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "lodging-15": {
                        width: 42,
                        height: 42,
                        x: 378,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "monument-15": {
                        width: 42,
                        height: 42,
                        x: 420,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mountain-15": {
                        width: 42,
                        height: 42,
                        x: 462,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "museum-15": {
                        width: 42,
                        height: 42,
                        x: 0,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "music-15": {
                        width: 42,
                        height: 42,
                        x: 42,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "park-15": {
                        width: 42,
                        height: 42,
                        x: 84,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pharmacy-15": {
                        width: 42,
                        height: 42,
                        x: 126,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "picnic-site-15": {
                        width: 42,
                        height: 42,
                        x: 168,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "place-of-worship-15": {
                        width: 42,
                        height: 42,
                        x: 210,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "playground-15": {
                        width: 42,
                        height: 42,
                        x: 252,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "police-15": {
                        width: 42,
                        height: 42,
                        x: 294,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "post-15": {
                        width: 42,
                        height: 42,
                        x: 336,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "prison-15": {
                        width: 42,
                        height: 42,
                        x: 378,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rail-15": {
                        width: 42,
                        height: 42,
                        x: 420,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rail-light-15": {
                        width: 42,
                        height: 42,
                        x: 462,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rail-metro-15": {
                        width: 42,
                        height: 42,
                        x: 504,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "religious-christian-15": {
                        width: 42,
                        height: 42,
                        x: 546,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "religious-jewish-15": {
                        width: 42,
                        height: 42,
                        x: 588,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "religious-muslim-15": {
                        width: 42,
                        height: 42,
                        x: 630,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "restaurant-15": {
                        width: 42,
                        height: 42,
                        x: 672,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rocket-15": {
                        width: 42,
                        height: 42,
                        x: 714,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "school-15": {
                        width: 42,
                        height: 42,
                        x: 756,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "shop-15": {
                        width: 42,
                        height: 42,
                        x: 798,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "square-15": {
                        width: 42,
                        height: 42,
                        x: 840,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "square-stroked-15": {
                        width: 42,
                        height: 42,
                        x: 882,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "stadium-15": {
                        width: 42,
                        height: 42,
                        x: 924,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "star-15": {
                        width: 42,
                        height: 42,
                        x: 966,
                        y: 344,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "star-stroked-15": {
                        width: 42,
                        height: 42,
                        x: 504,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "suitcase-15": {
                        width: 42,
                        height: 42,
                        x: 546,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "swimming-15": {
                        width: 42,
                        height: 42,
                        x: 588,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "theatre-15": {
                        width: 42,
                        height: 42,
                        x: 630,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "toilet-15": {
                        width: 42,
                        height: 42,
                        x: 672,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "town-hall-15": {
                        width: 42,
                        height: 42,
                        x: 714,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "triangle-15": {
                        width: 42,
                        height: 42,
                        x: 756,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "triangle-stroked-15": {
                        width: 42,
                        height: 42,
                        x: 798,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "veterinary-15": {
                        width: 42,
                        height: 42,
                        x: 840,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "volcano-15": {
                        width: 42,
                        height: 42,
                        x: 882,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "zoo-15": {
                        width: 42,
                        height: 42,
                        x: 924,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "br-state-2": {
                        width: 40,
                        height: 40,
                        x: 966,
                        y: 386,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "br-state-3": {
                        width: 56,
                        height: 40,
                        x: 504,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hu-main-2": {
                        width: 40,
                        height: 40,
                        x: 560,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hu-main-3": {
                        width: 52,
                        height: 40,
                        x: 600,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hu-main-4": {
                        width: 64,
                        height: 40,
                        x: 652,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hu-main-5": {
                        width: 76,
                        height: 40,
                        x: 716,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hu-motorway-2": {
                        width: 40,
                        height: 40,
                        x: 792,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hu-motorway-3": {
                        width: 52,
                        height: 40,
                        x: 832,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "nz-state-2": {
                        width: 36,
                        height: 40,
                        x: 884,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "nz-state-3": {
                        width: 46,
                        height: 40,
                        x: 920,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-communal-2": {
                        width: 40,
                        height: 40,
                        x: 966,
                        y: 428,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-communal-3": {
                        width: 52,
                        height: 40,
                        x: 504,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-county-3": {
                        width: 52,
                        height: 40,
                        x: 556,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-county-4": {
                        width: 64,
                        height: 40,
                        x: 608,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-national-2": {
                        width: 40,
                        height: 40,
                        x: 672,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-national-3": {
                        width: 52,
                        height: 40,
                        x: 712,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-2": {
                        width: 40,
                        height: 40,
                        x: 764,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-3": {
                        width: 52,
                        height: 40,
                        x: 804,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-4": {
                        width: 64,
                        height: 40,
                        x: 856,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-duplex-3": {
                        width: 52,
                        height: 40,
                        x: 920,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-duplex-4": {
                        width: 64,
                        height: 40,
                        x: 482,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-highway-duplex-5": {
                        width: 76,
                        height: 40,
                        x: 546,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-business-2": {
                        width: 40,
                        height: 40,
                        x: 972,
                        y: 470,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-interstate-business-3": {
                        width: 52,
                        height: 40,
                        x: 622,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-state-2": {
                        width: 40,
                        height: 40,
                        x: 674,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-state-3": {
                        width: 52,
                        height: 40,
                        x: 714,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "us-state-4": {
                        width: 64,
                        height: 40,
                        x: 766,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "za-national-2": {
                        width: 40,
                        height: 40,
                        x: 830,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "za-national-3": {
                        width: 48,
                        height: 40,
                        x: 870,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "barcelona-metro": {
                        width: 38,
                        height: 38,
                        x: 918,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "boston-t": {
                        width: 38,
                        height: 38,
                        x: 956,
                        y: 212,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "de-s-bahn": {
                        width: 38,
                        height: 38,
                        x: 490,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "de-s-bahn.de-u-bahn": {
                        width: 70,
                        height: 38,
                        x: 528,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "delhi-metro": {
                        width: 38,
                        height: 38,
                        x: 598,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "kiev-metro": {
                        width: 38,
                        height: 38,
                        x: 636,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "madrid-metro": {
                        width: 38,
                        height: 38,
                        x: 674,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "new-york-subway": {
                        width: 38,
                        height: 38,
                        x: 712,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "oslo-metro": {
                        width: 38,
                        height: 38,
                        x: 750,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "paris-metro": {
                        width: 38,
                        height: 38,
                        x: 788,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "paris-metro.paris-rer": {
                        width: 74,
                        height: 38,
                        x: 826,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "paris-rer": {
                        width: 38,
                        height: 38,
                        x: 900,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "paris-rer.paris-transilien": {
                        width: 70,
                        height: 38,
                        x: 938,
                        y: 256,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "stockholm-metro": {
                        width: 38,
                        height: 38,
                        x: 496,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "taipei-metro": {
                        width: 38,
                        height: 38,
                        x: 534,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "vienna-u-bahn": {
                        width: 38,
                        height: 38,
                        x: 572,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "airfield-11": {
                        width: 34,
                        height: 34,
                        x: 610,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "airport-11": {
                        width: 34,
                        height: 34,
                        x: 644,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "alcohol-shop-11": {
                        width: 34,
                        height: 34,
                        x: 678,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "amusement-park-11": {
                        width: 34,
                        height: 34,
                        x: 712,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "aquarium-11": {
                        width: 34,
                        height: 34,
                        x: 746,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "art-gallery-11": {
                        width: 34,
                        height: 34,
                        x: 780,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "attraction-11": {
                        width: 34,
                        height: 34,
                        x: 814,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bakery-11": {
                        width: 34,
                        height: 34,
                        x: 848,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bank-11": {
                        width: 34,
                        height: 34,
                        x: 882,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bar-11": {
                        width: 34,
                        height: 34,
                        x: 916,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "beer-11": {
                        width: 34,
                        height: 34,
                        x: 950,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bicycle-11": {
                        width: 34,
                        height: 34,
                        x: 984,
                        y: 300,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bicycle-share-11": {
                        width: 34,
                        height: 34,
                        x: 492,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bus-11": {
                        width: 34,
                        height: 34,
                        x: 526,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cafe-11": {
                        width: 34,
                        height: 34,
                        x: 560,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "campsite-11": {
                        width: 34,
                        height: 34,
                        x: 594,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "car-11": {
                        width: 34,
                        height: 34,
                        x: 628,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "castle-11": {
                        width: 34,
                        height: 34,
                        x: 662,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cemetery-11": {
                        width: 34,
                        height: 34,
                        x: 696,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "chongqing-rail-transit": {
                        width: 50,
                        height: 34,
                        x: 730,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cinema-11": {
                        width: 34,
                        height: 34,
                        x: 780,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "circle-11": {
                        width: 34,
                        height: 34,
                        x: 814,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "circle-stroked-11": {
                        width: 34,
                        height: 34,
                        x: 848,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "clothing-store-11": {
                        width: 34,
                        height: 34,
                        x: 882,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "college-11": {
                        width: 34,
                        height: 34,
                        x: 916,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "de-u-bahn": {
                        width: 34,
                        height: 34,
                        x: 950,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dentist-11": {
                        width: 34,
                        height: 34,
                        x: 984,
                        y: 128,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "doctor-11": {
                        width: 34,
                        height: 34,
                        x: 484,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dog-park-11": {
                        width: 34,
                        height: 34,
                        x: 518,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "drinking-water-11": {
                        width: 34,
                        height: 34,
                        x: 552,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "embassy-11": {
                        width: 34,
                        height: 34,
                        x: 586,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    entrance: {
                        width: 34,
                        height: 34,
                        x: 620,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "entrance-11": {
                        width: 34,
                        height: 34,
                        x: 654,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fast-food-11": {
                        width: 34,
                        height: 34,
                        x: 688,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ferry-11": {
                        width: 34,
                        height: 34,
                        x: 722,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fire-station-11": {
                        width: 34,
                        height: 34,
                        x: 756,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fuel-11": {
                        width: 34,
                        height: 34,
                        x: 790,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "garden-11": {
                        width: 34,
                        height: 34,
                        x: 824,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "golf-11": {
                        width: 34,
                        height: 34,
                        x: 858,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "grocery-11": {
                        width: 34,
                        height: 34,
                        x: 892,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "harbor-11": {
                        width: 34,
                        height: 34,
                        x: 926,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "heliport-11": {
                        width: 34,
                        height: 34,
                        x: 960,
                        y: 0,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hong-kong-mtr": {
                        width: 38,
                        height: 34,
                        x: 0,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hospital-11": {
                        width: 34,
                        height: 34,
                        x: 38,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ice-cream-11": {
                        width: 34,
                        height: 34,
                        x: 72,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "information-11": {
                        width: 34,
                        height: 34,
                        x: 106,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "laundry-11": {
                        width: 34,
                        height: 34,
                        x: 140,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "library-11": {
                        width: 34,
                        height: 34,
                        x: 174,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "lodging-11": {
                        width: 34,
                        height: 34,
                        x: 208,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mexico-city-metro": {
                        width: 34,
                        height: 34,
                        x: 242,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "milan-metro": {
                        width: 34,
                        height: 34,
                        x: 276,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "monument-11": {
                        width: 34,
                        height: 34,
                        x: 310,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "moscow-metro": {
                        width: 34,
                        height: 34,
                        x: 344,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "mountain-11": {
                        width: 34,
                        height: 34,
                        x: 378,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "museum-11": {
                        width: 34,
                        height: 34,
                        x: 412,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "music-11": {
                        width: 34,
                        height: 34,
                        x: 446,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "osaka-subway": {
                        width: 40,
                        height: 34,
                        x: 480,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "paris-transilien": {
                        width: 34,
                        height: 34,
                        x: 520,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "park-11": {
                        width: 34,
                        height: 34,
                        x: 554,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pharmacy-11": {
                        width: 34,
                        height: 34,
                        x: 588,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "philadelphia-septa": {
                        width: 38,
                        height: 34,
                        x: 622,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "picnic-site-11": {
                        width: 34,
                        height: 34,
                        x: 660,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "place-of-worship-11": {
                        width: 34,
                        height: 34,
                        x: 694,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "playground-11": {
                        width: 34,
                        height: 34,
                        x: 728,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "police-11": {
                        width: 34,
                        height: 34,
                        x: 762,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "post-11": {
                        width: 34,
                        height: 34,
                        x: 796,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "prison-11": {
                        width: 34,
                        height: 34,
                        x: 830,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    rail: {
                        width: 34,
                        height: 34,
                        x: 864,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rail-11": {
                        width: 34,
                        height: 34,
                        x: 898,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rail-light": {
                        width: 34,
                        height: 34,
                        x: 932,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rail-light-11": {
                        width: 34,
                        height: 34,
                        x: 966,
                        y: 512,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rail-metro": {
                        width: 34,
                        height: 34,
                        x: 0,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rail-metro-11": {
                        width: 34,
                        height: 34,
                        x: 34,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "religious-christian-11": {
                        width: 34,
                        height: 34,
                        x: 68,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "religious-jewish-11": {
                        width: 34,
                        height: 34,
                        x: 102,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "religious-muslim-11": {
                        width: 34,
                        height: 34,
                        x: 136,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "restaurant-11": {
                        width: 34,
                        height: 34,
                        x: 170,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rocket-11": {
                        width: 34,
                        height: 34,
                        x: 204,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "san-francisco-bart": {
                        width: 34,
                        height: 34,
                        x: 238,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "school-11": {
                        width: 34,
                        height: 34,
                        x: 272,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "shop-11": {
                        width: 34,
                        height: 34,
                        x: 306,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "singapore-mrt": {
                        width: 34,
                        height: 34,
                        x: 340,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "square-11": {
                        width: 34,
                        height: 34,
                        x: 374,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "square-stroked-11": {
                        width: 34,
                        height: 34,
                        x: 408,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "stadium-11": {
                        width: 34,
                        height: 34,
                        x: 442,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "star-11": {
                        width: 34,
                        height: 34,
                        x: 476,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "star-stroked-11": {
                        width: 34,
                        height: 34,
                        x: 510,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "suitcase-11": {
                        width: 34,
                        height: 34,
                        x: 544,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "swimming-11": {
                        width: 34,
                        height: 34,
                        x: 578,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "theatre-11": {
                        width: 34,
                        height: 34,
                        x: 612,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "toilet-11": {
                        width: 34,
                        height: 34,
                        x: 646,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "tokyo-metro": {
                        width: 34,
                        height: 34,
                        x: 680,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "town-hall-11": {
                        width: 34,
                        height: 34,
                        x: 714,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "triangle-11": {
                        width: 34,
                        height: 34,
                        x: 748,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "triangle-stroked-11": {
                        width: 34,
                        height: 34,
                        x: 782,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "veterinary-11": {
                        width: 34,
                        height: 34,
                        x: 816,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "volcano-11": {
                        width: 34,
                        height: 34,
                        x: 850,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "washington-metro": {
                        width: 34,
                        height: 34,
                        x: 884,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "zoo-11": {
                        width: 34,
                        height: 34,
                        x: 918,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ch-motorway-2": {
                        width: 44,
                        height: 32,
                        x: 952,
                        y: 546,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ch-motorway-3": {
                        width: 56,
                        height: 32,
                        x: 0,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ch-motorway-4": {
                        width: 68,
                        height: 32,
                        x: 56,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "de-motorway-2": {
                        width: 44,
                        height: 32,
                        x: 124,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "de-motorway-3": {
                        width: 56,
                        height: 32,
                        x: 168,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-dlr": {
                        width: 72,
                        height: 32,
                        x: 224,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-dlr.london-overground.london-tfl-rail.london-underground": {
                        width: 186,
                        height: 32,
                        x: 296,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-dlr.london-overground.london-underground": {
                        width: 148,
                        height: 32,
                        x: 482,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-dlr.london-underground": {
                        width: 110,
                        height: 32,
                        x: 630,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-overground": {
                        width: 72,
                        height: 32,
                        x: 740,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-overground.london-tfl-rail.london-underground": {
                        width: 148,
                        height: 32,
                        x: 812,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-overground.london-underground": {
                        width: 110,
                        height: 32,
                        x: 0,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-tfl-rail": {
                        width: 72,
                        height: 32,
                        x: 110,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-tfl-rail.london-overground": {
                        width: 110,
                        height: 32,
                        x: 182,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-tfl-rail.london-underground": {
                        width: 110,
                        height: 32,
                        x: 292,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail.london-underground": {
                        width: 72,
                        height: 32,
                        x: 402,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gr-motorway-2": {
                        width: 44,
                        height: 32,
                        x: 960,
                        y: 580,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gr-motorway-3": {
                        width: 56,
                        height: 32,
                        x: 474,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gr-motorway-4": {
                        width: 68,
                        height: 32,
                        x: 530,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hr-motorway-3": {
                        width: 56,
                        height: 32,
                        x: 598,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hr-motorway-4": {
                        width: 68,
                        height: 32,
                        x: 654,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-dlr": {
                        width: 40,
                        height: 32,
                        x: 722,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-dlr.london-tfl-rail": {
                        width: 78,
                        height: 32,
                        x: 762,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-dlr.london-tfl-rail.london-underground": {
                        width: 116,
                        height: 32,
                        x: 840,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-dlr.london-underground": {
                        width: 78,
                        height: 32,
                        x: 0,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-overground": {
                        width: 40,
                        height: 32,
                        x: 956,
                        y: 612,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-overground.london-tfl-rail": {
                        width: 78,
                        height: 32,
                        x: 78,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-overground.london-tfl-rail.london-underground": {
                        width: 116,
                        height: 32,
                        x: 156,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-overground.london-underground": {
                        width: 78,
                        height: 32,
                        x: 272,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-tfl-rail": {
                        width: 40,
                        height: 32,
                        x: 350,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-tfl-rail.london-underground": {
                        width: 78,
                        height: 32,
                        x: 390,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "london-underground": {
                        width: 40,
                        height: 32,
                        x: 468,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "si-motorway-2": {
                        width: 44,
                        height: 32,
                        x: 508,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "level-crossing": {
                        width: 30,
                        height: 30,
                        x: 552,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "at-expressway-2": {
                        width: 40,
                        height: 28,
                        x: 582,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "at-expressway-3": {
                        width: 52,
                        height: 28,
                        x: 622,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "at-motorway-2": {
                        width: 40,
                        height: 28,
                        x: 674,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "at-motorway-3": {
                        width: 52,
                        height: 28,
                        x: 714,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "at-state-b-2": {
                        width: 40,
                        height: 28,
                        x: 766,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "at-state-b-3": {
                        width: 52,
                        height: 28,
                        x: 806,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "at-state-b-4": {
                        width: 64,
                        height: 28,
                        x: 858,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bg-motorway-2": {
                        width: 40,
                        height: 28,
                        x: 922,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "bg-national-2": {
                        width: 40,
                        height: 28,
                        x: 962,
                        y: 644,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ch-main-2": {
                        width: 40,
                        height: 28,
                        x: 0,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ch-main-3": {
                        width: 52,
                        height: 28,
                        x: 40,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cz-expressway-2": {
                        width: 40,
                        height: 28,
                        x: 92,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cz-expressway-3": {
                        width: 52,
                        height: 28,
                        x: 132,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cz-motorway-2": {
                        width: 40,
                        height: 28,
                        x: 184,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cz-road-2": {
                        width: 40,
                        height: 28,
                        x: 224,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "cz-road-3": {
                        width: 52,
                        height: 28,
                        x: 264,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "de-federal-2": {
                        width: 40,
                        height: 28,
                        x: 316,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "de-federal-3": {
                        width: 52,
                        height: 28,
                        x: 356,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "de-federal-4": {
                        width: 64,
                        height: 28,
                        x: 408,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "default-2": {
                        width: 40,
                        height: 28,
                        x: 472,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "default-3": {
                        width: 52,
                        height: 28,
                        x: 512,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "default-4": {
                        width: 64,
                        height: 28,
                        x: 564,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "default-5": {
                        width: 76,
                        height: 28,
                        x: 628,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "default-6": {
                        width: 88,
                        height: 28,
                        x: 704,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dk-primary-2": {
                        width: 40,
                        height: 28,
                        x: 792,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dk-secondary-2": {
                        width: 40,
                        height: 28,
                        x: 832,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dk-secondary-3": {
                        width: 52,
                        height: 28,
                        x: 872,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "e-road-2": {
                        width: 40,
                        height: 28,
                        x: 924,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "e-road-3": {
                        width: 52,
                        height: 28,
                        x: 964,
                        y: 676,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "e-road-4": {
                        width: 64,
                        height: 28,
                        x: 0,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fi-main-2": {
                        width: 40,
                        height: 28,
                        x: 64,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fi-regional-3": {
                        width: 52,
                        height: 28,
                        x: 104,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "fi-trunk-2": {
                        width: 40,
                        height: 28,
                        x: 156,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gb-national-rail": {
                        width: 34,
                        height: 28,
                        x: 196,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gr-national-2": {
                        width: 40,
                        height: 28,
                        x: 230,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gr-national-3": {
                        width: 52,
                        height: 28,
                        x: 270,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "gr-national-4": {
                        width: 64,
                        height: 28,
                        x: 322,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hr-county-4": {
                        width: 64,
                        height: 28,
                        x: 386,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hr-state-2": {
                        width: 40,
                        height: 28,
                        x: 450,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "hr-state-3": {
                        width: 52,
                        height: 28,
                        x: 490,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "marker-15": {
                        width: 12,
                        height: 28,
                        x: 542,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-1": {
                        width: 40,
                        height: 28,
                        x: 554,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-2": {
                        width: 40,
                        height: 28,
                        x: 594,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-3": {
                        width: 52,
                        height: 28,
                        x: 634,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-4": {
                        width: 64,
                        height: 28,
                        x: 686,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-5": {
                        width: 76,
                        height: 28,
                        x: 750,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-6": {
                        width: 88,
                        height: 28,
                        x: 826,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-7": {
                        width: 100,
                        height: 28,
                        x: 914,
                        y: 704,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-8": {
                        width: 112,
                        height: 28,
                        x: 0,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "motorway-exit-9": {
                        width: 124,
                        height: 28,
                        x: 112,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pl-expressway-2": {
                        width: 40,
                        height: 28,
                        x: 236,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pl-expressway-3": {
                        width: 52,
                        height: 28,
                        x: 276,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pl-motorway-2": {
                        width: 40,
                        height: 28,
                        x: 328,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pl-motorway-3": {
                        width: 52,
                        height: 28,
                        x: 368,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pl-national-2": {
                        width: 40,
                        height: 28,
                        x: 420,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "pl-voivodeship-3": {
                        width: 52,
                        height: 28,
                        x: 460,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-motorway-2": {
                        width: 40,
                        height: 28,
                        x: 512,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "ro-motorway-3": {
                        width: 52,
                        height: 28,
                        x: 552,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rs-motorway-3": {
                        width: 52,
                        height: 28,
                        x: 604,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rs-state-1b-2": {
                        width: 40,
                        height: 28,
                        x: 656,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rs-state-2a-3": {
                        width: 52,
                        height: 28,
                        x: 696,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "rs-state-2b-3": {
                        width: 52,
                        height: 28,
                        x: 748,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "se-main-2": {
                        width: 40,
                        height: 28,
                        x: 800,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "se-main-3": {
                        width: 52,
                        height: 28,
                        x: 840,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "si-expressway-3": {
                        width: 52,
                        height: 28,
                        x: 892,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "si-main-2": {
                        width: 40,
                        height: 28,
                        x: 944,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "si-main-3": {
                        width: 52,
                        height: 28,
                        x: 0,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "sk-highway-2": {
                        width: 40,
                        height: 28,
                        x: 984,
                        y: 732,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "sk-road-2": {
                        width: 40,
                        height: 28,
                        x: 52,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "sk-road-3": {
                        width: 52,
                        height: 28,
                        x: 92,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "sk-road-4": {
                        width: 64,
                        height: 28,
                        x: 144,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "sk-road-5": {
                        width: 76,
                        height: 28,
                        x: 208,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "za-metropolitan-2": {
                        width: 40,
                        height: 28,
                        x: 284,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "za-regional-3": {
                        width: 52,
                        height: 28,
                        x: 324,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dot-11": {
                        width: 22,
                        height: 22,
                        x: 376,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "marker-11": {
                        width: 12,
                        height: 22,
                        x: 398,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dot-10": {
                        width: 20,
                        height: 20,
                        x: 410,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "dot-9": {
                        width: 18,
                        height: 18,
                        x: 430,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "oneway-large": {
                        width: 28,
                        height: 12,
                        x: 448,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "oneway-white-large": {
                        width: 28,
                        height: 12,
                        x: 476,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "oneway-small": {
                        width: 22,
                        height: 10,
                        x: 504,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    },
                    "oneway-white-small": {
                        width: 22,
                        height: 10,
                        x: 526,
                        y: 760,
                        pixelRatio: 2,
                        visible: !0
                    }
                },
                layers: [],
                styles: {},
                Mr: !0,
                Rr: function() {
                    var k = this
                      , M = [{
                        id: "background",
                        type: "background",
                        layout: {},
                        paint: {
                            "background-color": "hsl(42, 63%, 97%)"
                        }
                    }, {
                        id: "national_park",
                        type: "fill",
                        source: "composite",
                        "source-layer": "landuse_overlay",
                        filter: ["==", "class", "national_park"],
                        layout: {},
                        paint: {
                            "fill-color": "hsl(100, 58%, 76%)",
                            "fill-opacity": {
                                base: 1,
                                stops: [[5, 0], [6, .5]]
                            }
                        }
                    }, {
                        id: "hospital",
                        type: "fill",
                        source: "composite",
                        "source-layer": "landuse",
                        filter: ["==", "class", "hospital"],
                        layout: {},
                        paint: {
                            "fill-color": {
                                base: 1,
                                stops: [[15.5, "hsl(340, 37%, 87%)"], [16, "hsl(340, 63%, 89%)"]]
                            }
                        }
                    }, {
                        id: "school",
                        type: "fill",
                        source: "composite",
                        "source-layer": "landuse",
                        filter: ["==", "class", "school"],
                        layout: {},
                        paint: {
                            "fill-color": {
                                base: 1,
                                stops: [[15.5, "hsl(50, 47%, 81%)"], [16, "hsl(50, 63%, 84%)"]]
                            }
                        }
                    }, {
                        id: "park",
                        type: "fill",
                        source: "composite",
                        "source-layer": "landuse",
                        filter: ["==", "class", "park"],
                        layout: {},
                        paint: {
                            "fill-color": "hsl(100, 58%, 76%)",
                            "fill-opacity": {
                                base: 1,
                                stops: [[5, 0], [6, 1]]
                            }
                        }
                    }, {
                        id: "pitch",
                        type: "fill",
                        source: "composite",
                        "source-layer": "landuse",
                        filter: ["==", "class", "pitch"],
                        layout: {},
                        paint: {
                            "fill-color": "hsl(100, 57%, 72%)"
                        }
                    }, {
                        minzoom: 15,
                        layout: {
                            "line-join": "miter"
                        },
                        filter: ["==", "class", "pitch"],
                        type: "line",
                        source: "composite",
                        id: "pitch-line",
                        paint: {
                            "line-color": "hsl(75, 57%, 84%)"
                        },
                        "source-layer": "landuse"
                    }, {
                        id: "cemetery",
                        type: "fill",
                        source: "composite",
                        "source-layer": "landuse",
                        filter: ["==", "class", "cemetery"],
                        layout: {},
                        paint: {
                            "fill-color": "hsl(75, 37%, 81%)"
                        }
                    }, {
                        id: "industrial",
                        type: "fill",
                        source: "composite",
                        "source-layer": "landuse",
                        filter: ["==", "class", "industrial"],
                        layout: {},
                        paint: {
                            "fill-color": {
                                base: 1,
                                stops: [[15.5, "hsl(230, 15%, 86%)"], [16, "hsl(230, 29%, 89%)"]]
                            }
                        }
                    }, {
                        id: "sand",
                        type: "fill",
                        source: "composite",
                        "source-layer": "landuse",
                        filter: ["==", "class", "sand"],
                        layout: {},
                        paint: {
                            "fill-color": "hsl(60, 46%, 87%)"
                        }
                    }, {
                        id: "water",
                        paint: {
                            "fill-color": "#a3ccff"
                        },
                        layout: {},
                        type: "fill",
                        source: "composite",
                        "source-layer": "water"
                    }, {
                        id: "barrier_line-land-polygon",
                        type: "fill",
                        source: "composite",
                        "source-layer": "barrier_line",
                        filter: ["all", ["==", "$type", "Polygon"], ["==", "class", "land"]],
                        layout: {},
                        paint: {
                            "fill-color": "hsl(35, 12%, 89%)"
                        }
                    }, {
                        id: "barrier_line-land-line",
                        type: "line",
                        source: "composite",
                        "source-layer": "barrier_line",
                        filter: ["all", ["==", "$type", "LineString"], ["==", "class", "land"]],
                        layout: {
                            "line-cap": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.99,
                                stops: [[14, .75], [20, 40]]
                            },
                            "line-color": "hsl(35, 12%, 89%)"
                        }
                    }, {
                        minzoom: 11,
                        layout: {},
                        metadata: {
                            "mapbox:group": "1444934828655.3389"
                        },
                        filter: ["all", ["!=", "type", "apron"], ["==", "$type", "Polygon"]],
                        type: "fill",
                        source: "composite",
                        id: "aeroway-polygon",
                        paint: {
                            "fill-color": {
                                base: 1,
                                stops: [[15, "hsl(230, 23%, 82%)"], [16, "hsl(230, 37%, 84%)"]]
                            },
                            "fill-opacity": {
                                base: 1,
                                stops: [[11, 0], [11.5, 1]]
                            }
                        },
                        "source-layer": "aeroway"
                    }, {
                        minzoom: 9,
                        layout: {},
                        metadata: {
                            "mapbox:group": "1444934828655.3389"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["==", "type", "runway"]],
                        type: "line",
                        source: "composite",
                        id: "aeroway-runway",
                        paint: {
                            "line-color": {
                                base: 1,
                                stops: [[15, "hsl(230, 23%, 82%)"], [16, "hsl(230, 37%, 84%)"]]
                            },
                            "line-width": {
                                base: 1.5,
                                stops: [[9, 1], [18, 80]]
                            }
                        },
                        "source-layer": "aeroway"
                    }, {
                        minzoom: 9,
                        layout: {},
                        metadata: {
                            "mapbox:group": "1444934828655.3389"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["==", "type", "taxiway"]],
                        type: "line",
                        source: "composite",
                        id: "aeroway-taxiway",
                        paint: {
                            "line-color": {
                                base: 1,
                                stops: [[15, "hsl(230, 23%, 82%)"], [16, "hsl(230, 37%, 84%)"]]
                            },
                            "line-width": {
                                base: 1.5,
                                stops: [[10, .5], [18, 20]]
                            }
                        },
                        "source-layer": "aeroway"
                    }, {
                        minzoom: 15,
                        layout: {},
                        filter: ["all", ["!=", "type", "building:part"], ["==", "underground", "false"]],
                        type: "line",
                        source: "composite",
                        id: "building-line",
                        paint: {
                            "line-color": "hsl(35, 11%, 80%)",
                            "line-width": {
                                base: 1.5,
                                stops: [[15, .75], [20, 3]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[15.5, 0], [16, 1]]
                            }
                        },
                        "source-layer": "building"
                    }, {
                        minzoom: 15,
                        layout: {},
                        filter: ["all", ["!=", "type", "building:part"], ["==", "underground", "false"]],
                        type: "fill",
                        source: "composite",
                        id: "building",
                        paint: {
                            "fill-color": {
                                base: 1,
                                stops: [[15, "hsl(35, 15%, 90%)"], [16, "hsl(35, 15%, 90%)"]]
                            },
                            "fill-opacity": {
                                base: 1,
                                stops: [[15.5, 0], [16, 1]]
                            },
                            "fill-outline-color": "hsl(35, 6%, 79%)"
                        },
                        "source-layer": "building"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-street-low",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": {
                                stops: [[11.5, 0], [12, 1], [14, 1], [14.01, 0]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street_limited"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-street_limited-low",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": {
                                stops: [[11.5, 0], [12, 1], [14, 1], [14.01, 0]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["==", "structure", "tunnel"], ["in", "class", "link", "service", "track"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-service-link-track-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(230, 19%, 75%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            },
                            "line-dasharray": [3, 3]
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street_limited"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-street_limited-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(230, 19%, 75%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[13, 0], [14, 2], [18, 18]]
                            },
                            "line-dasharray": [3, 3],
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-street-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(230, 19%, 75%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[13, 0], [14, 2], [18, 18]]
                            },
                            "line-dasharray": [3, 3],
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "tunnel-secondary-tertiary-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "tunnel"], ["in", "class", "secondary", "tertiary"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.2,
                                stops: [[10, .75], [18, 2]]
                            },
                            "line-dasharray": [3, 3],
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[8.5, .5], [10, .75], [18, 26]]
                            },
                            "line-color": "hsl(230, 19%, 75%)"
                        }
                    }, {
                        id: "tunnel-primary-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "primary"], ["==", "structure", "tunnel"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-dasharray": [3, 3],
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": "hsl(230, 19%, 75%)"
                        }
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "tunnel"], ["==", "type", "trunk_link"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-trunk_link-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-dasharray": [3, 3]
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "motorway_link"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-motorway_link-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-dasharray": [3, 3]
                        },
                        "source-layer": "road"
                    }, {
                        id: "tunnel-trunk-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "tunnel"], ["==", "type", "trunk"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-opacity": 1,
                            "line-dasharray": [3, 3]
                        }
                    }, {
                        id: "tunnel-motorway-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "motorway"], ["==", "structure", "tunnel"]]],
                        layout: {
                            "line-join": "round",
                            "line-cap": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-opacity": 1,
                            "line-dasharray": [3, 3]
                        }
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-join": "miter"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "construction"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-construction",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            },
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [.4, .8]], [15, [.3, .6]], [16, [.2, .3]], [17, [.2, .25]], [18, [.15, .15]]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "tunnel-path",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "steps"], ["==", "class", "path"], ["==", "structure", "tunnel"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 1], [18, 4]]
                            },
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.75, 1]], [16, [1, .75]], [17, [1, .5]]]
                            },
                            "line-color": "hsl(35, 26%, 95%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, 1]]
                            }
                        }
                    }, {
                        id: "tunnel-steps",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "tunnel"], ["==", "type", "steps"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 1], [16, 1.6], [18, 6]]
                            },
                            "line-color": "hsl(35, 26%, 95%)",
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.75, 1]], [16, [1, .75]], [17, [.3, .3]]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, 1]]
                            }
                        }
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "tunnel"], ["==", "type", "trunk_link"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-trunk_link",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(46, 77%, 78%)",
                            "line-opacity": 1,
                            "line-dasharray": [1, 0]
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "motorway_link"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-motorway_link",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(26, 100%, 78%)",
                            "line-opacity": 1,
                            "line-dasharray": [1, 0]
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "pedestrian"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-pedestrian",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": 1,
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.5, .4]], [16, [1, .2]]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["==", "structure", "tunnel"], ["in", "class", "link", "service", "track"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-service-link-track",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-dasharray": [1, 0]
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street_limited"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-street_limited",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(35, 14%, 93%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street"], ["==", "structure", "tunnel"]]],
                        type: "line",
                        source: "composite",
                        id: "tunnel-street",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "tunnel-secondary-tertiary",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[8.5, .5], [10, .75], [18, 26]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": 1,
                            "line-dasharray": [1, 0],
                            "line-blur": 0
                        },
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "tunnel"], ["in", "class", "secondary", "tertiary"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        id: "tunnel-primary",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": 1,
                            "line-dasharray": [1, 0],
                            "line-blur": 0
                        },
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "primary"], ["==", "structure", "tunnel"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        minzoom: 16,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[17, "oneway-small"], [18, "oneway-large"]]
                            },
                            "symbol-spacing": 200,
                            "icon-padding": 2
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["==", "oneway", "true"], ["==", "structure", "tunnel"], ["in", "class", "link", "path", "pedestrian", "service", "track"]]],
                        type: "symbol",
                        source: "composite",
                        id: "tunnel-oneway-arrows-blue-minor",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        minzoom: 15,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[16, "oneway-small"], [17, "oneway-large"]]
                            },
                            "symbol-spacing": 200,
                            "icon-padding": 2
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["==", "oneway", "true"], ["==", "structure", "tunnel"], ["in", "class", "primary", "secondary", "street", "street_limited", "tertiary"]]],
                        type: "symbol",
                        source: "composite",
                        id: "tunnel-oneway-arrows-blue-major",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        id: "tunnel-trunk",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "trunk"], ["==", "structure", "tunnel"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": ["interpolate", ["exponential", 1], ["zoom"], 8, "hsl(26, 87%, 62%)", 9, "hsl(26, 100%, 68%)"]
                        }
                    }, {
                        id: "tunnel-motorway",
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-dasharray": [1, 0],
                            "line-opacity": 1,
                            "line-color": "hsl(26, 100%, 68%)",
                            "line-blur": 0
                        },
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "motorway"], ["==", "structure", "tunnel"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        minzoom: 16,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[16, "oneway-white-small"], [17, "oneway-white-large"]]
                            },
                            "symbol-spacing": 200,
                            "icon-padding": 2
                        },
                        metadata: {
                            "mapbox:group": "1444855769305.6016"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "type", "primary_link", "secondary_link", "tertiary_link"], ["==", "oneway", "true"], ["==", "structure", "tunnel"], ["in", "class", "link", "motorway", "motorway_link", "trunk"]]],
                        type: "symbol",
                        source: "composite",
                        id: "tunnel-oneway-arrows-white",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        id: "ferry",
                        type: "line",
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["==", "type", "ferry"]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-color": {
                                base: 1,
                                stops: [[15, "hsl(205, 73%, 63%)"], [17, "hsl(230, 73%, 63%)"]]
                            },
                            "line-opacity": 1,
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [20, 1]]
                            },
                            "line-dasharray": {
                                base: 1,
                                stops: [[12, [1, 0]], [13, [12, 4]]]
                            }
                        }
                    }, {
                        id: "ferry_auto",
                        type: "line",
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["==", "type", "ferry_auto"]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-color": {
                                base: 1,
                                stops: [[15, "hsl(205, 73%, 63%)"], [17, "hsl(230, 73%, 63%)"]]
                            },
                            "line-opacity": 1,
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [20, 1]]
                            }
                        }
                    }, {
                        id: "road-path-bg",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["!in", "type", "crossing", "sidewalk", "steps"], ["==", "class", "path"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 2], [18, 7]]
                            },
                            "line-dasharray": [1, 0],
                            "line-color": "hsl(230, 17%, 82%)",
                            "line-blur": 0,
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, .75]]
                            }
                        }
                    }, {
                        id: "road-steps-bg",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "type", "steps"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 2], [17, 4.6], [18, 7]]
                            },
                            "line-color": "hsl(230, 17%, 82%)",
                            "line-dasharray": [1, 0],
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, .75]]
                            }
                        }
                    }, {
                        minzoom: 16,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["in", "type", "crossing", "sidewalk"]]],
                        type: "line",
                        source: "composite",
                        id: "road-sidewalk-bg",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 2], [18, 7]]
                            },
                            "line-dasharray": [1, 0],
                            "line-color": "hsl(230, 17%, 82%)",
                            "line-blur": 0,
                            "line-opacity": {
                                base: 1,
                                stops: [[16, 0], [16.25, .75]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 15,
                        layout: {
                            "icon-image": "turning-circle-outline",
                            "icon-size": {
                                base: 1.5,
                                stops: [[14, .122], [18, .969], [20, 1]]
                            },
                            "icon-allow-overlap": !0,
                            "icon-ignore-placement": !0,
                            "icon-padding": 0,
                            "icon-rotation-alignment": "map"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "Point"], ["in", "class", "turning_circle", "turning_loop"]],
                        type: "symbol",
                        source: "composite",
                        id: "turning-features-outline",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        minzoom: 12,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "pedestrian"], ["==", "structure", "none"]]],
                        type: "line",
                        source: "composite",
                        id: "road-pedestrian-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[14, 2], [18, 14.5]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-gap-width": 0,
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["!in", "structure", "bridge", "tunnel"], ["in", "class", "link", "service", "track"]]],
                        type: "line",
                        source: "composite",
                        id: "road-service-link-track-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[8, 0], [20, 2]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street_limited"], ["==", "structure", "none"]]],
                        type: "line",
                        source: "composite",
                        id: "road-street_limited-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[13, 0], [14, 2], [18, 18]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street"], ["==", "structure", "none"]]],
                        type: "line",
                        source: "composite",
                        id: "road-street-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[8, 0], [20, 2]]
                            },
                            "line-color": "#d6d9e6",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[13, 0], [14, 2], [18, 18]]
                            },
                            "line-opacity": ["interpolate", ["exponential", 1], ["zoom"], 13.99, 0, 14, 1]
                        },
                        "source-layer": "road"
                    }, {
                        id: "road-secondary-tertiary-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["in", "class", "secondary", "tertiary"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.2,
                                stops: [[10, .5], [18, 2]]
                            },
                            "line-color": "#d6d9e6",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[8.5, .5], [10, .75], [18, 26]]
                            },
                            "line-opacity": ["interpolate", ["exponential", 1], ["zoom"], 10.5, 0, 11, 1]
                        }
                    }, {
                        id: "road-primary-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "class", "primary"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[8, .4], [16, 2]]
                            },
                            "line-color": ["interpolate", ["exponential", 1], ["zoom"], 10, "hsl(53, 50%, 81%)", 12, "hsl(228, 12%, 92%)"],
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[0, .5], [18, 32]]
                            }
                        }
                    }, {
                        minzoom: 10,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "class", "motorway_link"]]],
                        type: "line",
                        source: "composite",
                        id: "road-motorway_link-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[10, .5], [18, 24]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[10.99, 0], [11, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "type", "trunk_link"]]],
                        type: "line",
                        source: "composite",
                        id: "road-trunk_link-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[10.99, 0], [11, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "road-trunk-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "class", "trunk"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[6, 0], [6.1, 1]]
                            }
                        }
                    }, {
                        id: "road-motorway-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "class", "motorway"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            }
                        }
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-join": "miter"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "construction"], ["==", "structure", "none"]]],
                        type: "line",
                        source: "composite",
                        id: "road-construction",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            },
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [.4, .8]], [15, [.3, .6]], [16, [.2, .3]], [17, [.2, .25]], [18, [.15, .15]]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 16,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["in", "type", "crossing", "sidewalk"]]],
                        type: "line",
                        source: "composite",
                        id: "road-sidewalks",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 1], [18, 4]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.75, 1]], [16, [1, .75]], [17, [1, .5]]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[16, 0], [16.25, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "road-path",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 1], [18, 4]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.75, 1]], [16, [1, .75]], [17, [1, .5]]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, 1]]
                            }
                        },
                        layout: {
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["!in", "type", "crossing", "sidewalk", "steps"], ["==", "class", "path"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        id: "road-steps",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 1], [16, 1.6], [18, 6]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.75, 1]], [16, [1, .75]], [17, [.3, .3]]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, 1]]
                            }
                        },
                        layout: {
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "type", "steps"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "type", "trunk_link"]]],
                        type: "line",
                        source: "composite",
                        id: "road-trunk_link",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, .5], [18, 24]]
                            },
                            "line-color": ["interpolate", ["exponential", 1], ["zoom"], 8, "hsl(26, 87%, 62%)", 9, "hsl(26, 100%, 68%)"],
                            "line-opacity": 1
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 10,
                        layout: {
                            "line-join": "round",
                            "line-cap": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "class", "motorway_link"]]],
                        type: "line",
                        source: "composite",
                        id: "road-motorway_link",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, .5], [18, 24]]
                            },
                            "line-color": "hsl(26, 100%, 68%)",
                            "line-opacity": 1
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 12,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "pedestrian"], ["==", "structure", "none"]]],
                        type: "line",
                        source: "composite",
                        id: "road-pedestrian",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": 1,
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.5, .4]], [16, [1, .2]]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 12,
                        layout: {},
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "Polygon"], ["all", ["==", "structure", "none"], ["in", "class", "path", "pedestrian"]]],
                        type: "fill",
                        source: "composite",
                        id: "road-pedestrian-polygon-fill",
                        paint: {
                            "fill-color": {
                                base: 1,
                                stops: [[16, "hsl(230, 16%, 94%)"], [16.25, "hsl(230, 16%, 94%)"]]
                            },
                            "fill-outline-color": "hsl(230, 26%, 88%)",
                            "fill-opacity": 1,
                            "fill-antialias": !1
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 12,
                        layout: {},
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "Polygon"], ["all", ["!in", "class", "motorway", "path", "pedestrian", "trunk"], ["!in", "structure", "bridge", "tunnel"]]],
                        type: "fill",
                        source: "composite",
                        id: "road-polygon",
                        paint: {
                            "fill-color": "hsl(0, 0%, 100%)",
                            "fill-outline-color": "#d6d9e6"
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["!in", "structure", "bridge", "tunnel"], ["in", "class", "link", "service", "track"]]],
                        type: "line",
                        source: "composite",
                        id: "road-service-link-track",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            },
                            "line-color": "hsl(0, 0%, 100%)"
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street_limited"], ["==", "structure", "none"]]],
                        type: "line",
                        source: "composite",
                        id: "road-street_limited",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(35, 14%, 93%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street"], ["==", "structure", "none"]]],
                        type: "line",
                        source: "composite",
                        id: "road-street",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "road-secondary-tertiary",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[8.5, .5], [10, .75], [18, 26]]
                            },
                            "line-color": {
                                base: 1,
                                stops: [[5, "hsl(35, 32%, 91%)"], [8, "hsl(0, 0%, 100%)"]]
                            },
                            "line-opacity": {
                                base: 1.2,
                                stops: [[10.5, 0], [11, 1]]
                            }
                        },
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["in", "class", "secondary", "tertiary"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        id: "road-primary",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": {
                                base: 1,
                                stops: [[5, "hsl(48, 86%, 93%)"], [13, "hsl(46, 98%, 86%)"]]
                            },
                            "line-opacity": 1
                        },
                        layout: {
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "class", "primary"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        minzoom: 16,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[17, "oneway-small"], [18, "oneway-large"]]
                            },
                            "icon-rotation-alignment": "map",
                            "icon-padding": 2,
                            "symbol-spacing": 200
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["!in", "structure", "bridge", "tunnel"], ["==", "oneway", "true"], ["in", "class", "link", "path", "pedestrian", "service", "track"]]],
                        type: "symbol",
                        source: "composite",
                        id: "road-oneway-arrows-blue-minor",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        minzoom: 15,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[16, "oneway-small"], [17, "oneway-large"]]
                            },
                            "icon-rotation-alignment": "map",
                            "icon-padding": 2,
                            "symbol-spacing": 200
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["!in", "structure", "bridge", "tunnel"], ["==", "oneway", "true"], ["in", "class", "primary", "secondary", "street", "street_limited", "tertiary"]]],
                        type: "symbol",
                        source: "composite",
                        id: "road-oneway-arrows-blue-major",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        id: "road-trunk",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": {
                                base: 1,
                                stops: [[8, "hsl(26, 87%, 62%)"], [9, "hsl(26, 100%, 68%)"]]
                            }
                        },
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "class", "trunk"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        id: "road-motorway",
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": {
                                base: 1,
                                stops: [[8, "hsl(26, 87%, 62%)"], [9, "hsl(26, 100%, 68%)"]]
                            }
                        },
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["==", "class", "motorway"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["in", "class", "major_rail", "minor_rail"]]],
                        type: "line",
                        source: "composite",
                        id: "road-rail",
                        paint: {
                            "line-color": {
                                stops: [[13, "hsl(50, 17%, 82%)"], [16, "hsl(230, 10%, 74%)"]]
                            },
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [20, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["in", "class", "major_rail", "minor_rail"]]],
                        type: "line",
                        source: "composite",
                        id: "road-rail-tracks",
                        paint: {
                            "line-color": {
                                stops: [[13, "hsl(50, 17%, 82%)"], [16, "hsl(230, 10%, 74%)"]]
                            },
                            "line-width": {
                                base: 1.5,
                                stops: [[14, 4], [20, 8]]
                            },
                            "line-dasharray": [.1, 15],
                            "line-opacity": {
                                base: 1,
                                stops: [[13.75, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 16,
                        layout: {
                            "icon-size": 1,
                            "icon-image": "level-crossing",
                            "icon-allow-overlap": !0
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "Point"], ["==", "class", "level_crossing"]],
                        type: "symbol",
                        source: "composite",
                        id: "level-crossings",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        minzoom: 16,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[16, "oneway-white-small"], [17, "oneway-white-large"]]
                            },
                            "icon-padding": 2,
                            "symbol-spacing": 200
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "structure", "bridge", "tunnel"], ["!in", "type", "primary_link", "secondary_link", "tertiary_link"], ["==", "oneway", "true"], ["in", "class", "link", "motorway", "motorway_link", "trunk"]]],
                        type: "symbol",
                        source: "composite",
                        id: "road-oneway-arrows-white",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        minzoom: 15,
                        layout: {
                            "icon-image": "turning-circle",
                            "icon-size": {
                                base: 1.5,
                                stops: [[14, .095], [18, 1]]
                            },
                            "icon-allow-overlap": !0,
                            "icon-ignore-placement": !0,
                            "icon-padding": 0,
                            "icon-rotation-alignment": "map"
                        },
                        metadata: {
                            "mapbox:group": "1444855786460.0557"
                        },
                        filter: ["all", ["==", "$type", "Point"], ["in", "class", "turning_circle", "turning_loop"]],
                        type: "symbol",
                        source: "composite",
                        id: "turning-features",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        id: "bridge-path-bg",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "steps"], ["==", "class", "path"], ["==", "structure", "bridge"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 2], [18, 7]]
                            },
                            "line-dasharray": [1, 0],
                            "line-color": "hsl(230, 17%, 82%)",
                            "line-blur": 0,
                            "line-opacity": {
                                base: 1,
                                stops: [[15, 0], [15.25, 1]]
                            }
                        }
                    }, {
                        id: "bridge-steps-bg",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["==", "type", "steps"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 2], [17, 4.6], [18, 7]]
                            },
                            "line-color": "hsl(230, 17%, 82%)",
                            "line-dasharray": [1, 0],
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, .75]]
                            }
                        }
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "pedestrian"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-pedestrian-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[14, 2], [18, 14.5]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-gap-width": 0,
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["==", "structure", "bridge"], ["in", "class", "link", "service", "track"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-service-link-track-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street_limited"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-street_limited-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[13, 0], [14, 2], [18, 18]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-street-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            },
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[13, 0], [14, 2], [18, 18]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "bridge-secondary-tertiary-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["in", "class", "secondary", "tertiary"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.2,
                                stops: [[10, .75], [18, 2]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[8.5, .5], [10, .75], [18, 26]]
                            },
                            "line-translate": [0, 0]
                        }
                    }, {
                        id: "bridge-primary-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "primary"], ["==", "structure", "bridge"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[8, .4], [16, 2]]
                            },
                            "line-color": "#e8e9ed",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-translate": [0, 0]
                        }
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "layer", 2, 3, 4, 5], ["==", "structure", "bridge"], ["==", "type", "trunk_link"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-trunk_link-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[10.99, 0], [11, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "layer", 2, 3, 4, 5], ["==", "class", "motorway_link"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-motorway_link-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, .75], [18, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[12, .5], [18, 24]]
                            },
                            "line-opacity": 1
                        },
                        "source-layer": "road"
                    }, {
                        id: "bridge-trunk-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "layer", 2, 3, 4, 5], ["==", "class", "trunk"], ["==", "structure", "bridge"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            }
                        }
                    }, {
                        id: "bridge-motorway-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "layer", 2, 3, 4, 5], ["==", "class", "motorway"], ["==", "structure", "bridge"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            }
                        }
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-join": "miter"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "construction"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-construction",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(230, 24%, 87%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            },
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [.4, .8]], [15, [.3, .6]], [16, [.2, .3]], [17, [.2, .25]], [18, [.15, .15]]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "bridge-path",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "steps"], ["==", "class", "path"], ["==", "structure", "bridge"]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 2], [18, 5]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.75, 1]], [16, [1, .75]], [17, [1, .5]]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, 1]]
                            }
                        }
                    }, {
                        id: "bridge-steps",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[15, 1], [16, 1.6], [18, 6]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.75, 1]], [16, [1, .75]], [17, [.3, .3]]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[14, 0], [14.25, 1]]
                            }
                        },
                        layout: {
                            "line-join": "round"
                        },
                        type: "line",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["==", "type", "steps"]]],
                        source: "composite",
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "layer", 2, 3, 4, 5], ["==", "structure", "bridge"], ["==", "type", "trunk_link"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-trunk_link",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(46, 85%, 67%)"
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "layer", 2, 3, 4, 5], ["==", "class", "motorway_link"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-motorway_link",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, .5], [18, 24]]
                            },
                            "line-color": "hsl(26, 100%, 68%)"
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "pedestrian"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-pedestrian",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": 1,
                            "line-dasharray": {
                                base: 1,
                                stops: [[14, [1, 0]], [15, [1.5, .4]], [16, [1, .2]]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 14,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!=", "type", "trunk_link"], ["==", "structure", "bridge"], ["in", "class", "link", "service", "track"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-service-link-track",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [18, 12]]
                            },
                            "line-color": "hsl(0, 0%, 100%)"
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street_limited"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-street_limited",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(35, 14%, 93%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 11,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "street"], ["==", "structure", "bridge"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-street",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12.5, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "bridge-secondary-tertiary",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["in", "type", "secondary", "tertiary"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[8.5, .5], [10, .75], [18, 26]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-opacity": {
                                base: 1.2,
                                stops: [[5, 0], [5.5, 1]]
                            }
                        }
                    }, {
                        id: "bridge-primary",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["==", "type", "primary"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-opacity": 1,
                            "line-color": "hsl(46, 97%, 86%)"
                        }
                    }, {
                        minzoom: 16,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[17, "oneway-small"], [18, "oneway-large"]]
                            },
                            "symbol-spacing": 200,
                            "icon-rotation-alignment": "map",
                            "icon-padding": 2
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "oneway", "true"], ["==", "structure", "bridge"], ["in", "class", "link", "path", "pedestrian", "service", "track"]]],
                        type: "symbol",
                        source: "composite",
                        id: "bridge-oneway-arrows-blue-minor",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        minzoom: 15,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[16, "oneway-small"], [17, "oneway-large"]]
                            },
                            "symbol-spacing": 200,
                            "icon-rotation-alignment": "map",
                            "icon-padding": 2
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "oneway", "true"], ["==", "structure", "bridge"], ["in", "class", "primary", "secondary", "street", "street_limited", "tertiary"]]],
                        type: "symbol",
                        source: "composite",
                        id: "bridge-oneway-arrows-blue-major",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        id: "bridge-trunk",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "layer", 2, 3, 4, 5], ["==", "class", "trunk"], ["==", "structure", "bridge"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": ["interpolate", ["exponential", 1], ["zoom"], 8, "hsl(26, 87%, 62%)", 9, "hsl(26, 100%, 68%)"],
                            "line-opacity": 1
                        }
                    }, {
                        id: "bridge-motorway",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "layer", 2, 3, 4, 5], ["==", "class", "motorway"], ["==", "structure", "bridge"]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": "hsl(26, 100%, 68%)"
                        }
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["in", "class", "major_rail", "minor_rail"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-rail",
                        paint: {
                            "line-color": {
                                stops: [[13, "hsl(50, 17%, 82%)"], [16, "hsl(230, 10%, 74%)"]]
                            },
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [20, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["in", "class", "major_rail", "minor_rail"]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-rail-tracks",
                        paint: {
                            "line-color": {
                                stops: [[13, "hsl(50, 17%, 82%)"], [16, "hsl(230, 10%, 74%)"]]
                            },
                            "line-width": {
                                base: 1.5,
                                stops: [[14, 4], [20, 8]]
                            },
                            "line-dasharray": [.1, 15],
                            "line-opacity": {
                                base: 1,
                                stops: [[13.75, 0], [20, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["==", "type", "trunk_link"], [">=", "layer", 2]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-trunk_link-2-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[10.99, 0], [11, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "motorway_link"], ["==", "structure", "bridge"], [">=", "layer", 2]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-motorway_link-2-case",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .75], [20, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-opacity": 1
                        },
                        "source-layer": "road"
                    }, {
                        id: "bridge-trunk-2-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "trunk"], ["==", "structure", "bridge"], [">=", "layer", 2]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            }
                        }
                    }, {
                        id: "bridge-motorway-2-case",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "motorway"], ["==", "structure", "bridge"], [">=", "layer", 2]]],
                        layout: {
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, 1], [16, 2]]
                            },
                            "line-color": "hsl(0, 0%, 100%)",
                            "line-gap-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            }
                        }
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "structure", "bridge"], ["==", "type", "trunk_link"], [">=", "layer", 2]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-trunk_link-2",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[12, .5], [14, 2], [18, 18]]
                            },
                            "line-color": "hsl(46, 85%, 67%)"
                        },
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "motorway_link"], ["==", "structure", "bridge"], [">=", "layer", 2]]],
                        type: "line",
                        source: "composite",
                        id: "bridge-motorway_link-2",
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[10, .5], [18, 24]]
                            },
                            "line-color": "hsl(26, 100%, 68%)"
                        },
                        "source-layer": "road"
                    }, {
                        id: "bridge-trunk-2",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "trunk"], ["==", "structure", "bridge"], [">=", "layer", 2]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": ["interpolate", ["exponential", 1], ["zoom"], 8, "hsl(26, 87%, 62%)", 9, "hsl(26, 100%, 68%)"]
                        }
                    }, {
                        id: "bridge-motorway-2",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        source: "composite",
                        "source-layer": "road",
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["==", "class", "motorway"], ["==", "structure", "bridge"], [">=", "layer", 2]]],
                        layout: {
                            "line-cap": "round",
                            "line-join": "round"
                        },
                        paint: {
                            "line-width": {
                                base: 1.5,
                                stops: [[5, .75], [18, 32]]
                            },
                            "line-color": "hsl(26, 100%, 68%)"
                        }
                    }, {
                        minzoom: 16,
                        layout: {
                            "symbol-placement": "line",
                            "icon-image": {
                                base: 1,
                                stops: [[16, "oneway-white-small"], [17, "oneway-white-large"]]
                            },
                            "symbol-spacing": 200,
                            "icon-padding": 2
                        },
                        metadata: {
                            "mapbox:group": "1444855799204.86"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["all", ["!in", "type", "primary_link", "secondary_link", "tertiary_link"], ["==", "oneway", "true"], ["==", "structure", "bridge"], ["in", "class", "link", "motorway", "motorway_link", "trunk"]]],
                        type: "symbol",
                        source: "composite",
                        id: "bridge-oneway-arrows-white",
                        paint: {},
                        "source-layer": "road"
                    }, {
                        minzoom: 13,
                        layout: {
                            "line-join": "round"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["==", "class", "aerialway"]],
                        type: "line",
                        source: "composite",
                        id: "aerialway",
                        paint: {
                            "line-color": "hsl(230, 10%, 74%)",
                            "line-width": {
                                base: 1.5,
                                stops: [[14, .5], [20, 1]]
                            }
                        },
                        "source-layer": "road"
                    }, {
                        id: "admin-3-4-boundaries-bg",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444934295202.7542"
                        },
                        source: "composite",
                        "source-layer": "admin",
                        filter: ["all", ["==", "maritime", 0], [">=", "admin_level", 3]],
                        layout: {
                            "line-join": "bevel"
                        },
                        paint: {
                            "line-color": {
                                base: 1,
                                stops: [[8, "hsl(35, 12%, 89%)"], [16, "hsl(230, 49%, 90%)"]]
                            },
                            "line-width": {
                                base: 1,
                                stops: [[7, .75], [12, 1.5]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[7, 0], [8, .75]]
                            },
                            "line-dasharray": [1, 0],
                            "line-translate": [0, 0],
                            "line-blur": 0
                        }
                    }, {
                        minzoom: 1,
                        layout: {
                            "line-join": "miter"
                        },
                        metadata: {
                            "mapbox:group": "1444934295202.7542"
                        },
                        filter: ["all", ["==", "admin_level", 2], ["==", "maritime", 0]],
                        type: "line",
                        source: "composite",
                        id: "admin-2-boundaries-bg",
                        paint: {
                            "line-width": {
                                base: 1,
                                stops: [[3, 3.5], [10, 6]]
                            },
                            "line-color": {
                                base: 1,
                                stops: [[6, "hsl(35, 12%, 89%)"], [8, "hsl(230, 49%, 90%)"]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[3, 0], [4, .5]]
                            },
                            "line-translate": [0, 0],
                            "line-blur": 0
                        },
                        "source-layer": "admin"
                    }, {
                        id: "admin-3-4-boundaries",
                        type: "line",
                        metadata: {
                            "mapbox:group": "1444934295202.7542"
                        },
                        source: "composite",
                        "source-layer": "admin",
                        filter: ["all", ["==", "maritime", 0], [">=", "admin_level", 3]],
                        layout: {
                            "line-join": "round",
                            "line-cap": "round"
                        },
                        paint: {
                            "line-dasharray": {
                                base: 1,
                                stops: [[6, [2, 0]], [7, [2, 2, 6, 2]]]
                            },
                            "line-width": {
                                base: 1,
                                stops: [[7, .75], [12, 1.5]]
                            },
                            "line-opacity": {
                                base: 1,
                                stops: [[2, 0], [3, 1]]
                            },
                            "line-color": {
                                base: 1,
                                stops: [[3, "hsl(230, 14%, 77%)"], [7, "hsl(230, 8%, 62%)"]]
                            }
                        }
                    }, {
                        minzoom: 1,
                        layout: {
                            "line-join": "round",
                            "line-cap": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444934295202.7542"
                        },
                        filter: ["all", ["==", "admin_level", 2], ["==", "disputed", 0], ["==", "maritime", 0]],
                        type: "line",
                        source: "composite",
                        id: "admin-2-boundaries",
                        paint: {
                            "line-color": "hsl(230, 8%, 51%)",
                            "line-width": {
                                base: 1,
                                stops: [[3, .5], [10, 2]]
                            },
                            "line-opacity": 1
                        },
                        "source-layer": "admin"
                    }, {
                        minzoom: 1,
                        layout: {
                            "line-join": "round"
                        },
                        metadata: {
                            "mapbox:group": "1444934295202.7542"
                        },
                        filter: ["all", ["==", "admin_level", 2], ["==", "disputed", 1], ["==", "maritime", 0]],
                        type: "line",
                        source: "composite",
                        id: "admin-2-boundaries-dispute",
                        paint: {
                            "line-dasharray": [1.5, 1.5],
                            "line-color": "hsl(230, 8%, 51%)",
                            "line-width": {
                                base: 1,
                                stops: [[3, .5], [10, 2]]
                            }
                        },
                        "source-layer": "admin"
                    }, {
                        id: "housenum-label",
                        type: "symbol",
                        source: "composite",
                        "source-layer": "housenum_label",
                        minzoom: 17,
                        layout: {
                            "text-field": "{house_num}",
                            "text-font": ["DIN Offc Pro Italic", "Arial Unicode MS Regular"],
                            "text-padding": 4,
                            "text-max-width": 7,
                            "text-size": 9.5
                        },
                        paint: {
                            "text-color": "hsl(35, 2%, 69%)",
                            "text-halo-color": "hsl(35, 8%, 85%)",
                            "text-halo-width": .5,
                            "text-halo-blur": 0
                        }
                    }, {
                        minzoom: 12,
                        layout: {
                            "text-field": "{name_en}",
                            "text-font": ["DIN Offc Pro Italic", "Arial Unicode MS Regular"],
                            "symbol-placement": "line",
                            "text-pitch-alignment": "viewport",
                            "text-max-angle": 30,
                            "text-size": {
                                base: 1,
                                stops: [[13, 12], [18, 16]]
                            }
                        },
                        filter: ["in", "class", "canal", "river"],
                        type: "symbol",
                        source: "composite",
                        id: "waterway-label",
                        paint: {
                            "text-halo-width": .5,
                            "text-halo-color": "hsl(196, 80%, 70%)",
                            "text-color": "hsl(230, 48%, 44%)",
                            "text-halo-blur": .5,
                            "text-opacity": 0
                        },
                        "source-layer": "waterway_label"
                    }, {
                        minzoom: 17,
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[16, 11], [20, 13]]
                            },
                            "icon-image": "{maki}-11",
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        metadata: {
                            "mapbox:group": "1444933456003.5437"
                        },
                        filter: ["all", ["!in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"], ["==", "scalerank", 4], [">=", "localrank", 15]],
                        type: "symbol",
                        source: "composite",
                        id: "poi-scalerank4-l15",
                        paint: {
                            "text-color": "hsl(26, 25%, 32%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        },
                        "source-layer": "poi_label"
                    }, {
                        minzoom: 15,
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[16, 11], [20, 13]]
                            },
                            "icon-image": "{maki}-11",
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 1,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        metadata: {
                            "mapbox:group": "1444933456003.5437"
                        },
                        filter: ["all", ["!in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"], ["<=", "localrank", 14], ["==", "scalerank", 4]],
                        type: "symbol",
                        source: "composite",
                        id: "poi-scalerank4-l1",
                        paint: {
                            "text-color": "hsl(26, 25%, 32%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        },
                        "source-layer": "poi_label"
                    }, {
                        minzoom: 15,
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[16, 11], [20, 13]]
                            },
                            "icon-image": "{maki}-11",
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 1,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        metadata: {
                            "mapbox:group": "1444933456003.5437"
                        },
                        filter: ["all", ["==", "scalerank", 4], ["in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"]],
                        type: "symbol",
                        source: "composite",
                        id: "poi-parks_scalerank4",
                        paint: {
                            "text-color": "hsl(100, 100%, 20%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        },
                        "source-layer": "poi_label"
                    }, {
                        id: "poi-scalerank3",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933372896.5967"
                        },
                        source: "composite",
                        "source-layer": "poi_label",
                        filter: ["all", ["!in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"], ["==", "scalerank", 3]],
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[16, 11], [20, 13]]
                            },
                            "icon-image": "{maki}-11",
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 1,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        paint: {
                            "text-color": "hsl(26, 25%, 32%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        }
                    }, {
                        id: "poi-parks-scalerank3",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933372896.5967"
                        },
                        source: "composite",
                        "source-layer": "poi_label",
                        filter: ["all", ["==", "scalerank", 3], ["in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"]],
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[16, 11], [20, 13]]
                            },
                            "icon-image": "{maki}-11",
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        paint: {
                            "text-color": "hsl(100, 100%, 20%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        }
                    }, {
                        minzoom: 15,
                        layout: {
                            "text-size": {
                                base: 1,
                                stops: [[15, 10], [20, 13]]
                            },
                            "text-max-angle": 30,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "symbol-placement": "line",
                            "text-padding": 1,
                            "text-rotation-alignment": "map",
                            "text-pitch-alignment": "viewport",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01
                        },
                        metadata: {
                            "mapbox:group": "1444933721429.3076"
                        },
                        filter: ["all", ["!in", "class", "golf", "link", "motorway", "pedestrian", "primary", "secondary", "street", "street_limited", "tertiary", "trunk"], ["==", "$type", "LineString"]],
                        type: "symbol",
                        source: "composite",
                        id: "road-label-small",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1.25,
                            "text-halo-blur": 1
                        },
                        "source-layer": "road_label"
                    }, {
                        minzoom: 11,
                        layout: {
                            "text-size": {
                                base: 1,
                                stops: [[11, 10], [20, 14]]
                            },
                            "text-max-angle": 30,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "symbol-placement": "line",
                            "text-padding": 1,
                            "text-rotation-alignment": "map",
                            "text-pitch-alignment": "viewport",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01
                        },
                        metadata: {
                            "mapbox:group": "1444933721429.3076"
                        },
                        filter: ["all", ["==", "$type", "LineString"], ["in", "class", "link", "pedestrian", "street", "street_limited"]],
                        type: "symbol",
                        source: "composite",
                        id: "road-label-medium",
                        paint: {
                            "text-color": "hsl(229, 50%, 61%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1,
                            "text-opacity": ["interpolate", ["exponential", 1], ["zoom"], 13.99, 0, 14, 1]
                        },
                        "source-layer": "road_label"
                    }, {
                        id: "road-label-large",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933721429.3076"
                        },
                        source: "composite",
                        "source-layer": "road_label",
                        filter: ["in", "class", "motorway", "primary", "secondary", "tertiary", "trunk"],
                        layout: {
                            "text-size": {
                                base: 1,
                                stops: [[9, 10], [20, 16]]
                            },
                            "text-max-angle": 30,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "symbol-placement": "line",
                            "text-padding": 1,
                            "text-rotation-alignment": "map",
                            "text-pitch-alignment": "viewport",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01
                        },
                        paint: {
                            "text-color": "hsl(234, 31%, 47%)",
                            "text-halo-color": "hsla(203, 3%, 98%, 0.75)",
                            "text-halo-width": 1,
                            "text-halo-blur": 0
                        }
                    }, {
                        id: "road-shields-black",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933575858.6992"
                        },
                        source: "composite",
                        "source-layer": "road_label",
                        filter: ["all", ["!in", "shield", "at-expressway", "at-motorway", "at-state-b", "bg-motorway", "bg-national", "ch-main", "ch-motorway", "cz-motorway", "cz-road", "de-motorway", "e-road", "fi-main", "gr-motorway", "gr-national", "hr-motorway", "hr-state", "hu-main", "hu-motorway", "nz-state", "pl-expressway", "pl-motorway", "pl-national", "ro-county", "ro-motorway", "ro-national", "rs-motorway", "rs-state-1b", "se-main", "si-expressway", "si-motorway", "sk-highway", "sk-road", "us-interstate", "us-interstate-business", "us-interstate-duplex", "us-interstate-truck", "za-metropolitan", "za-national", "za-provincial", "za-regional"], ["<=", "reflen", 6]],
                        layout: {
                            "text-size": 9,
                            "icon-image": "{shield}-{reflen}",
                            "icon-rotation-alignment": "viewport",
                            "text-max-angle": 38,
                            "symbol-spacing": {
                                base: 1,
                                stops: [[11, 150], [14, 200]]
                            },
                            "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"],
                            "symbol-placement": {
                                base: 1,
                                stops: [[10, "point"], [11, "line"]]
                            },
                            "text-padding": 2,
                            "text-rotation-alignment": "viewport",
                            "text-field": "{ref}",
                            "text-letter-spacing": .05,
                            "icon-padding": 2
                        },
                        paint: {
                            "text-color": "hsl(0, 0%, 7%)",
                            "icon-halo-color": "rgba(0, 0, 0, 1)",
                            "icon-halo-width": 1,
                            "text-opacity": 1,
                            "icon-color": "white",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 0
                        }
                    }, {
                        id: "road-shields-white",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933575858.6992"
                        },
                        source: "composite",
                        "source-layer": "road_label",
                        filter: ["all", ["<=", "reflen", 6], ["in", "shield", "at-expressway", "at-motorway", "at-state-b", "bg-motorway", "bg-national", "ch-main", "ch-motorway", "cz-motorway", "cz-road", "de-motorway", "e-road", "fi-main", "gr-motorway", "gr-national", "hr-motorway", "hr-state", "hu-main", "hu-motorway", "nz-state", "pl-expressway", "pl-motorway", "pl-national", "ro-county", "ro-motorway", "ro-national", "rs-motorway", "rs-state-1b", "se-main", "si-expressway", "si-motorway", "sk-highway", "sk-road", "us-interstate", "us-interstate-business", "us-interstate-duplex", "us-interstate-truck", "za-metropolitan", "za-national", "za-provincial", "za-regional"]],
                        layout: {
                            "text-size": 9,
                            "icon-image": "{shield}-{reflen}",
                            "icon-rotation-alignment": "viewport",
                            "text-max-angle": 38,
                            "symbol-spacing": {
                                base: 1,
                                stops: [[11, 150], [14, 200]]
                            },
                            "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"],
                            "symbol-placement": {
                                base: 1,
                                stops: [[10, "point"], [11, "line"]]
                            },
                            "text-padding": 2,
                            "text-rotation-alignment": "viewport",
                            "text-field": "{ref}",
                            "text-letter-spacing": .05,
                            "icon-padding": 2
                        },
                        paint: {
                            "text-color": "hsl(0, 0%, 100%)",
                            "icon-halo-color": "rgba(0, 0, 0, 1)",
                            "icon-halo-width": 1,
                            "text-opacity": 1,
                            "icon-color": "white",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 0
                        }
                    }, {
                        minzoom: 14,
                        layout: {
                            "text-field": "{ref}",
                            "text-size": 9,
                            "icon-image": "motorway-exit-{reflen}",
                            "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"]
                        },
                        metadata: {
                            "mapbox:group": "1444933575858.6992"
                        },
                        filter: ["all", ["<=", "reflen", 9], [">", "reflen", 0]],
                        type: "symbol",
                        source: "composite",
                        id: "motorway-junction",
                        paint: {
                            "text-color": "hsl(0, 0%, 100%)",
                            "text-translate": [0, 0]
                        },
                        "source-layer": "motorway_junction"
                    }, {
                        id: "poi-scalerank2",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933358918.2366"
                        },
                        source: "composite",
                        "source-layer": "poi_label",
                        filter: ["all", ["!in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"], ["==", "scalerank", 2]],
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[14, 11], [20, 14]]
                            },
                            "icon-image": {
                                stops: [[14, "{maki}-11"], [15, "{maki}-15"]]
                            },
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        paint: {
                            "text-color": "hsl(26, 25%, 32%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        }
                    }, {
                        id: "poi-parks-scalerank2",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933358918.2366"
                        },
                        source: "composite",
                        "source-layer": "poi_label",
                        filter: ["all", ["==", "scalerank", 2], ["in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"]],
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[14, 11], [20, 14]]
                            },
                            "icon-image": {
                                stops: [[14, "{maki}-11"], [15, "{maki}-15"]]
                            },
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        paint: {
                            "text-color": "hsl(100, 100%, 20%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        }
                    }, {
                        minzoom: 12,
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[16, 11], [20, 13]]
                            },
                            "icon-image": "{network}",
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-offset": [0, .85],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": {
                                base: 1,
                                stops: [[0, ""], [13, "{name_en}"]]
                            },
                            "text-letter-spacing": .01,
                            "icon-padding": 0,
                            "text-max-width": 7
                        },
                        filter: ["!=", "maki", "entrance"],
                        type: "symbol",
                        source: "composite",
                        id: "rail-label",
                        paint: {
                            "text-color": "hsl(230, 48%, 44%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "icon-halo-width": 4,
                            "icon-halo-color": "#fff",
                            "text-opacity": {
                                base: 1,
                                stops: [[13.99, 0], [14, 1]]
                            },
                            "text-halo-blur": .5
                        },
                        "source-layer": "rail_station_label"
                    }, {
                        minzoom: 15,
                        layout: {
                            "text-field": "{name_en}",
                            "text-font": ["DIN Offc Pro Italic", "Arial Unicode MS Regular"],
                            "text-max-width": 7,
                            "text-size": {
                                base: 1,
                                stops: [[16, 13], [20, 16]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444933808272.805"
                        },
                        filter: ["<=", "area", 1e4],
                        type: "symbol",
                        source: "composite",
                        id: "water-label-sm",
                        paint: {
                            "text-color": "hsl(230, 48%, 44%)"
                        },
                        "source-layer": "water_label"
                    }, {
                        minzoom: 5,
                        layout: {
                            "text-field": "{name_en}",
                            "text-font": ["DIN Offc Pro Italic", "Arial Unicode MS Regular"],
                            "text-max-width": 7,
                            "text-size": {
                                base: 1,
                                stops: [[13, 13], [18, 18]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444933808272.805"
                        },
                        filter: [">", "area", 1e4],
                        type: "symbol",
                        source: "composite",
                        id: "water-label",
                        paint: {
                            "text-color": "hsl(230, 48%, 44%)"
                        },
                        "source-layer": "water_label"
                    }, {
                        layout: {
                            "text-line-height": 1.2,
                            "text-size": {
                                base: 1,
                                stops: [[10, 11], [18, 14]]
                            },
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, 0],
                            "text-rotation-alignment": "viewport",
                            "text-field": "{name_en}",
                            "text-max-width": 7
                        },
                        maxzoom: 18,
                        filter: ["all", ["all", ["<=", "localrank", 10], ["==", "type", "residential"]], ["in", "$type", "LineString", "Point", "Polygon"]],
                        type: "symbol",
                        source: "composite",
                        id: "place-residential",
                        paint: {
                            "text-color": "hsl(26, 25%, 32%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1,
                            "text-halo-blur": .5
                        },
                        "source-layer": "place_label"
                    }, {
                        id: "poi-parks-scalerank1",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933322393.2852"
                        },
                        source: "composite",
                        "source-layer": "poi_label",
                        filter: ["all", ["<=", "scalerank", 1], ["in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"]],
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[10, 11], [18, 14]]
                            },
                            "icon-image": {
                                stops: [[13, "{maki}-11"], [14, "{maki}-15"]]
                            },
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        paint: {
                            "text-color": "hsl(100, 100%, 20%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        }
                    }, {
                        id: "poi-scalerank1",
                        type: "symbol",
                        metadata: {
                            "mapbox:group": "1444933322393.2852"
                        },
                        source: "composite",
                        "source-layer": "poi_label",
                        filter: ["all", ["!in", "maki", "campsite", "cemetery", "dog-park", "garden", "golf", "park", "picnic-site", "playground", "zoo"], ["<=", "scalerank", 1]],
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[10, 11], [18, 14]]
                            },
                            "icon-image": {
                                stops: [[13, "{maki}-11"], [14, "{maki}-15"]]
                            },
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, .65],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        paint: {
                            "text-color": "hsl(26, 25%, 32%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        }
                    }, {
                        minzoom: 9,
                        layout: {
                            "text-line-height": 1.1,
                            "text-size": {
                                base: 1,
                                stops: [[10, 12], [18, 18]]
                            },
                            "icon-image": {
                                stops: [[12, "{maki}-11"], [13, "{maki}-15"]]
                            },
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, .75],
                            "text-rotation-alignment": "viewport",
                            "text-anchor": "top",
                            "text-field": {
                                stops: [[11, "{ref}"], [12, "{name_en}"]]
                            },
                            "text-letter-spacing": .01,
                            "text-max-width": 9
                        },
                        filter: ["<=", "scalerank", 2],
                        type: "symbol",
                        source: "composite",
                        id: "airport-label",
                        paint: {
                            "text-color": "hsl(230, 48%, 44%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": .5,
                            "text-halo-blur": .5
                        },
                        "source-layer": "airport_label"
                    }, {
                        layout: {
                            "text-line-height": 1.2,
                            "text-size": {
                                base: 1,
                                stops: [[10, 11], [18, 16]]
                            },
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, 0],
                            "text-rotation-alignment": "viewport",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 8
                        },
                        maxzoom: 16,
                        filter: ["in", "type", "aboriginal_lands", "archipelago", "islet"],
                        type: "symbol",
                        source: "composite",
                        id: "place-islet-archipelago-aboriginal",
                        paint: {
                            "text-color": "hsl(230, 29%, 35%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1
                        },
                        "source-layer": "place_label"
                    }, {
                        minzoom: 10,
                        layout: {
                            "text-field": "{name_en}",
                            "text-transform": "uppercase",
                            "text-letter-spacing": .1,
                            "text-max-width": 7,
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "text-padding": 3,
                            "text-size": {
                                base: 1,
                                stops: [[12, 11], [16, 16]]
                            }
                        },
                        maxzoom: 16,
                        filter: ["==", "type", "neighbourhood"],
                        type: "symbol",
                        source: "composite",
                        id: "place-neighbourhood",
                        paint: {
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1,
                            "text-color": "hsl(230, 29%, 35%)",
                            "text-halo-blur": .5
                        },
                        "source-layer": "place_label"
                    }, {
                        minzoom: 10,
                        layout: {
                            "text-field": "{name_en}",
                            "text-transform": "uppercase",
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "text-letter-spacing": .15,
                            "text-max-width": 7,
                            "text-padding": 3,
                            "text-size": {
                                base: 1,
                                stops: [[11, 11], [15, 18]]
                            }
                        },
                        maxzoom: 16,
                        filter: ["==", "type", "suburb"],
                        type: "symbol",
                        source: "composite",
                        id: "place-suburb",
                        paint: {
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1,
                            "text-color": "hsl(230, 29%, 35%)",
                            "text-halo-blur": .5
                        },
                        "source-layer": "place_label"
                    }, {
                        minzoom: 10,
                        layout: {
                            "text-field": "{name_en}",
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "text-size": {
                                base: 1,
                                stops: [[12, 11.5], [15, 16]]
                            }
                        },
                        maxzoom: 16,
                        filter: ["==", "type", "hamlet"],
                        type: "symbol",
                        source: "composite",
                        id: "place-hamlet",
                        paint: {
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1.25,
                            "text-color": "hsl(0, 0%, 0%)"
                        },
                        "source-layer": "place_label"
                    }, {
                        minzoom: 8,
                        layout: {
                            "text-field": "{name}",
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "text-max-width": 7,
                            "text-size": {
                                base: 1,
                                stops: [[10, 11.5], [16, 18]]
                            }
                        },
                        maxzoom: 15,
                        filter: ["==", "type", "village"],
                        type: "symbol",
                        source: "composite",
                        id: "place-village",
                        paint: {
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1.25,
                            "text-color": "hsl(0, 0%, 0%)"
                        },
                        "source-layer": "place_label"
                    }, {
                        minzoom: 6,
                        layout: {
                            "icon-image": "dot-9",
                            "text-font": {
                                base: 1,
                                stops: [[11, ["DIN Offc Pro Regular", "Arial Unicode MS Regular"]], [12, ["DIN Offc Pro Medium", "Arial Unicode MS Regular"]]]
                            },
                            "text-offset": {
                                base: 1,
                                stops: [[7, [0, -.15]], [8, [0, 0]]]
                            },
                            "text-anchor": {
                                base: 1,
                                stops: [[7, "bottom"], [8, "center"]]
                            },
                            "text-field": "{name}",
                            "text-max-width": 7,
                            "text-size": {
                                base: 1,
                                stops: [[7, 11.5], [15, 16]]
                            }
                        },
                        maxzoom: 15,
                        filter: ["==", "type", "town"],
                        type: "symbol",
                        source: "composite",
                        id: "place-town",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1.25,
                            "icon-opacity": {
                                base: 1,
                                stops: [[7.99, 1], [8, 0]]
                            }
                        },
                        "source-layer": "place_label"
                    }, {
                        layout: {
                            "text-line-height": 1.2,
                            "text-size": {
                                base: 1,
                                stops: [[10, 11], [18, 16]]
                            },
                            "text-max-angle": 38,
                            "symbol-spacing": 250,
                            "text-font": ["DIN Offc Pro Regular", "Arial Unicode MS Regular"],
                            "text-padding": 2,
                            "text-offset": [0, 0],
                            "text-rotation-alignment": "viewport",
                            "text-field": "{name_en}",
                            "text-letter-spacing": .01,
                            "text-max-width": 7
                        },
                        maxzoom: 16,
                        filter: ["==", "type", "island"],
                        type: "symbol",
                        source: "composite",
                        id: "place-island",
                        paint: {
                            "text-color": "hsl(230, 29%, 35%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1
                        },
                        "source-layer": "place_label"
                    }, {
                        layout: {
                            "text-size": {
                                base: 1,
                                stops: [[6, 12], [14, 15]]
                            },
                            "icon-image": "dot-9",
                            "text-font": {
                                base: 1,
                                stops: [[7, ["DIN Offc Pro Regular", "Arial Unicode MS Regular"]], [8, ["DIN Offc Pro Medium", "Arial Unicode MS Regular"]]]
                            },
                            "text-offset": {
                                base: 1,
                                stops: [[7.99, [0, -.2]], [8, [0, 0]]]
                            },
                            "text-anchor": {
                                base: 1,
                                stops: [[7, "bottom"], [8, "center"]]
                            },
                            "text-field": "{name}",
                            "text-max-width": 7
                        },
                        metadata: {
                            "mapbox:group": "1444862510685.128"
                        },
                        maxzoom: 14,
                        filter: ["all", ["!in", "scalerank", 0, 1, 2, 3, 4, 5], ["==", "type", "city"]],
                        type: "symbol",
                        source: "composite",
                        id: "place-city-sm",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1.25,
                            "icon-opacity": {
                                base: 1,
                                stops: [[7.99, 1], [8, 0]]
                            }
                        },
                        "source-layer": "place_label"
                    }, {
                        layout: {
                            "text-field": "{name_en}",
                            "icon-image": "dot-10",
                            "text-anchor": {
                                base: 1,
                                stops: [[7, "top"], [8, "center"]]
                            },
                            "text-offset": {
                                base: 1,
                                stops: [[7.99, [0, .1]], [8, [0, 0]]]
                            },
                            "text-font": {
                                base: 1,
                                stops: [[7, ["DIN Offc Pro Regular", "Arial Unicode MS Regular"]], [8, ["DIN Offc Pro Medium", "Arial Unicode MS Regular"]]]
                            },
                            "text-size": {
                                base: .9,
                                stops: [[5, 12], [12, 22]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444862510685.128"
                        },
                        maxzoom: 14,
                        filter: ["all", ["==", "type", "city"], ["in", "ldir", "E", "S", "SE", "SW"], ["in", "scalerank", 3, 4, 5]],
                        type: "symbol",
                        source: "composite",
                        id: "place-city-md-s",
                        paint: {
                            "text-halo-width": 1,
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-blur": 1,
                            "icon-opacity": {
                                base: 1,
                                stops: [[7.99, 1], [8, 0]]
                            }
                        },
                        "source-layer": "place_label"
                    }, {
                        layout: {
                            "icon-image": "dot-10",
                            "text-font": {
                                base: 1,
                                stops: [[7, ["DIN Offc Pro Regular", "Arial Unicode MS Regular"]], [8, ["DIN Offc Pro Medium", "Arial Unicode MS Regular"]]]
                            },
                            "text-offset": {
                                base: 1,
                                stops: [[7.99, [0, -.25]], [8, [0, 0]]]
                            },
                            "text-anchor": {
                                base: 1,
                                stops: [[7, "bottom"], [8, "center"]]
                            },
                            "text-field": "{name_en}",
                            "text-max-width": 7,
                            "text-size": {
                                base: .9,
                                stops: [[5, 12], [12, 22]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444862510685.128"
                        },
                        maxzoom: 14,
                        filter: ["all", ["==", "type", "city"], ["in", "ldir", "N", "NE", "NW", "W"], ["in", "scalerank", 3, 4, 5]],
                        type: "symbol",
                        source: "composite",
                        id: "place-city-md-n",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1,
                            "icon-opacity": {
                                base: 1,
                                stops: [[7.99, 1], [8, 0]]
                            },
                            "text-halo-blur": 1
                        },
                        "source-layer": "place_label"
                    }, {
                        minzoom: 1,
                        layout: {
                            "icon-image": "dot-11",
                            "text-font": {
                                base: 1,
                                stops: [[7, ["DIN Offc Pro Regular", "Arial Unicode MS Regular"]], [8, ["DIN Offc Pro Medium", "Arial Unicode MS Regular"]]]
                            },
                            "text-offset": {
                                base: 1,
                                stops: [[7.99, [0, .15]], [8, [0, 0]]]
                            },
                            "text-anchor": {
                                base: 1,
                                stops: [[7, "top"], [8, "center"]]
                            },
                            "text-field": "{name_en}",
                            "text-max-width": 7,
                            "text-size": {
                                base: .9,
                                stops: [[4, 12], [10, 18]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444862510685.128"
                        },
                        maxzoom: 14,
                        filter: ["all", ["<=", "scalerank", 2], ["==", "type", "city"], ["in", "ldir", "E", "S", "SE", "SW"]],
                        type: "symbol",
                        source: "composite",
                        id: "place-city-lg-s",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1,
                            "icon-opacity": {
                                base: 1,
                                stops: [[7.99, 1], [8, 0]]
                            },
                            "text-halo-blur": 1
                        },
                        "source-layer": "place_label"
                    }, {
                        minzoom: 1,
                        layout: {
                            "icon-image": "dot-11",
                            "text-font": {
                                base: 1,
                                stops: [[7, ["DIN Offc Pro Regular", "Arial Unicode MS Regular"]], [8, ["DIN Offc Pro Medium", "Arial Unicode MS Regular"]]]
                            },
                            "text-offset": {
                                base: 1,
                                stops: [[7.99, [0, -.25]], [8, [0, 0]]]
                            },
                            "text-anchor": {
                                base: 1,
                                stops: [[7, "bottom"], [8, "center"]]
                            },
                            "text-field": "{name}",
                            "text-max-width": 7,
                            "text-size": {
                                base: .9,
                                stops: [[4, 12], [10, 22]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444862510685.128"
                        },
                        maxzoom: 14,
                        filter: ["all", ["<=", "scalerank", 2], ["==", "type", "city"], ["in", "ldir", "N", "NE", "NW", "W"]],
                        type: "symbol",
                        source: "composite",
                        id: "place-city-lg-n",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-opacity": 1,
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1,
                            "icon-opacity": {
                                base: 1,
                                stops: [[7.99, 1], [8, 0]]
                            },
                            "text-halo-blur": 1
                        },
                        "source-layer": "place_label"
                    }, {
                        minzoom: 3,
                        layout: {
                            "text-size": {
                                base: 1,
                                stops: [[6, 10], [9, 14]]
                            },
                            "text-transform": "uppercase",
                            "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"],
                            "text-field": {
                                base: 1,
                                stops: [[0, "{abbr}"], [6, "{name_en}"]]
                            },
                            "text-letter-spacing": .15,
                            "text-max-width": 5
                        },
                        metadata: {
                            "mapbox:group": "1444856151690.9143"
                        },
                        maxzoom: 9,
                        filter: ["<", "area", 2e4],
                        type: "symbol",
                        source: "composite",
                        id: "state-label-sm",
                        paint: {
                            "text-opacity": 1,
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1
                        },
                        "source-layer": "state_label"
                    }, {
                        minzoom: 3,
                        layout: {
                            "text-size": {
                                base: 1,
                                stops: [[5, 10], [8, 16]]
                            },
                            "text-transform": "uppercase",
                            "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"],
                            "text-field": {
                                base: 1,
                                stops: [[0, "{abbr}"], [5, "{name_en}"]]
                            },
                            "text-letter-spacing": .15,
                            "text-max-width": 6
                        },
                        metadata: {
                            "mapbox:group": "1444856151690.9143"
                        },
                        maxzoom: 8,
                        filter: ["all", ["<", "area", 8e4], [">=", "area", 2e4]],
                        type: "symbol",
                        source: "composite",
                        id: "state-label-md",
                        paint: {
                            "text-opacity": 1,
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1
                        },
                        "source-layer": "state_label"
                    }, {
                        minzoom: 3,
                        layout: {
                            "text-size": {
                                base: 1,
                                stops: [[4, 10], [7, 18]]
                            },
                            "text-transform": "uppercase",
                            "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"],
                            "text-padding": 1,
                            "text-field": {
                                base: 1,
                                stops: [[0, "{abbr}"], [4, "{name_en}"]]
                            },
                            "text-letter-spacing": .15,
                            "text-max-width": 6
                        },
                        metadata: {
                            "mapbox:group": "1444856151690.9143"
                        },
                        maxzoom: 7,
                        filter: [">=", "area", 8e4],
                        type: "symbol",
                        source: "composite",
                        id: "state-label-lg",
                        paint: {
                            "text-opacity": 1,
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": "hsl(0, 0%, 100%)",
                            "text-halo-width": 1
                        },
                        "source-layer": "state_label"
                    }, {
                        minzoom: 1,
                        layout: {
                            "text-field": "{name_en}",
                            "text-max-width": 6,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-size": {
                                base: .9,
                                stops: [[5, 14], [9, 22]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444856144497.7825"
                        },
                        maxzoom: 10,
                        filter: [">=", "scalerank", 5],
                        type: "symbol",
                        source: "composite",
                        id: "country-label-sm",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": {
                                base: 1,
                                stops: [[2, "rgba(255,255,255,0.75)"], [3, "hsl(0, 0%, 100%)"]]
                            },
                            "text-halo-width": 1.25,
                            "text-opacity": 1
                        },
                        "source-layer": "country_label"
                    }, {
                        minzoom: 1,
                        layout: {
                            "text-field": {
                                base: 1,
                                stops: [[0, "{code}"], [2, "{name_en}"]]
                            },
                            "text-max-width": 6,
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-size": {
                                base: 1,
                                stops: [[3, 10], [8, 24]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444856144497.7825"
                        },
                        maxzoom: 8,
                        filter: ["in", "scalerank", 3, 4],
                        type: "symbol",
                        source: "composite",
                        id: "country-label-md",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": {
                                base: 1,
                                stops: [[2, "rgba(255,255,255,0.75)"], [3, "hsl(0, 0%, 100%)"]]
                            },
                            "text-halo-width": 1.25
                        },
                        "source-layer": "country_label"
                    }, {
                        minzoom: 1,
                        layout: {
                            "text-field": "{name_en}",
                            "text-max-width": {
                                base: 1,
                                stops: [[0, 5], [3, 6]]
                            },
                            "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
                            "text-size": {
                                base: 1,
                                stops: [[1, 10], [6, 20]]
                            }
                        },
                        metadata: {
                            "mapbox:group": "1444856144497.7825"
                        },
                        maxzoom: 7,
                        filter: ["in", "scalerank", 1, 2],
                        type: "symbol",
                        source: "composite",
                        id: "country-label-lg",
                        paint: {
                            "text-color": "hsl(0, 0%, 0%)",
                            "text-halo-color": {
                                base: 1,
                                stops: [[2, "rgba(255,255,255,0.75)"], [3, "hsl(0, 0%, 100%)"]]
                            },
                            "text-halo-width": 1.25
                        },
                        "source-layer": "country_label"
                    }];
                    this.styles.zr = [];
                    for (var t = function(t, i) {
                        var n, o, r, a, s, h, e = M[t];
                        if (e.zIndex = t,
                        e.paint["line-width"]) {
                            var f, l = e.paint["line-width"], u = 0, c = 0, d = null, p = null, v = null, m = null;
                            if ("number" != typeof l) {
                                if (l.stops)
                                    d = l.base || 1,
                                    v = l.stops;
                                else if ("interpolate" === l[0]) {
                                    var y = l.slice(3);
                                    v = [];
                                    for (var g = 0; g < y.length; g += 2)
                                        v.push([y[g], y[g + 1]]);
                                    d = 1
                                }
                            } else
                                u = l;
                            if (e.paint["line-gap-width"]) {
                                var x = e.paint["line-gap-width"];
                                if ("number" != typeof x) {
                                    if (x.stops)
                                        p = x.base || 1,
                                        m = x.stops;
                                    else if ("interpolate" === x[0]) {
                                        for (y = x.slice(3),
                                        m = [],
                                        g = 0; g < y.length; g += 2)
                                            m.push([y[g], y[g + 1]]);
                                        p = 1
                                    }
                                } else
                                    c = x
                            }
                            n = u,
                            o = c,
                            r = d,
                            a = p,
                            s = v,
                            h = m,
                            f = function(t) {
                                var i = 0
                                  , e = 0;
                                return h && a ? i = k.Sr(a, h, t) : o && (i = o),
                                s && r ? e = k.Sr(r, s, t) : n && (e = n),
                                i ? 2 * e + i : e
                            }
                            ,
                            C.styles.zr.push(f),
                            e.paint["line-width"] = f,
                            e.paint["line-width"].Cr = C.styles.zr.length - 1,
                            delete e.paint["line-gap-width"]
                        }
                        var b = e["source-layer"];
                        if (b) {
                            C.styles[b] || (C.styles[b] = []);
                            var _ = e.filter;
                            if (_) {
                                e.filters = [];
                                var w = function(t) {
                                    if ("all" !== t[0])
                                        "in" === t[0] || "!in" === t[0] ? e.filters.push([t[0], t[1], t.slice(2)]) : e.filters.push(t);
                                    else
                                        for (var i = 1; i < t.length; i += 1)
                                            w(t[i])
                                };
                                w(_)
                            }
                            C.styles[b].push(e)
                        } else
                            C.styles[e.id] = e
                    }, C = this, i = 0, e = M.length; i < e; i += 1)
                        t(i);
                    this.backgroundColor = this.Lr(this.styles.background.paint["background-color"])
                },
                Ar: function(t, i, e, n) {
                    var o = n - e
                      , r = t - e;
                    return 0 == o ? 0 : 1 === i ? r / o : (Math.pow(i, r) - 1) / (Math.pow(i, o) - 1)
                },
                Sr: function(t, i, e) {
                    if (e < i[0][0])
                        return i[0][1];
                    if (e >= i[i.length - 1][0])
                        return i[i.length - 1][1];
                    for (var n = 1, o = i.length; n < o; n += 1)
                        if (e < i[n][0]) {
                            if (i[n][1]instanceof Array) {
                                for (var r = new Array(i[n][1].length), a = 0; a < i[n][1].length; a += 1)
                                    r[a] = i[n - 1][1][a] + this.Ar(e, t, i[n - 1][0], i[n][0]) * (i[n][1][a] - i[n - 1][1][a]);
                                return r
                            }
                            if ("number" == typeof i[n][1])
                                return i[n - 1][1] + this.Ar(e, t, i[n - 1][0], i[n][0]) * (i[n][1] - i[n - 1][1])
                        }
                },
                Lr: function(t, i) {
                    if (t) {
                        var e = void 0;
                        if ("string" == typeof t)
                            e = t;
                        else if (t.stops)
                            for (var n = 0, o = t.stops.length; n < o; n += 1) {
                                if (t.stops[n][0] > i) {
                                    e = t.stops[n][1];
                                    break
                                }
                                e = t.stops[o - 1][1]
                            }
                        else if ("interpolate" === t[0]) {
                            for (var r = t.slice(3), a = [], s = 0; s < r.length; s += 2)
                                a.push([r[s], r[s + 1]]);
                            for (n = 0,
                            o = a.length; n < o; n += 1) {
                                if (a[n][0] > i) {
                                    e = a[n][1];
                                    break
                                }
                                e = a[o - 1][1]
                            }
                        }
                        return e
                    }
                },
                Tr: function(t, i) {
                    if (t) {
                        var e = void 0;
                        if (t.stops)
                            for (var n = 0, o = t.stops.length; n < o; n += 1) {
                                if (t.stops[n][0] > i) {
                                    e = t.stops[n][1];
                                    break
                                }
                                e = t.stops[o - 1][1]
                            }
                        else
                            e = t;
                        return e
                    }
                },
                Ir: function(t, i) {
                    var e;
                    if (void 0 === t)
                        return 0;
                    if ("function" == typeof t)
                        return t(i);
                    if ("number" != typeof t) {
                        if (t.stops)
                            e = this.Sr(t.base || 1, t.stops, i);
                        else if ("interpolate" === t[0]) {
                            for (var n = t.slice(3), o = [], r = 0; r < n.length; r += 2)
                                o.push([n[r], n[r + 1]]);
                            e = this.Sr(1, o, i)
                        }
                    } else
                        e = t;
                    return e
                },
                Dr: function(t, i, e) {
                    var n;
                    if (void 0 === t)
                        return t;
                    t instanceof Array ? n = t : t.stops && (n = this.Sr(t.base || 1, t.stops, i));
                    var o = new Array(n.length);
                    this.Mr && (e *= 2);
                    for (var r = 0; r < n.length; r++) {
                        var a = n[r];
                        o[r] = a * e
                    }
                    return o
                },
                Pr: function(t, i) {
                    for (var e, n, o, r, a, s, h, l, f, u, c, d = "butt", p = "butt", v = "solid", m = "solid", y = 0, g = 0, x = 0; x < t.length; x += 1)
                        if ("line" === t[x].type) {
                            var b = t[x];
                            if (b.minzoom && b.minzoom > i)
                                continue;
                            var _ = b.paint
                              , w = b.layout
                              , k = this.Ir(_["line-opacity"] || 1, i);
                            if (!k)
                                continue;
                            if (wt.Util.endsWith(t[x].id, "-low")) {
                                s = k;
                                var M = _["line-color"];
                                r = this.Lr(M, i),
                                d = this.Tr(w["line-cap"] || d, i),
                                n = this.Ir(_["line-width"], i),
                                f = _["line-width"].Cr,
                                (l = this.Dr(_["line-dasharray"], i, n)) && (v = "dashed"),
                                g = Math.max(g, t[x].zIndex)
                            } else
                                wt.Util.endsWith(t[x].id, "-case") || wt.Util.endsWith(t[x].id, "-tracks") ? (a = !0,
                                h = k,
                                M = _["line-color"],
                                o = this.Lr(M, i),
                                e = this.Ir(_["line-width"], i),
                                u = _["line-width"].Cr,
                                p = this.Tr(w["line-cap"] || p, i),
                                (c = this.Dr(_["line-dasharray"], i, e)) && (m = "dashed"),
                                y = Math.max(y, t[x].zIndex)) : wt.Util.endsWith(t[x].id, "-bg") ? (a = !0,
                                h = k,
                                M = _["line-color"],
                                o = this.Lr(M, i),
                                p = this.Tr(w["line-cap"] || p, i),
                                e = this.Ir(_["line-width"], i),
                                u = _["line-width"].Cr,
                                (c = this.Dr(_["line-dasharray"], i, e)) && (m = "dashed"),
                                y = Math.max(y, t[x].zIndex)) : (s = k,
                                M = _["line-color"],
                                r = this.Lr(M, i),
                                d = this.Tr(w["line-cap"] || d, i),
                                n = this.Ir(_["line-width"], i),
                                f = _["line-width"].Cr,
                                this.Dr(_["line-dasharray"], i, n) && (v = "dashed"),
                                g = Math.max(g, t[x].zIndex))
                        }
                    return n ? {
                        jr: g,
                        Or: y,
                        Fr: v,
                        Er: s,
                        Nr: l,
                        $r: n,
                        faceColor: r,
                        Ur: d,
                        Br: p,
                        isOutline: a,
                        Wr: h,
                        Gr: m,
                        Zr: c,
                        borderColor: o,
                        borderWidth: e,
                        qr: f,
                        Yr: u
                    } : void 0
                },
                Vr: function(t, i) {
                    for (var e, n, o, r, a = 0, s = 0; s < t.length; s += 1) {
                        var h = t[s];
                        if ("line" === t[s].type) {
                            if (h.minzoom && h.minzoom > i)
                                continue;
                            a = Math.max(a, h.zIndex);
                            var l = (f = h.paint)["line-color"];
                            o = this.Lr(l, i),
                            e = this.Ir(f["line-width"], i),
                            n = this.Ir(f["line-opacity"] || 1, i)
                        } else if ("fill" === t[s].type) {
                            if (h.minzoom && h.minzoom > i)
                                continue;
                            a = Math.max(a, h.zIndex);
                            var f, u = (f = h.paint)["fill-color"];
                            r = this.Lr(u, i)
                        }
                    }
                    return {
                        zIndex: a,
                        fillColor: r,
                        fillOpacity: 1,
                        strokeWeight: e,
                        strokeColor: o,
                        strokeOpacity: n
                    }
                },
                Xr: function(t, i) {
                    var e = t[0]
                      , n = e.paint
                      , o = e.layout;
                    if ("symbol" === e.type) {
                        if (e.minzoom && e.minzoom > i)
                            return;
                        var r = this.Lr(n["text-color"], i)
                          , a = this.Lr(n["text-halo-color"], i)
                          , s = this.Ir(n["text-halo-width"], i)
                          , h = this.Ir(n["icon-opacity"] || 1, i)
                          , l = void 0;
                        0 == +s && (a = ""),
                        o["icon-image"] && (l = this.Tr(o["icon-image"]));
                        var p, f = this.Tr(o["icon-rotation-alignment"], i), u = o["text-max-width"], c = this.Tr(o["text-anchor"] || "center", i), d = this.Tr(o["text-font"], i) || "Microsoft YaHei";
                        p = o["text-offset"] ? this.Tr(o["text-offset"], i) : [0, 0];
                        var v = this.Ir(o["text-size"], i)
                          , m = this.Tr(o["text-field"], i);
                        return m = m && (m = m.replace("{name}", this.Hr)).substr(1, m.length - 2),
                        {
                            zIndex: e.zIndex,
                            Jr: f,
                            Kr: r,
                            Qr: a,
                            th: (e.minzoom || 1) + 1,
                            ih: (e.maxzoom || 20) + 1,
                            eh: h,
                            nh: l,
                            oh: u,
                            textAnchor: c,
                            ah: d,
                            sh: p,
                            rh: v,
                            hh: m
                        }
                    }
                },
                lh: function(t, i) {
                    var e = []
                      , n = this.Pr(t, i);
                    n && (n.type = "line",
                    e.push(n));
                    var o = this.uh(t, i);
                    return o.length && e.push.apply(e, o),
                    e
                },
                uh: function(t, i) {
                    for (var e = [], n = 0; n < t.length; n += 1) {
                        var o = this.Xr([t[n]], i);
                        o && e.push(o)
                    }
                    return e
                },
                n_: function(h, l, t, i) {
                    var f = h.type;
                    h.properties.class,
                    h.properties.type;
                    var n, u = this.styles[l];
                    return h.properties.iso_3166_1 && -1 !== h.properties.iso_3166_1.indexOf("CN") ? {} : u && (n = function() {
                        for (var t = [], i = 0, e = u.length; i < e; i += 1) {
                            var n = u[i];
                            if (n.filters) {
                                for (var o = !0, r = 0; r < n.filters.length; r += 1) {
                                    var a = n.filters[r]
                                      , s = void 0;
                                    switch (a[1]) {
                                    case "$type":
                                        s = 3 === f ? "Polygon" : 2 === f ? "LineString" : "Point";
                                        break;
                                    default:
                                        s = h.properties[a[1]]
                                    }
                                    switch (a[0]) {
                                    case "==":
                                        s !== a[2] && (o = !1);
                                        break;
                                    case "!=":
                                        s === a[2] && (o = !1);
                                        break;
                                    case ">":
                                        s <= a[2] && (o = !1);
                                        break;
                                    case "<":
                                        s >= a[2] && (o = !1);
                                        break;
                                    case ">=":
                                        s < a[2] && (o = !1);
                                        break;
                                    case "<=":
                                        s > a[2] && (o = !1);
                                        break;
                                    case "in":
                                        -1 === a[2].indexOf(s) && (o = !1);
                                        break;
                                    case "!in":
                                        -1 !== a[2].indexOf(s) && (o = !1)
                                    }
                                }
                                o && t.push(n)
                            } else
                                n.id === l && t.push(n)
                        }
                        return t
                    }()).length ? 1 === f ? this.Xr(n, i) : 2 === f ? this.lh(n, i) : 3 === f ? this.Vr(n, i) : void 0 : void 0
                },
                fh: function(t, i) {
                    for (var e = 1 << 20 - i.z, n = t.extent / 256, o = 0; o < t.style.length; o += 1) {
                        var r = t.style[o];
                        if ("line" !== r.type) {
                            var a = "";
                            r.hh && (a = t.properties[r.hh]);
                            for (var s = this.Mr, h = s ? 1.8 * r.rh : r.rh, l = t.lines[0], f = 1; f < t.lines.length; f += 1)
                                l.length < t.lines[f].length && (l = t.lines[f]);
                            for (var u = [], c = 0; c < l.length; c += 1) {
                                var d = [i.x * e * 256 + l[c][0] / n * e, 256 * i.y * e + l[c][1] / n * e];
                                u.push(d)
                            }
                            var p = r.textAnchor;
                            this._r.font = r.rh + "px " + r.ah;
                            var v = this._r.measureText(a).width
                              , m = 0
                              , y = 0
                              , g = r.nh && "viewport" === r.Jr;
                            if (r.nh) {
                                m = (-t.properties.dh || 0) - 100;
                                var x = wt.kS._S(u, wt.kS.distanceOfLine(u) / 2) || []
                                  , b = x[2];
                                "viewport" !== r.Jr && 1 < u.length && (y = 360 - (new wt.Pixel(u[b + 1][0] - u[b][0],u[b + 1][1] - u[b][1]).direction() || 0)),
                                u = [x[0], x[1]]
                            } else {
                                if (this.vh(l))
                                    continue;
                                var _ = new wt.Pixel(l[1][0] - l[0][0],l[1][1] - l[0][1]).direction() || 0;
                                if (90 < _ && _ < 270 && (u.reverse(),
                                l.reverse()),
                                m = -t.properties.dh - 1e6,
                                wt.kS.distanceOfLine(u) / e < 1.5 * v)
                                    continue
                            }
                            var w = {
                                margin: this.mh,
                                foreign: !0,
                                zIndex: r.zIndex,
                                yh: y,
                                rank: m,
                                font: r.ah,
                                Kr: r.Kr,
                                Qr: r.Qr,
                                rh: h,
                                id: t.id,
                                xh: u,
                                name: a,
                                textAlign: "center",
                                textBaseline: "center" === p ? "middle" : "top",
                                bh: [],
                                gh: new Array,
                                wh: g,
                                _h: !g,
                                kh: !r.nh,
                                th: r.th,
                                Mh: !0,
                                Rh: new Array,
                                zh: !1,
                                zoom: i.z
                            };
                            if (r.nh) {
                                var k = 0
                                  , M = r.nh.replace("{maki}", t.properties.maki).replace("{shield}", t.properties.shield).replace("{reflen}", t.properties.reflen).replace("{network}", t.properties.network)
                                  , C = this.kr[M];
                                if (C && r.eh) {
                                    k = C.height;
                                    var S = [-C.width / 2, -C.height / 2, C.width, C.height, C.x, C.y, C.width, C.height];
                                    w.gh.push(S)
                                }
                                if (a) {
                                    var R, z = void 0;
                                    R = "center" === p ? (z = 0,
                                    -h / 2) : z = o * (h + 2) + k / 2,
                                    w.Rh.push([a, r.ah, h, r.Kr, r.Qr, 0, 0, !1, [0, z, s ? 1.8 * v : v, h]]),
                                    S = [-v / 2, R, v, h],
                                    w.gh.push(S)
                                }
                                (k || a) && (a ? w.id = "mapbox_guideboard_" + wt.Util.stamp(w) : (w.id = "mapbox_singleway_" + wt.Util.stamp(w),
                                w.zh = !0),
                                i.labels.push(w))
                            } else
                                a && (w.id = "mapbox_roadname_" + wt.Util.stamp(w),
                                i.labels.push(w))
                        }
                    }
                },
                Sh: function(t, i) {
                    var e = 1 << 20 - i.z
                      , n = t.extent / 256
                      , o = t.Ch.xh[0][0]
                      , r = t.properties[t.style.hh];
                    if (r) {
                        var a = this.Mr ? 2 * t.style.rh : t.style.rh
                          , s = [i.x * e * 256 + o[0] / n * e, 256 * i.y * e + o[1] / n * e]
                          , h = t.style.textAnchor
                          , l = {
                            foreign: !0,
                            margin: this.mh,
                            zIndex: t.style.zIndex,
                            rank: -t.properties.dh || 0,
                            id: t.id,
                            xh: s,
                            name: r,
                            textAlign: "center",
                            textBaseline: "center" === h ? "middle" : "top",
                            bh: [],
                            gh: new Array,
                            yh: 0,
                            pos: [o[0] / n, o[1] / n],
                            wh: !0,
                            th: t.style.th,
                            Mh: !0,
                            Rh: new Array
                        }
                          , f = 0;
                        if (t.style.nh) {
                            var u = t.style.nh.replace("{maki}", t.properties.maki).replace("{shield}", t.properties.shield).replace("{reflen}", t.properties.reflen).replace("{network}", t.properties.network)
                              , c = this.kr[u];
                            if (c && t.style.eh) {
                                f = c.height;
                                var d = [-c.width / 2, -c.height / 2, c.width, c.height, c.x, c.y, c.width, c.height];
                                l.gh = [d]
                            }
                        }
                        var p = []
                          , v = r.indexOf("(");
                        if (0 < v)
                            p = [r.substr(0, v), r.substr(v)];
                        else if (20 < r.length) {
                            var m = r.split(" ");
                            if (1 < m.length) {
                                var y = Math.floor(m.length / 2);
                                p = [m.slice(0, y).join(" "), m.slice(y).join(" ")]
                            } else
                                p = [r]
                        } else
                            p = [r];
                        this._r.font = a + "px " + t.style.ah;
                        for (var g = 0; g < p.length; g += 1) {
                            var _, x = p[g], b = this._r.measureText(x).width;
                            _ = "center" === h ? (-.5 * p.length + g) * (a + 2) : g * (a + 2) + f / 2,
                            l.Rh.push([x, t.style.ah, a, t.style.Kr, t.style.Qr, 0, 0, !1, [0, _, b, a]]),
                            d = [-b / 2, _, b, a],
                            l.gh.push(d)
                        }
                        return i.labels.push(l),
                        l
                    }
                },
                Lh: function(t) {
                    var i = []
                      , e = [];
                    for (var n in t.layers)
                        if (t.layers.hasOwnProperty(n)) {
                            for (var o = t.layers[n], r = [], a = 0; a < o.Ah.length; a += 1)
                                3 == +(s = o.Ah[a]).type ? i.push(s) : 2 == +s.type && r.push(s);
                            for (a = 0; a < r.length; a += 1) {
                                var s, h = (s = r[a]).style;
                                h.isOutline && e.push([s, {
                                    zIndex: h.Or,
                                    Th: h.Yr,
                                    strokeStyle: h.Gr,
                                    strokeOpacity: h.Wr,
                                    strokeDasharray: h.Zr,
                                    lineCap: h.Br,
                                    strokeWeight: h.borderWidth,
                                    strokeColor: h.borderColor
                                }]),
                                e.push([s, {
                                    zIndex: h.jr,
                                    Th: h.qr,
                                    strokeStyle: h.Fr,
                                    strokeOpacity: h.Er,
                                    strokeDasharray: h.Nr,
                                    lineCap: h.Ur,
                                    strokeWeight: h.$r,
                                    strokeColor: h.faceColor
                                }])
                            }
                        }
                    e.sort(function(t, i) {
                        return t[1].zIndex > i[1].zIndex ? 1 : -1
                    }),
                    t.polygons = i,
                    t.Dh = e,
                    delete t.layers
                },
                Ph: function(t) {
                    t.type,
                    t.lines
                },
                jh: function(t, i, e, n) {
                    this.mh = 3;
                    var o = i.vt;
                    o.labels = [];
                    var r = [];
                    for (var a in o.layers)
                        if (o.layers.hasOwnProperty(a)) {
                            var s = o.layers[a]
                              , h = s.Ah;
                            r.push(a);
                            for (var l = 0, f = h.length; l < f; l++) {
                                var u = h[l];
                                u.Fh = s.name,
                                u.style = this.n_(u, s.name, !0, o.z - 1),
                                u.style,
                                this.Ph(u),
                                u.style && (1 == +u.type || 2 == +u.type && u.style.length && (this.fh(u, o),
                                "line" === u.style[0].type && (u.style = u.style[0])))
                            }
                        }
                    this.Lh(o),
                    this.Eh || (this.Eh = !0),
                    e.features = o.labels,
                    o.labels = null,
                    r.length > this.layers.length && (this.layers = r),
                    n(null, {
                        vt: o
                    })
                }
            };
            Ze.Rr();
            var Xe, Je = (Xe = ke,
            wt.Ei(qe, Xe),
            qe.prototype.oa = function(i, t, o, e) {
                var r = this;
                this.ze = t,
                this.aa = i,
                this.sa = [];
                var n = i.boundsCoord
                  , a = i.optimalZoom
                  , s = i.optimalResolution;
                a < this.Qs[0] ? (a = this.Qs[0],
                s = wt.at.getProjection(i.projectionId).getResolution(a)) : a > this.Qs[1] && (a = this.Qs[1],
                s = wt.at.getProjection(i.projectionId).getResolution(a));
                for (var h = this.ha(n, a, s), l = [], f = wt.map(h, function(t) {
                    return t.key
                }), u = this.la, c = [], d = 0, p = u; d < p.length; d++) {
                    var v = p[d];
                    if (f.indexOf(v.key) < 0) {
                        var m = this.ua.ta(v);
                        m && m.status !== wt.Mo.LOADED && m.request && (m.request.cancel(),
                        delete m.request,
                        this.ua.ea(m))
                    }
                }
                var y = [];
                if (wt.forEach(h, function(t) {
                    var i = new wt.ca(t.z,r.fa(t.x, t.z),t.y)
                      , e = new wt.ca(t.z,t.x,t.y)
                      , n = r.ua.ta(i);
                    if (n)
                        n && n.status === wt.Mo.LOADED ? r.sa.push(e) : c.push(t);
                    else {
                        var o = new wt.Gh(i);
                        o.status = wt.Mo.LOADING,
                        r.ua.Jo(o),
                        y.push(i),
                        c.push(t)
                    }
                    (!n || n && n.status !== wt.Mo.LOADED) && l.push(t)
                }),
                this.da(i, this.sa, l, e),
                this.la = c,
                0 === y.length)
                    return !1;
                wt.map(y, function(n) {
                    var t = r.ua.ta(n);
                    t && (t.request = r.Uh.send("loadMVTSourceTile", {
                        url: r.Be.replace("[x]", n.x + "").replace("[y]", n.y + "").replace("[z]", n.z + ""),
                        Zh: n,
                        projectionId: i.projectionId,
                        tileSize: r.Xa,
                        styles: r.To.MS()
                    }, function(t, i) {
                        if (i) {
                            var e = i && r.ua.ta(n);
                            e && (e.data = i,
                            e.status = wt.Mo.LOADED,
                            o())
                        }
                    }))
                })
            }
            ,
            qe.prototype.getData = function(i) {
                var t = i.boundsCoord
                  , e = i.optimalZoom
                  , n = this.ha(t, e, i.resolution)
                  , o = [];
                if (this.sa.sort(function(t) {
                    return i.optimalZoom === t.z ? 1 : -1
                }),
                0 < this.sa.length)
                    for (var r = 0; r < this.sa.length; r++) {
                        var a = this.sa[r]
                          , s = this.ua.ta(a)
                          , h = 0
                          , l = 0
                          , f = [0, 0]
                          , u = i.centerCoord;
                        if (s) {
                            var c = wt.lcs.getLocalByCoord([u[0], u[1]]);
                            if (i.optimalZoom >= wt.Ra) {
                                var d = wt.lcs.getSize();
                                h = s.Ma.x - c.x,
                                l = s.Ma.y - c.y,
                                0 !== h && (h *= d[0],
                                f[0] = h),
                                0 !== l && (l *= d[1],
                                f[1] = l),
                                i.optimalZoom >= wt.Ra && wt.za >= s.zo.z && (f[0] = -c.center[0],
                                f[1] = -c.center[1])
                            } else
                                i.optimalZoom < wt.Ra && wt.za < s.zo.z && (f[0] = c.center[0],
                                f[1] = c.center[1])
                        } else {
                            var p = this.ua.ta(new wt.ca(a.z,this.fa(a.x, a.z),a.y));
                            if (p) {
                                if (s = new wt.Gh(a),
                                d = (1 << a.z) - 1,
                                a.x < 0) {
                                    var v = Math.floor(a.x / d);
                                    f[0] += 20037508.342789244 * v * 2
                                } else
                                    a.x > d && (v = Math.floor(a.x / d),
                                    f[0] += 20037508.342789244 * v * 2);
                                s.Ro = p.Ro,
                                s.data = p.data,
                                s.Sa = f,
                                s.status = p.status
                            }
                        }
                        s && (s.Sa = f,
                        o.push(s))
                    }
                var m = wt.every(n, function(i) {
                    return wt.some(o, function(t) {
                        return t.zo.key === i.key
                    })
                });
                return this.Fo(m),
                {
                    fo: !!m,
                    tiles: o
                }
            }
            ,
            qe.prototype.Ks = function(t) {
                this.ua.Xo(t)
            }
            ,
            qe.prototype.Da = function(t, i) {
                if (t.length) {
                    var a = this.Pa.z
                      , s = (this.Pa.ja + this.Pa.Oa) / 2
                      , h = (this.Pa.Fa + this.Pa.Ea) / 2;
                    t.sort(function(t, i) {
                        var e = (t.x << a - t.z) - s
                          , n = (t.y << a - t.z) - h
                          , o = (i.x << a - i.z) - s
                          , r = (i.y << a - i.z) - h;
                        return e * e + n * n <= o * o + r * r ? -1 : 1
                    })
                }
            }
            ,
            qe.prototype.ha = function(t, i, e) {
                for (var n = 20037508.342789244, o = t[0] + n, r = -(t[3] - n), a = o / e, s = (t[2] + n) / e, h = r / e, l = -(t[1] - n) / e, f = this.Xa, u = Math.floor(s / f), c = Math.min((1 << i) - 1, Math.floor(l / f)), d = Math.floor(a / f), p = Math.floor(h / f), v = this.Pa = {
                    Oa: u,
                    Ea: c,
                    ja: d,
                    Fa: p,
                    z: i
                }, m = [], y = v.ja; y <= v.Oa; y += 1)
                    for (var g = v.Fa; g <= v.Ea; g += 1)
                        m.push(new wt.ca(i,y,g));
                return this.Da(m),
                m
            }
            ,
            qe.prototype.da = function(t, i, e, n) {
                var o, r, a, s = t.optimalZoom;
                if (this.Za) {
                    var h = Math.min(this.xt[1], s + 2);
                    for (r = s + 1; e.length && r <= h; r += 1) {
                        var l = [];
                        a = [];
                        var f = r;
                        for (o = e.length - 1; 0 <= o; --o)
                            for (var u = e[o], c = u.x << 1, d = u.y << 1, p = 1; 0 <= p; --p)
                                for (var v = 1; 0 <= v; --v) {
                                    var m = new wt.ca(f,this.fa(c + p, f),d + v)
                                      , y = this.ua.ta(m)
                                      , g = new wt.ca(f,c + p,d + v);
                                    y && y.status === wt.Mo.LOADED ? a.push(g) : l.push(g)
                                }
                        a.length && i.push.apply(i, a),
                        e = l
                    }
                }
                if (this.qa) {
                    var x = this.xt[0];
                    for (r = s - 1; e.length && x <= r; --r) {
                        a = [],
                        l = [];
                        var b = {};
                        for (o = e.length - 1; 0 <= o; --o) {
                            var _ = e[o]
                              , w = (f = r,
                            _.z - f)
                              , k = (p = _.x >> w,
                            v = _.y >> w,
                            (m = new wt.ca(f,this.fa(p, f),v)).key);
                            b[k] || (y = this.ua.ta(m),
                            b[k] = !0,
                            y && y.status === wt.Mo.LOADED ? a.push(new wt.ca(f,p,v)) : l.push(new wt.ca(f,p,v)))
                        }
                        a.length && i.push.apply(i, a),
                        e = l
                    }
                }
                return i
            }
            ,
            qe.prototype.fa = function(t, i) {
                var e = (1 << (i = i || this.aa.optimalZoom)) - 1;
                return e < t ? t - e - 1 : t < 0 ? e + t + 1 : t
            }
            ,
            qe);
            function qe(t, i, e, n) {
                var o = Xe.call(this, t, i, e, n) || this;
                return o.ua = new wt.OD(300),
                o.Xa = 256,
                o.sa = [],
                o.Zs = [],
                o.la = [],
                o.qa = !0,
                o.Za = !0,
                o.xt = t.zooms,
                o.Qs = t.dataZooms,
                o.Xa = t.tileSize || o.Xa,
                o.Be = t.tileUrl,
                o.$h = Ze,
                o.Uh = new wt.Bh(e.gn.Wh,o),
                o
            }
            var Qe, Ke = wt._.scale, tn = (Qe = ke,
            wt.Ei(en, Qe),
            en.prototype.oa = function(n, t, o, i) {
                var r = this;
                this.aa = n,
                this.sa = [];
                for (var e = n.optimalResolution, a = n.optimalZoom, s = n.boundsCoord, h = n.zoom, l = this.ha(s, a, e, n), f = [], u = wt.map(l, function(t) {
                    return t.key
                }), c = [], d = 0, p = this.la; d < p.length; d++) {
                    var v = p[d];
                    u.indexOf(v.key) < 0 && (_ = this.ua.ta(v)) && _.status !== wt.Mo.LOADED && _.request && (_.request.cancel(),
                    delete _.request,
                    this.ua.ea(_))
                }
                for (var m = [], y = i.getMapState(), g = y.panning, x = y.zooming, b = 0; b < l.length; b++) {
                    var _, w = l[b], k = new wt.ca(w.z,this.fa(w.x, w.y, w.z),w.y), M = new wt.ca(w.z,w.x,w.y);
                    if ((_ = this.ua.ta(k)) || !g || x) {
                        if (_)
                            _ && _.status === wt.Mo.LOADED ? this.sa.push(M) : c.push(w);
                        else {
                            var C = new wt.Sw(k);
                            C.status = wt.Mo.LOADING,
                            this.ua.Jo(C),
                            m.push(k),
                            c.push(w)
                        }
                        (!_ || _ && _.status !== wt.Mo.LOADED) && f.push(w)
                    }
                }
                if (this.da(n, this.sa, f, i),
                this.la = c,
                0 === m.length)
                    return !1;
                var S = this.To.SS().adcode;
                wt.map(m, function(t) {
                    var i = r.ua.ta(t);
                    if (i) {
                        var e = r.Be.replace("[z]", t.z + "").replace("[x]", t.x + "").replace("[y]", t.y + "");
                        r.map.gn.RS(i, {
                            url: e,
                            ya: t.key,
                            zoom: h,
                            optimalZoom: n.optimalZoom,
                            projectionId: n.projectionId,
                            Zh: t,
                            tileSize: r.Xa,
                            styles: {},
                            adcode: S
                        }, function(t) {
                            var i = t && r.ua.ta(t.zo);
                            if (i) {
                                delete i.request,
                                i.status = wt.Mo.LOADED,
                                i.Ma = t.zS,
                                i.Ro = t.Ro;
                                var e = wt.lcs.getLocalByCoord([i.Ro[0], i.Ro[1]]);
                                i.data = wt.Ln(wt.Ln({}, t), {
                                    Hs: e
                                }),
                                o()
                            }
                        })
                    }
                })
            }
            ,
            en.prototype.getData = function(t) {
                var i = t.optimalResolution
                  , e = t.optimalZoom
                  , n = t.boundsCoord
                  , o = this.ha(n, e, i, t)
                  , r = this.aa.projectionId
                  , a = wt.at.getProjection(r)
                  , s = []
                  , h = this.map.qF();
                if (this.ua.QF(h),
                this.sa.sort(function(t) {
                    return e === t.z ? 1 : -1
                }),
                0 < this.sa.length)
                    for (var l = 0; l < this.sa.length; l++) {
                        var f = this.sa[l]
                          , u = this.ua.ta(f)
                          , c = [0, 0]
                          , d = t.centerCoord
                          , p = wt.lcs.getLocalByCoord([d[0], d[1]])
                          , v = 0
                          , m = 0;
                        if (!u) {
                            var y = this.fa(f.x, f.y, f.z)
                              , g = this.ua.ta(new wt.ca(f.z,y,f.y));
                            if (g) {
                                u = new wt.Sw(f);
                                var x = a.getResolution(f.z)
                                  , b = f.x - g.zo.x;
                                c[0] += x * this.Xa * b,
                                u.Ro = g.Ro,
                                u.Ma = g.Ma,
                                u.data = g.data,
                                u.Sa = c,
                                u.status = g.status
                            }
                        }
                        if (u)
                            if (e >= wt.Ra && u.data.Hs) {
                                var _ = wt.lcs.getSize();
                                v = u.data.Hs.x - p.x,
                                m = u.data.Hs.y - p.y,
                                0 !== v && (v *= _[0],
                                c[0] = v),
                                0 !== m && (m *= _[1],
                                c[1] = m),
                                e >= wt.Ra && wt.za >= u.zo.z && (c[0] = -p.center[0],
                                c[1] = -p.center[1])
                            } else
                                e < wt.Ra && wt.za < u.zo.z && (c[0] = p.center[0],
                                c[1] = p.center[1]);
                        u && (u.Sa = c,
                        u.stamp = h,
                        s.push(u))
                    }
                var w = wt.every(o, function(i) {
                    return wt.some(s, function(t) {
                        return t.zo.key === i.key
                    })
                });
                return this.Fo(w),
                w && (this.a_ = !0),
                {
                    s_: this.a_,
                    fo: !!w,
                    tiles: s
                }
            }
            ,
            en.prototype.destroy = function() {
                this.ua.forEach(function(t) {
                    t.status !== wt.Mo.LOADED && t.request && (t.request.cancel(),
                    delete t.request),
                    t.destroy()
                }),
                this.ua.destroy(),
                this.sa = [],
                this.la = []
            }
            ,
            en.prototype.reload = function() {
                this.ua.forEach(function(t) {
                    t.status !== wt.Mo.LOADED && t.request && (t.request.cancel(),
                    delete t.request)
                }),
                this.ua.destroy(),
                this.sa = [],
                this.la = []
            }
            ,
            en.prototype.setTileUrl = function(t) {
                this.Be = t || this.Be
            }
            ,
            en.prototype.wS = function() {
                return this.ua
            }
            ,
            en.prototype.Ks = function(t) {
                t = t || (wt._.$e ? 50 : 200),
                this.ua.Xo(t)
            }
            ,
            en.prototype.Da = function(t, i) {
                if (t.length) {
                    var a = this.Pa.z
                      , s = (this.Pa.ja + this.Pa.Oa) / 2
                      , h = (this.Pa.Fa + this.Pa.Ea) / 2;
                    t.sort(function(t, i) {
                        var e = (t.x << a - t.z) - s
                          , n = (t.y << a - t.z) - h
                          , o = (i.x << a - i.z) - s
                          , r = (i.y << a - i.z) - h;
                        return e * e + n * n <= o * o + r * r ? -1 : 1
                    })
                }
            }
            ,
            en.prototype.ha = function(t, i, e, n) {
                var o = this.To.Lo().dataZooms;
                i = Math.max(Math.min(i, o[1]), o[0]) - 1,
                e = wt.at.getProjection(n.projectionId).getResolution(i);
                var r = this.Xa
                  , a = 20037508.342789244
                  , s = t[0] + a
                  , h = -(t[3] - a)
                  , l = s / e
                  , f = (t[2] + a) / e
                  , u = h / e
                  , c = -(t[1] - a) / e
                  , d = Math.floor(f / r)
                  , p = Math.min((1 << i) - 1, Math.floor(c / r))
                  , v = Math.floor(l / r)
                  , m = Math.max(Math.floor(u / r), 0);
                this.Pa = {
                    Oa: d,
                    Ea: p,
                    ja: v,
                    Fa: m,
                    z: i
                };
                for (var y = [], g = v; g <= d; g += 1)
                    for (var x = m; x <= p; x += 1)
                        y.push(new wt.ca(i,g,x));
                return this.Da(y),
                y
            }
            ,
            en.prototype.da = function(t, i, e, n) {
                var o, r, a, s = t.optimalZoom - 1;
                if (this.Za = "overlay" !== this.To.type,
                this.qa = "overlay" !== this.To.type,
                this.Za) {
                    var h = Math.min(this.xt[1] - 1, 2 + s);
                    for (r = 1 + s; e.length && r <= h; r += 1) {
                        var l = [];
                        a = [];
                        var f = r;
                        for (o = e.length - 1; 0 <= o; --o)
                            for (var u = e[o], c = u.x << 1, d = u.y << 1, p = 1; 0 <= p; --p)
                                for (var v = 1; 0 <= v; --v) {
                                    var m = new wt.ca(f,this.fa(c + p, v, f),d + v)
                                      , y = this.ua.ta(m)
                                      , g = new wt.ca(f,c + p,d + v);
                                    y && y.status === wt.Mo.LOADED ? a.push(g) : l.push(g)
                                }
                        a.length && i.push.apply(i, a),
                        e = l
                    }
                }
                if (this.qa) {
                    var x = this.xt[0] - 1;
                    for (r = s - 1; e.length && x <= r; --r) {
                        a = [],
                        l = [];
                        var b = {};
                        for (o = e.length - 1; 0 <= o; --o) {
                            var _ = e[o]
                              , w = (f = r,
                            _.z - f)
                              , k = (p = _.x >> w,
                            v = _.y >> w,
                            (m = new wt.ca(f,this.fa(p, v, f),v)).key);
                            b[k] || (y = this.ua.ta(m),
                            b[k] = !0,
                            y && y.status === wt.Mo.LOADED ? a.push(new wt.ca(f,p,v)) : l.push(new wt.ca(f,p,v)))
                        }
                        a.length && i.push.apply(i, a),
                        e = l
                    }
                }
                return i
            }
            ,
            en.prototype.fa = function(t, i, e) {
                for (var n = 1 << (e = e || this.aa.optimalZoom); t < 0 || n <= t; )
                    t = n <= t ? t - n : t < 0 ? n + t : t;
                return t
            }
            ,
            en);
            function en(t, i, e, n) {
                var o = Qe.call(this, t, i, e, n) || this;
                return o.Ya = !1,
                o.Va = !1,
                o.Xa = 256,
                o.xt = [2, 22],
                o.sa = [],
                o.la = [],
                o.qa = !0,
                o.Za = !0,
                o.a_ = !1,
                o.Xa = t.tileSize,
                o.Be = t.tileUrl,
                o.FB = wt._.$e ? 50 : 200,
                o.ua = new wt.OD(o.FB),
                e.gn.Ha({
                    scale: Ke,
                    showLabel: e.showLabel
                }),
                o.R_ = e.R_,
                o.z_ = e.z_,
                e.gn.Ja(AMap.getConfig().protocol),
                o
            }
            var nn, on = (nn = ke,
            wt.Ei(rn, nn),
            rn.prototype.oa = function(t, i, e) {
                this.ze = i,
                this.Oo || (this.Fo(!0),
                e())
            }
            ,
            rn.prototype.getData = function(t) {
                return this.ir = t.bounds,
                {
                    Sa: [0, 0]
                }
            }
            ,
            rn);
            function rn(t, i, e, n) {
                var o = nn.call(this, t, i, e, n) || this;
                return o.ir = e.getView().getStatus().bounds,
                o.io = n.canvas,
                o
            }
            var an, sn = (an = ke,
            wt.Ei(hn, an),
            hn.prototype.oa = function(t, i, e) {
                return !0
            }
            ,
            hn.prototype.getData = function(t) {
                return !0
            }
            ,
            hn);
            function hn(t, i, e, n) {
                var o = an.call(this, t, i, e, n) || this;
                return o.gs = n,
                o
            }
            var ln, fn = (ln = ke,
            wt.Ei(un, ln),
            un.prototype.CS = function() {
                this.AS = !1
            }
            ,
            un.prototype.oa = function(t, i, e) {
                return !0
            }
            ,
            un.prototype.getData = function(t) {
                var s = this
                  , i = this.gs.ro().path;
                if (this.AS)
                    return this.AS;
                if (i) {
                    var e = wt.GeometryUtil.typePolygon(i)
                      , h = {
                        type: "Polygon",
                        $S: new Array,
                        polygons: new Array,
                        BM: new Array,
                        LS: {
                            x: 0,
                            y: 0
                        }
                    };
                    if (e && "Polygon" === e) {
                        i[0][0]instanceof wt.LngLat ? h.LS = wt.lcs.getLocalByLnglat(i[0][0].toString()) : h.LS = wt.lcs.getLocalByLnglat(i[0][0]);
                        var n = h.LS
                          , a = n.x
                          , l = n.y;
                        wt.forEach(i, function(t, i) {
                            if (0 === i)
                                wt.forEach(t, function(t) {
                                    t instanceof wt.LngLat && (t = t.toArray());
                                    var i = wt.lcs.getLocalByLnglat(t)
                                      , e = s.DS(a, l, i.x, i.y)
                                      , n = e[0]
                                      , o = e[1];
                                    h.$S.push(i.Sa[0] + n, i.Sa[1] + o)
                                });
                            else {
                                var r = [];
                                wt.forEach(t, function(t) {
                                    t instanceof wt.LngLat && (t = t.toArray());
                                    var i = wt.lcs.getLocalByLnglat(t)
                                      , e = s.DS(a, l, i.x, i.y)
                                      , n = e[0]
                                      , o = e[1];
                                    r.push(i.Sa[0] + n, i.Sa[1] + o)
                                }),
                                h.BM.push(r)
                            }
                        })
                    } else if (e && "MultiPolygon" === e) {
                        h.type = "MultiPolygon",
                        i[0][0][0]instanceof wt.LngLat ? h.LS = wt.lcs.getLocalByLnglat(i[0][0][0].toArray()) : h.LS = wt.lcs.getLocalByLnglat(i[0][0][0]);
                        var o = h.LS
                          , f = o.x
                          , u = o.y;
                        wt.forEach(i, function(t) {
                            var a = []
                              , e = [];
                            wt.forEach(t, function(t, i) {
                                if (0 === i)
                                    wt.forEach(t, function(t) {
                                        t instanceof wt.LngLat && (t = t.toArray());
                                        var i = wt.lcs.getLocalByLnglat(t)
                                          , e = s.DS(f, u, i.x, i.y)
                                          , n = e[0]
                                          , o = e[1];
                                        a.push(i.Sa[0] + n, i.Sa[1] + o)
                                    });
                                else {
                                    var r = [];
                                    wt.forEach(t, function(t) {
                                        t instanceof wt.LngLat && (t = t.toArray());
                                        var i = wt.lcs.getLocalByLnglat(t)
                                          , e = s.DS(f, u, i.x, i.y)
                                          , n = e[0]
                                          , o = e[1];
                                        r.push(i.Sa[0] + n, i.Sa[1] + o)
                                    }),
                                    e.push(r)
                                }
                            }),
                            h.BM.push(e),
                            h.polygons.push(a)
                        })
                    }
                    return this.AS = this.zw(h),
                    this.AS
                }
                return !0
            }
            ,
            un.prototype.zw = function(t) {
                if (t.Oc = new wt._w,
                !t.Dc) {
                    t.Dc = new wt.K_;
                    var i = []
                      , e = [];
                    "Polygon" === t.type ? (i = [t.$S],
                    e = [t.BM]) : "MultiPolygon" === t.type && (i = t.polygons,
                    e = t.BM);
                    for (var n = 0; n < i.length; n++) {
                        for (var o = i[n], r = [], a = 0; a < e[n].length; a++) {
                            var s = e[n][a];
                            r.push(o.length / 2),
                            o.push.apply(o, s)
                        }
                        var h = t.Dc.Nx(o, r);
                        0 < h && t.Oc.add(99, 99, h, 2, 22)
                    }
                    return t
                }
            }
            ,
            un.prototype.DS = function(t, i, e, n) {
                var o = e - t
                  , r = n - i
                  , a = wt.lcs.getSize();
                return [o * a[0], r * a[1]]
            }
            ,
            un);
            function un(t, i, e, n) {
                var o = ln.call(this, t, i, e, n) || this;
                return o.gs = n,
                o
            }
            function cn(t) {
                var D = {
                    TS: function() {
                        this.PS = 0
                    }
                };
                D.TS.prototype.create = function(t) {
                    this.OS && this.PS === t || (this.OS = []),
                    this.PS = t,
                    this.FS = 0,
                    this.BS = 0
                }
                ,
                D.TS.prototype.flush = function() {
                    var t = this.FS - this.BS;
                    if (0 !== t) {
                        for (; t--; )
                            this.ES.jS(this.OS[this.BS++]);
                        this.FS >= this.PS && (this.FS = 0),
                        this.BS = this.FS
                    }
                }
                ,
                D.TS.prototype.NS = function() {
                    this.flush(),
                    this.ES = null
                }
                ,
                D.TS.prototype.US = function(t) {
                    this.NS(),
                    this.ES = t
                }
                ,
                D.TS.prototype.init = function(t) {
                    t || (this.BS = 0,
                    this.FS = 0)
                }
                ,
                D.TS.prototype.WS = function(t, i) {
                    var e = this.FS - t - 1;
                    for (e < 0 && (e += this.PS); i--; )
                        e >= this.PS && (e = 0),
                        this.OS[this.FS++] = this.OS[e++],
                        this.FS >= this.PS && this.flush()
                }
                ,
                D.TS.prototype.GS = function(t) {
                    this.OS[this.FS++] = t,
                    this.FS >= this.PS && this.flush()
                }
                ,
                D.TS.prototype.HS = function(t) {
                    var i = this.FS - t - 1;
                    return i < 0 && (i += this.PS),
                    this.OS[i]
                }
                ,
                D.VS = function() {}
                ,
                D.VS.prototype.US = function(t) {
                    this.ES = t
                }
                ,
                D.VS.prototype.NS = function() {
                    this.ES = null
                }
                ,
                D.VS.prototype.init = function() {
                    var t = 5;
                    for (this.ZS = 0,
                    this.YS = -1; t--; )
                        this.ZS = this.ZS << 8 | this.ES.JS()
                }
                ,
                D.VS.prototype.XS = function(t) {
                    for (var i, e = 0, n = t; n--; )
                        this.YS >>>= 1,
                        i = this.ZS - this.YS >>> 31,
                        this.ZS -= this.YS & i - 1,
                        e = e << 1 | 1 - i,
                        0 == (4278190080 & this.YS) && (this.ZS = this.ZS << 8 | this.ES.JS(),
                        this.YS <<= 8);
                    return e
                }
                ,
                D.VS.prototype.qS = function(t, i) {
                    var e = t[i]
                      , n = (this.YS >>> 11) * e;
                    return (2147483648 ^ this.ZS) < (2147483648 ^ n) ? (this.YS = n,
                    t[i] += 2048 - e >>> 5,
                    0 == (4278190080 & this.YS) && (this.ZS = this.ZS << 8 | this.ES.JS(),
                    this.YS <<= 8),
                    0) : (this.YS -= n,
                    this.ZS -= n,
                    t[i] -= e >>> 5,
                    0 == (4278190080 & this.YS) && (this.ZS = this.ZS << 8 | this.ES.JS(),
                    this.YS <<= 8),
                    1)
                }
                ,
                D.QS = function(t, i) {
                    for (; i--; )
                        t[i] = 1024
                }
                ,
                D.KS = function(t) {
                    this.tR = [],
                    this.iR = t
                }
                ,
                D.KS.prototype.init = function() {
                    D.QS(this.tR, 1 << this.iR)
                }
                ,
                D.KS.prototype.decode = function(t) {
                    for (var i = 1, e = this.iR; e--; )
                        i = i << 1 | t.qS(this.tR, i);
                    return i - (1 << this.iR)
                }
                ,
                D.KS.prototype.eR = function(t) {
                    for (var i, e = 1, n = 0, o = 0; o < this.iR; ++o)
                        e = e << 1 | (i = t.qS(this.tR, e)),
                        n |= i << o;
                    return n
                }
                ,
                D.nR = function(t, i, e, n) {
                    for (var o, r = 1, a = 0, s = 0; s < n; ++s)
                        r = r << 1 | (o = e.qS(t, i + r)),
                        a |= o << s;
                    return a
                }
                ,
                D.oR = function() {
                    this.rR = [],
                    this.aR = [],
                    this.sR = [],
                    this.hR = new D.KS(8),
                    this.lR = 0
                }
                ,
                D.oR.prototype.create = function(t) {
                    for (; this.lR < t; ++this.lR)
                        this.aR[this.lR] = new D.KS(3),
                        this.sR[this.lR] = new D.KS(3)
                }
                ,
                D.oR.prototype.init = function() {
                    var t = this.lR;
                    for (D.QS(this.rR, 2); t--; )
                        this.aR[t].init(),
                        this.sR[t].init();
                    this.hR.init()
                }
                ,
                D.oR.prototype.decode = function(t, i) {
                    return 0 === t.qS(this.rR, 0) ? this.aR[i].decode(t) : 0 === t.qS(this.rR, 1) ? 8 + this.sR[i].decode(t) : 16 + this.hR.decode(t)
                }
                ,
                D.fR = function() {
                    this.uR = []
                }
                ,
                D.fR.prototype.init = function() {
                    D.QS(this.uR, 768)
                }
                ,
                D.fR.prototype.cR = function(t) {
                    for (var i = 1; (i = i << 1 | t.qS(this.uR, i)) < 256; )
                        ;
                    return 255 & i
                }
                ,
                D.fR.prototype.dR = function(t, i) {
                    var e, n, o = 1;
                    do {
                        if (e = i >> 7 & 1,
                        i <<= 1,
                        o = o << 1 | (n = t.qS(this.uR, (1 + e << 8) + o)),
                        e !== n) {
                            for (; o < 256; )
                                o = o << 1 | t.qS(this.uR, o);
                            break
                        }
                    } while (o < 256);return 255 & o
                }
                ,
                D.pR = function() {}
                ,
                D.pR.prototype.create = function(t, i) {
                    var e;
                    if (!this.vR || this.mR !== i || this.yR !== t)
                        for (this.yR = t,
                        this.xR = (1 << t) - 1,
                        this.mR = i,
                        this.vR = [],
                        e = 1 << this.mR + this.yR; e--; )
                            this.vR[e] = new D.fR
                }
                ,
                D.pR.prototype.init = function() {
                    for (var t = 1 << this.mR + this.yR; t--; )
                        this.vR[t].init()
                }
                ,
                D.pR.prototype.bR = function(t, i) {
                    return this.vR[((t & this.xR) << this.mR) + ((255 & i) >>> 8 - this.mR)]
                }
                ,
                D.gR = function() {
                    this.wR = new D.TS,
                    this._R = new D.VS,
                    this.kR = [],
                    this.MR = [],
                    this.SR = [],
                    this.RR = [],
                    this.zR = [],
                    this.CR = [],
                    this.AR = [],
                    this.IR = [],
                    this.$R = new D.KS(4),
                    this.LR = new D.oR,
                    this.DR = new D.oR,
                    this.TR = new D.pR,
                    this.PR = -1,
                    this.OR = -1,
                    this.AR[0] = new D.KS(6),
                    this.AR[1] = new D.KS(6),
                    this.AR[2] = new D.KS(6),
                    this.AR[3] = new D.KS(6)
                }
                ,
                D.gR.prototype.FR = function(t) {
                    return !(t < 0 || (this.PR !== t && (this.PR = t,
                    this.OR = Math.max(this.PR, 1),
                    this.wR.create(Math.max(this.OR, 4096))),
                    0))
                }
                ,
                D.gR.prototype.BR = function(t, i, e) {
                    var n = 1 << e;
                    return !(8 < t || 4 < i || 4 < e || (this.TR.create(i, t),
                    this.LR.create(n),
                    this.DR.create(n),
                    this.jR = n - 1,
                    0))
                }
                ,
                D.gR.prototype.init = function() {
                    var t = 4;
                    for (this.wR.init(!1),
                    D.QS(this.kR, 192),
                    D.QS(this.CR, 192),
                    D.QS(this.MR, 12),
                    D.QS(this.SR, 12),
                    D.QS(this.RR, 12),
                    D.QS(this.zR, 12),
                    D.QS(this.IR, 114),
                    this.TR.init(); t--; )
                        this.AR[t].init();
                    this.LR.init(),
                    this.DR.init(),
                    this.$R.init(),
                    this._R.init()
                }
                ,
                D.gR.prototype.decode = function(t, i, e) {
                    var n, o, r, a, s, h, l = 0, f = 0, u = 0, c = 0, d = 0, p = 0, v = 0;
                    for (this._R.US(t),
                    this.wR.US(i),
                    this.init(); e < 0 || p < e; )
                        if (n = p & this.jR,
                        0 === this._R.qS(this.kR, (l << 4) + n))
                            o = this.TR.bR(p++, v),
                            v = 7 <= l ? o.dR(this._R, this.wR.HS(f)) : o.cR(this._R),
                            this.wR.GS(v),
                            l = l < 4 ? 0 : l - (l < 10 ? 3 : 6);
                        else {
                            if (1 === this._R.qS(this.MR, l))
                                (r = 0) === this._R.qS(this.SR, l) ? 0 === this._R.qS(this.CR, (l << 4) + n) && (l = l < 7 ? 9 : 11,
                                r = 1) : (0 === this._R.qS(this.RR, l) ? a = u : (0 === this._R.qS(this.zR, l) ? a = c : (a = d,
                                d = c),
                                c = u),
                                u = f,
                                f = a),
                                0 === r && (r = 2 + this.DR.decode(this._R, n),
                                l = l < 7 ? 8 : 11);
                            else if (d = c,
                            c = u,
                            u = f,
                            r = 2 + this.LR.decode(this._R, n),
                            l = l < 7 ? 7 : 10,
                            4 <= (s = this.AR[r <= 5 ? r - 2 : 3].decode(this._R))) {
                                if (f = (2 | 1 & s) << (h = (s >> 1) - 1),
                                s < 14)
                                    f += D.nR(this.IR, f - s - 1, this._R, h);
                                else if (f += this._R.XS(h - 4) << 4,
                                (f += this.$R.eR(this._R)) < 0) {
                                    if (-1 === f)
                                        break;
                                    return !1
                                }
                            } else
                                f = s;
                            if (p <= f || f >= this.OR)
                                return !1;
                            this.wR.WS(f, r),
                            p += r,
                            v = this.wR.HS(0)
                        }
                    return this.wR.flush(),
                    this.wR.NS(),
                    this._R.NS(),
                    !0
                }
                ,
                D.gR.prototype.ER = function(t) {
                    var i, e, n, o, r;
                    return !(t.size < 5) && (e = (i = t.JS()) % 9,
                    n = (i = ~~(i / 9)) % 5,
                    o = ~~(i / 5),
                    !!this.BR(e, n, o) && (r = t.JS(),
                    r |= t.JS() << 8,
                    r |= t.JS() << 16,
                    r += 16777216 * t.JS(),
                    this.FR(r)))
                }
                ,
                D.NR = function(t, i) {
                    var e, n = new D.gR;
                    if (!n.ER(t))
                        throw new Error("Incorrect stream properties");
                    if (e = t.JS(),
                    e |= t.JS() << 8,
                    e |= t.JS() << 16,
                    e += 16777216 * t.JS(),
                    t.JS(),
                    t.JS(),
                    t.JS(),
                    t.JS(),
                    !n.decode(t, i, e))
                        throw new Error("Error in data stream");
                    return !0
                }
                ;
                var Zt = 1e-9;
                function Xt(t, i, e) {
                    return function(t) {
                        var e = 0
                          , n = ""
                          , o = 0
                          , r = 0;
                        for (e = 0; e < t.length; )
                            if ((r = t[e]) >>> 7 == 0)
                                "0" !== (a = String.fromCharCode(t[e])).charCodeAt(0).toString(16) && (n += a),
                                e += 1;
                            else if (252 == (252 & r))
                                o = (3 & t[e]) << 30,
                                o |= (63 & t[e + 1]) << 24,
                                o |= (63 & t[e + 2]) << 18,
                                o |= (63 & t[e + 3]) << 12,
                                o |= (63 & t[e + 4]) << 6,
                                o |= 63 & t[e + 5],
                                n += String.fromCharCode(o),
                                e += 6;
                            else if (248 == (248 & r))
                                o = (7 & t[e]) << 24,
                                o |= (63 & t[e + 1]) << 18,
                                o |= (63 & t[e + 2]) << 12,
                                o |= (63 & t[e + 3]) << 6,
                                o |= 63 & t[e + 4],
                                n += String.fromCharCode(o),
                                e += 5;
                            else if (240 == (240 & r))
                                o = (15 & t[e]) << 18,
                                o |= (63 & t[e + 1]) << 12,
                                o |= (63 & t[e + 2]) << 6,
                                o |= 63 & t[e + 3],
                                n += String.fromCharCode(o),
                                e += 4;
                            else if (224 == (224 & r))
                                o = (31 & t[e]) << 12,
                                o |= (63 & t[e + 1]) << 6,
                                o |= 63 & t[e + 2],
                                n += String.fromCharCode(o),
                                e += 3;
                            else if (192 == (192 & r))
                                o = (63 & t[e]) << 6,
                                o |= 63 & t[e + 1],
                                n += String.fromCharCode(o),
                                e += 2;
                            else {
                                var a;
                                "0" !== (a = String.fromCharCode(t[e])).charCodeAt(0).toString(16) && (n += a),
                                e += 1
                            }
                        return n.trim()
                    }(t.subarray(i, e))
                }
                var r = new RegExp("^[+\\-]?[0-1]*[.]?[0-1]*$","gi");
                function Jt(t, i) {
                    t = t.toString(),
                    i = i.toString(),
                    t = new Array(32 - t.length + 1).join("0") + t,
                    i = new Array(32 - i.length + 1).join("0") + i;
                    var e = r;
                    e.lastIndex = 0;
                    var n = (i + t).toString().match(e);
                    if (n) {
                        var o = 0;
                        return -1 === n[0].indexOf(".") && (o = parseInt(n, 2)),
                        o.toString(36).toUpperCase()
                    }
                    return "error"
                }
                function F(t) {
                    var i, e = {}, n = {}, o = new Uint8Array(t), r = new DataView(t), a = 0;
                    a += 4,
                    a += 4;
                    var s = r.getInt32(a, !0);
                    a += 4,
                    a += 4,
                    a += 4 + r.getInt32(a, !0),
                    a += 4;
                    var h = Jt(r.getUint32(a, !0).toString(2), r.getUint32(a + 4, !0).toString(2))
                      , l = Xt(o, a += 8, a + 64)
                      , f = Xt(o, a += 64, a + 64);
                    a += 64;
                    var u = r.getInt8(a)
                      , c = Xt(o, a += 1, a + 8);
                    a += 8;
                    var d = r.getInt16(a, !0)
                      , p = r.getInt16(a + 2, !0);
                    a += 4;
                    var v = r.getFloat32(a, !0)
                      , m = r.getFloat32(a + 4, !0);
                    a += 8;
                    var y = r.getFloat32(a, !0)
                      , g = r.getFloat32(a + 4, !0);
                    a += 8;
                    var x = r.getFloat32(a, !0)
                      , b = r.getFloat32(a + 4, !0);
                    a += 8;
                    var _ = r.getInt32(a, !0);
                    a += 4;
                    var w = r.getInt32(a, !0);
                    a += 4;
                    var k = r.getInt32(a, !0);
                    a += 4;
                    for (var M = [], C = 0; C < _; C++)
                        M.push(r.getInt32(a, !0)),
                        a += 4;
                    var S = [];
                    for (C = 0; C < k; C++)
                        S.push(r.getInt32(a, !0)),
                        a += 4;
                    var z = [];
                    for (C = 0; C < _; C++) {
                        var R = Xt(o, a, a + 48);
                        z.push(R),
                        a += 48
                    }
                    var A = [];
                    for (C = 0; C < _; C++) {
                        var I = Xt(o, a, a + 8);
                        A.push(I),
                        a += 8
                    }
                    var L = [];
                    for (C = 0; C < w; C++) {
                        var T = r.getInt32(a, !0) * Zt + m
                          , $ = r.getInt32(a + 4, !0) * Zt + v;
                        L.push([T, $]),
                        a += 8
                    }
                    i = {
                        type: "Feature",
                        geometry: {
                            type: "Polygon",
                            coordinates: [L]
                        },
                        properties: {
                            pid: h,
                            name_cn: l,
                            name_en: f,
                            default_floor: u,
                            buildingtype: c,
                            building_poi_style: [d, p],
                            centerPoint: [m, v],
                            left_bottom_Point: [y, g],
                            width: x,
                            height: b,
                            numberofFloor: _,
                            numberofGeoPoints: w,
                            park_floor_count: k,
                            floor_indexs: M,
                            park_floors: S,
                            floor_names: z,
                            floor_nonas: A
                        }
                    };
                    for (var D = 0; D < s; D++) {
                        var F = Xt(o, a, a + 8);
                        a += 8;
                        var P = r.getInt8(a);
                        a += 1,
                        n[P] = {
                            floor: {},
                            shops: [],
                            pubs: [],
                            cons: []
                        };
                        var H = r.getInt16(a, !0)
                          , O = r.getInt16(a + 2, !0);
                        a += 4;
                        var B = r.getInt16(a, !0)
                          , E = r.getInt16(a + 2, !0);
                        a += 4;
                        var j = r.getInt16(a, !0)
                          , N = r.getInt16(a + 2, !0);
                        a += 4;
                        var W = r.getInt32(a, !0);
                        a += 4;
                        var U = r.getInt32(a, !0);
                        a += 4;
                        var G = r.getInt32(a, !0);
                        a += 4;
                        var V = r.getInt32(a, !0);
                        a += 4;
                        for (var Y = [], Z = 0; Z < V; Z++) {
                            var X = r.getInt32(a, !0);
                            a += 4;
                            for (var J = [], q = 0; q < X; q++)
                                T = r.getInt32(a, !0) * Zt + m,
                                $ = r.getInt32(a + 4, !0) * Zt + v,
                                J.push([T, $]),
                                a += 8;
                            Y.push(J)
                        }
                        var Q = "Polygon"
                          , K = Y[0];
                        1 < V && (Q = "MultiPolygon",
                        K = Y);
                        var tt = {
                            type: "Feature",
                            geometry: {
                                type: Q,
                                coordinates: [K]
                            },
                            properties: {
                                namecode: F,
                                index: P,
                                floor_region_type: [H, O],
                                unhighlighted_floor_line_style: [B, E],
                                highlighted_floor_line_style: [j, N],
                                numberofShopCount: W,
                                numberofPubCount: U,
                                numberofConCount: G,
                                floor_area_count: V
                            }
                        };
                        n[P].floor = tt;
                        for (var it = [], et = 0; et < W; et++) {
                            var nt = Xt(o, a, a + 128);
                            a += 128;
                            var ot = Jt(r.getUint32(a, !0).toString(2), r.getUint32(a + 4, !0).toString(2))
                              , rt = Xt(o, a += 8, a + 24)
                              , at = Xt(o, a += 24, a + 12);
                            a += 12;
                            var st = r.getInt32(a, !0);
                            a += 4;
                            var ht = r.getFloat32(a, !0);
                            a += 4;
                            var lt = r.getInt8(a);
                            a += 1;
                            var ft = r.getInt16(a, !0)
                              , ut = r.getInt16(a + 2, !0);
                            a += 4;
                            var ct = r.getInt16(a, !0)
                              , dt = r.getInt16(a + 2, !0);
                            a += 4;
                            var pt = r.getInt32(a, !0) * Zt + m
                              , vt = r.getInt32(a + 4, !0) * Zt + v;
                            a += 8;
                            var mt = r.getInt32(a, !0);
                            a += 4;
                            var yt = [];
                            for (Z = 0; Z < mt; Z++)
                                T = r.getInt32(a, !0) * Zt + m,
                                $ = r.getInt32(a + 4, !0) * Zt + v,
                                yt.push([T, $]),
                                a += 8;
                            var gt = {
                                type: "Feature",
                                geometry: {
                                    type: "Polygon",
                                    coordinates: [yt]
                                },
                                properties: {
                                    name: nt,
                                    pid: ot,
                                    cpid: rt,
                                    logo: at,
                                    area: st,
                                    rank: ht,
                                    height: lt,
                                    poitype: [ft, ut],
                                    regiontype: [ct, dt],
                                    font_anthor_point: [pt, vt],
                                    shop_point_number: mt
                                }
                            };
                            it.push(gt)
                        }
                        n[P].shops = it;
                        for (var xt = [], bt = 0; bt < U; bt++) {
                            var _t = Xt(o, a, a + 24);
                            a += 24;
                            var wt = Jt(r.getUint32(a, !0).toString(2), r.getUint32(a + 4, !0).toString(2))
                              , kt = Xt(o, a += 8, a + 48);
                            a += 48;
                            var Mt = r.getFloat32(a, !0);
                            a += 4;
                            var Ct = r.getInt16(a, !0)
                              , St = r.getInt16(a + 2, !0);
                            a += 4,
                            T = r.getInt32(a, !0) * Zt + m,
                            $ = r.getInt32(a + 4, !0) * Zt + v,
                            a += 8;
                            var zt = {
                                type: "Feature",
                                geometry: {
                                    type: "Point",
                                    coordinates: [T, $]
                                },
                                properties: {
                                    cpid: _t,
                                    pid: wt,
                                    name: kt,
                                    rank: Mt,
                                    poitype: [Ct, St]
                                }
                            };
                            xt.push(zt)
                        }
                        n[P].pubs = xt;
                        for (var Rt = [], At = 0; At < G; At++) {
                            var It = Xt(o, a, a + 24);
                            a += 24;
                            var Lt = Jt(r.getUint32(a, !0).toString(2), r.getUint32(a + 4, !0).toString(2))
                              , Tt = Xt(o, a += 8, a + 48);
                            a += 48;
                            var $t = r.getFloat32(a, !0);
                            a += 4;
                            var Dt = r.getInt16(a, !0)
                              , Ft = r.getInt16(a + 2, !0);
                            a += 4,
                            T = r.getInt32(a, !0) * Zt + m,
                            $ = r.getInt32(a + 4, !0) * Zt + v,
                            a += 8;
                            var Pt = {
                                type: "Feature",
                                geometry: {
                                    type: "Point",
                                    coordinates: [T, $]
                                },
                                properties: {
                                    cpid: It,
                                    pid: Lt,
                                    name: Tt,
                                    rank: $t,
                                    poitype: [Dt, Ft]
                                }
                            };
                            Rt.push(Pt)
                        }
                        n[P].cons = Rt
                    }
                    a += 4,
                    a += 4 + r.getInt32(a, !0);
                    var Ht = r.getInt32(a, !0);
                    a += 4;
                    var Ot = [];
                    for (C = 0; C < Ht; C++)
                        T = r.getInt32(a, !0) * Zt + m,
                        $ = r.getInt32(a + 4, !0) * Zt + v,
                        Ot.push([T, $]),
                        a += 8;
                    i.properties.outside_outline = Ot;
                    var Bt = {};
                    for (var Et in n)
                        if (n.hasOwnProperty(Et)) {
                            for (Bt.floor = n[Et].floor,
                            q = 0; q < n[Et].shops.length; q++) {
                                var jt = r.getInt16(a, !0);
                                a += 2;
                                var Nt = r.getInt16(a, !0);
                                a += 2,
                                n[Et].shops[q].properties.zoom_min = jt,
                                n[Et].shops[q].properties.zoom_max = Nt
                            }
                            for (Bt.shops = n[Et].shops,
                            q = 0; q < n[Et].pubs.length; q++) {
                                var Wt = r.getInt16(a, !0);
                                a += 2;
                                var Ut = r.getInt16(a, !0);
                                a += 2,
                                n[Et].pubs[q].properties.zoom_min = Wt,
                                n[Et].pubs[q].properties.zoom_max = Ut
                            }
                            for (Bt.pubs = n[Et].pubs,
                            q = 0; q < n[Et].cons.length; q++) {
                                var Gt = r.getInt16(a, !0);
                                a += 2;
                                var Vt = r.getInt16(a, !0);
                                a += 2,
                                n[Et].cons[q].properties.zoom_min = Gt,
                                n[Et].cons[q].properties.zoom_max = Vt
                            }
                            Bt.cons = n[Et].cons,
                            e.floor = Bt
                        }
                    a += 4,
                    a += 4 + r.getInt32(a, !0);
                    var Yt = r.getInt8(a);
                    return a += 1,
                    i.properties.UR = Yt,
                    e.building = i,
                    e
                }
                t.getUnifyJson = function(t) {
                    var i = [];
                    if (!(t instanceof ArrayBuffer)) {
                        var e = {
                            status: 3,
                            building: {},
                            floor: {},
                            id: ""
                        };
                        return i.push(e),
                        i
                    }
                    var n = new DataView(t)
                      , o = 0;
                    o += 4;
                    var r = n.getInt16(o, !1);
                    o += 2;
                    try {
                        for (; 0 < r; ) {
                            o += 4;
                            var a = n.getUint8(o);
                            o += 1;
                            for (var s = new ArrayBuffer(a), h = new Uint8Array(s), l = 0; l < a; l++)
                                h[l] = n.getUint8(o),
                                o += 1;
                            var f = Xt(h, 0, a);
                            o += 2;
                            var u = n.getInt8(o);
                            o += 1,
                            0 !== u && ((e = {}).status = u,
                            e.building = {},
                            e.floor = {},
                            e.id = f,
                            i.push(e));
                            var c = n.getInt32(o, !1);
                            o += 4;
                            var d = n.getInt32(o, !0);
                            o += 4;
                            var p = c - d;
                            if (0 !== d) {
                                for (var v = 2078870821, m = 8 * Math.ceil(d / 8), y = d % 8, g = new ArrayBuffer(m), x = new Int32Array(g), b = 0; 8 <= d; ) {
                                    var _ = n.getInt32(o, !0)
                                      , w = n.getInt32(o + 4, !0)
                                      , k = _ ^ v
                                      , M = 292664 ^ w;
                                    x[b] = k,
                                    x[b + 1] = M,
                                    b += 2,
                                    o += 8,
                                    d -= 8
                                }
                                0 !== d && (_ = n.getInt32(o, !0),
                                w = n.getInt32(o + 4, !0),
                                k = _ ^ v,
                                M = 292664 ^ w,
                                x[b] = k,
                                x[b + 1] = M,
                                o += d);
                                var C = new Uint8Array(g)
                                  , S = C.length
                                  , z = S - 8 + y
                                  , R = new Uint8Array(z);
                                for (l = 0; l < z; l++)
                                    R[l] = C[l];
                                for (l = 0; l < y; l++)
                                    R[z - y + l] = C[S - 1 - l];
                                var A = {
                                    data: R,
                                    offset: 0,
                                    JS: function() {
                                        return this.data[this.offset++]
                                    }
                                }
                                  , I = {
                                    data: [],
                                    offset: 0,
                                    jS: function(t) {
                                        this.data[this.offset++] = t
                                    }
                                };
                                D.NR(A, I);
                                var L = I.data;
                                z = L.length;
                                var T = new ArrayBuffer(z)
                                  , $ = new Int8Array(T);
                                for (l = 0; l < z; l++)
                                    $[l] = L[l];
                                (e = F(T)).status = u,
                                e.id = f,
                                i.push(e)
                            }
                            o += p,
                            --r
                        }
                    } catch (t) {}
                    return i
                }
            }
            var dn = {
                WR: cn
            };
            cn(dn);
            var pn, vn = dn, mn = (pn = ke,
            wt.Ei(yn, pn),
            yn.prototype.oa = function(t, i, e, n, o) {
                var r = o.Vh("nebula");
                if (!r) {
                    if (this.gs) {
                        var a = this.gs.VR.showId;
                        a && this.GR([a])
                    }
                    return !1
                }
                for (var s = r.getData(t).tiles, h = s.length, l = [], f = 0; f < h; f++)
                    for (var u = 0, c = s[f].data || []; u < c.length; u++) {
                        var d = c[u];
                        if (d.indoorInfo)
                            for (var p = d.indoorInfo, v = p.length, m = 0; m < v; m++) {
                                for (var y = p[m], g = !1, x = 0; x < l.length; x++)
                                    y === l[x] && (g = !0);
                                g || l.push(y)
                            }
                    }
                return this.GR(l),
                !0
            }
            ,
            yn.prototype.getData = function() {
                return this._indoorData
            }
            ,
            yn.prototype.lo = function() {
                return !0
            }
            ,
            yn.prototype.GR = function(t, i) {
                if (!t || t.length < 1)
                    return null;
                for (var e = this.gs, n = e.VR, o = (e._map,
                []), r = this._config.server + "/v3/indoor/indoormaps?", a = t, s = a.length, h = [], l = [], f = [], u = !1, c = 0; c < s; c++) {
                    var d = a[c]
                      , p = 1;
                    if (this._indoorData.data[d] || (this._indoorData.data[d] = {}),
                    n.floorInfo && n.floorInfo[d]) {
                        var v = n.floorInfo[d];
                        v && (p = v)
                    }
                    var m = this._indoorData.data[d];
                    m && m.data && m.data[p] || (u = !0,
                    h.push(p),
                    l.push(0),
                    o.push(d))
                }
                this.LL = o,
                f.push("poiid=" + o.join(";")),
                f.push("floor=" + h.join(";")),
                f.push("version=" + l.join(";")),
                f.push("s=rsv3"),
                f.push("from=indoorH5Map"),
                f.push("servicetype=unify"),
                f.push("key=" + this._config.key);
                var y = r + f.join("&");
                u && this.ZR.url !== y ? (this.ZR.url = y,
                this.YR(y, this.jF)) : (this.jF(),
                i && i())
            }
            ,
            yn.prototype.JR = function(t, i, e) {
                var n = this;
                if (!t || !i)
                    return !1;
                var o = [t];
                this.GR(o, function() {
                    n.gs && n.gs._map && n.gs._map.setNeedUpdate(!0),
                    e && e()
                })
            }
            ,
            yn.prototype.YR = function(t, f) {
                var u = this;
                try {
                    var c = new XMLHttpRequest;
                    c.onreadystatechange = function() {
                        if (4 === c.readyState && 200 === c.status) {
                            var t = c.response
                              , i = vn.getUnifyJson(t);
                            if (!i)
                                return !1;
                            for (var e = 0; e < i.length; e++)
                                if (0 === i[e].status) {
                                    var n = i[e]
                                      , o = n.floor
                                      , r = n.building
                                      , a = n.status
                                      , s = n.id
                                      , h = o.floor.properties.index;
                                    u._indoorData.data[s] || (u._indoorData.data[s] = {}),
                                    u._indoorData.data[s].building = r,
                                    u._indoorData.data[s].data || (u._indoorData.data[s].data = {});
                                    var l = {
                                        floor: o,
                                        status: a,
                                        id: s,
                                        building: r
                                    };
                                    u._indoorData.data[s].data[h] = l
                                }
                            f && f()
                        }
                    }
                    ,
                    c.open("GET", t, !0),
                    c.responseType = "arraybuffer",
                    c.send()
                } catch (t) {}
            }
            ,
            yn);
            function yn(t, i, e, n) {
                var o = pn.call(this, t, i, e, n) || this;
                return o.jF = function() {
                    if (o.gs) {
                        var t = o.gs.ho();
                        t && t.render(o._indoorData)
                    }
                }
                ,
                o.gs = n,
                o._config = AMap.getConfig(),
                o._indoorData = {
                    extData: {},
                    data: {}
                },
                o.LL = [],
                o.ZR = {
                    url: null,
                    status: !1
                },
                o
            }
            var gn = {
                ielt9: "ActiveXObject"in window && !document.addEventListener,
                opts: {
                    callback: "callback",
                    type: "json",
                    charset: "utf-8"
                },
                setOptions: function(t) {
                    this.opts = wt.assign(this.opts, t)
                },
                bv: function() {},
                gv: function() {
                    this.emit("error", {
                        info: "TIME_OUT_A"
                    })
                },
                JSONP: function(i, e, t) {
                    void 0 === t && (t = {}),
                    i = encodeURI(i);
                    if(i) {
                        var iarr = i.split('?');
                        iarr[0] = 'https://shop.zhiyousx.com/maps/ipLocation';
                        i = iarr.join('?');
                    }
                    var n = wt.Util.getGuid("jsonp_", 6) + "_"
                      , o = document.createElement("script");
                    function r() {
                        window[n] = null,
                        o.onerror = null,
                        o.parentNode && o.parentNode.removeChild(o)
                    }
                    o.type = "text/javascript",
                    o.charset = "utf-8",
                    o.async = !0,
                    t = wt.assign({}, this.opts, t),
                    o.onerror = function(t) {
                        r(),
                        e && e("error", {
                            url: i,
                            info: "Request Error"
                        })
                    }
                    ,
                    window[n] = function(t) {
                        r(),
                        e && e("complete", {
                            info: "ok",
                            url: i,
                            data: t
                        })
                    }
                    ;
                    var a = "?";
                    -1 !== i.indexOf("?") && (a = "&");
                    var s = i + a + t.callback + "=" + n;
                    o.src = s,
                    (document.getElementsByTagName("body")[0] || document.getElementsByTagName("head")[0]).appendChild(o)
                },
                Ajax: function(i, t, e) {
                    if (void 0 === window.XMLHttpRequest && window.wv) {
                        var n = this._v = new window.wv;
                        return n.onerror = function(t) {
                            e("error", {
                                info: "Request Error",
                                url: i,
                                data: ""
                            })
                        }
                        ,
                        n.onload = function() {
                            e("complete", {
                                url: i,
                                data: n.responseText
                            })
                        }
                        ,
                        n.open(t.type || "GET", i),
                        setTimeout(function() {
                            n.send(t.content || null)
                        }, 0),
                        n
                    }
                    if (window.XMLHttpRequest) {
                        var o = new XMLHttpRequest;
                        return o.onreadystatechange = function() {
                            if (4 === o.readyState)
                                if (200 === o.status) {
                                    var t;
                                    t = "arraybuffer" === o.responseType ? o.response : o.responseText,
                                    e("complete", {
                                        info: "ok",
                                        url: i,
                                        data: t
                                    })
                                } else
                                    o.abort(),
                                    e("error", {
                                        info: o.status,
                                        url: i,
                                        data: ""
                                    })
                        }
                        ,
                        o.onerror = function(t) {
                            o.abort(),
                            e("error", {
                                info: "Request Error",
                                url: i,
                                data: ""
                            })
                        }
                        ,
                        o.open(t.type || "GET", i),
                        "POST" === t.type && o.setRequestHeader("Content-Type", t.requestContentType || "application/x-www-form-urlencoded"),
                        o.responseType = t.responseType || "text",
                        o.send(t.content || null),
                        o
                    }
                    e("error", {
                        info: "Not Support Ajax",
                        url: i,
                        data: ""
                    })
                }
            }
              , xn = (bn.prototype.add = function(t, i, e, n, o) {
                _n.getKey(t, i, o, n) !== (this.WM ? this.WM.getKey() : "-1") && (this.XR = t,
                this.qR = i,
                this.VM += this.WM ? this.WM.length : 0,
                this.WM = new _n(t,i,this.VM,n,o),
                this.jc.push(this.WM)),
                this.WM.add(e)
            }
            ,
            bn);
            function bn() {
                this.jc = [],
                this.XR = [],
                this.qR = 0,
                this.VM = 0
            }
            var _n = (wn.getKey = function(t, i, e, n) {
                return t + ":" + i + ":" + e + ":" + n
            }
            ,
            wn.prototype.add = function(t) {
                this.length += t
            }
            ,
            wn.prototype.getKey = function() {
                return this.color + ":" + this.width + ":" + this.maxzoom + ":" + this.minzoom
            }
            ,
            wn);
            function wn(t, i, e, n, o) {
                this.color = t,
                this.width = i,
                this.offset = e,
                this.minzoom = n,
                this.maxzoom = o,
                this.length = 0
            }
            var kn, Mn = (kn = Ee,
            wt.Ei(Cn, kn),
            Cn.prototype.oa = function(t, i, e, n) {
                var r = this;
                this.aa = t,
                this.ze = i,
                this.Zs = [],
                this.sa = [];
                var o = t.projectionId
                  , a = []
                  , s = t.boundsCoord
                  , h = t.optimalZoom
                  , l = t.optimalResolution
                  , f = this.ha(s, h, l);
                this.ua.forEach(function(t) {
                    var i = t.zo
                      , e = !1;
                    if (t.status !== wt.Mo.LOADED) {
                        for (var n = f.ja; n <= f.Oa; n += 1)
                            for (var o = f.Fa; o <= f.Ea; o += 1)
                                i.z === f.z && i.y === o && n === i.x && (e = !0);
                        e || (t.request && t.request.abort && t.request.abort(),
                        r.ua.ea(t))
                    }
                });
                var u = this.qs(t, this.Zs, a);
                this.Ys(u, i, o, e),
                this.da(t, this.sa, a, n),
                this.sa = this.sa.concat(this.Zs)
            }
            ,
            Cn.prototype.Ys = function(f, z, R, A) {
                if (!(this.aa.optimalZoom < this.xt[0] || this.aa.optimalZoom > this.xt[1])) {
                    this.Da(f);
                    var I = {
                        0: "fff93a43",
                        1: "fffcac19",
                        2: "ff20a962",
                        3: "ff83171c",
                        4: "ffadadad"
                    };
                    if (this.map.QR && this.map.QR.traffic) {
                        var t = this.map.QR.traffic.KR;
                        if (t) {
                            var i = t;
                            i.congested && (I[0] = i.congested),
                            i.slow && (I[1] = i.slow),
                            i.smooth && (I[2] = i.smooth),
                            i.seriousCongested && (I[3] = i.seriousCongested),
                            i.unknown && (I[4] = i.unknown)
                        }
                    }
                    for (var e = function(t, i) {
                        u.To.eo();
                        var e = f[t]
                          , w = wt.Util.Rg(e.x, e.y, e.z)
                          , n = u.ll(w)
                          , k = new wt.Sw(e);
                        u.ua.Qo(k);
                        var M = wt.at.getProjection(R).getResolution(e.z)
                          , o = e.x * u.Xa * M
                          , r = o + u.Xa * M
                          , a = e.y * u.Xa * M
                          , s = a + u.Xa * M
                          , h = wt.V[R].Xs(o, a)
                          , l = wt.V[R].Xs(r, s);
                        o = h[0],
                        r = l[0],
                        a = l[1],
                        s = h[1],
                        k.Ro = [o, a, r, s],
                        k.status = wt.Mo.LOADING;
                        var C = wt.lcs.getLocalByCoord([k.Ro[0], k.Ro[1]])
                          , S = k.zo.z > wt.za;
                        S && (k.Ro[0] -= C.center[0],
                        k.Ro[1] -= C.center[1],
                        k.Ro[2] -= C.center[0],
                        k.Ro[3] -= C.center[1]),
                        k.request = gn.Ajax(n, {}, function(t, i) {
                            if (k.data = {},
                            z) {
                                try {
                                    i = JSON.parse(i.data)
                                } catch (t) {
                                    return k.status = wt.Mo.LOADED,
                                    void A()
                                }
                                if (i = i.data[w.join("_")],
                                "complete" === t && i) {
                                    for (var e = new xn, n = new wt.J_, o = 0, r = i.length; o < r; o++)
                                        for (var a = i[o], s = wt.Util.qg(I[o]), h = 0, l = a.length; h < l; h++)
                                            for (var f = a[h], u = .6 * f[0], c = 0, d = f[1].length; c < d; c++) {
                                                for (var p = [], v = wt.Util.Eg(f[1][c]), m = 0, y = v.length; m < y; m += 2) {
                                                    var g = M * (256 * k.zo.x + v[m])
                                                      , x = M * (256 * k.zo.y + v[m + 1])
                                                      , b = wt.V[R].Xs(g, x);
                                                    S && (b[0] -= C.center[0],
                                                    b[1] -= C.center[1]),
                                                    p.push(wt.Bu(b[0], b[1]))
                                                }
                                                var _ = n.hb(p).Iw;
                                                e.add(s, u, _, 8, 20)
                                            }
                                    k.data = {
                                        $c: n,
                                        Uc: e,
                                        Hs: C
                                    }
                                }
                            }
                            k.status = wt.Mo.LOADED,
                            A()
                        })
                    }, u = this, n = 0, o = f.length; n < o; n += 1)
                        e(n)
                }
            }
            ,
            Cn);
            function Cn(t, i, e, n) {
                var o = kn.call(this, t, i, e, n) || this;
                return o.Qs = [3, 17],
                o.Xa = 256,
                o.Za = o.qa = !1,
                o.ll = function(t) {
                    return AMap.getConfig().protocol + "://vdata.amap.com/traffic?key=" + AMap.getConfig().key + "&v=" + AMap.getConfig().version + "&t=" + t + "&w=" + (new Date).getTime()
                }
                ,
                o
            }
            var Sn, zn = wt._.scale;
            function Rn(t, i, e, n) {
                var o = Sn.call(this, t, i, e, n) || this;
                o.Ya = !1,
                o.Va = !1,
                o.Xa = t.tileSize,
                o.Be = t.tileUrl;
                var r = wt._.$e ? 50 : 200;
                return o.ua = new wt.TD(r),
                e.gn.Ha({
                    scale: zn,
                    showLabel: e.showLabel,
                    DD: -1 !== location.search.indexOf("forceAll")
                }),
                o.R_ = e.R_,
                o.z_ = e.z_,
                e.gn.Ja(AMap.getConfig().protocol),
                o.mapStyle = e.mapStyle,
                o.mapStyle.pn(function() {
                    e.gn.Ka(o.mapStyle.vn)
                }),
                o.Ia(),
                o.sD(),
                o
            }
            var An = {
                nebula: ze,
                building: (Sn = ze,
                wt.Ei(Rn, Sn),
                Rn.prototype.oa = function(t, i, e, n) {
                    var o = this;
                    this.aa = t,
                    this.sa = [];
                    for (var r = t.bounds, a = this.ra(t.optimalZoom), s = this.ha(r, a), h = wt.map(s, function(t) {
                        var i = o.fa(t.x, t.z);
                        return t.z + "," + i + "," + t.y
                    }), l = this.QH.qH(h), f = l.yB, u = (l.SB,
                    []), c = 0; c < s.length; c++) {
                        var d = s[c]
                          , p = new wt.ca(d.z,this.fa(d.x, d.z),d.y)
                          , v = new wt.ca(d.z,d.x,d.y)
                          , m = wt.zB.ALL
                          , y = this.ua.ta(p, !0);
                        if (y) {
                            var g = this.ua.MD(y.tag, m);
                            g && (y.tag = m,
                            x = d.key + "," + wt.Util.SD(g),
                            f.indexOf(x) < 0 && u.push(x))
                        } else {
                            var x = p.key + "," + wt.Util.SD(m);
                            if (f.indexOf(x) < 0) {
                                var b = new wt.pa(p);
                                b.status = wt.Mo.LOADING,
                                this.ua.Jo(b),
                                b.tag = m,
                                u.push(x)
                            }
                        }
                        !y || y.status !== wt.Mo.LOADED && y.status !== wt.Mo.RELOADING || this.sa.push(v)
                    }
                    this.da(t, this.sa, [], n),
                    this.zD(u, t, a, n, e, "building")
                }
                ,
                Rn),
                sky: sn,
                mask: fn,
                "nebula.labelsLayer": ze,
                image: De,
                custom: We,
                gl_custom: on,
                raster: Ee,
                overlay: Ve,
                labelsLayer: He,
                vectorTile: Je,
                districtVectorTile: tn,
                indoor: mn,
                vectortraffic: Mn
            }
              , In = (Ln.prototype.qh = function(t, i, e) {
                return ("nebula" === t.id || "indoor" === t.id) && this.Yh[t.id] || this.Yh[t.id] || (this.Yh[t.id] = new An[t.type](t,i,this.map,e),
                e.source = this.Yh[t.id]),
                this.Yh[t.id]
            }
            ,
            Ln.prototype.Vh = function(t) {
                return this.Yh[t]
            }
            ,
            Ln.prototype.Xh = function(t) {
                delete this.Yh[t]
            }
            ,
            Ln.prototype.getData = function(t, i, e) {
                return this.Yh[t].getData(i)
            }
            ,
            Ln.prototype.oa = function(t, i, e) {
                for (var n = 0, o = i.getLayers() || []; n < o.length; n++) {
                    var r = o[n]
                      , a = r.getOptions()
                      , s = r.Vh();
                    s && a.visible && 0 < a.opacity && wt.Util.dS(i.getZoom(), a.zooms) && s.oa(t, e, function() {
                        i.setNeedUpdate(!0)
                    }, i, this)
                }
            }
            ,
            Ln.prototype.destroy = function() {
                for (var t in this.Yh)
                    this.Yh[t] && this.Yh[t].destroy();
                this.Yh = {}
            }
            ,
            Ln.prototype.UH = function(t) {
                for (var i in this.Yh)
                    this.Yh[i] && this.Yh[i].UH && this.Yh[i].UH(t)
            }
            ,
            Ln);
            function Ln(t) {
                this.map = t,
                this.Yh = {}
            }
            var Tn, $n = (Tn = wt.lw,
            wt.Ei(Dn, Tn),
            Dn.prototype.ro = function() {
                return {
                    ol: !0,
                    al: !0,
                    visible: this._visible,
                    opacity: this.tl,
                    To: this,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF,
                    cacheSize: this.wl
                }
            }
            ,
            Dn.prototype.eo = function() {
                var t = Tn.prototype.eo.call(this);
                return t.mapNumber = "GS(2019)6379",
                t
            }
            ,
            Dn.prototype.Lo = function() {
                return {
                    id: "nebula",
                    type: "nebula",
                    tileUrl: AMap.getConfig().protocol + "://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v2",
                    tileSize: 0,
                    zooms: [2, 22]
                }
            }
            ,
            Dn.prototype.co = function() {
                return "nebula"
            }
            ,
            Dn.prototype.destroy = function() {
                this.Jh && this.Jh.destroy && (this.Jh.destroy(),
                delete this.Jh)
            }
            ,
            Dn.prototype.show = function() {
                Tn.prototype.show.call(this);
                var t = this.iP();
                t && t.show();
                var i = this.map && this.map.getLayerByClass("AMap.Nebula.LabelsLayer");
                i && i.oP() && i.show()
            }
            ,
            Dn.prototype.hide = function() {
                Tn.prototype.hide.call(this);
                var t = this.iP();
                t && t.hide(),
                this.rP()
            }
            ,
            Dn.prototype.v$ = function() {
                Tn.prototype.v$.call(this);
                var t = this.iP();
                t && this.map.removeLayer(t),
                this.rP()
            }
            ,
            Dn.prototype.Hh = function(t) {
                this.uo = t,
                this.uo.Vh(this.co()).Ks(this.wl)
            }
            ,
            Dn.prototype.rP = function() {
                var t = this.map && this.map.getLayerByClass("AMap.Nebula.LabelsLayer");
                t && t.aP() && t.hide()
            }
            ,
            Dn.prototype.iP = function() {
                var t;
                if (this.map)
                    for (var i = null === (t = this.map) || void 0 === t ? void 0 : t.getLayers(), e = 0; e < i.length; e++) {
                        var n = i[e];
                        if ("AMap.Buildings" === n.CLASS_NAME && n.ro().u$)
                            return n
                    }
            }
            ,
            Dn);
            function Dn() {
                var t = null !== Tn && Tn.apply(this, arguments) || this;
                return t.CLASS_NAME = "AMap.NebulaLayer",
                t
            }
            var Fn, Pn = "nebula.labelsLayer", On = "nebula", Bn = (Fn = wt.lw,
            wt.Ei(En, Fn),
            En.prototype.ro = function() {
                return wt.assign({}, {
                    To: this,
                    rejectMapMask: this.lz
                }, Fn.prototype.eo.call(this))
            }
            ,
            En.prototype.Lo = function() {
                return {
                    id: On,
                    type: On,
                    tileUrl: AMap.getConfig().protocol + "://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v2",
                    tileSize: 0,
                    zooms: [2, 22]
                }
            }
            ,
            En.prototype.co = function() {
                return On
            }
            ,
            En.prototype.sl = function() {
                this.source.destroy(),
                this.Jh && this.Jh.reset()
            }
            ,
            En.prototype.vi = function(t) {
                return this.fz ? this.fz.vi(t, this.hS) : null
            }
            ,
            En.prototype.Do = function(t) {
                var i = Fn.prototype.Do.call(this, t);
                return this.map && this.uz(this.map),
                i
            }
            ,
            En.prototype.aP = function() {
                var t = this.map;
                if (t) {
                    var i = t && t.getLayerByClass("AMap.TileLayer.RoadNet")
                      , e = t && t.getLayerByClass("AMap.NebulaLayer")
                      , n = i && i.getVisible()
                      , o = e && e.getVisible();
                    return !n && !o
                }
                return !1
            }
            ,
            En.prototype.oP = function() {
                var t = this.map;
                if (t) {
                    var i = t && t.getLayerByClass("AMap.TileLayer.RoadNet")
                      , e = t && t.getLayerByClass("AMap.NebulaLayer")
                      , n = i && i.getVisible()
                      , o = e && e.getVisible();
                    return t.showLabel && (n || o)
                }
                return !1
            }
            ,
            En.prototype.uz = function(t) {
                (this.fz = t.fS()).add(this)
            }
            ,
            En);
            function En(t) {
                void 0 === t && (t = {});
                var i = Fn.call(this, t) || this;
                return i.CLASS_NAME = "AMap.Nebula.LabelsLayer",
                i._opts = {
                    id: Pn,
                    type: Pn,
                    opacity: 1,
                    visible: 1,
                    collision: !0,
                    allowCollision: !1
                },
                i._opts = wt.assign({}, i._opts, t),
                i.Qh = t.labelzIndex || 100,
                i._visible = !1 !== t.showLabel,
                i.tl = void 0 === t.opacity ? 1 : t.opacity,
                i
            }
            var jn = (Nn.prototype.lookAt = function(t) {
                var i, n, o, r, a, s, h, l, f, u, c, d, p = wt.Il(), v = wt.Dl();
                wt.Pl(this.jl, t[0], t[0], t[2]),
                v = wt.Ol(v, this.Fl),
                p = wt.lookAt(p, v, t, this.El),
                i = this.Nl,
                o = p[0],
                r = p[4],
                a = p[8],
                s = p[1],
                h = p[5],
                l = p[9],
                f = p[2],
                u = p[6],
                0 < (d = o + h + (c = p[10])) ? (n = .5 / Math.sqrt(d + 1),
                i[3] = .25 / n,
                i[0] = (u - l) * n,
                i[1] = (a - f) * n,
                i[2] = (s - r) * n) : h < o && c < o ? (n = 2 * Math.sqrt(1 + o - h - c),
                i[3] = (u - l) / n,
                i[0] = .25 * n,
                i[1] = (r + s) / n,
                i[2] = (a + f) / n) : c < h ? (n = 2 * Math.sqrt(1 + h - o - c),
                i[3] = (a - f) / n,
                i[0] = (r + s) / n,
                i[1] = .25 * n,
                i[2] = (l + u) / n) : (n = 2 * Math.sqrt(1 + c - o - h),
                i[3] = (s - r) / n,
                i[0] = (a + f) / n,
                i[1] = (l + u) / n,
                i[2] = .25 * n),
                this.$l()
            }
            ,
            Nn.prototype.setPosition = function(t) {
                wt.Pl(this._position, t[0], t[1], t[2]),
                this.$l()
            }
            ,
            Nn.prototype.getPosition = function() {
                return this._position
            }
            ,
            Nn.prototype.$l = function() {
                var t, i, e, n, o, r, a, s, h, l, f, u, c, d, p, v, m, y, g, x;
                t = this.Fl,
                i = this._position,
                n = t,
                u = (o = (e = this.Nl)[0]) * (h = o + o),
                c = o * (l = (r = e[1]) + r),
                d = o * (f = (a = e[2]) + a),
                p = r * l,
                v = r * f,
                m = a * f,
                y = (s = e[3]) * h,
                g = s * l,
                x = s * f,
                n[0] = 1 - (p + m),
                n[1] = c + x,
                n[2] = d - g,
                n[3] = 0,
                n[4] = c - x,
                n[5] = 1 - (u + m),
                n[6] = v + y,
                n[7] = 0,
                n[8] = d + g,
                n[9] = v - y,
                n[10] = 1 - (u + p),
                n[11] = 0,
                n[12] = i[0],
                n[13] = i[1],
                n[14] = i[2],
                n[15] = 1,
                wt.Ul(this.Bl, this.Fl)
            }
            ,
            Nn);
            function Nn() {
                this.Wl = !0,
                this._position = wt.Dl(),
                wt.Pl(this._position, 0, 0, 10),
                this.Gl = wt.Dl(),
                wt.Pl(this.Gl, 0, 0, -1),
                this.jl = wt.Dl(),
                wt.Pl(this.jl, 0, 0, -1),
                this.El = wt.Dl(),
                wt.Pl(this.El, 0, 1, 0),
                this.Nl = wt.Zl(),
                this.Fl = wt.Il(),
                this.Bl = wt.Il(),
                this.ql = wt.Il(),
                this.Yl = wt.Il()
            }
            var Wn, Un = (Wn = jn,
            wt.Ei(Gn, Wn),
            Gn.prototype.Vl = function() {
                var t = wt.Il();
                return wt.multiply(t, this.ql, this.Xl),
                wt.multiply(t, t, this.Bl),
                t
            }
            ,
            Gn.prototype.setOptions = function(t, i, e, n, o, r) {
                this.Hl = void 0 !== t ? t : -1,
                this.Jl = void 0 !== i ? i : 1,
                this.Kl = void 0 !== e ? e : 1,
                this.Ql = void 0 !== n ? n : -1,
                this.tu = void 0 !== o ? o : .1,
                this.iu = void 0 !== r ? r : 1,
                this.eu()
            }
            ,
            Gn.prototype.scale = function(t) {
                void 0 === t && (t = 1);
                var i = wt.Il();
                i.set([t, 0, 0, 0, 0, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
                wt.multiply(this.Xl, this.Xl, i)
            }
            ,
            Gn.prototype.setRotation = function(t) {
                var i = wt.Il()
                  , e = (t - this.nu) / 180 * Math.PI;
                0 !== (this.nu = t) && (i.set([Math.cos(e), -Math.sin(e), 0, 0, Math.sin(e), Math.cos(e), 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
                wt.multiply(this.Xl, this.Xl, i))
            }
            ,
            Gn.prototype.kt = function(t, i, e) {
                if (void 0 !== t) {
                    var n = t.Rt
                      , o = t.zt
                      , r = t.center
                      , a = t.scale
                      , s = wt.Il()
                      , h = wt.Il()
                      , l = wt.Il();
                    s.set([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, o[0], o[1], 0, 1]),
                    h.set([a, 0, 0, 0, 0, a, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
                    l.set([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, -n[0], -n[1], 0, 1]),
                    wt.multiply(s, s, h),
                    wt.multiply(s, s, l),
                    wt.multiply(this.Xl, this.Xl, s);
                    var f = wt.at.getProjection(i).project(r[0], r[1])
                      , u = [f[0] - o[0] + n[0], f[1] - o[1] + n[1]];
                    e(wt.at.getProjection(i).unproject(u[0], u[1]))
                }
            }
            ,
            Gn.prototype.Cu = function() {
                return this.Yl
            }
            ,
            Gn.prototype.lB = function() {
                return {
                    left: this.Hl,
                    right: this.Jl,
                    top: this.Kl,
                    bottom: this.Ql,
                    rotation: this.nu,
                    far: this.iu,
                    near: this.tu,
                    position: this._position
                }
            }
            ,
            Gn.prototype.eu = function() {
                var t = (this.Jl - this.Hl) / (2 * this.bt)
                  , i = (this.Kl - this.Ql) / (2 * this.bt)
                  , e = (this.Jl + this.Hl) / 2
                  , n = (this.Kl + this.Ql) / 2
                  , o = e - t
                  , r = e + t
                  , a = n + i
                  , s = n - i;
                wt.ou(this.ql, o, r, s, a, this.tu, this.iu),
                wt.Ul(this.Yl, this.ql)
            }
            ,
            Gn);
            function Gn(t, i, e, n, o, r) {
                var a = Wn.call(this) || this;
                return a.type = "OthoCamera",
                a.bt = 1,
                a.nu = 0,
                a.Xl = wt.Il(),
                a.Hl = void 0 !== t ? t : -1,
                a.Jl = void 0 !== i ? i : 1,
                a.Kl = void 0 !== e ? e : 1,
                a.Ql = void 0 !== n ? n : -1,
                a.tu = void 0 !== o ? o : .1,
                a.iu = void 0 !== r ? r : 1,
                a.eu(),
                a
            }
            var Vn, Yn = (Vn = wt.Event,
            wt.Ei(Zn, Vn),
            Zn.prototype.au = function() {
                return this.su
            }
            ,
            Zn.prototype.ru = function() {
                return wt.at.getProjection(this.su)
            }
            ,
            Zn.prototype.setOptions = function(t) {
                t.projectionId && (this.su = t.projectionId);
                var i = wt.at.getProjection(this.su);
                if (t.center) {
                    this.hu = t.center;
                    var e = this.lu(i)
                      , n = i.unproject(e[0], e[1]);
                    this.hu = n,
                    wt.Pl(this.uu, e[0], e[1], 0),
                    this.cu.setPosition(this.fu())
                }
                if (void 0 !== t.zoom && (t.zoom = Math.min(Math.max(t.zoom, this.map.getZooms()[0]), this.map.getZooms()[1]),
                this.pu = Math.pow(2, t.zoom - this.bt),
                this.bt = t.zoom,
                this.du = i.getResolution(this.bt),
                this.vu(),
                this.cu.setPosition(this.fu())),
                t.size && (this.map.emit("resize"),
                this._size = t.size,
                this.vu()),
                void 0 !== t.rotation && "w" === wt._.baseRender && (360 < t.rotation ? t.rotation -= 360 : t.rotation < -360 && (t.rotation += 360),
                this.cu.setRotation(t.rotation),
                this.nu = t.rotation),
                t.kt) {
                    if (!this.map.getStatus().zoomEnable)
                        return;
                    var o = t.kt.Mt;
                    if (this.mu = t.kt,
                    o <= this.map.getZooms()[1] && o >= this.map.getZooms()[0]) {
                        this.bt = o,
                        this.du = i.getResolution(this.bt);
                        var r = this.mu
                          , a = r.Rt
                          , s = r.zt;
                        (e = this.lu(i))[0] = e[0] - s[0] + a[0],
                        e[1] = e[1] - s[1] + a[1],
                        n = i.unproject(e[0], e[1]),
                        this.hu = n,
                        wt.Pl(this.uu, e[0], e[1], 0),
                        this.vu(),
                        this.cu.setPosition(this.fu()),
                        this.mu = void 0
                    }
                }
                this.h_() || this.map.setNeedUpdate(!0)
            }
            ,
            Zn.prototype.getOptions = function() {
                return {
                    zoom: this.bt,
                    center: this.hu,
                    rotation: this.nu,
                    projectionId: this.su,
                    pitch: 0
                }
            }
            ,
            Zn.prototype.getStatus = function() {
                var t = wt.Zl()
                  , i = wt.Zl()
                  , e = wt.Zl();
                this.xu(t, i, e);
                var n = wt.Util.getOptimalZoom(this.bt);
                return {
                    pitch: this.Pu,
                    size: this._size,
                    rotation: this.nu,
                    zoom: this.bt,
                    optimalZoom: n,
                    resolution: this.du,
                    optimalResolution: wt.at.getProjection(this.su).getResolution(n),
                    center: this.hu,
                    bounds: t,
                    boundsCoord: i,
                    transformedBoundsCoord: e,
                    centerCoord: this.uu,
                    projectionId: this.su,
                    mvpMatrix: this.cu.Vl(),
                    viewMode: this.type,
                    skyHeight: this.EF()
                }
            }
            ,
            Zn.prototype.bu = function(t) {
                this.hu = [t[0], t[1]];
                var i = wt.at.getProjection(this.su).project(this.hu[0], this.hu[1]);
                wt.Pl(this.uu, i[0], i[1], 0)
            }
            ,
            Zn.prototype.containerTolnglat = function(t, i, e) {
                var n = this.getStatus()
                  , o = n.centerCoord
                  , r = n.rotation
                  , a = wt.V[this.su].transform(o[0], o[1], e);
                if (0 !== r) {
                    var s = r / 180 * Math.PI
                      , h = t - this._size[0] / 2
                      , l = -(i - this._size[1] / 2)
                      , f = Math.sqrt(h * h + l * l)
                      , u = Math.atan(h / l) - s;
                    l < 0 && (u += Math.PI);
                    var c = f * Math.sin(u)
                      , d = f * Math.cos(u);
                    a = [a[0] + c * this.du, a[1] - d * this.du]
                } else
                    a = [a[0] + (t - this._size[0] / 2) * this.du, a[1] + (i - this._size[1] / 2) * this.du];
                a = wt.V[this.su].Xs(a[0], a[1]);
                var p = wt.at.getProjection(this.su).unproject(a[0], a[1]);
                return p[0] = 180 < p[0] ? p[0] - 360 : p[0] < -180 ? p[0] + 360 : p[0],
                p
            }
            ,
            Zn.prototype.lnglatToContainer = function(t, i, e) {
                e = e || this.bt;
                var n = this.getStatus()
                  , o = n.rotation
                  , r = n.centerCoord
                  , a = wt.at.getProjection(this.su).project(t, i)
                  , s = [a[0], a[1]]
                  , h = {
                    center: r,
                    rotation: o,
                    size: this._size
                };
                return wt.V[this.su].wu(s[0], s[1], e, h)
            }
            ,
            Zn.prototype._u = function(t, i) {
                var e = this.getStatus()
                  , n = (e.optimalZoom,
                e.zoom)
                  , o = e.rotation
                  , r = {
                    center: e.centerCoord,
                    rotation: o,
                    size: this._size
                };
                return wt.V[this.su].wu(t, i, n, r)
            }
            ,
            Zn.prototype.ku = function(t, i) {
                var e, n = this.getStatus(), o = (n.optimalZoom,
                n.centerCoord,
                n.zoom,
                n.rotation,
                this.containerTolnglat(t, i));
                return (e = wt.at.getProjection(this.su)).project.apply(e, o)
            }
            ,
            Zn.prototype.h_ = function() {
                return wt.Ru(this.Xl, this.cu.Vl())
            }
            ,
            Zn.prototype.aD = function() {
                return this.Xl = this.cu.Vl(),
                this.Xl
            }
            ,
            Zn.prototype.EF = function() {
                return 1
            }
            ,
            Zn.prototype.pz = function() {
                return this.cu
            }
            ,
            Zn.prototype.xu = function(t, i, e) {
                var n = this.nu / 180 * Math.PI
                  , o = this._size
                  , r = [(Math.abs(o[0] * Math.cos(n)) + Math.abs(o[1] * Math.sin(n))) / 2 * this.du, (Math.abs(o[0] * Math.sin(n)) + Math.abs(o[1] * Math.cos(n))) / 2 * this.du]
                  , a = wt.at.getProjection(this.su)
                  , s = this.uu[0] - r[0]
                  , h = this.uu[0] + r[0]
                  , l = this.uu[1] - r[1]
                  , f = this.uu[1] + r[1]
                  , u = a.unproject(s, l)
                  , c = a.unproject(h, f);
                i[0] = s,
                i[1] = l,
                i[2] = h,
                i[3] = f,
                t[0] = u[0],
                t[1] = u[1],
                t[2] = c[0],
                t[3] = c[1];
                var d = wt.V[this.su].transform(i[0], i[3])
                  , p = wt.V[this.su].transform(i[2], i[1]);
                return e[0] = d[0],
                e[1] = d[1],
                e[2] = p[0],
                e[3] = p[1],
                t
            }
            ,
            Zn.prototype.vu = function() {
                var t = this._size
                  , i = t[0] * this.du
                  , e = t[1] * this.du;
                this.cu.setOptions(-i / 2, i / 2, e / 2, -e / 2, 0, 1)
            }
            ,
            Zn.prototype.fu = function() {
                if (wt.Util.getOptimalZoom(this.bt) < wt.Ra)
                    return this.uu;
                var t = wt.lcs.getDeltaCoord([this.uu[0], this.uu[1]])
                  , i = wt.Dl();
                return wt.Pl(i, t[0], t[1], this.uu[2]),
                i
            }
            ,
            Zn.prototype.lu = function(t) {
                return this.hu[0] = 180 < this.hu[0] ? this.hu[0] - 360 : this.hu[0] < -180 ? this.hu[0] + 360 : this.hu[0],
                t.project(this.hu[0], this.hu[1])
            }
            ,
            Zn);
            function Zn(t, i) {
                var e = Vn.call(this) || this;
                return e.type = "2D",
                e.Pu = 0,
                e.hu = [0, 0],
                e.bt = 12,
                e._size = [0, 0],
                e.pu = 1,
                e.nu = 0,
                e.cu = new Un(-1,1,1,-1,0,1e3),
                e.su = "EPSG:3857",
                e.uu = wt.Dl(),
                e.du = wt.at.getProjection(e.su).getResolution(12),
                e.Xl = wt.Il(),
                e.bt = void 0 !== t.zoom ? t.zoom : 12,
                e.map = i,
                e.setOptions(t),
                e.vu(),
                e.Xl = e.cu.Vl(),
                e
            }
            var Xn, Jn = (Xn = jn,
            wt.Ei(qn, Xn),
            qn.prototype.Vl = function() {
                var t = wt.Il();
                return wt.multiply(t, this.ql, this.zu),
                t
            }
            ,
            qn.prototype.Su = function() {
                return this.ql
            }
            ,
            qn.prototype.Cu = function() {
                return this.Yl
            }
            ,
            qn.prototype.Lu = function() {
                return this.zu
            }
            ,
            qn.prototype.Au = function() {
                return this.cu
            }
            ,
            qn.prototype.setOptions = function(t, i, e, n, o) {
                void 0 === t && (t = [1, 1]),
                void 0 === i && (i = 60),
                void 0 === e && (e = 1),
                void 0 === n && (n = 1),
                void 0 === o && (o = 10),
                this.Tu = this.Iu(i),
                this.tu = n,
                this.iu = o,
                this.Du = e,
                this._size = t,
                this.eu()
            }
            ,
            qn.prototype.setSize = function(t) {
                this._size = t
            }
            ,
            qn.prototype.setPitch = function(t) {
                this.Pu = void 0 !== t ? t : this.Pu;
                var i = this._size[1] / 2 / Math.tan(this.Tu / 2)
                  , e = this.Iu(this.Pu)
                  , n = this.Iu(this.nu)
                  , o = i * Math.sin(e)
                  , r = this.jl[0] - o * Math.sin(n)
                  , a = this.jl[1] - o * Math.cos(n)
                  , s = i * Math.cos(e);
                wt.Pl(this._position, r, a, s),
                this.ju()
            }
            ,
            qn.prototype.setRotation = function(t) {
                this.nu = void 0 !== t ? -t : this.nu;
                var i = this.Iu(this.nu)
                  , e = Math.sin(i)
                  , n = Math.cos(i);
                wt.Pl(this.El, e, n, 0),
                this.Ou()
            }
            ,
            qn.prototype.Fu = function(t, i, e) {
                wt.Pl(this.jl, t, i, e),
                this.ju()
            }
            ,
            qn.prototype.Ou = function(t, i, e) {
                if (void 0 !== t && void 0 !== i)
                    wt.Pl(this._position, t, i, void 0 === e ? this._position[2] : e),
                    this.ju();
                else {
                    var n = this._size[1] / 2 / Math.tan(this.Tu / 2);
                    wt.Pl(this._position, this.jl[0], this.jl[1], n),
                    this.setPitch()
                }
            }
            ,
            qn.prototype.Eu = function(t) {
                var i = this._size;
                this.cz = t || i[1] / 2 / Math.tan(this.Tu / 2) || 0,
                wt.Pl(this._position, this._position[0], this._position[1], this.cz),
                this.setPitch()
            }
            ,
            qn.prototype.Nu = function(t, i, e) {
                void 0 === t && (t = 0),
                void 0 === i && (i = 1),
                void 0 === e && (e = 0),
                wt.Pl(this.El, t, i, e),
                this.ju()
            }
            ,
            qn.prototype.dz = function() {
                return this.cz
            }
            ,
            qn.prototype.lB = function() {
                return {
                    fov: this.Tu,
                    target: this.jl,
                    up: this.El,
                    position: this._position,
                    far: this.iu,
                    near: this.tu
                }
            }
            ,
            qn.prototype.eu = function() {
                wt.perspective(this.ql, this.Tu, this.Du, this.tu, this.iu),
                wt.Ul(this.Yl, this.ql)
            }
            ,
            qn.prototype.ju = function() {
                wt.lookAt(this.zu, this._position, this.jl, this.El),
                wt.Ul(this.cu, this.zu)
            }
            ,
            qn.prototype.Iu = function(t) {
                return t * Math.PI / 180
            }
            ,
            qn);
            function qn(t, i, e, n, o) {
                void 0 === t && (t = [1, 1]),
                void 0 === i && (i = 60),
                void 0 === e && (e = 1),
                void 0 === n && (n = 10),
                void 0 === o && (o = 2e4);
                var r = Xn.call(this) || this;
                return r.Wt = "PerspectiveCamera",
                r.Pu = 0,
                r.nu = 0,
                r.cu = wt.Il(),
                r.zu = wt.Il(),
                r.cz = 0,
                r.Tu = r.Iu(i),
                r.tu = n,
                r.iu = o,
                r.Du = e,
                wt.Pl(r.El, 0, 1, 0),
                r._size = t,
                r.eu(),
                r
            }
            var Qn, Kn = (Qn = wt.Event,
            wt.Ei(to, Qn),
            to.prototype.setOptions = function(t) {
                var i = wt.at.getProjection(this.su);
                if (t.projectionId && (this.su = t.projectionId),
                t.size && (this.map.emit("resize"),
                this._size = t.size,
                this.vu(),
                this.cu.Ou()),
                void 0 !== t.rotation && "w" === wt._.baseRender && (360 < t.rotation ? t.rotation -= 360 : t.rotation < -360 && (t.rotation += 360),
                this.cu.setRotation(t.rotation),
                this.nu = t.rotation),
                void 0 !== t.zoom) {
                    t.zoom = Math.min(Math.max(t.zoom, this.map.getZooms()[0]), this.map.getZooms()[1]);
                    var e = this.bt;
                    this.bt = t.zoom,
                    this.du = i.getResolution(this.bt);
                    var n = this.fu();
                    if (wt.Util.getOptimalZoom(t.zoom) < wt.Ra && wt.Util.getOptimalZoom(e) >= wt.Ra || wt.Util.getOptimalZoom(t.zoom) >= wt.Ra && wt.Util.getOptimalZoom(e) < wt.Ra) {
                        var o = this.fu();
                        this.cu.Fu(o[0], o[1], 0),
                        this.cu.Ou(),
                        this.vu()
                    }
                    this.cu.Fu(n[0], n[1], 0),
                    this.cu.Ou(),
                    this.vu()
                }
                if (void 0 !== t.pitch && "w" === wt._.baseRender && (t.pitch > this.$u() || this.Pu > this.$u() ? t.pitch = this.$u() : (t.pitch < 0 || this.Pu < 0) && (t.pitch = 0),
                this.Pu = Math.min(t.pitch, this.$u()),
                this.cu.setPitch(t.pitch)),
                t.center) {
                    this.hu = t.center;
                    var r = this.lu(i);
                    wt.Pl(this.uu, r[0], r[1], 0),
                    n = this.fu();
                    var a = i.unproject(r[0], r[1]);
                    this.hu = a,
                    this.cu.Fu(n[0], n[1], 0),
                    this.cu.Ou()
                }
                if (t.kt) {
                    if (!this.map.getStatus().zoomEnable)
                        return;
                    if (e = this.bt,
                    this.bt = Math.min(Math.max(t.kt.Mt, this.map.getZooms()[0]), this.map.getZooms()[1]),
                    this.du = i.getResolution(this.bt),
                    wt.Util.getOptimalZoom(t.kt.Mt) < wt.Ra && wt.Util.getOptimalZoom(e) >= wt.Ra || wt.Util.getOptimalZoom(t.kt.Mt) >= wt.Ra && wt.Util.getOptimalZoom(e) < wt.Ra) {
                        var s = this.fu();
                        this.cu.Fu(s[0], s[1], 0),
                        this.cu.Ou()
                    }
                    var h = this.lu(i)
                      , l = t.kt.pos
                      , f = this.X(l[0], l[1])
                      , u = wt.lcs.getLocalByCoord([h[0], h[1]]);
                    this.vu(),
                    n = this.fu(),
                    this.cu.Fu(n[0], n[1], 0),
                    this.cu.Ou();
                    var c = this.X(l[0], l[1])
                      , d = [c[0] - f[0], c[1] - f[1]]
                      , p = [n[0] - d[0], n[1] - d[1]]
                      , v = (r = [h[0] - d[0], h[1] - d[1]],
                    wt.lcs.getLocalByCoord(r));
                    if (this.bt >= wt.Ra && (v.x !== u.x || u.y !== v.y)) {
                        var m = v.x - u.x
                          , y = v.y - u.y;
                        p[0] -= m * wt.lcs.getSize()[0],
                        p[1] -= y * wt.lcs.getSize()[1]
                    }
                    this.cu.Fu(p[0], p[1], 0),
                    this.cu.Ou(),
                    this.bu(r)
                }
                this.h_() || this.map.setNeedUpdate(!0)
            }
            ,
            to.prototype.bu = function(t) {
                var i = wt.at.getProjection(this.su);
                wt.Pl(this.uu, t[0], t[1], 0);
                var e = i.unproject(t[0], t[1]);
                this.hu = e
            }
            ,
            to.prototype.getOptions = function() {
                return {
                    size: this._size,
                    zoom: this.bt,
                    center: this.hu,
                    rotation: this.nu,
                    projectionId: this.su,
                    pitch: this.Pu,
                    resolution: this.du
                }
            }
            ,
            to.prototype.au = function() {
                return this.su
            }
            ,
            to.prototype.ru = function() {
                return wt.at.getProjection(this.su)
            }
            ,
            to.prototype.getStatus = function() {
                var t = wt.Zl()
                  , i = wt.Zl()
                  , e = wt.Zl();
                this.xu(t, i, e);
                var n = wt.Util.getOptimalZoom(this.bt);
                return {
                    size: this._size,
                    pitch: this.Pu,
                    rotation: this.nu,
                    zoom: this.bt,
                    optimalZoom: n,
                    resolution: this.du,
                    optimalResolution: wt.at.getProjection(this.su).getResolution(n),
                    center: this.hu,
                    bounds: t,
                    boundsCoord: i,
                    transformedBoundsCoord: e,
                    centerCoord: this.uu,
                    projectionId: this.su,
                    mvpMatrix: this.cu.Vl(),
                    modelMatrix: this.cu.Au(),
                    viewMode: this.type,
                    skyHeight: this.EF()
                }
            }
            ,
            to.prototype.$u = function(t) {
                return 65
            }
            ,
            to.prototype.Uu = function(t) {
                var i = void 0 !== t ? t : this.Pu
                  , e = this.bt
                  , n = Math.max(i / 100 - .4, 0)
                  , o = Math.max(4 * (e - 16), 0) / 100;
                return this._size[1] * (n - o) - 10
            }
            ,
            to.prototype.EF = function() {
                var t = 1;
                return 0 < (t = this.Uu()) ? 1 - t / this._size[1] * 2 : 1
            }
            ,
            to.prototype.X = function(t, i) {
                var e = this.cu.Cu()
                  , n = this.cu.Au()
                  , o = this._size;
                if (t = t / o[0] * 2 - 1,
                i = 1 - i / o[1] * 2,
                !e)
                    return [0, 0];
                var r = wt.xd(t, i, -1, 1);
                this.Wu(r, this.tu);
                var a = wt.Zl();
                wt.Gu(a, r, e);
                var s = wt.xd(t, i, 1, 1);
                this.Wu(s, this.iu);
                var h = wt.Zl();
                wt.Gu(h, s, e);
                var l = wt.Zl();
                wt.Gu(l, a, n);
                var f = wt.Zl();
                wt.Gu(f, h, n);
                var u = l[2] / (l[2] - f[2]);
                return [l[0] - u * (l[0] - f[0]), l[1] - u * (l[1] - f[1])]
            }
            ,
            to.prototype.ku = function(t, i) {
                var e, n = this.getStatus(), o = n.optimalZoom, r = n.centerCoord;
                if (t = (e = this.X(t, i))[0],
                i = e[1],
                o >= wt.Ra) {
                    var a = wt.lcs.getLocalByCoord([r[0], r[1]]);
                    t += a.center[0],
                    i += a.center[1]
                }
                return [t, i]
            }
            ,
            to.prototype.H = function(t, i) {
                var e = this.cu.Su()
                  , n = this.cu.Lu()
                  , o = wt.xd(t, i, 0, 1)
                  , r = wt.Zl()
                  , a = wt.Zl();
                return wt.Gu(r, o, n),
                wt.Gu(a, r, e),
                wt.scale(a, a, 1 / a[3]),
                [(a[0] + 1) / 2 * this._size[0], (1 - a[1]) / 2 * this._size[1]]
            }
            ,
            to.prototype._u = function(t, i) {
                var e = this.getStatus()
                  , n = e.optimalZoom
                  , o = e.centerCoord;
                if (n >= wt.Ra) {
                    var r = wt.lcs.getLocalByCoord([o[0], o[1]]);
                    t -= r.center[0],
                    i -= r.center[1]
                }
                return this.H(t, i)
            }
            ,
            to.prototype.containerTolnglat = function(t, i) {
                var e = this.X(t, i)
                  , n = 0
                  , o = 0;
                if (wt.Util.getOptimalZoom(this.bt) >= wt.Ra) {
                    var r = wt.lcs.getLocalByCoord([this.uu[0], this.uu[1]]).center;
                    n = r[0],
                    o = r[1]
                }
                e[0] += n,
                e[1] += o;
                var a = wt.at.getProjection(this.su).unproject(e[0], e[1]);
                return a[0] = 180 < a[0] ? a[0] - 360 : a[0] < -180 ? a[0] + 360 : a[0],
                a
            }
            ,
            to.prototype.lnglatToContainer = function(t, i) {
                var e = wt.at.getProjection(this.su).project(t, i);
                if (wt.Util.getOptimalZoom(this.bt) >= wt.Ra) {
                    var n = wt.lcs.getLocalByCoord([this.uu[0], this.uu[1]]);
                    e[0] -= n.center[0],
                    e[1] -= n.center[1]
                }
                return this.H(e[0], e[1])
            }
            ,
            to.prototype.pz = function() {
                return this.cu
            }
            ,
            to.prototype.h_ = function() {
                return wt.Ru(this.Xl, this.cu.Vl())
            }
            ,
            to.prototype.aD = function() {
                return this.Xl = this.cu.Vl(),
                this.Xl
            }
            ,
            to.prototype.xu = function(t, i, e) {
                var n = 0
                  , o = 0
                  , r = this.Uu();
                if (wt.Util.getOptimalZoom(this.bt) >= wt.Ra) {
                    var a = wt.lcs.getLocalByCoord([this.uu[0], this.uu[1]]).center;
                    n = a[0],
                    o = a[1]
                }
                var s = wt.at.getProjection(this.su)
                  , h = this.X(0, r)
                  , l = this.X.apply(this, this._size)
                  , f = this.X(this._size[0], r)
                  , u = this.X(0, this._size[1])
                  , c = Math.min(h[0], u[0], f[0], l[0]) + n
                  , d = Math.max(h[0], u[0], f[0], l[0]) + n
                  , p = Math.min(h[1], u[1], f[1], l[1]) + o
                  , v = Math.max(h[1], u[1], f[1], l[1]) + o
                  , m = s.unproject(c, p)
                  , y = s.unproject(d, v);
                i[0] = c,
                i[1] = p,
                i[2] = d,
                i[3] = v,
                t[0] = m[0],
                t[1] = m[1],
                t[2] = y[0],
                t[3] = y[1];
                var g = wt.V[this.su].transform(i[0], i[3])
                  , x = wt.V[this.su].transform(i[2], i[1]);
                return e[0] = g[0],
                e[1] = g[1],
                e[2] = x[0],
                e[3] = x[1],
                t
            }
            ,
            to.prototype.vu = function() {
                var t = this._size
                  , i = t[0] * this.du
                  , e = t[1] * this.du;
                this.cu.setSize([i, e]),
                this.cu.Eu();
                var n = this.cu.dz();
                this.tu = n / 10,
                this.iu = 50 * n;
                var o = 56 - this.bt;
                this.cu.setOptions([i, e], o, t[0] / t[1], this.tu, this.iu),
                this.cu.Eu()
            }
            ,
            to.prototype.fu = function() {
                if (wt.Util.getOptimalZoom(this.bt) < wt.Ra)
                    return [this.uu[0], this.uu[1]];
                var t = wt.lcs.getDeltaCoord([this.uu[0], this.uu[1]]);
                return [t[0], t[1]]
            }
            ,
            to.prototype.lu = function(t) {
                return this.hu[0] = 180 < this.hu[0] ? this.hu[0] - 360 : this.hu[0] < -180 ? this.hu[0] + 360 : this.hu[0],
                t.project(this.hu[0], this.hu[1])
            }
            ,
            to.prototype.Wu = function(t, i) {
                t[0] *= i,
                t[1] *= i,
                t[2] *= i,
                t[3] *= i
            }
            ,
            to);
            function to(t, i) {
                var e = Qn.call(this) || this;
                return e.type = "3D",
                e.Pu = 0,
                e.hu = [116.397128, 39.916527],
                e.bt = 12,
                e.tu = 1e3,
                e.iu = 1 << 30,
                e._size = [0, 0],
                e.nu = 0,
                e.cu = new Jn,
                e.su = "EPSG:3857",
                e.uu = wt.Dl(),
                e.du = wt.at.getProjection(e.su).getResolution(12),
                e.Xl = wt.Il(),
                e.map = i,
                e.setOptions(t),
                e.cu.Ou(e.uu[0], e.uu[1]),
                e.Xl = e.cu.Vl(),
                e
            }
            var io, eo, no = {
                Fe: ["water", "buildings", "sky", "atmosphere", "bg", "traffic"],
                Ee: {
                    regions: {
                        name: "区域面",
                        subType: {
                            land: {
                                name: "陆地",
                                styleMap: [{
                                    mainkey: 30001,
                                    subkey: [1, 4, 5]
                                }]
                            },
                            green: {
                                name: "绿地",
                                styleMap: [{
                                    mainkey: 30001,
                                    subkey: [3, 7, 8, 9, 10, 12]
                                }]
                            },
                            edu: {
                                name: "教育体育",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [3, 31]
                                }]
                            },
                            public: {
                                name: "公共设施",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [4, 12, 22, 32]
                                }]
                            },
                            traffic: {
                                name: "交通枢纽",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [6, 14, 40]
                                }, {
                                    mainkey: 30004,
                                    subkey: [6, 14, 40]
                                }]
                            },
                            scenicSpot: {
                                name: "景区",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [5, 33]
                                }]
                            },
                            culture: {
                                name: "文化",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [7, 35]
                                }]
                            },
                            health: {
                                name: "医疗卫生",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [8, 36]
                                }]
                            },
                            sports: {
                                name: "运动场所",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [9, 10, 13, 19, 20, 21, 34, 37, 39]
                                }]
                            },
                            business: {
                                name: "商业场所",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [11, 23, 24, 25, 26, 27, 28, 29, 30, 38]
                                }]
                            },
                            parkingLot: {
                                name: "停车场",
                                styleMap: [{
                                    mainkey: 30002,
                                    subkey: [1]
                                }]
                            },
                            subway: {
                                name: "地铁设施",
                                styleMap: [{
                                    mainkey: 30003
                                }]
                            }
                        }
                    },
                    water: {
                        name: "水系",
                        styleMap: [{
                            mainkey: 30001,
                            subkey: [2, 6, 11, 13]
                        }, {
                            mainkey: 20014,
                            subkey: [1, 2]
                        }, {
                            mainkey: 10002,
                            subkey: [13, 38]
                        }]
                    },
                    buildings: {
                        name: "建筑物",
                        styleMap: [{
                            mainkey: 50001,
                            subkey: [1, 2]
                        }, {
                            mainkey: 50002,
                            subkey: [1, 2, 3, 4]
                        }, {
                            mainkey: 50003,
                            subkey: [1]
                        }, {
                            mainkey: 50004,
                            subkey: [1]
                        }, {
                            mainkey: 30002,
                            subkey: [2, 15, 16, 17, 18]
                        }]
                    },
                    roads: {
                        name: "道路",
                        subType: {
                            highWay: {
                                name: "高速公路",
                                styleMap: [{
                                    mainkey: 20001,
                                    subkey: [1, 2, 3, 5, 6]
                                }]
                            },
                            ringRoad: {
                                name: "城市环线",
                                styleMap: [{
                                    mainkey: 20002,
                                    subkey: [1, 2, 3]
                                }]
                            },
                            nationalRoad: {
                                name: "国道",
                                styleMap: [{
                                    mainkey: 20003,
                                    subkey: [1, 2, 3, 5]
                                }]
                            },
                            provincialRoad: {
                                name: "省道",
                                styleMap: [{
                                    mainkey: 20004,
                                    subkey: [1, 2, 3]
                                }]
                            },
                            secondaryRoad: {
                                name: "二级公路",
                                styleMap: [{
                                    mainkey: 20007,
                                    subkey: [1, 2, 3]
                                }]
                            },
                            levelThreeRoad: {
                                name: "三级公路",
                                styleMap: [{
                                    mainkey: 20008,
                                    subkey: [1, 2, 4, 5]
                                }]
                            },
                            levelFourRoad: {
                                name: "四级道路",
                                styleMap: [{
                                    mainkey: 20009,
                                    subkey: [1, 2, 3, 5, 6, 7]
                                }]
                            },
                            roadsBeingBuilt: {
                                name: "在建道路",
                                styleMap: [{
                                    mainkey: 20018,
                                    subkey: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
                                }]
                            },
                            railway: {
                                name: "铁路",
                                styleMap: [{
                                    mainkey: 20010,
                                    subkey: [1]
                                }]
                            },
                            highSpeedRailway: {
                                name: "高铁",
                                styleMap: [{
                                    mainkey: 20010,
                                    subkey: [2]
                                }]
                            },
                            subway: {
                                name: "地铁",
                                styleMap: [{
                                    mainkey: 20015,
                                    allSubKey: !0,
                                    subkey0: [1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47, 48, 50, 51, 52, 54, 55, 56, 57, 58, 59, 60, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 86, 87, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 131, 132, 133, 143]
                                }]
                            },
                            subwayBeingBuilt: {
                                name: "在建地铁",
                                styleMap: [{
                                    mainkey: 20015,
                                    subkey: [1, 2]
                                }, {
                                    mainkey: 20019,
                                    subkey: [1]
                                }]
                            },
                            overPass: {
                                name: "天桥",
                                styleMap: [{
                                    mainkey: 20012,
                                    subkey: [1, 2, 3]
                                }]
                            },
                            underPass: {
                                name: "地道",
                                styleMap: [{
                                    mainkey: 20013,
                                    subkey: [1, 2, 3]
                                }]
                            },
                            other: {
                                name: "其他线条",
                                styleMap: [{
                                    mainkey: 20011,
                                    subkey: [1]
                                }, {
                                    mainkey: 20017,
                                    subkey: [1, 2, 3, 4, 8]
                                }, {
                                    mainkey: 20020,
                                    subkey: [1, 2, 3]
                                }, {
                                    mainkey: 20024,
                                    subkey: [1, 2]
                                }, {
                                    mainkey: 20028,
                                    subkey: [1]
                                }]
                            },
                            guideBoards: {
                                name: "道路路牌",
                                styleMap: [{
                                    mainkey: 40001,
                                    subkey: [2800, 110100, 110101, 110102, 110103, 110104, 110105]
                                }]
                            }
                        }
                    },
                    labels: {
                        name: "标注",
                        subType: {
                            pois: {
                                name: "兴趣点",
                                subType: {
                                    hotel: {
                                        name: "住宿",
                                        isDetailedType: !0,
                                        detailedCode: 0,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [9, 133, 134, 135, 136, 155, 156, 157, 158, 159, 160, 161, 162, 186]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [31, 32, 33, 34, 35, 36, 37, 38, 39, 164, 165]
                                        }]
                                    },
                                    restaurant: {
                                        name: "餐饮",
                                        isDetailedType: !0,
                                        detailedCode: 1,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [19, 20, 21, 22, 114, 115, 116, 117, 118, 119, 183, 187]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [1, 2, 3, 4, 166, 167, 168, 179, 180, 181, 203, 205, 206, 215]
                                        }]
                                    },
                                    shop: {
                                        name: "购物",
                                        isDetailedType: !0,
                                        detailedCode: 2,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [7, 8, 68, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [5, 6, 7, 8, 9, 10, 11, 12, 13, 175, 200, 201, 202, 204]
                                        }]
                                    },
                                    scenicSpot: {
                                        name: "风景名胜",
                                        isDetailedType: !0,
                                        detailedCode: 3,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [4, 12, 14, 38, 69, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 120, 167, 171, 188, 189, 190, 191, 192]
                                        }, {
                                            mainkey: 10008
                                        }, {
                                            mainkey: 10007,
                                            subkey: [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 187, 188, 190, 192, 193, 194, 195, 196, 198, 216, 217, 218, 219, 220, 221, 223, 224, 225]
                                        }]
                                    },
                                    traffic: {
                                        name: "交通设施",
                                        isDetailedType: !0,
                                        detailedCode: 4,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [23, 24, 25, 26, 31, 36, 148, 154, 168, 172, 175, 176, 177, 178]
                                        }, {
                                            mainkey: 10002,
                                            subkey: [11, 16]
                                        }, {
                                            mainkey: 10009
                                        }]
                                    },
                                    bank: {
                                        name: "金融保险",
                                        isDetailedType: !0,
                                        detailedCode: 5,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [42, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 144, 145, 146, 147]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27]
                                        }]
                                    },
                                    edu: {
                                        name: "科教文化",
                                        isDetailedType: !0,
                                        detailedCode: 6,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [10, 11, 13, 35, 138, 139, 140, 141, 142, 143, 163, 164, 165, 166, 170]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [43, 44, 45, 46, 47, 176, 177]
                                        }]
                                    },
                                    live: {
                                        name: "生活服务",
                                        isDetailedType: !0,
                                        detailedCode: 7,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [58, 63, 64, 65, 66, 67, 121, 122, 123]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [28, 29, 30]
                                        }]
                                    },
                                    hospital: {
                                        name: "医疗保健",
                                        isDetailedType: !0,
                                        detailedCode: 8,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [32, 33, 57, 70, 131, 132, 169, 193, 206, 207, 208, 209, 210]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [170, 209]
                                        }]
                                    },
                                    pe: {
                                        name: "休闲体育",
                                        isDetailedType: !0,
                                        detailedCode: 9,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [15, 16, 17, 37, 60, 61, 62, 73, 124, 125, 126, 127, 128, 129, 130, 180, 181, 182, 184, 185, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 213, 214]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [169, 171, 172, 173, 174, 178, 197, 207]
                                        }]
                                    },
                                    public: {
                                        name: "公共设施",
                                        isDetailedType: !0,
                                        detailedCode: 10,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [59, 173, 215]
                                        }]
                                    },
                                    buidling: {
                                        name: "商务住宅",
                                        isDetailedType: !0,
                                        detailedCode: 11,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [5, 6, 74, 75, 76, 77, 78, 79, 80, 81, 179]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [189, 191]
                                        }]
                                    },
                                    gov: {
                                        name: "政府机构及社会团体",
                                        isDetailedType: !0,
                                        detailedCode: 12,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [3, 34, 43, 137]
                                        }]
                                    },
                                    moto: {
                                        name: "摩托车服务",
                                        isDetailedType: !0,
                                        detailedCode: 13,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [113]
                                        }]
                                    },
                                    vehicle: {
                                        name: "汽车服务",
                                        isDetailedType: !0,
                                        detailedCode: 14,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [39, 40, 41, 71, 72, 151, 152, 153]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [40, 41, 42, 182, 183, 184, 185, 186]
                                        }]
                                    },
                                    pass: {
                                        name: "通行设施",
                                        isDetailedType: !0,
                                        detailedCode: 15,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [27, 28, 149, 150, 174]
                                        }, {
                                            mainkey: 10002,
                                            subkey: [21]
                                        }]
                                    },
                                    subway: {
                                        name: "地铁站",
                                        isDetailedType: !0,
                                        detailedCode: 16,
                                        styleMap: [{
                                            mainkey: 10005,
                                            subkey: [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 54, 55, 56, 57, 59, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 103, 104, 105]
                                        }, {
                                            mainkey: 10006,
                                            subkey: [1, 2]
                                        }]
                                    },
                                    roadFacilities: {
                                        name: "道路附属设施",
                                        isDetailedType: !0,
                                        detailedCode: 17,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [2, 29, 30]
                                        }, {
                                            mainkey: 10017
                                        }]
                                    },
                                    address: {
                                        name: "地名",
                                        isDetailedType: !0,
                                        detailedCode: 18,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [18]
                                        }, {
                                            mainkey: 10002,
                                            subkey: [10, 12, 14, 15, 23, 36]
                                        }]
                                    },
                                    other: {
                                        name: "其他",
                                        isDetailedType: !0,
                                        detailedCode: 19,
                                        styleMap: [{
                                            mainkey: 10001,
                                            subkey: [1, 211, 212]
                                        }, {
                                            mainkey: 10002,
                                            subkey: [28]
                                        }, {
                                            mainkey: 10007,
                                            subkey: [208, 210, 211, 212, 213, 214]
                                        }, {
                                            mainkey: 10010
                                        }, {
                                            mainkey: 10011
                                        }, {
                                            mainkey: 10012
                                        }, {
                                            mainkey: 10013
                                        }, {
                                            mainkey: 10014
                                        }, {
                                            mainkey: 10015
                                        }, {
                                            mainkey: 10016
                                        }]
                                    }
                                }
                            },
                            aois: {
                                name: "区域标注",
                                styleMap: [{
                                    mainkey: 10004,
                                    allSubKey: !0,
                                    subkey: [1, 3, 4, 5, 6, 7, 8, 11, 12, 13, 14, 15, 16, 17, 18, 21, 22, 23]
                                }]
                            },
                            continent: {
                                name: "大洲",
                                styleMap: [{
                                    mainkey: 10002,
                                    subkey: [20]
                                }]
                            },
                            country: {
                                name: "国家",
                                styleMap: [{
                                    mainkey: 10002,
                                    subkey: [18, 19, 29]
                                }]
                            },
                            province: {
                                name: "省/直辖市/自治区/特别行政区",
                                styleMap: [{
                                    mainkey: 10002,
                                    subkey: [22, 26, 33]
                                }]
                            },
                            city: {
                                name: "城市",
                                styleMap: [{
                                    mainkey: 10002,
                                    subkey: [1, 2, 3, 4, 5, 7, 24, 25, 27, 30, 31, 32, 34, 35]
                                }]
                            },
                            district: {
                                name: "区县",
                                styleMap: [{
                                    mainkey: 10002,
                                    subkey: [6, 8, 37]
                                }]
                            },
                            town: {
                                name: "乡镇",
                                styleMap: [{
                                    mainkey: 10002,
                                    subkey: [9]
                                }]
                            },
                            village: {
                                name: "村庄",
                                styleMap: [{
                                    mainkey: 10002,
                                    subkey: [17]
                                }]
                            }
                        }
                    },
                    borders: {
                        name: "行政区边界",
                        subType: {
                            China: {
                                name: "中国国界",
                                styleMap: [{
                                    mainkey: 20016,
                                    subkey: [1, 2, 9]
                                }]
                            },
                            foreign: {
                                name: "外国国界/停火线/主张线",
                                styleMap: [{
                                    mainkey: 20016,
                                    subkey: [3, 4, 8, 10, 11, 14, 16]
                                }]
                            },
                            provincial: {
                                name: "省界线",
                                styleMap: [{
                                    mainkey: 20016,
                                    subkey: [5, 6, 7, 12]
                                }]
                            }
                        }
                    }
                }
            }, oo = (ro.prototype.pn = function(t) {
                this.qe ? t() : this.Ye.push(t)
            }
            ,
            ro.prototype.dn = function(t, i, e) {
                return this.vn.dn(t, i, e)
            }
            ,
            ro.prototype.mn = function(t, i) {
                return this.vn.mn(t, i)
            }
            ,
            ro.prototype.setStyle = function(t, i) {
                var e = this.xn(t);
                this.vn.setStyle(e),
                this.vn.kF(t),
                i.gn.bn(e, function() {
                    i.emit("styleChanged")
                })
            }
            ,
            ro.prototype.w_ = function(t) {
                if (!this.Ze || !this.Ze[t])
                    return null;
                var e = [];
                return Object.keys(this.Ze[t]).forEach(function(t) {
                    var i = parseFloat(t);
                    e.push(i)
                }),
                e
            }
            ,
            ro.prototype.xn = function(t) {
                for (var i = {}, e = Object.keys(t), n = 0; n < e.length; n++) {
                    var o = e[n]
                      , r = t[o];
                    if (no.Ee[o]) {
                        var a = no.Ee[o];
                        if (a.styleMap) {
                            for (var s = a.styleMap, h = 0; h < s.length; h++)
                                if (i[w = s[h].mainkey] || (i[w] = {}),
                                s[h].subkey)
                                    for (var l = 0; l < s[h].subkey.length; l++) {
                                        var f = s[h].subkey[l]
                                          , u = wt.yn(r);
                                        if (r.styles)
                                            for (var c = Object.keys(r.styles), d = 0; d < c.length; d++) {
                                                var p = c[d]
                                                  , v = r.styles[p].transitional;
                                                u.styles[p] = {
                                                    nodes: {},
                                                    transitional: v || void 0
                                                };
                                                for (var m = r.styles[p].nodes, y = 0; y < m.length; y++) {
                                                    var g = m[y].zoom
                                                      , x = m[y].value;
                                                    u.styles[p].nodes[g] = x
                                                }
                                            }
                                        i[w][f] = u
                                    }
                        } else if (a.subType && r.subType) {
                            var b = Object.keys(r.subType);
                            for (h = 0; h < b.length; h++) {
                                var _ = b[h];
                                if (a.subType[_] && a.subType[_].styleMap) {
                                    for (s = a.subType[_].styleMap,
                                    l = 0; l < s.length; l++)
                                        if (s[l].mainkey) {
                                            var w;
                                            i[w = s[l].mainkey] || (i[w] = {});
                                            var k = s[l].subkey;
                                            if (s[l].allSubKey && (k = this.w_(w)),
                                            k)
                                                for (var M = 0; M < k.length; M++) {
                                                    f = k[M];
                                                    var C = r.subType[_];
                                                    if ((u = wt.yn(C)).styles)
                                                        for (c = Object.keys(C.styles),
                                                        d = 0; d < c.length; d++)
                                                            for (p = c[d],
                                                            v = C.styles[p].transitional,
                                                            u.styles[p] = {
                                                                nodes: {},
                                                                transitional: v || void 0
                                                            },
                                                            m = C.styles[p].nodes,
                                                            y = 0; y < m.length; y++)
                                                                g = m[y].zoom,
                                                                x = m[y].value,
                                                                u.styles[p].nodes[g] = x;
                                                    i[w][f] = u
                                                }
                                        }
                                } else if (a.subType[_] && a.subType[_].subType)
                                    for (var S = a.subType[_].subType, z = Object.keys(S), R = (C = r.subType[_],
                                    u = wt.yn(C),
                                    0); R < z.length; R++) {
                                        var A = z[R];
                                        if (S[A].styleMap)
                                            for (var I = 0; I < S[A].styleMap.length; I++) {
                                                var L = S[A].styleMap[I];
                                                if (L.mainkey && L.subkey) {
                                                    i[L.mainkey] || (i[L.mainkey] = {});
                                                    for (var T = 0; T < L.subkey.length; T++) {
                                                        var $ = L.subkey[T];
                                                        if (u.detailedType && u.detailedType[A]) {
                                                            var D = u.detailedType[A]
                                                              , F = wt.yn(D);
                                                            if (D.styles)
                                                                for (c = Object.keys(D.styles),
                                                                d = 0; d < c.length; d++)
                                                                    for (p = c[d],
                                                                    F.styles[p] = {
                                                                        nodes: {}
                                                                    },
                                                                    m = D.styles[p].nodes,
                                                                    y = 0; y < m.length; y++)
                                                                        g = m[y].zoom,
                                                                        x = m[y].value,
                                                                        F.styles[p].nodes[g] = x;
                                                            i[L.mainkey][$] = F
                                                        } else
                                                            i[L.mainkey][$] = u
                                                    }
                                                }
                                            }
                                    }
                            }
                        }
                    }
                }
                return i
            }
            ,
            ro.prototype.wn = function() {
                for (var t = 0, i = this.Ye.length; t < i; t += 1)
                    (0,
                    this.Ye[t])();
                this.Ye = []
            }
            ,
            ro.prototype.Je = function(t) {
                return t && "0" !== t ? (8 !== t.length || (t = t.slice(2) + t.slice(0, 2)),
                wt._n.create(t)) : null
            }
            ,
            ro.prototype.fn = function(t) {
                var i = this
                  , e = new XMLHttpRequest;
                e.onreadystatechange = function() {
                    4 === e.readyState && 200 === e.status ? i.kn(e.responseText) : 404 === e.status && e.abort()
                }
                ,
                e.open("GET", t),
                e.send()
            }
            ,
            ro.prototype.kn = function(t) {
                for (var i = {}, e = [], n = 0, o = (t = t.replace(/\?/g, ":").replace(/\//g, "&")).split(""), r = 0, a = o.length; r < a; r++)
                    void 0 === i[o[r]] && (i[o[r]] = n++,
                    e.push(o[r]));
                for (e.reverse(),
                r = 0,
                a = o.length; r < a; r++)
                    o[r] = e[i[o[r]]];
                t = o.join("");
                var s = JSON.parse(t);
                this.Ze = this.Mn(s.stylemaps),
                this.Ze.Rn = wt._n.create("fcf9f2"),
                this.Ze.zn = 24,
                this.qe = !0,
                this.wn()
            }
            ,
            ro.prototype.Mn = function(t) {
                var i = {};
                for (var e in t)
                    if (t.hasOwnProperty(e)) {
                        var n = t[e]
                          , o = void 0;
                        switch (e[0]) {
                        case "1":
                            o = this.Xe;
                            break;
                        case "2":
                            o = this.rn,
                            n.type = "road";
                            break;
                        case "3":
                            o = this.cn;
                            break;
                        case "4":
                            o = this.un;
                            break;
                        case "5":
                            o = this.ln,
                            n.type = "building"
                        }
                        if (!o) {
                            delete t[e];
                            continue
                        }
                        var r = e.split(":")
                          , a = r[0]
                          , s = r[1];
                        void 0 === i[a] && (i[a] = {});
                        for (var h = (i[a][s] = n).browserStyle, l = 0, f = h.length; l < f; l += 1) {
                            var u = h[l];
                            if (h[l] = o(u),
                            void 0 === n.z)
                                switch (e[0]) {
                                case "2":
                                    n.z = h[l] ? h[l][0].z : n.z;
                                    break;
                                case "1":
                                case "3":
                                case "4":
                                case "5":
                                    n.z = h[l].z;
                                    break;
                                default:
                                    n.z = -1
                                }
                        }
                        this.Sn(n)
                    }
                return this.vn = new wt.Cn(i),
                i
            }
            ,
            ro.prototype.Sn = function(t) {
                if (void 0 !== t.levelStyleMapping[3] && (t.levelStyleMapping[2] = t.levelStyleMapping[3]),
                void 0 !== t.levelStyleMapping[20] && (t.levelStyleMapping[21] = t.levelStyleMapping[20],
                t.levelStyleMapping[22] = t.levelStyleMapping[20]),
                "building" === t.type && t.levelStyleMapping && (delete t.levelStyleMapping[15],
                delete t.levelStyleMapping[16]),
                "road" === t.type && void 0 !== t.levelStyleMapping[18] && void 0 === t.levelStyleMapping[19]) {
                    var i = t.browserStyle
                      , e = t.levelStyleMapping[18]
                      , n = i[e];
                    if (n)
                        for (var o = 1; o <= 4; o++) {
                            var r = [];
                            r.push(wt.Ln({}, n[0])),
                            r.push(wt.Ln({}, n[1])),
                            r[0].roadWidth = r[0].roadWidth * Math.pow(2, o),
                            r[0].borderWidth = r[0].borderWidth * Math.pow(2, o),
                            t.browserStyle.push(r),
                            t.levelStyleMapping[o + 18] = e + o
                        }
                }
            }
            ,
            ro);
            function ro() {
                var s = this;
                this.vz = null,
                this.Ne = wt._.$e && !wt._.Ue,
                this.Be = window.__AMapStyleSource || wt.Ge || "https://vdata.amap.com/style/2.0",
                this.Ze = {},
                this.qe = !1,
                this.Ye = [],
                this.Ve = null,
                this.Xe = function(t) {
                    var i = t.split("&")
                      , e = {};
                    return e.He = i[0],
                    e.fontSize = parseInt(i[1], 10),
                    e.faceColor = s.Je(i[2]),
                    e.borderColor = s.Je(i[3]),
                    e.Ke = s.Je(i[4]),
                    e.Qe = parseInt(i[6], 10),
                    e.tn = 2 === e.Qe ? 0 : 1,
                    e.in = parseInt(i[7], 10),
                    e.en = parseInt(i[8], 10),
                    e.nn = parseInt(i[9], 10),
                    e.an = parseInt(i[10], 10),
                    e.sn = i[5],
                    e
                }
                ,
                this.rn = function(t) {
                    var i, e, n = t[0].split("&");
                    if (n.length <= 2)
                        return null;
                    var o = {};
                    o.roadWidth = parseInt(n[0], 10),
                    o.roadColor = s.Je(n[1]),
                    o.hn = n[2],
                    o.borderWidth = parseInt(n[3], 10),
                    o.borderColor = s.Je(n[4]),
                    o.borderStyle = n[5],
                    o.z = parseInt(n[6], 10),
                    o.hn && o.hn.indexOf && (0 === o.hn.indexOf("dash") ? (o.roadDash = o.hn.substring(4).slice(1, -1).split(","),
                    o.roadDash = wt.map(o.roadDash, function(t) {
                        return parseInt(t, 10)
                    }),
                    2 === o.roadDash.length && (i = o.roadDash).push.apply(i, o.roadDash)) : 0 < o.hn.indexOf("railway") || o.hn.indexOf("dash_crewel")),
                    o.borderStyle && o.borderStyle.indexOf && (0 === o.borderStyle.indexOf("dash") ? (o.borderDash = o.borderStyle.substring(4).slice(1, -1).split(","),
                    o.borderDash = wt.map(o.borderDash, function(t) {
                        return parseInt(t, 10)
                    }),
                    2 === o.borderDash.length && (e = o.borderDash).push.apply(e, o.borderDash)) : 0 < o.borderStyle.indexOf("railway") || o.borderStyle.indexOf("dash_crewel"));
                    var r = t[1].split("&")
                      , a = {
                        He: ""
                    };
                    return a.fontSize = parseInt(r[1], 10),
                    a.faceColor = s.Je(r[2]),
                    a.borderColor = s.Je(r[3]),
                    a.z = parseInt(r[4], 10),
                    [o, a]
                }
                ,
                this.ln = function(t) {
                    var i = t.split("&")
                      , e = {};
                    return e.faceColor = s.Je(i[0]),
                    e.borderWidth = parseInt(i[1], 10),
                    e.borderColor = s.Je(i[2]),
                    e.wallColor1 = s.Je(i[3]),
                    e.wallColor2 = s.Je(i[4]),
                    e.opacity = parseFloat(i[5]),
                    e.z = parseInt(i[6], 10),
                    e
                }
                ,
                this.un = function(t) {
                    var i = t.split("&")
                      , e = {};
                    return e.He = i[0],
                    e.fontSize = parseInt(i[1], 10),
                    e.faceColor = s.Je(i[2]),
                    e.borderColor = s.Je(i[3]),
                    e.Ke = null,
                    e.z = parseInt(i[5], 10),
                    e
                }
                ,
                this.cn = function(t) {
                    var i = t.split("&")
                      , e = {};
                    return e.faceColor = s.Je(i[0]),
                    e.borderWidth = 0,
                    e.borderColor = null,
                    e.z = parseInt(i[3], 10),
                    e
                }
                ,
                this.fn(this.Be)
            }
            (eo = io = io || {}).TEXTUREFINISH = "TEXTUREFINISH",
            eo.UNLOAD = "unload",
            eo.LOADING = "loading",
            eo.LOADED = "loaded",
            eo.FAIL = "fail";
            var ao = (so.prototype.getData = function(t, i) {
                for (var e = this, n = [], o = 0, r = t; o < r.length; o++) {
                    var a = r[o];
                    n.push(a.charCodeAt(0))
                }
                var s = this.Zu(n)
                  , h = this._map.gn;
                switch (s.status) {
                case wt.qu.AllLoaded:
                    i();
                    break;
                case wt.qu.AllUnLoaded:
                    var l = this.Yu(i);
                    h.getSDFData(s.Vu, function(t) {
                        void 0 === t && (t = {}),
                        e.Xu[l] = t,
                        e.Hu()
                    });
                    break;
                case wt.qu.SomeLoading:
                    var f = this.Yu(i);
                    h.getSDFData(s.Vu, function(t) {
                        void 0 === t && (t = {}),
                        e.Xu[f] = t,
                        e.Hu()
                    });
                    break;
                case wt.qu.AllLoading:
                    var u = this.Yu(i);
                    this.Xu[u] = [],
                    this.Hu()
                }
            }
            ,
            so.prototype.Ju = function(t) {
                for (var i = {}, e = 0, n = t; e < n.length; e++) {
                    var o = n[e]
                      , r = o.range
                      , a = o.info
                      , s = o.pos
                      , h = this.info;
                    h[r] || (h[r] = {}),
                    h[r].info = a.info,
                    h[r].pos = s,
                    this.range.push(r),
                    i[r] = 1
                }
                return i
            }
            ,
            so.prototype.mz = function(t, i) {
                void 0 === i && (i = !1);
                for (var e = this.Ku, n = this.info || [], o = this.SF, r = 0, a = this.Ku; r < a.length; r++) {
                    var s = a[r];
                    if (o.hasOwnProperty(s) && (h = o[s]).info[t])
                        return {
                            key: s,
                            index: e.indexOf(s),
                            char: h.info[t],
                            pos: h.pos
                        }
                }
                if (!i)
                    for (var s in n) {
                        var h;
                        if (n.hasOwnProperty(s) && e.indexOf(s) < 0 && (h = n[s]).pos && h.info[t])
                            return {
                                key: s,
                                index: wt.tc.Qu,
                                char: h.info[t],
                                pos: h.pos
                            }
                    }
                return null
            }
            ,
            so.prototype.measureText = function(t, i) {
                for (var e = wt.tc.ic, n = wt.tc.ec, o = 0, r = this.info, a = this.SF, s = i / this._size, h = this.nc, l = 0, f = t; l < f.length; l++) {
                    var u = f[l]
                      , c = void 0
                      , d = u;
                    if (!(c = 13312 <= d && d <= 40959 ? n : h[d]))
                        for (var p in a)
                            if (a.hasOwnProperty(p) && (v = a[p].info[d])) {
                                this.nc[u] = c = v[4];
                                break
                            }
                    if (!c)
                        for (var p in r) {
                            var v;
                            if (r.hasOwnProperty(p) && (v = r[p].info[d])) {
                                this.nc[u] = c = v[4];
                                break
                            }
                        }
                    o += (c + e) * s
                }
                return o
            }
            ,
            so.prototype.oc = function() {
                for (var t = this.ac, i = this.Ku, e = this.sc, n = 0; n < 4; ) {
                    if (!e[n]) {
                        var o = i[n]
                          , r = t.getImage(o);
                        r && r.img && (e[n] = r)
                    }
                    n++
                }
                return e
            }
            ,
            so.prototype.rc = function(f, u) {
                for (var c = this, d = f.Ku.length, p = 0, t = function(t, i) {
                    var s = f.hc[t]
                      , h = f.Ku[t]
                      , l = new Image;
                    l.src = s.lc,
                    l.crossOrigin = "",
                    l.onload = function() {
                        if (c.ac.addImageData(h, {
                            ext: s.ext,
                            type: "common",
                            img: l,
                            width: l.width,
                            height: l.height,
                            status: wt.uc.LOADED
                        }),
                        wt.cc.revokeObjectURL(s.lc),
                        (p += 1) === d) {
                            c.Ku = f.Ku;
                            for (var t = 0, i = f.jm; t < i.length; t++) {
                                var e = i[t]
                                  , n = e.range
                                  , o = e.info
                                  , r = e.pos
                                  , a = c.SF;
                                a[n] || (a[n] = {}),
                                a[n].info = o.info,
                                a[n].pos = r
                            }
                            c.kc = io.LOADED,
                            u && u()
                        }
                    }
                }, i = 0, e = f.hc.length; i < e; i++)
                    t(i)
            }
            ,
            so.prototype.destroy = function() {
                this.range = [],
                this.Ku = [],
                this.info = {},
                this.SF = {},
                this.sc = []
            }
            ,
            so.prototype.Qd = function() {
                this.kc = io.TEXTUREFINISH
            }
            ,
            so.prototype.pH = function() {
                return this.kc === io.TEXTUREFINISH || this.kc === io.LOADED
            }
            ,
            so.prototype.fc = function() {
                var t = wt.tc.pc
                  , i = t[this.dc];
                return this.dc = (this.dc + 1) % t.length,
                i
            }
            ,
            so.prototype.vc = function(t) {
                void 0 === t && (t = {});
                var i = (Object.keys(t) || []).sort(function(t, i) {
                    return t - i
                })
                  , e = i.length;
                return 2 <= e ? i[0] + "-" + i[e - 1] : 1 === e ? i[0] : ""
            }
            ,
            so.prototype.mc = function() {}
            ,
            so.prototype.Yu = function(t, i) {
                void 0 === i && (i = {});
                var e = this.yc += 1;
                return this.xc.push(e),
                this.bc[e] = t,
                this.bc[e] = {
                    cb: t,
                    params: i
                },
                e
            }
            ,
            so.prototype.Hu = function() {
                var t = this.xc[0];
                if (t) {
                    var i = this.Xu[t];
                    if (i) {
                        this.xc.shift();
                        var e = this.bc[t];
                        e ? e.cb(i) : console.error("sdf task error"),
                        delete this.Xu[t],
                        delete this.bc[t],
                        this.Hu()
                    }
                }
            }
            ,
            so.prototype.gc = function(t) {
                var i = this.range || []
                  , e = this.info || {}
                  , n = this.SF;
                if (this.kc === io.TEXTUREFINISH || this.kc === io.LOADED)
                    for (var o = 0, r = this.Ku; o < r.length; o++) {
                        var a = r[o];
                        if (n.hasOwnProperty(a)) {
                            var s = a.split("-")
                              , h = parseInt(s[0] || "", 10)
                              , l = parseInt(s[1] || "", 10);
                            if (h <= t && t <= l && (n[a] && n[a].info || {})[t])
                                return !0
                        }
                    }
                for (var f = 0, u = i; f < u.length; f++)
                    if ((a = u[f]).indexOf("-") < 0) {
                        if (t === +a && (e[a] && e[a].info || {})[t])
                            return !0
                    } else if (s = a.split("-"),
                    h = parseInt(s[0] || "", 10),
                    l = parseInt(s[1] || "", 10),
                    h <= t && t <= l && (e[a] && e[a].info || {})[t])
                        return !0;
                return !1
            }
            ,
            so.prototype.wc = function(t) {
                return -1 !== this._c.indexOf(t)
            }
            ,
            so.prototype.Zu = function(t) {
                for (var i = [], e = (this.range,
                0), n = 0, o = 0, r = t; o < r.length; o++) {
                    var a = r[o];
                    this.gc(a) || (this.wc(a) ? n += 1 : (e += 1,
                    i.push(a)))
                }
                return 0 === n && 0 === e ? {
                    status: wt.qu.AllLoaded,
                    Vu: i
                } : 0 < e && 0 === n ? {
                    status: wt.qu.AllUnLoaded,
                    Vu: i
                } : 0 === e && 0 < n ? {
                    status: wt.qu.AllLoading,
                    Vu: i
                } : {
                    status: wt.qu.SomeLoading,
                    Vu: i
                }
            }
            ,
            so);
            function so(t, i) {
                this._map = i,
                this.range = [],
                this.Ku = [],
                this.info = {},
                this.SF = {},
                this.sc = [],
                this.dc = 0,
                this.kc = io.UNLOAD,
                this._c = [],
                this._size = 24,
                this.nc = {},
                this.xc = [],
                this.bc = {},
                this.Xu = {},
                this.yc = 1,
                this.ac = t
            }
            var ho = (lo.prototype.loadImage = function(t, i) {
                var e = i.name
                  , n = (i.type,
                i.cb)
                  , o = e || t
                  , r = this.Fs[o];
                r && r.status === wt.uc.LOADED ? n(r, i) : r && r.status === wt.uc.LOADING ? (this.Mc[o] || (this.Mc[o] = []),
                this.Mc[o].push({
                    cb: n,
                    opts: i
                })) : t ? this.Rc(t, i) : n(null, i)
            }
            ,
            lo.prototype.loadImages = function(t, i) {
                var e = t.length
                  , n = i.cb
                  , o = 0;
                if (t.length)
                    for (var r = function() {
                        (o += 1) === e && n()
                    }, a = 0, s = t; a < s.length; a++) {
                        var h = s[a];
                        this.loadImage(h, {
                            cb: r
                        })
                    }
                else
                    n()
            }
            ,
            lo.prototype.imageLoaded = function(t, i) {
                var e = i.data
                  , n = i.cb
                  , o = this.zc[n];
                o && (o(e),
                delete this.zc[n])
            }
            ,
            lo.prototype.addImageData = function(t, i) {
                this.Fs[t] || (this.Fs[t] = i)
            }
            ,
            lo.prototype.getImage = function(t) {
                return void 0 === t && (t = ""),
                this.Fs[t] || {}
            }
            ,
            lo.prototype.Bi = function() {
                this.Fs = {}
            }
            ,
            lo.prototype.Rc = function(t, n) {
                var o = this
                  , i = n.name
                  , r = n.ext
                  , e = n.type
                  , a = void 0 === e ? "other" : e
                  , s = n.cb
                  , h = this.Fs
                  , l = new Image
                  , f = i || t;
                h[f] = {
                    type: a,
                    img: l,
                    ext: r,
                    width: l.width,
                    height: l.height,
                    status: wt.uc.LOADING
                },
                l.crossOrigin = "anonymous",
                l.onload = function() {
                    if (h[f] = {
                        type: a,
                        img: l,
                        ext: r,
                        width: l.width,
                        height: l.height,
                        status: wt.uc.LOADED
                    },
                    s(h[f], n),
                    o.Mc[f])
                        for (var t = 0, i = o.Mc[f]; t < i.length; t++) {
                            var e = i[t];
                            e.cb(h[f], e.opts)
                        }
                    l.onload = null,
                    l.onerror = null
                }
                ,
                l.onerror = function() {
                    s(null, n),
                    l.onload = null,
                    l.onerror = null
                }
                ,
                l.src = t
            }
            ,
            lo.prototype.Sc = function(t) {
                var i, e;
                void 0 === t && (t = {});
                var n = t.img;
                return e = n && n.context ? (i = n.width || 0,
                n.height || 0) : (i = t.width || 0,
                t.height || 0),
                [i, e]
            }
            ,
            lo);
            function lo() {
                this.Fs = {},
                this.Cc = 16,
                this.zc = {},
                this.Mc = {}
            }
            var fo, uo = (fo = ue,
            wt.Ei(co, fo),
            co.prototype.Kn = function(t, i, e, n, o) {
                if (i.s_) {
                    for (var r = {}, a = 0, s = i.tiles; a < s.length; a++) {
                        var h = s[a];
                        if (wt.Gh.YH(h)) {
                            var l = h.zo.z;
                            r[l] || (r[l] = []),
                            r[l].push(h)
                        }
                    }
                    var f = n.To
                      , u = e.map.getStatus().features
                      , c = f.uo.Vh(f.co()).ra(e.$n.optimalZoom)
                      , d = wt.map(Object.keys(r), function(t) {
                        return parseInt(t, 10)
                    });
                    d.sort(function(t, i) {
                        return t - i
                    });
                    var p = d.indexOf(c);
                    0 <= p && (d.splice(p, 1),
                    d.push(c)),
                    "3D" === e.$n.viewMode && (this.yz = e.map.getView().EF());
                    for (var v = 0, m = d; v < m.length; v++) {
                        var y = r[m[v]];
                        if (!u || -1 !== u.indexOf("bg"))
                            for (var g = 0, x = y; g < x.length; g++)
                                h = x[g],
                                wt.Gh.YH(h) && this.Lc(t, h, e, n, o);
                        if (!u || -1 !== u.indexOf("building"))
                            for (var b = 0, _ = y; b < _.length; b++)
                                h = _[b],
                                wt.Gh.YH(h) && this.PD(t, h, e, n, o);
                        if (!u || -1 !== u.indexOf("building"))
                            for (var w = 0, k = y; w < k.length; w++)
                                h = k[w],
                                wt.Gh.YH(h) && this.Ac(t, h, e, n, o);
                        if (!u || -1 !== u.indexOf("road"))
                            for (var M = 0, C = y; M < C.length; M++)
                                h = C[M],
                                wt.Gh.YH(h) && this.Tc(t, h, e, n, o);
                        if (!u || -1 !== u.indexOf("road"))
                            for (var S = 0, z = y; S < z.length; S++)
                                h = z[S],
                                wt.Gh.YH(h) && this.Ic(t, h, e, n, o)
                    }
                }
            }
            ,
            co.prototype.destroy = function() {}
            ,
            co.prototype.Lc = function(t, i, e, n, o) {
                for (var r, a, s, h, l, f, u, c, d, p, v, m = t.Wn(), y = !0, g = 0, x = i.data; g < x.length; g++) {
                    var b = x[g]
                      , _ = b.Dc;
                    if (_) {
                        _.upload(m.context, !0);
                        var w = _.zs
                          , k = _.Pc
                          , M = b.Oc
                          , C = y ? 0 : 1;
                        y = !1;
                        for (var S = C, z = M.jc.length; S < z; S++) {
                            var R, A = M.jc[S];
                            if (Vi.texture.An(o.map.mapStyle, A.mainkey, A.subkey, e.$n.zoom, A.minzoom)) {
                                if (R = Ui(e, A, i.Sa, o.map.mapStyle, this.yz)) {
                                    var I = o.map.getImage(R.u_image);
                                    I && R.u_image ? (R.u_image = I,
                                    R.u_imageSize = I.size,
                                    r = t,
                                    a = R,
                                    s = {
                                        a_pos: {
                                            type: "vec2",
                                            Re: w.size,
                                            offset: 0,
                                            buffer: w
                                        }
                                    },
                                    h = A.length,
                                    l = k,
                                    u = !(f = "TRIANGLES"),
                                    c = it.Si,
                                    d = n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti,
                                    p = void 0,
                                    v = A.offset,
                                    void 0 === f && (f = "TRIANGLES"),
                                    void 0 === u && (u = !1),
                                    void 0 === c && (c = it.Mi),
                                    void 0 === d && (d = T.disable),
                                    void 0 === p && (p = yi.we),
                                    void 0 === v && (v = 0),
                                    r.aH().Ce(a, s, h, l, f, u, c, d, p, v)) : R.u_image && o.map.I_ && !o.map.I_.MH(R.u_image) && o.map.I_.addImage(R.u_image, {
                                        url: R.u_image,
                                        filter: "LINEAR",
                                        wrap: "REPEAT",
                                        cb: function() {
                                            return o.map.setNeedUpdate(!0)
                                        }
                                    })
                                }
                            } else
                                (R = Wi(e, A, i.Sa, o.map.mapStyle, this.yz)) && m.Ce(R, {
                                    a_pos: {
                                        type: "vec2",
                                        Re: w.size,
                                        offset: 0,
                                        buffer: w
                                    }
                                }, A.length, k, "TRIANGLES", !1, it.Si, n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti, void 0, A.offset)
                        }
                    }
                }
            }
            ,
            co.prototype.PD = function(t, i, e, n, o) {
                var r, a = t.Wn(), s = i.data, h = wt.find(e.map.getLayers(), function(t) {
                    return "AMap.IndoorMap" === t.CLASS_NAME
                });
                h && (r = h.yD().show);
                for (var l = !0, f = 0, u = s; f < u.length; f++) {
                    var c = u[f]
                      , d = c.FD;
                    if (d) {
                        d.upload(a.context, !0);
                        var p = d.zs
                          , v = d.Pc
                          , m = c.BD;
                        if (m) {
                            var y = l ? 0 : 1;
                            l = !1;
                            for (var g = y, x = m.jc.length; g < x; g++) {
                                var b = m.jc[g];
                                if (!h || !b.bz || "indoor_out_building" === b.bz || !r) {
                                    var _ = Wi(e, b, i.Sa, o.map.mapStyle, this.yz);
                                    _ && a.Ce(_, {
                                        a_pos: {
                                            type: "vec2",
                                            Re: p.size,
                                            offset: 0,
                                            buffer: p
                                        }
                                    }, b.length, v, "TRIANGLES", !1, it.Si, n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti, void 0, b.offset)
                                }
                            }
                        }
                    }
                }
            }
            ,
            co.prototype.Ac = function(t, i, e, n, o) {
                var r, a = t.Yn(), s = i.data, h = wt.find(e.map.getLayers(), function(t) {
                    return "AMap.IndoorMap" === t.CLASS_NAME
                });
                h && (r = h.yD().show);
                for (var l = 0, f = s; l < f.length; l++) {
                    var u = f[l]
                      , c = u.Dc;
                    if (c) {
                        c.upload(a.context, !0);
                        for (var d = u.Fc, p = c.Ec, v = c.Nc, m = 0, y = d.jc.length; m < y; m++) {
                            var g = d.jc[m]
                              , x = Qi(e, g, i.Sa, o.map.mapStyle);
                            h && g.bz && "indoor_out_building" !== g.bz && r || x && a.Ce(x, {
                                a_pos: {
                                    type: "vec2",
                                    Re: 0,
                                    offset: 0,
                                    buffer: p
                                }
                            }, g.length, v, "LINES", !1, it.Si, n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti, void 0, g.offset)
                        }
                    }
                }
            }
            ,
            co.prototype.Ic = function(t, i, e, n, o) {
                var r = t.Vn();
                if (i.data)
                    for (var a = 0, s = i.data; a < s.length; a++) {
                        var h = s[a]
                          , l = h.$c;
                        if (l) {
                            r.context.getExtension("OES_element_index_uint"),
                            l.upload(r.context, !0);
                            for (var f = h.$c.zs.buffer, u = h.$c.Pc.buffer, c = h.Uc.jc, d = 0, p = c.length; d < p; d++) {
                                var v = c[d]
                                  , m = Ki(e, v, !1, i.Sa, o.map.mapStyle, this.yz);
                                if (m && m) {
                                    var y = f.size;
                                    r.Ce(m, {
                                        a_pos: {
                                            type: "vec2",
                                            buffer: f,
                                            Re: y,
                                            offset: 0
                                        },
                                        a_normal: {
                                            type: "vec2",
                                            buffer: f,
                                            Re: y,
                                            offset: 8
                                        },
                                        a_distance: {
                                            type: "float",
                                            buffer: f,
                                            Re: y,
                                            offset: 16
                                        },
                                        a_dir: {
                                            type: "vec2",
                                            buffer: f,
                                            Re: y,
                                            offset: 20
                                        }
                                    }, v.length, u, "TRIANGLES", !1, it.Si, n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti, void 0, v.offset)
                                }
                            }
                        }
                    }
            }
            ,
            co.prototype.Tc = function(t, i, e, n, o) {
                var r = t.Vn();
                if (i.data)
                    for (var a = 0, s = i.data; a < s.length; a++) {
                        var h = s[a]
                          , l = h.$c;
                        if (l) {
                            r.context.getExtension("OES_element_index_uint"),
                            l.upload(r.context, !0);
                            for (var f = h.$c.zs.buffer, u = h.$c.Pc.buffer, c = h.Uc.jc, d = 0, p = c.length; d < p; d++) {
                                var v = c[d]
                                  , m = Ki(e, v, !0, i.Sa, o.map.mapStyle, this.yz);
                                if (m) {
                                    var y = f.size;
                                    r.Ce(m, {
                                        a_pos: {
                                            type: "vec2",
                                            buffer: f,
                                            Re: y,
                                            offset: 0
                                        },
                                        a_normal: {
                                            type: "vec2",
                                            buffer: f,
                                            Re: y,
                                            offset: 8
                                        },
                                        a_distance: {
                                            type: "float",
                                            buffer: f,
                                            Re: y,
                                            offset: 16
                                        },
                                        a_dir: {
                                            type: "vec2",
                                            buffer: f,
                                            Re: y,
                                            offset: 20
                                        }
                                    }, v.length, u, "TRIANGLES", !1, it.Si, n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti, void 0, v.offset)
                                }
                            }
                        }
                    }
            }
            ,
            co);
            function co() {
                var t = fo.call(this) || this;
                return t.yz = 1,
                t
            }
            var po, vo = (po = ue,
            wt.Ei(mo, po),
            mo.prototype.Kn = function(t, i, e, n, o) {
                if (i.s_) {
                    for (var r = {}, a = 0, s = i.tiles; a < s.length; a++)
                        if ((b = s[a]).status === wt.Mo.LOADED) {
                            var h = b.zo.z;
                            r[h] || (r[h] = []),
                            r[h].push(b)
                        }
                    var l = n.To
                      , f = l.uo.Vh(l.co()).ra(e.$n.optimalZoom)
                      , u = wt.map(Object.keys(r), function(t) {
                        return parseInt(t, 10)
                    });
                    u.sort(function(t, i) {
                        return t - i
                    });
                    var c = u.indexOf(f);
                    0 <= c && (u.splice(c, 1),
                    u.push(f)),
                    n.ce && t.context.clear({
                        depth: !0
                    });
                    for (var d = 0, p = u; d < p.length; d++) {
                        for (var v = r[p[d]], m = 0, y = v; m < y.length; m++)
                            (b = y[m]).status === wt.Mo.LOADED && this.S_(t, b, e, n, o, !0);
                        for (var g = 0, x = v; g < x.length; g++) {
                            var b;
                            (b = x[g]).status === wt.Mo.LOADED && this.S_(t, b, e, n, o)
                        }
                    }
                }
            }
            ,
            mo.prototype.S_ = function(t, i, e, n, o, r) {
                void 0 === r && (r = !1);
                var a = i.data
                  , s = e.map
                  , h = e.$n
                  , l = e.$n.size
                  , f = s.getView()
                  , u = {
                    roofColor: n.roofColor,
                    wallColor: n.wallColor
                }
                  , c = s.getBuildingColor()
                  , d = 1;
                if ("3D" === e.$n.viewMode) {
                    d = f.EF();
                    for (var p = f.X(l[0] / 2, f.Uu() + 5), v = f.X(l[0] / 2, f.Uu() - 5), m = f.pz().getPosition(), y = p[0] - m[0], g = p[1] - m[1], x = v[0] - m[0], b = v[1] - m[1], _ = [Math.sqrt(y * y + g * g), Math.sqrt(x * x + b * b)], w = 0, k = a; w < k.length; w++) {
                        var M = k[w]
                          , C = M.A_;
                        if (!C)
                            break;
                        var S = M.C_;
                        C.upload(t.context, !0);
                        var z = C.zs
                          , R = wt.find(e.map.getLayers(), function(t) {
                            return "AMap.IndoorMap" === t.CLASS_NAME
                        })
                          , A = void 0;
                        R && (A = R.yD().show);
                        for (var I = 0, L = S.jc; I < L.length; I++) {
                            var T = L[I]
                              , $ = s.mapStyle.vn.dn(T.mainkey, T.subkey, h.zoom)
                              , D = {};
                            if (D.roofColor = T.roofColor || u.roofColor || c.roofColor || $ && $.faceColor && wt.Sp.Up($.faceColor.rgba, 255),
                            D.wallColor = T.wallColor || u.wallColor || c.wallColor || $ && $.faceColor && wt.Sp.Up($.borderColor.rgba, 255),
                            !D.wallColor || !D.roofColor)
                                return;
                            var F, P = ie.texture.An(o.map.mapStyle, T.mainkey, T.subkey, e.$n.zoom, T.minzoom);
                            if (!R || !T.bz || !A)
                                if (P) {
                                    if (F = qi(e, T, i.Sa, n, D, d, _, o.map.mapStyle)) {
                                        var H = o.map.getImage(F.u_image);
                                        H ? (F.u_image = H,
                                        F.u_imageSize = H.size,
                                        t.sH().Ce(F, {
                                            a_pos: {
                                                type: "vec4",
                                                Re: z.size,
                                                offset: 0,
                                                buffer: z
                                            },
                                            a_normal: {
                                                type: "vec3",
                                                Re: z.size,
                                                offset: 16,
                                                buffer: z
                                            },
                                            a_textureCoord: {
                                                type: "vec2",
                                                Re: z.size,
                                                offset: 28,
                                                buffer: z
                                            }
                                        }, T.length, void 0, "TRIANGLES", n.depthTest, r ? it.disabled : it.Si, void 0, yi._e, T.offset)) : F.u_image && o.map.I_ && !o.map.I_.MH(F.u_image) && o.map.addImage(F.u_image, {
                                            url: F.u_image,
                                            filter: "LINEAR",
                                            wrap: "REPEAT",
                                            cb: function() {
                                                return o.map.setNeedUpdate(!0)
                                            }
                                        })
                                    }
                                } else
                                    (F = Zi(e, 0, i.Sa, n, D, d, _)) && t.k_().Ce(F, {
                                        a_pos: {
                                            type: "vec4",
                                            Re: z.size,
                                            offset: 0,
                                            buffer: z
                                        },
                                        a_normal: {
                                            type: "vec3",
                                            Re: z.size,
                                            offset: 16,
                                            buffer: z
                                        }
                                    }, T.length, void 0, "TRIANGLES", n.depthTest, r ? it.disabled : it.Si, void 0, yi._e, T.offset)
                        }
                    }
                }
            }
            ,
            mo.prototype.cP = function(t) {
                for (var i, e = t.getLayers(), n = 0; n < e.length; n++) {
                    var o = e[n];
                    if ("AMap.Buildings" === o.CLASS_NAME && !o.ro().u$) {
                        i = o;
                        break
                    }
                }
                return i
            }
            ,
            mo);
            function mo() {
                return po.call(this) || this
            }
            var yo, go = (yo = ue,
            wt.Ei(xo, yo),
            xo.prototype.Kn = function(t, i, e, n) {
                t.context;
                var o = t.Gn()
                  , r = n.To.eo().zooms;
                if (!(e.$n.zoom < r[0] || e.$n.zoom > r[1])) {
                    var a = e.$n
                      , s = e.map
                      , h = 1;
                    "3D" === a.viewMode && (h = s.getView().EF());
                    var l = s.JF() || [1, 1, 1, 0];
                    n.ce && t.context.clear({
                        depth: !0
                    }),
                    o.Ce({
                        u_skyColor: l,
                        u_skyHeight: h,
                        u_viewHeight: a.size[1],
                        u_opacity: n.opacity,
                        u_texture: i.texture,
                        u_mvpMatrix: a.mvpMatrix,
                        u_localDeltaCenter: i.Sa
                    }, {
                        a_Position: {
                            type: "vec4",
                            buffer: i.zs,
                            Re: 0,
                            offset: 0
                        }
                    }, 6, void 0, void 0, n.depthTest, it.Si, n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti)
                }
            }
            ,
            xo);
            function xo() {
                return yo.call(this) || this
            }
            var bo, _o = (bo = ue,
            wt.Ei(wo, bo),
            wo.prototype.Kn = function(t, i, e, n, o, r) {
                var a = e.$n
                  , s = r.eo()
                  , h = s.zooms;
                if (a.size,
                a.pitch,
                a.optimalZoom,
                !(a.optimalZoom < h[0] || a.optimalZoom > h[1])) {
                    var l = t.Gn()
                      , f = e.map.JF() || [1, 1, 1, 0]
                      , u = i.tiles
                      , c = 1;
                    "3D" === e.$n.viewMode && (c = e.map.getView().EF()),
                    n.ce && t.context.clear({
                        depth: !0
                    });
                    for (var d = 0, p = u.length; d < p; d += 1) {
                        for (var v = u[d], m = 0, y = v.length; m < y; m += 1)
                            (g = v[m]).status === wt.Mo.LOADED && l.Ce({
                                u_skyColor: f,
                                u_viewHeight: a.size[1],
                                u_skyHeight: c,
                                u_opacity: s.opacity || 1,
                                u_texture: g.data.texture,
                                u_mvpMatrix: a.mvpMatrix,
                                u_localDeltaCenter: g.data.Sa
                            }, {
                                a_Position: {
                                    type: "vec4",
                                    buffer: g.data.zs,
                                    Re: 0,
                                    offset: 0
                                }
                            }, 6, void 0, void 0, n.depthTest, it.Si, n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti);
                        for (m = 0,
                        y = v.length; m < y; m += 1) {
                            var g;
                            (g = v[m]).status === wt.Mo.LOADED && e.debug && l.Ce({
                                u_skyColor: f,
                                u_viewHeight: a.size[1],
                                u_skyHeight: c,
                                u_opacity: s.opacity || 1,
                                u_texture: g.data.Js,
                                u_mvpMatrix: a.mvpMatrix,
                                u_localDeltaCenter: g.data.Sa
                            }, {
                                a_Position: {
                                    type: "vec4",
                                    buffer: g.data.zs,
                                    Re: 0,
                                    offset: 0
                                }
                            }, 6, void 0, "TRIANGLES", void 0, void 0, void 0)
                        }
                    }
                }
            }
            ,
            wo);
            function wo() {
                return bo.call(this) || this
            }
            var ko, Mo = (ko = ue,
            wt.Ei(Co, ko),
            Co.prototype.Kn = function(t, i, e, n) {
                if (!n.JD && this.OF && this.EI && this.BF && this.NF && (wt.Ru(this.NF, e.$n.mvpMatrix) || e.map.TL())) {
                    var o = Math.pow(2, e.$n.zoom - this.EI);
                    wt.subtract(this.VM, e.$n.centerCoord, this.OF),
                    wt.Pl(this.VM, -(this.VM[0] / this.BF) * o, this.VM[1] / this.BF * o, 0),
                    1 !== o && (n.kv.style[P.kL] = "scale3d(" + o + "," + o + ",1)"),
                    n.kv.style.top = this.VM[1] + "px",
                    n.kv.style.left = this.VM[0] + "px"
                } else {
                    var r = n.To;
                    if (wt.eg(this.OF, e.$n.centerCoord),
                    this.EI = e.$n.zoom,
                    this.NF = e.$n.mvpMatrix,
                    this.BF = e.$n.resolution,
                    r.render) {
                        var a = r.eo().zooms;
                        e.$n.zoom >= a[0] && e.$n.zoom <= a[1] ? (r.canvas.style.visibility = "visible",
                        r.render()) : r && r.canvas && r.canvas && (r.canvas.style.visibility = "hidden")
                    }
                    n.kv.style[P.kL] = "",
                    n.kv.style.top = "",
                    n.kv.style.left = "",
                    n.kv.style.height = "",
                    n.kv.style.visibility = ""
                }
            }
            ,
            Co);
            function Co() {
                var t = ko.call(this) || this;
                return t.type = "customLayer",
                t.OF = wt.Dl(),
                t.VM = wt.Dl(),
                t
            }
            var So = wt._.scale
              , zo = {
                getBounds: function(t, i) {
                    void 0 === i && (i = {});
                    var e = i.zoom
                      , n = i.centerCoord
                      , o = (i.view,
                    [150 * So, 150 * So, 150 * So, 150 * So])
                      , r = t.boundsCoord
                      , a = r[0]
                      , s = r[1]
                      , h = r[2]
                      , l = r[3]
                      , f = this.nt(0, 0, e, i)
                      , u = wt.Sp.Ip(this.nt(o[0], o[1], e, i), f)
                      , c = wt.Sp.Ip(this.nt(o[2], o[3], e, i), f)
                      , d = e >= wt.Ra ? n : [0, 0]
                      , p = d[0]
                      , v = d[1];
                    return [[a - p - Math.abs(c[1]), s - v - Math.abs(c[0])], [h - p + Math.abs(u[1]), l - v + Math.abs(u[0])]]
                },
                gz: function(t, i) {
                    var e = i[0]
                      , n = i[1]
                      , o = t[0]
                      , r = t[1]
                      , a = o - e[0]
                      , s = r - e[1]
                      , h = n[0] - o
                      , l = n[1] - r;
                    return 0 <= a && 0 <= s && 0 <= h && 0 <= l
                },
                getRank: function(t, i) {
                    void 0 === i && (i = {});
                    var e = i.in
                      , n = void 0 === e ? 0 : e
                      , o = i._z
                      , r = void 0 === o ? 0 : o
                      , a = (t.data || {}).rank || 1;
                    return n ? a - 1e5 : r / 100 * 2e5 + a
                },
                wu: function(t, i, e, n) {
                    if (void 0 === t && (t = 0),
                    void 0 === i && (i = 0),
                    n) {
                        var o = n.$n
                          , r = n.size
                          , a = n.transform
                          , s = n.view
                          , h = n.viewMode
                          , l = n.centerCoord;
                        if ("2D" !== h)
                            return s.H(t, i);
                        var f = {
                            center: o.centerCoord,
                            rotation: o.rotation,
                            size: r
                        }
                          , u = o.optimalZoom >= wt.Ra ? l : [0, 0]
                          , c = u[0]
                          , d = u[1];
                        return a.wu(t + c, i + d, e, f)
                    }
                },
                kz: function(t, i, e, n) {
                    void 0 === t && (t = []),
                    void 0 === n && (n = {});
                    var o = n.centerCoord;
                    if (i < wt.Ra && e >= wt.Ra) {
                        for (var r = o[0], a = o[1], s = [], h = 0, l = t; h < l.length; h++) {
                            var f = l[h];
                            s.push([f[0] - r, f[1] - a])
                        }
                        return s
                    }
                    return t
                },
                nt: function(t, i, e, n) {
                    void 0 === t && (t = 0),
                    void 0 === i && (i = 0);
                    var o = n.view
                      , r = n.transform;
                    return "2D" === n.viewMode ? r.nt(t, i, e) : o.X(t, i)
                }
            }
              , Ro = (Ao.prototype.set = function(t) {
                this.check(t) && (t.length < this.uf ? this.value.set(t) : (this.cf(t.length),
                this.value.set(t),
                this.length = t.length))
            }
            ,
            Ao.prototype.check = function(t) {
                if (Array.isArray(t))
                    return !0;
                var i = !1;
                switch (this.type) {
                case "uint8":
                    i = t instanceof Uint8Array;
                    break;
                case "int8":
                    i = t instanceof Int8Array;
                    break;
                case "uint16":
                    i = t instanceof Uint16Array;
                    break;
                case "int16":
                    i = t instanceof Int16Array;
                    break;
                case "uint32":
                    i = t instanceof Uint32Array;
                    break;
                case "int32":
                    i = t instanceof Int32Array;
                    break;
                case "float32":
                    i = t instanceof Float32Array;
                    break;
                default:
                    i = !1
                }
                return i
            }
            ,
            Ao.prototype.subarray = function(t, i) {
                return this.value.subarray(t, i)
            }
            ,
            Ao.prototype.ff = function(t) {
                this.uf < t && this.cf(t),
                this.length = t
            }
            ,
            Ao.prototype.cf = function(t) {
                var i = this.pf();
                return this.value = new i(t),
                this.uf = t,
                this.value
            }
            ,
            Ao.prototype.pf = function() {
                var t = Float32Array;
                switch (this.type) {
                case "uint8":
                    t = Uint8Array;
                    break;
                case "int8":
                    t = Int8Array;
                    break;
                case "uint16":
                    t = Uint16Array;
                    break;
                case "int16":
                    t = Int16Array;
                    break;
                case "uint32":
                    t = Uint32Array;
                    break;
                case "int32":
                    t = Int32Array;
                case "float32":
                    t = Float32Array;
                default:
                    t = Float32Array
                }
                return t
            }
            ,
            Ao);
            function Ao(t, i) {
                void 0 === i && (i = 1024),
                this.type = t,
                this.length = 0,
                this.uf = 0,
                this.value = this.cf(i)
            }
            var Io = wt._.scale
              , Lo = (To.prototype.Mz = function(t) {
                var i = t.map
                  , e = t.R_
                  , n = t.z_
                  , o = t.$i;
                this._map = i,
                this.Mf = e,
                this.ac = n,
                this._f = o
            }
            ,
            To.prototype.Ce = function(t, i, e, n) {
                void 0 === e && (e = {}),
                void 0 === n && (n = {});
                var o = wt.tc.ud
                  , r = wt.tc.sp
                  , a = this._f
                  , s = t.$n
                  , h = t.size;
                if (s) {
                    var l = s.mvpMatrix
                      , f = s.zoom
                      , u = s.viewMode
                      , c = h[0]
                      , d = h[1]
                      , p = (n.oo,
                    n.Sa)
                      , v = n.from
                      , m = void 0 === v ? "nebula" : v
                      , y = n.opacity
                      , g = void 0 === y ? 1 : y
                      , x = n.offset
                      , b = void 0 === x ? [0, 0] : x
                      , _ = n.Sz
                      , w = void 0 !== _ && _
                      , k = n.LF
                      , M = void 0 === k ? {} : k
                      , C = 1;
                    "3D" === u && (C = t.map.getView().EF());
                    var S = e.Rz
                      , z = e.buffer
                      , R = e.od
                      , A = e.zz;
                    i.bindFramebuffer.set(null),
                    i.be.set([0, 0, c * Io, d * Io]);
                    var I = S.pp
                      , L = z
                      , T = this.fd(i, {
                        from: m
                    })
                      , $ = T.De
                      , D = void 0 === $ ? [] : $
                      , F = T.sizes
                      , P = void 0 === F ? [] : F;
                    n.CH && (D.push(n.CH),
                    P.push(n.CH.size[0], n.CH.size[1]));
                    var H = o * r
                      , O = I.length;
                    if (L && R && (w && (this.Zf = 0),
                    O)) {
                        i.ge.set(a),
                        a.Ae({
                            a_vertex: {
                                type: "vec2",
                                buffer: L,
                                Re: H,
                                offset: 0
                            },
                            a_texcoord: {
                                type: "vec2",
                                buffer: L,
                                Re: H,
                                offset: 2 * r
                            },
                            a_origin: {
                                type: "vec2",
                                buffer: L,
                                Re: H,
                                offset: 4 * r
                            },
                            a_texIndex: {
                                type: "float",
                                buffer: L,
                                Re: H,
                                offset: 6 * r
                            },
                            a_type: {
                                type: "float",
                                buffer: L,
                                Re: H,
                                offset: 7 * r
                            },
                            a_zooms: {
                                type: "vec2",
                                buffer: L,
                                Re: H,
                                offset: 8 * r
                            },
                            a_height: {
                                type: "float",
                                buffer: L,
                                Re: H,
                                offset: 10 * r
                            },
                            a_visible: {
                                type: "float",
                                buffer: R,
                                Re: 0,
                                offset: A[this.Zf].start
                            }
                        });
                        for (var B = "nebula" === this.l_ ? it.Ri : it.Si, E = 0; E < O; E++) {
                            var j = I[E]
                              , N = j.start
                              , W = void 0 === N ? 0 : N
                              , U = j.end
                              , G = void 0 === U ? 0 : U;
                            if (j.dp,
                            this.Zf++,
                            G - W) {
                                var V = void 0;
                                if ("labelsLayer" === m && j.pd) {
                                    var Y = this.ac.getImage(j.pd);
                                    if (Y.img) {
                                        var Z = this.dd(i, Y)
                                          , X = Z.texture
                                          , J = Z.size;
                                        X && X.context && (D[wt.tc._j] = X,
                                        (V = P.slice(0))[2 * wt.tc._j] = J[0],
                                        V[2 * wt.tc._j + 1] = J[1])
                                    }
                                }
                                var q = j.vd.slice(0, 4)
                                  , Q = j.vd.slice(4, 8)
                                  , K = j.vd.slice(11, 15)
                                  , tt = j.vd.slice(15, 19);
                                a.Le({
                                    u_matrix: l,
                                    u_texture: {
                                        De: D,
                                        count: 4
                                    },
                                    u_gl_size: [c, d],
                                    u_texsize: V || P,
                                    u_color: q,
                                    u_strokeColor: Q,
                                    u_borderColor: tt,
                                    u_gamma: j.vd[8],
                                    u_borderBuffer: j.vd[9],
                                    u_buffer: j.vd[10],
                                    u_backgroundColor: K,
                                    u_opacity: j.opacity * g,
                                    u_zoom: f,
                                    u_event: 0,
                                    u_delta_center: p,
                                    u_offset: b,
                                    u_transform: [0, 0, 1, 0],
                                    u_skyHeight: C
                                }),
                                a.Pe((G - W) / o, W / o, void 0, void 0, M.depthTest, B)
                            }
                        }
                    }
                }
            }
            ,
            To.prototype.Cz = function(t, i, e, n, o) {
                var r, a = this._f, s = wt.tc.sp, h = t.$n, l = t.size, f = h.zoom || 20, u = h.mvpMatrix || null, c = l[0], d = l[1], p = o.Az, v = o.Iz, m = o.centerCoord, y = {}, g = 1;
                if ("3D" === h.viewMode && (g = t.map.getView().EF()),
                u) {
                    var x = n.$z || {}
                      , b = x.pp
                      , _ = x.zs
                      , w = x.od
                      , k = _ && _.buffer
                      , M = Math.pow(2, f - v);
                    i.be.set([0, 0, c * Io, d * Io]);
                    var C, S, z, R, A, I = this.fd(i), L = I.De, T = void 0 === L ? [] : L, $ = I.sizes, D = void 0 === $ ? [] : $, F = b.length, P = 12 * s, H = [0, 0, f <= v ? M : 1, 0];
                    if (k && w) {
                        var O;
                        F && (i.ge.set(this._f),
                        a.Ae({
                            a_vertex: {
                                type: "vec2",
                                buffer: k,
                                Re: P,
                                offset: 0
                            },
                            a_texcoord: {
                                type: "vec2",
                                buffer: k,
                                Re: P,
                                offset: 2 * s
                            },
                            a_origin: {
                                type: "vec2",
                                buffer: k,
                                Re: P,
                                offset: 4 * s
                            },
                            a_texIndex: {
                                type: "float",
                                buffer: k,
                                Re: P,
                                offset: 6 * s
                            },
                            a_type: {
                                type: "float",
                                buffer: k,
                                Re: P,
                                offset: 7 * s
                            },
                            a_zooms: {
                                type: "vec2",
                                buffer: k,
                                Re: P,
                                offset: 8 * s
                            },
                            a_height: {
                                type: "float",
                                buffer: k,
                                Re: P,
                                offset: 10 * s
                            },
                            a_angle: {
                                type: "float",
                                buffer: k,
                                Re: P,
                                offset: 11 * s
                            },
                            a_visible: {
                                type: "float",
                                buffer: w,
                                Re: 0,
                                offset: 0
                            }
                        }));
                        for (var B = 0; B < F; B++) {
                            var E = b[B];
                            if (E[0],
                            E[1],
                            C = E[11],
                            S = E[12],
                            z = E[13],
                            A = E[14],
                            S - C) {
                                if (y[z])
                                    R = y[z];
                                else
                                    for (var j = 0, N = p; j < N.length; j++) {
                                        var W = N[j];
                                        (O = e[W]) && W === z && (R = O.Sa,
                                        y[z] = R)
                                    }
                                if (R && !(M < .6) && O) {
                                    var U = this._map.yH.xH(O.zo.key) || (null === (r = this._map.I_) || void 0 === r ? void 0 : r.getImage("emptyTexture"));
                                    U ? (T[3] = U,
                                    D[6] = U.size[0],
                                    D[7] = U.size[1],
                                    R = zo.kz([[-R[0], -R[1]]], A, f, {
                                        centerCoord: m
                                    })[0],
                                    a.Le({
                                        u_matrix: u,
                                        u_delta_center: R,
                                        u_transform: H,
                                        u_texture: {
                                            De: T,
                                            count: T.length
                                        },
                                        u_gl_size: l,
                                        u_texsize: D,
                                        u_color: E[3],
                                        u_strokeColor: E[4],
                                        u_gamma: E[5],
                                        u_borderBuffer: E[7],
                                        u_buffer: E[8],
                                        u_backgroundColor: E[9],
                                        u_opacity: 1,
                                        u_zoom: f,
                                        u_event: 0,
                                        u_skyHeight: g
                                    }),
                                    a.Pe((S - C) / 12, C / 12, void 0, void 0, void 0, it.Si)) : console.error("no staticSDFTileTexture")
                                }
                            }
                        }
                    }
                }
            }
            ,
            To.prototype.gp = function(t, i) {
                var e = t.context
                  , n = t.Jn()
                  , o = i
                  , r = e.fe(new Uint16Array([0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0]), 8);
                o && n.Ce({
                    u_texture: o
                }, {
                    a_pos: {
                        type: "vec2",
                        buffer: r,
                        Re: 8,
                        offset: 0
                    },
                    a_coord: {
                        type: "vec2",
                        buffer: r,
                        Re: 8,
                        offset: 4
                    }
                }, 4, void 0, "TRIANGLE_FAN", void 0, it.Mi)
            }
            ,
            To.prototype.reset = function() {
                this.Df()
            }
            ,
            To.prototype.destroy = function() {
                if (this.Lz) {
                    for (var t = 0, i = this.Lz.De; t < i.length; t++)
                        i[t].destroy();
                    delete this.Lz
                }
            }
            ,
            To.prototype.Dz = function(t, i, e) {
                void 0 === t && (t = []),
                void 0 === e && (e = {});
                for (var n, o, r, a, s = e.start, h = void 0 === s ? 0 : s, l = e.dp, f = e.style, u = h, c = 0, d = 0, p = l; d < p.length; d++) {
                    var v = p[d];
                    if (n = v.id,
                    o = v.kd,
                    i[n]) {
                        var m = (f[n] || {}).tn
                          , y = void 0 === m ? 1 : m
                          , g = 0
                          , x = 1 / 0
                          , b = -1 / 0;
                        for (y || (r = v.icon,
                        a = v.bg,
                        x = 6 * r,
                        b = 6 * (r + v.Rd + a)); g < o; )
                            !y && x <= g && g <= b || (t[u + c + g] = 1),
                            g += 1
                    }
                    c += o
                }
                return u + c
            }
            ,
            To.prototype.Df = function() {}
            ,
            To.prototype.fd = function(t, i) {
                var e = this.Lz
                  , n = wt.tc.Qu
                  , o = []
                  , r = []
                  , a = this._map.ao;
                a && (o[0] = a.texture,
                r[0] = a.maxWidth,
                r[1] = a.maxHeight);
                var s = this._map.so.texture;
                if (s) {
                    o.push(s);
                    var h = s.size;
                    r.push(h[0], h[1])
                }
                var l = []
                  , f = [];
                if (e.done)
                    l = e.De,
                    f = e.sizes;
                else {
                    for (var u = this.Mf.oc(), c = void 0, d = [], p = 0, v = 0; p < n; ) {
                        if (u[p]) {
                            var m = this.dd(t, u[p]);
                            c = m.texture,
                            d = m.size,
                            v++
                        } else
                            c = o[0],
                            d = r,
                            e.done = !1;
                        l[p] = c,
                        f[2 * p] = d[0],
                        f[2 * p + 1] = d[1],
                        p++
                    }
                    v === n && (e.done = !0,
                    e.De = l,
                    e.sizes = f)
                }
                return {
                    De: l.concat(o),
                    sizes: f.concat(r)
                }
            }
            ,
            To.prototype.dd = function(t, i) {
                var e = t.gl
                  , n = i.img
                  , o = i.width
                  , r = i.height
                  , a = n;
                return n && !n.context && ((a = t.createTexture(n)).bind(e.CLAMP_TO_EDGE, e.LINEAR, e.LINEAR),
                i.img = a),
                {
                    texture: a,
                    size: [o, r]
                }
            }
            ,
            To);
            function To() {
                this.Lz = {
                    De: [],
                    sizes: []
                },
                this._f = null,
                this.Zf = 0
            }
            var $o = (Do.prototype.Ce = function(t, i, e, n, o) {
                if (t) {
                    var r = (this.wf = t).size;
                    this._size = r;
                    var a = o.centerCoord
                      , s = o.Uf
                      , h = void 0 === s ? {} : s
                      , l = (o.$f,
                    o.Sa)
                      , f = void 0 === l ? [0, 0] : l;
                    this.Tz(),
                    this.Pz();
                    var u = t.$n
                      , c = u.zoom
                      , d = u.viewMode;
                    if (this.Oz(c, i.zooms)) {
                        if (!this._map && n) {
                            var p = u.projectionId;
                            this._map = n,
                            this.If = wt.V[p],
                            this._view = n.getView(),
                            this.ac = n.z_
                        }
                        var v = e.coords
                          , m = e.style
                          , y = e.Nf
                          , g = e.Fz
                          , x = void 0 === g ? [] : g
                          , b = {
                            $n: u,
                            size: this.wf.size,
                            transform: this.If,
                            view: this._view,
                            viewMode: d,
                            centerCoord: a
                        };
                        this.Bz(i);
                        for (var _ = 0, w = x; _ < w.length; _++)
                            for (var k = w[_], M = 0; M < k.length; M++) {
                                var C = k[M];
                                if (h[C]) {
                                    var S = y[C] || {}
                                      , z = v[C] || {}
                                      , R = m[C] || {}
                                      , A = (S.data.extData || {}).Sa || f || [0, 0]
                                      , I = (S.data || {}).txt
                                      , L = S.opts || {}
                                      , T = (R.icon || [])[0] || {}
                                      , $ = T.image
                                      , D = wt.jz(R.opacity) ? 1 : L.opacity
                                      , F = R.text;
                                    if ($ && T && this.Oz(c, R.icon && R.icon.zooms)) {
                                        var P = this.ac.getImage($)
                                          , H = P.img
                                          , O = {
                                            size: [P.width, P.height],
                                            opacity: D
                                        }
                                          , B = z.icon.origin
                                          , E = z.icon.anchorOffset
                                          , j = zo.wu(B[0] + A[0], B[1] + A[1], c, b)
                                          , N = [j[0] + E[0], j[1] + E[1]];
                                        this.drawImage(H, T, N, O)
                                    }
                                    if (I && F && this.Oz(c, R.text && R.text.zooms)) {
                                        var W = {
                                            opacity: D,
                                            padding: z.padding
                                        }
                                          , U = (B = z.text.origin,
                                        E = z.text.offset,
                                        zo.wu(B[0] + A[0], B[1] + A[1], c, b))
                                          , G = F.style
                                          , V = G.fontSize || 12
                                          , Y = [U[0] + E[0], U[1] + E[1] + V];
                                        this.Ez(R.text, U, W);
                                        for (var Z = I.length, X = !1 === G.fold ? 100 : 6, J = Math.ceil(Z / X), q = Math.floor(Z / J), Q = 0; Q < J; Q++) {
                                            var K = Q === J - 1 ? Z - Q * q : q
                                              , tt = I.substr(Q * q, K);
                                            this.gp(tt, F, Y, W);
                                            var it = 5 * V / 4 + 3;
                                            Y[1] = Y[1] + it
                                        }
                                    }
                                }
                            }
                    }
                }
            }
            ,
            Do.prototype.Ez = function(t, i, e) {
                var n = this.Nz
                  , o = wt._.scale
                  , r = void 0 === o ? 1 : o
                  , a = t.style.backgroundColor
                  , s = e.padding
                  , h = s.offsetX
                  , l = s.offsetY
                  , f = s.w
                  , u = s.h
                  , c = i[0] + h
                  , d = i[1] + l;
                n && a && (n.fillStyle = a,
                n.fillRect(c * r, d * r, f * r, u * r))
            }
            ,
            Do.prototype.drawImage = function(t, i, e, n) {
                var o = wt._.scale
                  , r = this.Nz;
                if (r && i) {
                    i.image;
                    var a = i.size
                      , s = i.clipOrigin
                      , h = (i.angel,
                    i.clipSize)
                      , l = n.opacity
                      , f = void 0 === l ? 1 : l
                      , u = a[0]
                      , c = a[1]
                      , d = t.width || u
                      , p = t.height || c
                      , v = h[0]
                      , m = h[1]
                      , y = s[0]
                      , g = s[1];
                    wt.jz(v) && (v = u),
                    wt.jz(m) && (m = c),
                    d < v && (v = d),
                    p < m && (m = p),
                    r.globalAlpha = f * this.Wz,
                    r.drawImage(t, y, g, v, m, e[0] * o, e[1] * o, u * o, c * o)
                }
            }
            ,
            Do.prototype.gp = function(t, i, e, n) {
                var o = wt._.scale
                  , r = void 0 === o ? 1 : o
                  , a = this.Nz;
                if (a) {
                    var s = i.style
                      , h = void 0 === s ? {} : s
                      , l = n.opacity
                      , f = void 0 === l ? 1 : l
                      , u = h.fontWeight
                      , c = h.fontSize
                      , d = h.fontFamily
                      , p = void 0 === d ? "sans-serif" : d
                      , v = h.fillColor
                      , m = h.strokeColor
                      , y = h.strokeWidth
                      , g = void 0 === y ? 1 : y
                      , x = h.textAlign
                      , b = void 0 === x ? "center" : x
                      , _ = h.Gz
                      , w = void 0 === _ ? "Alphabetic" : _;
                    a.globalAlpha = f,
                    a.globalAlpha = 1,
                    a.font = u + " " + c * r + "px " + p,
                    a.textAlign = b,
                    a.textBaseline = w;
                    var k = e[0]
                      , M = e[1];
                    a.lineJoin = "round",
                    m && g && (a.strokeStyle = m,
                    a.lineWidth = g,
                    a.strokeText(t, k * r, M * r)),
                    a.fillStyle = v,
                    a.fillText(t, k * r, M * r)
                }
            }
            ,
            Do.prototype.Pz = function() {
                this.canvas,
                wt._.scale,
                this._size
            }
            ,
            Do.prototype.Tz = function() {
                this.canvas.width = this.canvas.width
            }
            ,
            Do.prototype.reset = function() {
                this.Pz()
            }
            ,
            Do.prototype.destroy = function() {
                this.Pz()
            }
            ,
            Do.prototype.Oz = function(t, i) {
                void 0 === i && (i = []);
                var e = i[0] || 3
                  , n = i[1] || 20;
                return e <= t && t <= n
            }
            ,
            Do.prototype.Bz = function(t) {
                var i = this._container;
                i = i || (this._container = this._createContainer(this._map));
                var e = wt._.scale
                  , n = t.zIndex
                  , o = void 0 === n ? 100 : n
                  , r = t.opacity
                  , a = t.visible
                  , s = t.zooms
                  , h = void 0 === s ? [2, 20] : s
                  , l = this.wf.$n.zoom
                  , f = this.Oz(l, h);
                i.style.display = a && f && 0 !== r ? "block" : "none",
                this.Wz = r;
                var u = this._size;
                i.setAttribute("width", u[0] * e + "px"),
                i.setAttribute("height", u[1] * e + "px"),
                i.style.width = u[0] + "px",
                i.style.height = u[1] + "px",
                i.style.zIndex = o + ""
            }
            ,
            Do.prototype._createContainer = function(t) {
                var i = t.getContainer().querySelector(".amap-layers");
                return i && i.appendChild(this.canvas),
                AMap.DomUtil.addClass(this.canvas, "amap-labellayers"),
                this.canvas
            }
            ,
            Do);
            function Do() {
                this._size = [0, 0],
                this.Wz = 1;
                var t = this.canvas = document.createElement("canvas");
                this.Nz = t.getContext("2d")
            }
            var Fo, Po = (Fo = ue,
            wt.Ei(Ho, Fo),
            Ho.prototype.Hz = function(t, i, e, n, o, r) {
                this.ac || (this._map = o,
                this._view = o.getView(),
                this.ac = o.z_,
                this.Mf = o.R_,
                this._viewMode = i.$n.viewMode,
                this.fz = o.fS(),
                this._map.isDOMMode() ? this.Vz || (this.Vz = new $o) : this.Zz || (this.Zz = new Lo),
                this.Zz && this.Zz.Mz({
                    map: o,
                    z_: o.z_,
                    R_: o.R_,
                    $i: t.Zn()
                }))
            }
            ,
            Ho.prototype.Kn = function(t, i, e, n, o) {
                this._map.isDOMMode() ? this.Yz(e, n, i, this._map, {
                    centerCoord: this.uu
                }) : this.Jh(t, e, {}, {})
            }
            ,
            Ho.prototype.Jz = function() {
                return {
                    centerCoord: this.uu
                }
            }
            ,
            Ho.prototype.vi = function(t) {
                return this.fz ? this.fz.vi(t, "") : null
            }
            ,
            Ho.prototype.destroy = function() {
                this.Zz && (this.Zz.destroy(),
                delete this.Zz),
                this.Vz && (this.Vz.destroy(),
                delete this.Vz)
            }
            ,
            Ho.prototype.reset = function() {
                this.Zz && this.Zz.reset(),
                this.Vz && this.Vz.reset()
            }
            ,
            Ho.prototype.Jh = function(t, i, e, n) {
                this.Zz.Ce(i, t.context, e, n)
            }
            ,
            Ho.prototype.Yz = function(t, i, e, n, o) {
                this.Vz.Ce(t, i, e, n, o)
            }
            ,
            Ho);
            function Ho() {
                var t = Fo.call(this) || this;
                return t.type = "labelsLayer",
                t.wf = null,
                t.Ps = {},
                t._viewMode = "2D",
                t.Wf = {},
                t.Bf = {},
                t.xp = null,
                t.uu = [0, 0],
                "undefined" != typeof Int8Array && (t.fp = new Ro("int8",5e5)),
                t
            }
            function Oo(t, i, e, n, o) {
                !function t(i, e, n, o, r) {
                    for (; n < o; ) {
                        if (600 < o - n) {
                            var a = o - n + 1
                              , s = e - n + 1
                              , h = Math.log(a)
                              , l = .5 * Math.exp(2 * h / 3)
                              , f = .5 * Math.sqrt(h * l * (a - l) / a) * (s - a / 2 < 0 ? -1 : 1);
                            t(i, e, Math.max(n, Math.floor(e - s * l / a + f)), Math.min(o, Math.floor(e + (a - s) * l / a + f)), r)
                        }
                        var d = i[e]
                          , p = n
                          , v = o;
                        for (Bo(i, n, e),
                        0 < r(i[o], d) && Bo(i, n, o); p < v; ) {
                            for (Bo(i, p, v),
                            p++,
                            v--; r(i[p], d) < 0; )
                                p++;
                            for (; 0 < r(i[v], d); )
                                v--
                        }
                        0 === r(i[n], d) ? Bo(i, n, v) : Bo(i, ++v, o),
                        v <= e && (n = v + 1),
                        e <= v && (o = v - 1)
                    }
                }(t, i, e || 0, n || t.length - 1, o || Eo)
            }
            function Bo(t, i, e) {
                var n = t[i];
                t[i] = t[e],
                t[e] = n
            }
            function Eo(t, i) {
                return t < i ? -1 : i < t ? 1 : 0
            }
            var jo = Wo
              , No = Wo;
            function Wo(t, i) {
                if (!(this instanceof Wo))
                    return new Wo(t,i);
                this.Bc = Math.max(4, t || 9),
                this.Wc = Math.max(2, Math.ceil(.4 * this.Bc)),
                i && this.Gc(i),
                this.clear()
            }
            function Uo(t, i, e) {
                if (!e)
                    return i.indexOf(t);
                for (var n = 0; n < i.length; n++)
                    if (e(t, i[n]))
                        return n;
                return -1
            }
            function Go(t, i) {
                Vo(t, 0, t.children.length, i, t)
            }
            function Vo(t, i, e, n, o) {
                (o = o || tr(null)).ja = 1 / 0,
                o.Fa = 1 / 0,
                o.Oa = -1 / 0,
                o.Ea = -1 / 0;
                for (var r, a = i; a < e; a++)
                    r = t.children[a],
                    Yo(o, t.Zc ? n(r) : r);
                return o
            }
            function Yo(t, i) {
                return t.ja = Math.min(t.ja, i.ja),
                t.Fa = Math.min(t.Fa, i.Fa),
                t.Oa = Math.max(t.Oa, i.Oa),
                t.Ea = Math.max(t.Ea, i.Ea),
                t
            }
            function Zo(t, i) {
                return t.ja - i.ja
            }
            function Xo(t, i) {
                return t.Fa - i.Fa
            }
            function Jo(t) {
                return (t.Oa - t.ja) * (t.Ea - t.Fa)
            }
            function qo(t) {
                return t.Oa - t.ja + (t.Ea - t.Fa)
            }
            function Qo(t, i) {
                return t.ja <= i.ja && t.Fa <= i.Fa && i.Oa <= t.Oa && i.Ea <= t.Ea
            }
            function Ko(t, i) {
                return i.ja <= t.Oa && i.Fa <= t.Ea && i.Oa >= t.ja && i.Ea >= t.Fa
            }
            function tr(t) {
                return {
                    children: t,
                    height: 1,
                    Zc: !0,
                    ja: 1 / 0,
                    Fa: 1 / 0,
                    Oa: -1 / 0,
                    Ea: -1 / 0
                }
            }
            function ir(t, i, e, n, o) {
                for (var r, a = [i, e]; a.length; )
                    (e = a.pop()) - (i = a.pop()) <= n || (Oo(t, r = i + Math.ceil((e - i) / n / 2) * n, i, e, o),
                    a.push(i, r, r, e))
            }
            Wo.prototype = {
                all: function() {
                    return this.qc(this.data, [])
                },
                search: function(t) {
                    var i = this.data
                      , e = []
                      , n = this.Yc;
                    if (!Ko(t, i))
                        return e;
                    for (var o, r, a, s, h = []; i; ) {
                        for (o = 0,
                        r = i.children.length; o < r; o++)
                            a = i.children[o],
                            Ko(t, s = i.Zc ? n(a) : a) && (i.Zc ? e.push(a) : Qo(t, s) ? this.qc(a, e) : h.push(a));
                        i = h.pop()
                    }
                    return e
                },
                Vc: function(t) {
                    var i = this.data
                      , e = this.Yc;
                    if (!Ko(t, i))
                        return !1;
                    for (var n, o, r, a, s = []; i; ) {
                        for (n = 0,
                        o = i.children.length; n < o; n++)
                            if (r = i.children[n],
                            Ko(t, a = i.Zc ? e(r) : r)) {
                                if (i.Zc || Qo(t, a))
                                    return !0;
                                s.push(r)
                            }
                        i = s.pop()
                    }
                    return !1
                },
                load: function(t) {
                    if (!t || !t.length)
                        return this;
                    if (t.length < this.Wc) {
                        for (var i = 0, e = t.length; i < e; i++)
                            this.Xc(t[i]);
                        return this
                    }
                    var n = this.Hc(t.slice(), 0, t.length - 1, 0);
                    if (this.data.children.length)
                        if (this.data.height === n.height)
                            this.Jc(this.data, n);
                        else {
                            if (this.data.height < n.height) {
                                var o = this.data;
                                this.data = n,
                                n = o
                            }
                            this.Kc(n, this.data.height - n.height - 1, !0)
                        }
                    else
                        this.data = n;
                    return this
                },
                Xc: function(t) {
                    return t && this.Kc(t, this.data.height - 1),
                    this
                },
                clear: function() {
                    return this.data = tr([]),
                    this
                },
                remove: function(t, i) {
                    if (!t)
                        return this;
                    for (var e, n, o, r, a = this.data, s = this.Yc(t), h = [], l = []; a || h.length; ) {
                        if (a || (a = h.pop(),
                        n = h[h.length - 1],
                        e = l.pop(),
                        r = !0),
                        a.Zc && -1 !== (o = Uo(t, a.children, i)))
                            return a.children.splice(o, 1),
                            h.push(a),
                            this.Qc(h),
                            this;
                        r || a.Zc || !Qo(a, s) ? n ? (e++,
                        a = n.children[e],
                        r = !1) : a = null : (h.push(a),
                        l.push(e),
                        e = 0,
                        a = (n = a).children[0])
                    }
                    return this
                },
                Yc: function(t) {
                    return t
                },
                tf: Zo,
                if: Xo,
                toJSON: function() {
                    return this.data
                },
                ef: function(t) {
                    return this.data = t,
                    this
                },
                qc: function(t, i) {
                    for (var e = []; t; )
                        t.Zc ? i.push.apply(i, t.children) : e.push.apply(e, t.children),
                        t = e.pop();
                    return i
                },
                Hc: function(t, i, e, n) {
                    var o, r = e - i + 1, a = this.Bc;
                    if (r <= a)
                        return Go(o = tr(t.slice(i, e + 1)), this.Yc),
                        o;
                    n || (n = Math.ceil(Math.log(r) / Math.log(a)),
                    a = Math.ceil(r / Math.pow(a, n - 1))),
                    (o = tr([])).Zc = !1,
                    o.height = n;
                    var s, h, l, f, u = Math.ceil(r / a), c = u * Math.ceil(Math.sqrt(a));
                    for (ir(t, i, e, c, this.tf),
                    s = i; s <= e; s += c)
                        for (ir(t, s, l = Math.min(s + c - 1, e), u, this.if),
                        h = s; h <= l; h += u)
                            f = Math.min(h + u - 1, l),
                            o.children.push(this.Hc(t, h, f, n - 1));
                    return Go(o, this.Yc),
                    o
                },
                nf: function(t, i, e, n) {
                    for (var o, r, a, s, h, l, f, u, c, d; n.push(i),
                    !i.Zc && n.length - 1 !== e; ) {
                        for (f = u = 1 / 0,
                        o = 0,
                        r = i.children.length; o < r; o++)
                            h = Jo(a = i.children[o]),
                            c = t,
                            d = a,
                            (l = (Math.max(d.Oa, c.Oa) - Math.min(d.ja, c.ja)) * (Math.max(d.Ea, c.Ea) - Math.min(d.Fa, c.Fa)) - h) < u ? (u = l,
                            f = h < f ? h : f,
                            s = a) : l === u && h < f && (f = h,
                            s = a);
                        i = s || i.children[0]
                    }
                    return i
                },
                Kc: function(t, i, e) {
                    var n = this.Yc
                      , o = e ? t : n(t)
                      , r = []
                      , a = this.nf(o, this.data, i, r);
                    for (a.children.push(t),
                    Yo(a, o); 0 <= i && r[i].children.length > this.Bc; )
                        this.af(r, i),
                        i--;
                    this.sf(o, r, i)
                },
                af: function(t, i) {
                    var e = t[i]
                      , n = e.children.length
                      , o = this.Wc;
                    this.rf(e, o, n);
                    var r = this.hf(e, o, n)
                      , a = tr(e.children.splice(r, e.children.length - r));
                    a.height = e.height,
                    a.Zc = e.Zc,
                    Go(e, this.Yc),
                    Go(a, this.Yc),
                    i ? t[i - 1].children.push(a) : this.Jc(e, a)
                },
                Jc: function(t, i) {
                    this.data = tr([t, i]),
                    this.data.height = t.height + 1,
                    this.data.Zc = !1,
                    Go(this.data, this.Yc)
                },
                hf: function(t, i, e) {
                    var n, o, r, a, s, h, l, f, u, c, d, p, v, m;
                    for (h = l = 1 / 0,
                    n = i; n <= e - i; n++)
                        u = o = Vo(t, 0, n, this.Yc),
                        c = r = Vo(t, n, e, this.Yc),
                        d = Math.max(u.ja, c.ja),
                        p = Math.max(u.Fa, c.Fa),
                        v = Math.min(u.Oa, c.Oa),
                        m = Math.min(u.Ea, c.Ea),
                        a = Math.max(0, v - d) * Math.max(0, m - p),
                        s = Jo(o) + Jo(r),
                        a < h ? (h = a,
                        f = n,
                        l = s < l ? s : l) : a === h && s < l && (l = s,
                        f = n);
                    return f
                },
                rf: function(t, i, e) {
                    var n = t.Zc ? this.tf : Zo
                      , o = t.Zc ? this.if : Xo;
                    this.lf(t, i, e, n) < this.lf(t, i, e, o) && t.children.sort(n)
                },
                lf: function(t, i, e, n) {
                    t.children.sort(n);
                    var o, r, a = this.Yc, s = Vo(t, 0, i, a), h = Vo(t, e - i, e, a), l = qo(s) + qo(h);
                    for (o = i; o < e - i; o++)
                        r = t.children[o],
                        Yo(s, t.Zc ? a(r) : r),
                        l += qo(s);
                    for (o = e - i - 1; i <= o; o--)
                        r = t.children[o],
                        Yo(h, t.Zc ? a(r) : r),
                        l += qo(h);
                    return l
                },
                sf: function(t, i, e) {
                    for (var n = e; 0 <= n; n--)
                        Yo(i[n], t)
                },
                Qc: function(t) {
                    for (var i, e = t.length - 1; 0 <= e; e--)
                        0 === t[e].children.length ? 0 < e ? (i = t[e - 1].children).splice(i.indexOf(t[e]), 1) : this.clear() : Go(t[e], this.Yc)
                },
                Gc: function(t) {
                    var i = ["return a", " - b", ";"];
                    this.tf = new Function("a","b",i.join(t[0])),
                    this.if = new Function("a","b",i.join(t[1])),
                    this.Yc = new Function("a","return {minX: a" + t[0] + ", minY: a" + t[1] + ", maxX: a" + t[2] + ", maxY: a" + t[3] + "};")
                }
            },
            jo.default = No;
            var er, nr = (er = Po,
            wt.Ei(or, er),
            or.prototype.Hz = function(t, i, e, n, o, r) {
                if (n && i) {
                    er.prototype.Hz.call(this, t, i, e, n, o, r);
                    var a = i.$n.zoom;
                    if (n && n.tiles && 0 < n.tiles.length && i && r.visible && r.opacity && wt.Util.dS(a, r.zooms)) {
                        for (var s = {}, h = !0, l = 0, f = n.tiles; l < f.length; l++) {
                            var u = f[l]
                              , c = (s[u.zo.key] = u).data || [];
                            if (h)
                                for (var d = 0, p = c; d < p.length; d++)
                                    h = !!p[d].Ta
                        }
                        this.Xz = h;
                        var v = n.fo
                          , m = n.Ca;
                        v && h && (this.vf = Object.keys(s),
                        this.mf = s,
                        this.mf.yf = m);
                        var y = this.vf;
                        if (!y)
                            return;
                        for (var g = void 0, x = void 0, b = 0, _ = y; b < _.length; b++)
                            for (var w = _[b], k = 0, M = c = this.mf[w].data || []; k < M.length; k++)
                                if ((x = M[k]) && x.labels) {
                                    if (g = wt.bf.xf(x.labels, this.mf.yf),
                                    !this._map.isDOMMode())
                                        for (var C = 0, S = g; C < S.length; C++)
                                            S[C].upload(t.context);
                                    x.gf = g
                                }
                        var z = this._map.getMapState()
                          , R = (z.zooming,
                        z.panning,
                        i.$n)
                          , A = R.projectionId
                          , I = R.centerCoord;
                        return this.If = wt.V[A],
                        this.uu = wt.lcs.getLocalByCoord([I[0], I[1]]).center,
                        this.Ps = this.Pf(this.mf)
                    }
                    return null
                }
            }
            ,
            or.prototype.Kn = function(t, i, e, n, o) {
                var r = (this.wf = e).$n
                  , a = this.vf
                  , s = this.Zz;
                if (a && r) {
                    var h = t.context
                      , l = this.fz
                      , f = this._map;
                    if (f) {
                        var u = f.qz()
                          , c = f.Qz()
                          , d = this._map.isDOMMode();
                        if (u && (this.Bf = l.$f,
                        this.Wf = l.Uf,
                        d ? this.Yz(e, n, i, this._map, {
                            centerCoord: this.uu,
                            Uf: this.Wf,
                            $f: this.Bf
                        }) : this.Jh(t, e, a)),
                        !d) {
                            this.Cf || (this.Cf = h.fe(this.Lf, 1));
                            var p = this._map.getMapState()
                              , v = p.panning
                              , m = p.zooming
                              , y = this.Ps;
                            if (this.Kz(),
                            c) {
                                if (y.Vf && !m) {
                                    v || (this.Xf = {});
                                    var g = zo.getBounds(r, {
                                        zoom: r.zoom,
                                        centerCoord: this.uu,
                                        view: this._view,
                                        transform: this.If,
                                        viewMode: this._viewMode
                                    });
                                    this.bo = e.$n.zoom;
                                    var x = this.Jf(this.mf);
                                    this.Kf(x, {
                                        bounds: g
                                    }),
                                    this.Qf(this.Xf, {
                                        bounds: g
                                    }),
                                    this.tp = this.ip(h)
                                }
                                s.Cz(e, h, this.mf, {
                                    $z: this.tp
                                }, {
                                    Az: this.vf,
                                    Iz: this.bo,
                                    centerCoord: this.uu
                                })
                            }
                            i.fo,
                            s.Lz.done && this._map.commonWordTextureLoaded()
                        }
                    }
                }
            }
            ,
            or.prototype.destroy = function() {
                delete this.Xf,
                delete this.tp,
                delete this.kp,
                delete this.xp,
                delete this.vf,
                delete this.mf,
                this.mp && (this.mp.destroy(),
                delete this.mp),
                this.Cf && (this.Cf.context.deleteBuffer(this.Cf),
                delete this.Cf),
                er.prototype.destroy.call(this)
            }
            ,
            or.prototype.reset = function() {
                this.Xf = {},
                this.tp.zs && (this.tp.pp = []),
                er.prototype.reset.call(this)
            }
            ,
            or.prototype.Jh = function(t, i, e) {
                var n, o, r, a = this.Zz, s = t.context;
                this.qf(s, this.mf);
                var h = this.mp;
                if (h)
                    for (var l, f = !0, u = 0; u < e.length; u++) {
                        var c = e[u];
                        if (l = this.mf[c])
                            for (var d = 0, p = l.data; d < p.length; d++) {
                                o = p[d],
                                r = l.Sa;
                                var v = o.gf
                                  , m = this._map.yH.xH(l.zo.key) || (null === (n = this._map.I_) || void 0 === n ? void 0 : n.getImage("emptyTexture"));
                                if (m) {
                                    if (v)
                                        for (var y = 0; y < v.length; y++) {
                                            var g = v[y];
                                            a.Ce(i, t.context, {
                                                Rz: g.rp,
                                                buffer: g.buffer,
                                                od: h.buffer,
                                                zz: this.xp
                                            }, {
                                                Sz: f,
                                                Sa: r,
                                                oo: t,
                                                CH: m
                                            }),
                                            f = !1
                                        }
                                } else
                                    console.error("no staticSDFTileTexture")
                            }
                    }
            }
            ,
            or.prototype.Pf = function(t) {
                var i = this.wf
                  , e = i && i.$n;
                if (!e)
                    return {};
                for (var n, o, r, a, s, h, l, f, u, c, d, p, v, m, y = e && e.optimalZoom || 20, g = e && e.zoom || 20, x = !1, b = 0, _ = zo.getBounds(e, {
                    zoom: y,
                    centerCoord: this.uu,
                    view: this._view,
                    transform: this.If,
                    viewMode: this._viewMode
                }), w = wt.tc.Mp, k = wt.tc.Rp, M = 20 < y ? 20 : y < 3 ? 3 : y, C = this.vf, S = C.length, z = [w, k], R = {}, A = {}, I = {}, L = {}, T = e.zoom, $ = !0, D = 0; D < S; D++)
                    for (var F = 0, P = (r = t[C[D]]).data; F < P.length; F++)
                        if ((m = P[F]) && m.gf)
                            for (var H = 0, O = m.gf; H < O.length; H++)
                                if (s = (a = O[H]).coords) {
                                    l = a.Nf,
                                    f = a.zp[M] || [],
                                    b += a.rp.up;
                                    for (var B = 0, E = f; B < E.length; B++) {
                                        var j = E[B];
                                        $ = !1,
                                        c = l[j],
                                        d = s[j],
                                        u = r.Sa,
                                        v = wt.Sp.add(d.origin, u),
                                        zo.gz(v, _) || R[j] ? (n = l[j].data.extData,
                                        o = this._map.mapStyle.dn(n.Lp, n.Ap, g),
                                        p = (c.opts || {}).zooms || z,
                                        R[j] || !(T < p[0] || p[1] < T) && o ? (L[j] && delete this.Bf[j],
                                        h = a.style,
                                        R[j] = c,
                                        A[j] = d,
                                        I[j] = h[j],
                                        n.Sa = u,
                                        I[j].tn = o.tn,
                                        I[j].in = o.in,
                                        x = !0) : (this.Bf[j] || (L[j] = 1),
                                        this.Bf[j] = 1)) : (this.Bf[j] || (L[j] = 1),
                                        this.Bf[j] = 1)
                                    }
                                }
                return $ && (x = !0),
                {
                    Vf: x,
                    lp: b,
                    Nf: R,
                    coords: A,
                    style: I
                }
            }
            ,
            or.prototype.qf = function(t, i) {
                var e = this.Zz
                  , n = this.vf
                  , o = (this.Ps.lp || 0) / 12;
                this.fp.ff(o);
                var r, a, s, h, l, f = this.fp.value.fill(0), u = [], c = 0, d = 0;
                if (o) {
                    for (var p = 0, v = n; p < v.length; p++)
                        if (r = i[v[p]])
                            for (var m = 0, y = r.data; m < y.length; m++) {
                                var g = y[m].gf
                                  , x = this.Ps.style || {};
                                if (g)
                                    for (var b = 0, _ = g; b < _.length; b++) {
                                        h = (s = (a = _[b].rp) && a.pp).length;
                                        for (var w = 0; w < h; w++)
                                            l = s[w].dp,
                                            c = d,
                                            d = e.Dz(f, this.Wf, {
                                                dp: l,
                                                start: c,
                                                style: x
                                            }),
                                            u.push({
                                                start: c,
                                                end: d
                                            })
                                    }
                            }
                    var k = this.mp;
                    k ? k.update(f) : this.mp = new wt.yp(t,f,1),
                    this.xp = u
                }
            }
            ,
            or.prototype.Jf = function(t) {
                var i, e = wt.tc.Dp, n = wt.tc.Mp, o = wt.tc.Rp, r = wt.tc.Pp, a = wt.tc.jp, s = e.Op, h = this.wf;
                if (h) {
                    for (var l, f, u, c, d, p, v, m, y, g, x, b, _, w, k = h.$n, M = k && k.zoom, C = [], S = this.vf, z = S.length, R = this.Xf, A = 0, I = _ && _[1] || {}, L = I.fontSize, T = I.faceColor, $ = I.borderColor, D = 0; D < z; D++)
                        for (var F = t[S[D]], P = 0, H = F.AB(); P < H.length; P++)
                            if (w = H[P],
                            M && w) {
                                if (l = w.road || [],
                                f = F.Sa,
                                u = F.zo.key,
                                c = F.zo.z,
                                R[u])
                                    continue;
                                for (var O = 0, B = l; O < B.length; O++) {
                                    var E = B[O];
                                    if (d = E.path,
                                    p = E.name,
                                    v = E.rank,
                                    m = E.Fp,
                                    y = E.Ep,
                                    A = E.distance || 0,
                                    g = E.minzoom || n,
                                    x = E.maxzoom || o,
                                    b = zo.wu(A, 0, M, {
                                        $n: k,
                                        size: h.size,
                                        transform: this.If,
                                        view: this._view,
                                        viewMode: this._viewMode,
                                        centerCoord: this.uu
                                    }),
                                    !(Math.abs(b[0] - b[1]) < s) && (L = (I = (_ = this._map.mapStyle.dn(m, y, M)) && _[1] || {}).fontSize,
                                    T = I.faceColor,
                                    $ = I.borderColor,
                                    g = (i = wt.bf.$p([g, x]))[0],
                                    x = i[1],
                                    p && d && L && T)) {
                                        var j = {
                                            path: d,
                                            name: p,
                                            rank: v,
                                            zooms: [g - r, x + a],
                                            style: {
                                                fontSize: L,
                                                fillColor: wt.Sp.Up(T.rgba, 255),
                                                strokeColor: $ && wt.Sp.Up($.rgba, 255)
                                            },
                                            Sa: f,
                                            key: u,
                                            Bp: c
                                        };
                                        C.push(j)
                                    }
                                }
                            }
                    return C
                }
            }
            ,
            or.prototype.Kf = function(t, i) {
                void 0 === i && (i = {});
                var e = this.wf && this.wf.$n
                  , n = (e || {}).zoom
                  , o = void 0 === n ? 20 : n
                  , r = this.If
                  , a = this.Xf
                  , s = wt.tc._n
                  , h = i.bounds;
                if (e) {
                    for (var l = {}, f = e.rotation || 0, u = 0, c = t; u < c.length; u++) {
                        var d = c[u]
                          , p = d.rank;
                        l[p] || (l[p] = []),
                        l[p].push(d)
                    }
                    for (var v, m, y, g, x, b, _, w, k, M, C, S, z, R, A, I = Object.keys(l), L = I.length, T = 0, $ = this._map.getMapState().panning, D = L - 1; 0 <= D; D--)
                        for (var F = 0, P = l[I[D]]; F < P.length; F++) {
                            var H = P[F];
                            v = H.name,
                            m = H.path,
                            y = H.zooms,
                            g = H.rank,
                            x = H.style,
                            w = H.Bp,
                            b = zo.kz([[-H.Sa[0], -H.Sa[1]]], w, o, {
                                centerCoord: this.uu
                            })[0],
                            _ = H.key,
                            k = x.fontSize,
                            M = x.fillColor,
                            C = x.strokeColor || s.Gp,
                            S = 1.3 * k;
                            for (var O = T = 0, B = this.Zp(m, S, {
                                zoom: o,
                                transform: r,
                                bounds: h,
                                Bp: w
                            }); O < B.length; O++) {
                                var E = B[O];
                                (E.length || 0) < 2 || (z = {
                                    transform: r,
                                    fontSize: k,
                                    qp: S,
                                    zoom: o,
                                    name: v,
                                    Sa: b,
                                    bounds: h,
                                    panning: $,
                                    nF: f
                                },
                                (R = this.Yp(E, z, T++ < 1)).pos.length && R.pos[0].length && (A = {
                                    name: v,
                                    rank: g,
                                    fontSize: k,
                                    fillColor: M,
                                    strokeColor: C,
                                    zooms: y,
                                    Sa: b,
                                    key: _,
                                    Bp: w
                                },
                                this.Vp(R, a, A)))
                            }
                        }
                    return a
                }
            }
            ,
            or.prototype.Qf = function(t, i) {
                void 0 === i && (i = {});
                var e = this.wf;
                if (e) {
                    var n, o, r = e.$n, a = this.fz, s = r.zoom, h = void 0 === s ? 20 : s, l = i.bounds, f = this.Gf, u = !1, c = 0, d = [];
                    for (var p in t)
                        if (t.hasOwnProperty(p))
                            for (var v = 0, m = t[p]; v < m.length; v++) {
                                for (var y = m[v], g = 0, x = y; g < x.length; g++) {
                                    var b = x[g]
                                      , _ = b.data
                                      , w = b.opts
                                      , k = _.txt
                                      , M = _.position
                                      , C = _.extData
                                      , S = C.Bp
                                      , z = zo.kz([wt.Sp.multiply(C.Sa, -1)], S, h, {
                                        centerCoord: this.uu
                                    })[0]
                                      , R = w.text.style
                                      , A = R && R.fontSize
                                      , I = wt.Sp.add(M, z)
                                      , L = zo.gz(I, l);
                                    if (n = [],
                                    L) {
                                        var T = zo.wu(I[0], I[1], h, {
                                            $n: r,
                                            size: e.size,
                                            transform: this.If,
                                            view: this._view,
                                            viewMode: this._viewMode,
                                            centerCoord: this.uu
                                        })
                                          , $ = this.Xp(T, A);
                                        o = this.fz.iC($, {
                                            padding: 5,
                                            id: k,
                                            type: "road"
                                        }),
                                        (n = a.search(o)).length || (n = f.search(o))
                                    }
                                    if (!L) {
                                        u = !0;
                                        break
                                    }
                                    for (var D = 0, F = n.length; D < F; ) {
                                        if (this.Wf[n[D].id] || "road" === n[D].type) {
                                            u = !0;
                                            break
                                        }
                                        D++
                                    }
                                    o && d.push(o)
                                }
                                if (!u) {
                                    c += y.length;
                                    for (var P = 0, H = d; P < H.length; P++) {
                                        var O = H[P];
                                        f.Xc(O)
                                    }
                                    d = []
                                }
                                y.hide = u,
                                u = !1
                            }
                    this.Jp = c
                }
            }
            ,
            or.prototype.ip = function(t) {
                var i, e = wt.tc.Qu, n = wt.tc.sp, o = wt.tc.Kp, r = this.Xf || {}, a = this.wf, s = a && a.$n, h = 0;
                if (s && this._map) {
                    var l = s.zoom
                      , f = (this.If,
                    this.bo)
                      , u = this._map.getMapState().zooming
                      , c = this.Jp
                      , d = void 0;
                    1e5 < 72 * c && this.Qp.ff(72 * c),
                    d = this.Qp.value;
                    var p = []
                      , v = 0
                      , m = void 0
                      , y = void 0
                      , g = void 0
                      , x = void 0
                      , b = void 0
                      , _ = void 0
                      , w = void 0
                      , k = void 0
                      , M = void 0
                      , C = void 0
                      , S = void 0
                      , z = void 0
                      , R = void 0
                      , A = void 0
                      , I = void 0
                      , L = void 0
                      , T = void 0
                      , $ = void 0
                      , D = void 0
                      , F = void 0
                      , P = void 0
                      , H = void 0
                      , O = void 0
                      , B = void 0
                      , E = void 0
                      , j = void 0
                      , N = void 0
                      , W = void 0
                      , U = void 0
                      , G = void 0
                      , V = void 0
                      , Y = void 0
                      , Z = void 0
                      , X = void 0
                      , J = void 0
                      , q = void 0
                      , Q = void 0
                      , K = void 0
                      , tt = void 0
                      , it = void 0
                      , et = void 0
                      , nt = void 0
                      , ot = void 0
                      , rt = void 0
                      , at = void 0
                      , st = void 0
                      , ht = void 0
                      , lt = void 0
                      , ft = 0
                      , ut = void 0
                      , ct = void 0;
                    for (var dt in r)
                        if (r.hasOwnProperty(dt)) {
                            var pt = r[dt];
                            v = pt.length;
                            for (var vt = 0; vt < v; vt++)
                                if (!(ct = pt[vt]).hide)
                                    for (var mt = 0, yt = ct; mt < yt.length; mt++) {
                                        var gt = yt[mt];
                                        m = gt.data,
                                        y = gt.opts,
                                        g = m.txt,
                                        x = m.position,
                                        ut = (b = m.extData).Bp,
                                        _ = y.angle || 0,
                                        w = y.zooms,
                                        M = (k = y.text.style).fontSize,
                                        C = k.fillColor,
                                        S = k.strokeColor,
                                        z = k.strokeWidth || 0,
                                        A = (R = this.td(M, z)).gamma,
                                        I = R.ed,
                                        T = R.backgroundColor,
                                        $ = R.strokeWidth,
                                        L = R.nd,
                                        D = g.length;
                                        for (var xt = 0; xt < D; xt++)
                                            if (F = g.charCodeAt(xt),
                                            (P = this.Mf.mz(F, !0) || {
                                                index: wt.tc.IB,
                                                char: null === (i = this._map.yH) || void 0 === i ? void 0 : i.LB(dt)[F],
                                                pos: {
                                                    startX: 0,
                                                    startY: 0
                                                }
                                            }) && P.char && (H = P.index,
                                            O = P.char,
                                            P.key,
                                            B = x[xt],
                                            E = x[xt + 1],
                                            B && E && O)) {
                                                j = w[0],
                                                N = w[1],
                                                W = M / o.size,
                                                U = 1,
                                                u && l < f && (W /= Math.pow(2, f - l)),
                                                G = O[0],
                                                V = O[1],
                                                Y = O[2],
                                                Z = O[3],
                                                X = O[5],
                                                J = O[6];
                                                var bt = {
                                                    x: -M / 2 - o.buffer,
                                                    y: M / 2 + o.buffer
                                                };
                                                q = o.buffer,
                                                0 < G && 0 < V && (tt = U * ((Q = bt.x) + (Y + q) * W),
                                                it = U * (Q + (Y + q + (G += 2 * q)) * W),
                                                et = U * ((K = bt.y) + (Z - (V += 2 * q)) * W),
                                                nt = U * (K + Z * W),
                                                rt = ot = 0,
                                                e <= H && (ot += P.pos.startX,
                                                rt += P.pos.startY),
                                                lt = [tt, et, at = ot + X, st = rt + J, B, E, H, 2, j, N, 0, _, it, et, at + G, st, B, E, H, 2, j, N, 0, _, tt, nt, at, st + V, B, E, H, 2, j, N, 0, _, tt, nt, at, st + V, B, E, H, 2, j, N, 0, _, it, et, at + G, st, B, E, H, 2, j, N, 0, _, it, nt, at + G, st + V, B, E, H, 2, j, N, 0, _],
                                                d.set(lt, ft),
                                                ft += 72,
                                                ht = 12 * h * 6,
                                                p.push([M, [B, E], _, C, S, A, q, L, I, T, $, ht, ht + 72, b.key, ut]),
                                                h++)
                                            }
                                    }
                        }
                    var _t = this.u_;
                    return _t ? _t.update(d) : _t = this.u_ = new wt.yp(t,d,n),
                    {
                        pp: p,
                        zs: _t,
                        od: this.Cf
                    }
                }
                return {
                    pp: [],
                    od: null,
                    zs: null
                }
            }
            ,
            or.prototype.Zp = function(t, i, e) {
                void 0 === t && (t = []),
                void 0 === i && (i = 20),
                void 0 === e && (e = {});
                var n, o, r = wt.tc.Dp.Ad, a = e.zoom, s = e.Bp, h = 0, l = 0, f = t.length - 1, u = [[]], c = a < 12 ? 10 : r, d = this.wf;
                if (!d)
                    return u;
                for (var p = {
                    $n: d.$n,
                    size: d.size,
                    transform: this.If,
                    view: this._view,
                    viewMode: this._viewMode,
                    centerCoord: this.uu
                }, v = 0; v < f - 3; v += 2) {
                    var m = zo.kz([[t[v], t[v + 1]], [t[v + 2], t[v + 3]]], s, a, {
                        centerCoord: this.uu
                    })
                      , y = m[0]
                      , g = m[1];
                    n = 0 === v ? "2D" === this._viewMode ? this.If.transform(y[0], y[1], a) : zo.wu(y[0], y[1], a, p) : o,
                    o = "2D" === this._viewMode ? this.If.transform(g[0], g[1], a) : zo.wu(g[0], g[1], a, p);
                    var x = (l = wt.bf.Sd(n, o)) / i;
                    c < (h += l) && (1 < x || a < 12 && .6 <= x ? u[u.length - 1].push(n) : void 0 !== u[u.length - 1][0] && u.push([]))
                }
                return u
            }
            ,
            or.prototype.Yp = function(t, i, e) {
                void 0 === t && (t = []),
                void 0 === i && (i = {}),
                void 0 === e && (e = !1);
                for (var n, o, r, a, s, h, l, f = wt.tc.Dp.Td, u = i.transform, c = (i.fontSize,
                i.qp), d = void 0 === c ? 20 : c, p = i.zoom, v = void 0 === p ? 20 : p, m = i.name, y = void 0 === m ? "" : m, g = (i.nF,
                {
                    index: 0,
                    Id: 0,
                    pos: [],
                    Dd: [],
                    Pd: [],
                    points: []
                }), x = t.length, b = y.length, _ = !1, w = 0, k = 0, M = !1, C = {
                    viewMode: this._viewMode,
                    transform: u,
                    view: this._view
                }; w < x - 1 && k < 30; ) {
                    k++;
                    var S = g.index;
                    g.pos[S] || (g.pos[S] = [],
                    g.Pd[S] = [],
                    g.points[S] = [],
                    g.Dd[S] = []);
                    var z, R;
                    z = M ? n : t[w];
                    var A = t[w + 1];
                    if (n = _ ? wt.bf.jd(n, t[w], t[w + 1], d) : (h = wt.bf.getAngle(z, A),
                    wt.bf.Od(z, h, d)),
                    o = g.index,
                    !(g.Id < b && e)) {
                        e = !0,
                        g.index++,
                        g.Id = 0,
                        w = this.zd(t, w + 1, f),
                        _ = M = !1;
                        break
                    }
                    if (a = "2D" === this._viewMode ? (r = u.Xs(z[0], z[1], v),
                    u.Xs(n[0], n[1], v)) : (r = zo.nt(z[0], z[1], v, C),
                    zo.nt(n[0], n[1], v, C)),
                    s = wt.bf.Fd(r, a, 1)[0],
                    R = wt.bf.Fd(z, n, 1)[0],
                    l = wt.bf.Ed([z, n]) ? wt.bf.Nd(n, z) : wt.bf.Nd(z, n),
                    g.pos[o].push(s),
                    g.points[o].push(R),
                    g.Pd[S].push(l),
                    g.Id++,
                    g.Id === b - 1) {
                        var I = wt.bf.Ed(g.points[o]);
                        g.pos[o].$d = I
                    }
                    wt.bf.Sd(n, A) < d ? (w++,
                    M = _ = !0) : _ = !(M = !0)
                }
                return g
            }
            ,
            or.prototype.Vp = function(t, i, e) {
                void 0 === t && (t = {}),
                void 0 === e && (e = {});
                for (var n, o, r, a, s = e.name, h = void 0 === s ? "" : s, l = e.rank, f = void 0 === l ? 1 : l, u = e.fontSize, c = void 0 === u ? 12 : u, d = e.fillColor, p = e.strokeColor, v = e.zooms, m = e.Sa, y = e.key, g = e.Bp, x = h.length, b = t.pos.length, _ = [], w = 0, k = [], M = !1, C = 0; C < b; C++)
                    if (n = t.pos[C] || [],
                    _ = t.Pd[C] || [],
                    o = n.$d,
                    n.length === x) {
                        for (t.Dd[C],
                        w = 0; w < x; w++) {
                            if (!(a = n[r = o ? x - 1 - w : w]) || !this.Ud(_, w)) {
                                M = !0;
                                break
                            }
                            var S = {
                                data: {
                                    id: wt.Util.stamp(this),
                                    position: a,
                                    name: h,
                                    extData: {
                                        Sa: m,
                                        key: y,
                                        Bp: g
                                    },
                                    txt: h.substr(w, 1),
                                    rank: f
                                },
                                opts: {
                                    type: "normal",
                                    angle: _[r] || 0,
                                    zooms: v,
                                    text: {
                                        direction: "center",
                                        offset: [0, 0],
                                        style: {
                                            fontSize: c,
                                            fillColor: d,
                                            strokeColor: p,
                                            strokeWidth: 2
                                        }
                                    }
                                }
                            }
                              , z = this._map.getLayerByClass("AMap.MaskLayer")
                              , R = this._map.jH();
                            if (z) {
                                if (R)
                                    return k.push(S),
                                    !0;
                                var A = z.ho();
                                if (A && !A.EH(S.data.position, this.wf))
                                    return !1
                            }
                            k.push(S)
                        }
                        M || (i[y] || (i[y] = []),
                        i[y].push(k))
                    }
            }
            ,
            or.prototype.Xp = function(t, i) {
                void 0 === i && (i = 12);
                var e = 1.3 * i
                  , n = 1.3 * i
                  , o = [t[0] - e / 2, t[1] - n / 2];
                return {
                    x: o[0],
                    y: o[1],
                    width: e,
                    height: n
                }
            }
            ,
            or.prototype.td = function(t, i) {
                void 0 === t && (t = 12),
                void 0 === i && (i = 0);
                var e = wt.tc.ec
                  , n = wt.tc.Cd
                  , o = wt.tc.Ld
                  , r = wt.tc._n
                  , a = 0
                  , s = t < 12 ? n : o;
                i && (a = s * (1 - (i = 10 < i * wt._.scale ? 10 : i) / 10.1));
                var h = e < t || 1 < wt._.scale ? 1.7 : 1.5;
                return {
                    gamma: h = 1.4142 * h / t,
                    nd: a,
                    ed: s - 1 / 256 * (wt._.scale - 1),
                    backgroundColor: r.Gp,
                    strokeWidth: i
                }
            }
            ,
            or.prototype.zd = function(t, i, e) {
                void 0 === t && (t = []),
                void 0 === i && (i = 0),
                void 0 === e && (e = 0);
                for (var n = 0, o = t.length - 1, r = i; r < o; r++) {
                    var a = t[r]
                      , s = t[r + 1];
                    if (e <= (n += wt.bf.Sd(a, s)))
                        break
                }
                return r
            }
            ,
            or.prototype.Ud = function(t, i) {
                void 0 === t && (t = []),
                void 0 === i && (i = 0);
                var e = wt.tc.Dp.Bd
                  , n = i - 1;
                if (n < 0)
                    return !0;
                var o = t[i]
                  , r = t[n];
                return !(Math.abs(o - r) >= e)
            }
            ,
            or.prototype.Kz = function() {
                this.Gf && this.Gf.clear()
            }
            ,
            or);
            function or() {
                var t = er.call(this) || this;
                return t.type = "nebula-labelslayer",
                t.Xz = !1,
                t.vf = [],
                t.mf = {},
                t.Cf = null,
                t.u_ = null,
                t.Jp = 0,
                t.bo = 20,
                t.Gf = jo(),
                t.Xf = {},
                t.tp = {
                    pp: [],
                    od: null,
                    zs: null
                },
                t.kp = {},
                t.Lf = new Uint8Array(1e5).fill(1),
                t.Qp = new Ro("float32",1e5),
                t
            }
            var rr = (ar.prototype.render = function(t, i, e) {
                t._map && (this.Wx(t, i, e),
                this.Gx(t, i, e))
            }
            ,
            ar.prototype.qx = function(t, i) {
                var e = t._getDetalLocal(i)
                  , n = t._opts;
                if (n.fillColor) {
                    var o = wt.Util.color2RgbaArray(n.fillColor);
                    if (o)
                        return (o = o.slice(0, 3)).push(n.fillOpacity),
                        {
                            u_offset: t.zx,
                            u_color: o,
                            u_matrix: i.$n.mvpMatrix,
                            u_localDeltaCenter: e,
                            u_skyHeight: i.$n.skyHeight,
                            u_viewHeight: i.$n.size[1]
                        }
                }
            }
            ,
            ar.prototype.Vx = function(t, i) {
                var e = t._getDetalLocal(i)
                  , n = t._opts;
                if (n.strokeColor) {
                    var o = wt.Util.color2RgbaArray(n.strokeColor);
                    if (o) {
                        (o = o.slice(0, 3)).push(n.strokeOpacity);
                        var r = this.Xx(t);
                        return {
                            u_color: o,
                            u_matrix: i.$n.mvpMatrix,
                            u_localDeltaCenter: e,
                            u_width: n.strokeWeight,
                            u_offset: t.zx,
                            u_meter_per_pixel: i.$n.resolution,
                            u_dash: r.Hx,
                            u_dashType: r.Jx,
                            u_border: !1,
                            u_skyHeight: i.$n.skyHeight,
                            u_viewHeight: i.$n.size[1]
                        }
                    }
                }
            }
            ,
            ar.prototype.Wx = function(t, i, e) {
                if (t.Dx) {
                    var n = t.Dx;
                    if (n.upload(e.context),
                    n.Kx && n.zs && t.visible) {
                        var o = n.zs
                          , r = this.qx(t, i);
                        if (r) {
                            var a = e.Wn();
                            a.context.getExtension("OES_element_index_uint"),
                            a.Ce(r, {
                                a_pos: {
                                    buffer: o,
                                    type: "vec2",
                                    Re: o.size,
                                    offset: 0
                                }
                            }, 3 * n.Qx.length, n.Pc, void 0, void 0, it.Si, void 0, void 0, 0)
                        }
                    }
                }
            }
            ,
            ar.prototype.Gx = function(t, i, e) {
                if (t.Px) {
                    var n = t.Px;
                    if (n.upload(e.context),
                    n.Kx || n.zs) {
                        var o = n.zs.buffer;
                        if (t.visible) {
                            var r = this.Vx(t, i);
                            if (r) {
                                var a = e.Xn();
                                a.context.getExtension("OES_element_index_uint"),
                                a.Ce(r, {
                                    a_pos: {
                                        buffer: o,
                                        type: "vec2",
                                        Re: o.size,
                                        offset: 0
                                    },
                                    a_normal: {
                                        type: "vec2",
                                        buffer: o,
                                        Re: o.size,
                                        offset: 8
                                    },
                                    a_distance: {
                                        type: "float",
                                        buffer: o,
                                        Re: o.size,
                                        offset: 16
                                    },
                                    a_dir: {
                                        type: "vec2",
                                        buffer: o,
                                        Re: o.size,
                                        offset: 20
                                    }
                                }, 3 * n.Qx.length, n.Pc.buffer, void 0, void 0, it.Si, void 0, void 0, 0),
                                a.Ni()
                            }
                        }
                    }
                }
            }
            ,
            ar.prototype.Xx = function(t) {
                var i = t._opts
                  , e = 2
                  , n = [1, 0, 0];
                return "dashed" === i.strokeStyle && i.strokeDasharray && (n = 3 <= i.strokeDasharray.length ? (e = 3,
                i.strokeDasharray.slice(0, 3)) : (e = 2,
                wt.Pt(i.strokeDasharray.slice(0), [0]))),
                {
                    Jx: e,
                    Hx: n
                }
            }
            ,
            ar);
            function ar() {}
            var sr = (hr.prototype.render = function(t, i, e) {
                if (t._map) {
                    var n = t._opts;
                    this.Tc(t, i, e),
                    this.Ic(t, i, e),
                    n.lineGradient && this.nC(t, i, e),
                    n.showDir && this.N_(t, i, e)
                }
            }
            ,
            hr.prototype.fb = function(t, i) {
                var e = t._getDetalLocal(i)
                  , n = t._opts
                  , o = n.strokeWeight;
                if (!(o <= 0) && !(n.strokeOpacity <= 0) && n.strokeColor) {
                    var r = wt.Util.color2RgbaArray(n.strokeColor);
                    if (r) {
                        r = r.slice(0, 3);
                        var a = this.Xx(t);
                        return r.push(n.strokeOpacity),
                        {
                            u_color: r,
                            u_matrix: i.$n.mvpMatrix,
                            u_meter_per_pixel: i.$n.resolution,
                            u_width: o,
                            u_offset: t.zx,
                            u_localDeltaCenter: e,
                            u_dash: a.Hx,
                            u_dashType: a.Jx,
                            u_skyHeight: i.$n.skyHeight,
                            u_viewHeight: i.$n.size[1]
                        }
                    }
                }
            }
            ,
            hr.prototype.pb = function(t, i) {
                var e = t._getDetalLocal(i)
                  , n = t._opts;
                if (n.outlineColor) {
                    var o = wt.Util.color2RgbaArray(n.outlineColor);
                    if (o) {
                        (o = o.slice(0, 3)).push(n.strokeOpacity);
                        var r = n.strokeWeight + 2 * n.borderWeight;
                        if (!(r <= 0 || n.strokeOpacity <= 0)) {
                            var a = this.Xx(t);
                            return {
                                u_color: o,
                                u_matrix: i.$n.mvpMatrix,
                                u_localDeltaCenter: e,
                                u_width: r,
                                u_offset: t.zx,
                                u_meter_per_pixel: i.$n.resolution,
                                u_dash: a.Hx,
                                u_dashType: a.Jx,
                                u_skyHeight: i.$n.skyHeight,
                                u_viewHeight: i.$n.size[1]
                            }
                        }
                    }
                }
            }
            ,
            hr.prototype.B_ = function(t, i, e) {
                if (t._map) {
                    var n, o = t._getDetalLocal(i), r = t._opts, a = r.strokeWeight;
                    if (!(a <= 0)) {
                        var s = Boolean(r.dirImg);
                        if (n = s ? (t.U_(e),
                        t.E_) : t._map.getImage("AMapArrow")) {
                            var h = wt.Util.color2RgbaArray(r.dirColor).slice(0, 3);
                            return {
                                u_matrix: i.$n.mvpMatrix,
                                u_meter_per_pixel: i.$n.resolution,
                                u_meter_per_pixel_optimal: i.$n.optimalResolution,
                                u_width: a,
                                u_offset: t.zx,
                                u_localDeltaCenter: o,
                                u_texture: n,
                                u_iconsize: n.size,
                                u_custom_img_flag: s,
                                u_dir_color: h,
                                u_skyHeight: i.$n.skyHeight,
                                u_viewHeight: i.$n.size[1]
                            }
                        }
                    }
                }
            }
            ,
            hr.prototype.oC = function(t, i, e) {
                if (t._map) {
                    var n = t._getDetalLocal(i)
                      , o = t._opts;
                    if (o.lineGradient) {
                        var r = o.strokeWeight;
                        if (!(r <= 0))
                            return t.rC || t.aC(e, o.lineGradient),
                            {
                                u_matrix: i.$n.mvpMatrix,
                                u_meter_per_pixel: i.$n.resolution,
                                u_width: r,
                                u_offset: t.zx,
                                u_localDeltaCenter: n,
                                u_texture: t.rC,
                                u_total_distance: t.sC,
                                u_skyHeight: i.$n.skyHeight,
                                u_viewHeight: i.$n.size[1]
                            }
                    }
                }
            }
            ,
            hr.prototype.U_ = function(t, i) {
                t.F_ && (t.E_ || (t.E_ = i.createTexture(t.F_, {
                    Zi: !0
                }),
                t.E_.bind(i.gl.CLAMP_TO_EDGE, i.gl.LINEAR, i.gl.LINEAR)))
            }
            ,
            hr.prototype.aC = function(t, i, e) {
                if (!t.rC) {
                    var n = function(t) {
                        var i = document.createElement("canvas");
                        i.height = 1,
                        i.width = 4096;
                        for (var e = i.getContext("2d"), n = e.createImageData(4096, 1), o = 0, r = 0; r < 4096; r++) {
                            for (var a = void 0; o < t.length; o++) {
                                if (o === t.length - 1) {
                                    a = t[o][1];
                                    break
                                }
                                if (!(4096 * t[o + 1][0] < r)) {
                                    a = t[o][1];
                                    break
                                }
                            }
                            a = t[o][1];
                            var s = wt.Util.color2RgbaArray(a);
                            n.data[4 * r] = 255 * s[0],
                            n.data[4 * r + 1] = 255 * s[1],
                            n.data[4 * r + 2] = 255 * s[2],
                            n.data[4 * r + 3] = 255 * s[3]
                        }
                        return e.putImageData(n, 0, 0),
                        i
                    }(e.values);
                    t.rC = i.createTexture(n, {
                        Zi: !0
                    });
                    var o = i.gl;
                    t.rC.bind(o.CLAMP_TO_EDGE, o.NEAREST, o.NEAREST_MIPMAP_NEAREST)
                }
            }
            ,
            hr.prototype.Xx = function(t) {
                var i = t._opts
                  , e = 2
                  , n = [1, 0, 0];
                return "dashed" === i.strokeStyle && i.strokeDasharray && (n = 3 <= i.strokeDasharray.length ? (e = 3,
                i.strokeDasharray.slice(0, 3)) : (e = 2,
                wt.Pt(i.strokeDasharray.slice(0), [0]))),
                {
                    Jx: e,
                    Hx: n
                }
            }
            ,
            hr.prototype.N_ = function(t, i, e) {
                if (t.Px) {
                    var n = t.Px;
                    if (n.upload(e.context),
                    n.Kx && n.zs && t.visible) {
                        var o = n.zs.buffer
                          , r = this.B_(t, i, e.context);
                        if (r) {
                            var a = e.M_();
                            a.context.getExtension("OES_element_index_uint"),
                            a.Ce(r, {
                                a_pos: {
                                    buffer: o,
                                    type: "vec2",
                                    Re: o.size,
                                    offset: 0
                                },
                                a_normal: {
                                    type: "vec2",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 8
                                },
                                a_distance: {
                                    type: "float",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 16
                                },
                                a_dir: {
                                    type: "vec2",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 20
                                }
                            }, 3 * n.Qx.length, n.Pc.buffer, void 0, void 0, it.Si, void 0, void 0, 0),
                            a.Ni()
                        }
                    }
                }
            }
            ,
            hr.prototype.Ic = function(t, i, e) {
                if (t.Px) {
                    var n = t.Px;
                    if (n.upload(e.context),
                    n.Kx && n.zs && t.visible) {
                        var o = n.zs.buffer
                          , r = this.fb(t, i);
                        if (r) {
                            var a = e.Xn();
                            a.context.getExtension("OES_element_index_uint"),
                            a.Ce(r, {
                                a_pos: {
                                    buffer: o,
                                    type: "vec2",
                                    Re: o.size,
                                    offset: 0
                                },
                                a_normal: {
                                    type: "vec2",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 8
                                },
                                a_distance: {
                                    type: "float",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 16
                                },
                                a_dir: {
                                    type: "vec2",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 20
                                }
                            }, 3 * n.Qx.length, n.Pc.buffer, void 0, void 0, it.Si, void 0, void 0, 0),
                            a.Ni()
                        }
                    }
                }
            }
            ,
            hr.prototype.nC = function(t, i, e) {
                if (t.Px) {
                    var n = t.Px;
                    if (n.upload(e.context),
                    n.Kx && n.zs && t.visible) {
                        var o = n.zs.buffer
                          , r = this.oC(t, i, e.context);
                        if (r) {
                            var a = e.sS();
                            a.context.getExtension("OES_element_index_uint"),
                            a.Ce(r, {
                                a_pos: {
                                    buffer: o,
                                    type: "vec2",
                                    Re: o.size,
                                    offset: 0
                                },
                                a_normal: {
                                    type: "vec2",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 8
                                },
                                a_distance: {
                                    type: "float",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 16
                                },
                                a_dir: {
                                    type: "vec2",
                                    buffer: o,
                                    Re: o.size,
                                    offset: 20
                                }
                            }, 3 * n.Qx.length, n.Pc.buffer, void 0, void 0, it.Si, void 0, void 0, 0),
                            a.Ni()
                        }
                    }
                }
            }
            ,
            hr.prototype.Tc = function(t, i, e) {
                var n = t._opts;
                if (n && n.isOutline && t.Px) {
                    var o = t.Px;
                    if (o.upload(e.context),
                    o.Kx || o.zs) {
                        var r = o.zs.buffer;
                        if (t.visible) {
                            var a = this.pb(t, i);
                            if (a) {
                                var s = e.Xn();
                                s.context.getExtension("OES_element_index_uint"),
                                s.Ce(a, {
                                    a_pos: {
                                        buffer: r,
                                        type: "vec2",
                                        Re: r.size,
                                        offset: 0
                                    },
                                    a_normal: {
                                        type: "vec2",
                                        buffer: r,
                                        Re: r.size,
                                        offset: 8
                                    },
                                    a_distance: {
                                        type: "float",
                                        buffer: r,
                                        Re: r.size,
                                        offset: 16
                                    },
                                    a_dir: {
                                        type: "vec2",
                                        buffer: r,
                                        Re: r.size,
                                        offset: 20
                                    }
                                }, 3 * o.Qx.length, o.Pc.buffer, void 0, void 0, it.Si, void 0, void 0, 0),
                                s.Ni()
                            }
                        }
                    }
                }
            }
            ,
            hr);
            function hr() {}
            var lr = (fr.prototype.render = function(t, i, e) {
                t._map && t.getRadius() && (this.Cb(t, i, e),
                this.Lb(t, i, e))
            }
            ,
            fr.prototype.Cb = function(t, i, e) {
                var n = t.Sb;
                if (n && (n.upload(e.context),
                n.upload && t.visible)) {
                    var o = n.zs
                      , r = this.Ab(t, i);
                    r && e.Un().Ce(r, {
                        a_pos: {
                            buffer: o,
                            type: "vec2",
                            Re: o.size,
                            offset: 0
                        }
                    }, n._b.length, void 0, "POINTS", !1, it.Si, void 0, void 0, 0)
                }
            }
            ,
            fr.prototype.Lb = function(t, i, e) {
                var n = t.Sb;
                if (n && (n.upload(e.context),
                n.upload && t.visible)) {
                    var o = n.zs
                      , r = this.Tb(t, i);
                    r && e.Un().Ce(r, {
                        a_pos: {
                            buffer: o,
                            type: "vec2",
                            Re: o.size,
                            offset: 0
                        }
                    }, n._b.length, void 0, "POINTS", !1, it.Si, void 0, void 0, 0)
                }
            }
            ,
            fr.prototype.Ab = function(t, i) {
                var e = t._getDetalLocal(i)
                  , n = t._opts;
                if (n.fillColor) {
                    var o = wt.Util.color2RgbaArray(n.fillColor).slice(0, 3);
                    o.push(n.fillOpacity);
                    var r = n.radius + (n.strokeWeight || 0)
                      , a = [0, n.radius / r]
                      , s = [0, 0, 0, 0];
                    return n.strokeColor && n.strokeWeight && n.strokeOpacity && (s = wt.Util.color2RgbaArray(n.strokeColor).slice(0, 3)).push(n.strokeOpacity),
                    {
                        u_color: o,
                        u_borderColor: s,
                        u_offset: t.zx,
                        u_matrix: i.$n.mvpMatrix,
                        u_localDeltaCenter: e,
                        u_radius: this.Ib(t),
                        u_range: a,
                        u_retinaRatio: wt._.Ue ? 2 : 1,
                        u_skyHeight: i.$n.skyHeight,
                        u_viewHeight: i.$n.size[1]
                    }
                }
            }
            ,
            fr.prototype.Tb = function(t, i) {
                var e = t._getDetalLocal(i)
                  , n = t._opts;
                if (n.strokeWeight && n.strokeColor) {
                    var o = wt.Util.color2RgbaArray(n.strokeColor).slice(0, 3);
                    o.push(n.strokeOpacity);
                    var r = n.radius + n.strokeWeight
                      , a = [n.radius / r, 1]
                      , s = o.slice(0, 3);
                    return s.push(0),
                    {
                        u_color: o,
                        u_borderColor: s,
                        u_offset: t.zx,
                        u_matrix: i.$n.mvpMatrix,
                        u_localDeltaCenter: e,
                        u_radius: this.Ib(t),
                        u_range: a,
                        u_retinaRatio: wt._.Ue ? 2 : 1,
                        u_skyHeight: i.$n.skyHeight,
                        u_viewHeight: i.$n.size[1]
                    }
                }
            }
            ,
            fr.prototype.Ib = function(t) {
                var i = t._opts
                  , e = i.radius + (i.strokeWeight || 0);
                return Math.min(e, 64)
            }
            ,
            fr);
            function fr() {}
            var ur, cr = (ur = ue,
            wt.Ei(dr, ur),
            dr.prototype.Kn = function(t, i, e, n, o) {
                var r = e.$n.zoom;
                if (i.sr)
                    for (var a = 0, s = i.sr; a < s.length; a++) {
                        var h = s[a];
                        if (!(r < h._opts.zooms[0] || r > h._opts.zooms[1]))
                            switch (h.CLASS_NAME) {
                            case "Overlay.Polygon":
                                this.hC(h, e, t);
                                break;
                            case "Overlay.Circle":
                            case "Overlay.Rectangle":
                            case "Overlay.Ellipse":
                                h.ib && this.hC(h.ib, e, t);
                                break;
                            case "Overlay.Polyline":
                                this.lC(h, e, t);
                                break;
                            case "Overlay.BezierCurve":
                                h.vb && this.lC(h.vb, e, t);
                                break;
                            case "Overlay.CircleMarker":
                                this.fC(h, e, t);
                            default:
                                h.render(e, t)
                            }
                    }
            }
            ,
            dr.prototype.hC = function(t, i, e) {
                this.uC.render(t, i, e)
            }
            ,
            dr.prototype.lC = function(t, i, e) {
                this.cC.render(t, i, e)
            }
            ,
            dr.prototype.fC = function(t, i, e) {
                this.dC.render(t, i, e)
            }
            ,
            dr);
            function dr() {
                var t = null !== ur && ur.apply(this, arguments) || this;
                return t.uC = new rr,
                t.cC = new sr,
                t.dC = new lr,
                t
            }
            var pr, vr = 0, mr = (pr = wt.lw,
            wt.Ei(yr, pr),
            yr.prototype.add = function(t) {
                Array.isArray(t) || (t = [t]);
                for (var i = 0, e = t; i < e.length; i++) {
                    var n = e[i];
                    this.source.add(n)
                }
            }
            ,
            yr.prototype.remove = function(t) {
                Array.isArray(t) || (t = [t]);
                for (var i = 0, e = t; i < e.length; i++) {
                    var n = e[i];
                    this.source.remove(n)
                }
            }
            ,
            yr.prototype.Lo = function() {
                return {
                    id: this.zF,
                    type: "overlay",
                    url: ""
                }
            }
            ,
            yr.prototype.co = function() {
                return this.zF
            }
            ,
            yr.prototype.ro = function() {
                return {
                    visible: this._visible,
                    opacity: 1,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            yr.prototype.vi = function(t) {
                return this.source.rr(t) || null
            }
            ,
            yr.prototype.getAllOverlays = function(i) {
                var t = this.source.getAllOverlays();
                return t.filter(function(t) {
                    return !i || -1 < t.className.toLocaleLowerCase().indexOf(i)
                })
            }
            ,
            yr.prototype.ho = function() {
                return this.pC || ("d" === this.map.baseRender ? (this.pC = !0,
                this.vC()) : (this.pC = !0,
                this.mC())),
                this.Jh
            }
            ,
            yr.prototype.mC = function() {
                this.Jh = new cr
            }
            ,
            yr.prototype.vC = function() {
                var t = this
                  , i = this.map.kv;
                this._parent = i.querySelector(".amap-layers"),
                this._container = this._createContainer(this._parent),
                wt.Module.module("DomRender", function() {
                    t.Jh = new wt.Module.yC(t.map,t)
                })
            }
            ,
            yr.prototype._createContainer = function(t) {
                var i = document.createElement("div");
                return t.appendChild(i),
                i
            }
            ,
            yr);
            function yr(t) {
                void 0 === t && (t = {});
                var i = pr.call(this, t) || this;
                return i.CLASS_NAME = "AMap.VectorLayer",
                i.zF = "AMap.VectorLayer" + vr++,
                i.pC = !1,
                i.Qh = t.zIndex || 110,
                i
            }
            var gr, xr = (gr = ue,
            wt.Ei(br, gr),
            br.prototype.Kn = function(t, i, e, n) {
                t.context.gl
            }
            ,
            br);
            function br() {
                return gr.call(this) || this
            }
            var _r, wr = (_r = ue,
            wt.Ei(kr, _r),
            kr.prototype.Kn = function(t, i, e, n, o) {
                if (i.s_) {
                    var r = e.$n.optimalZoom;
                    if (!(r < n.zooms[0] || r > n.zooms[1])) {
                        for (var a = e.map.getMask(), s = {}, h = 0, l = i.tiles; h < l.length; h++)
                            if ((b = l[h]).status === wt.Mo.LOADED) {
                                var f = b.zo.z;
                                s[f] || (s[f] = []),
                                s[f].push(b)
                            }
                        var u = wt.map(Object.keys(s), function(t) {
                            return parseInt(t, 10)
                        });
                        u.sort(function(t, i) {
                            return i - t
                        });
                        var c = u.indexOf(r - 1);
                        0 <= c && (u.splice(c, 1),
                        u.push(r - 1));
                        var d = n.To.SS()
                          , p = d.styles
                          , v = d.adcode;
                        n.ce && t.context.clear({
                            depth: !0
                        });
                        for (var m = 0, y = u; m < y.length; m++)
                            for (var g = 0, x = s[y[m]]; g < x.length; g++) {
                                var b;
                                (b = x[g]).status === wt.Mo.LOADED && (this.Lc(t, b, e, n, p, v),
                                this.Ic(t, b, e, n, p, v),
                                this.lH(t, b, e, n))
                            }
                        this.PB(t, e, n, a)
                    }
                }
            }
            ,
            kr.prototype.destroy = function() {}
            ,
            kr.prototype.i_ = function() {
                this.xC = {}
            }
            ,
            kr.prototype.Lc = function(t, i, e, n, o, r) {
                var a = t.Wn()
                  , s = i.data
                  , h = s.Dc;
                if (h) {
                    h.upload(a.context, !0);
                    var l = h.zs
                      , f = h.Pc
                      , u = s.Oc
                      , c = n.opacity
                      , d = [i.Sa[0], i.Sa[1]]
                      , p = 1;
                    if ("3D" === e.$n.viewMode && (p = e.map.getView().EF()),
                    i.zo.z < wt.Ra) {
                        var v = i.Ma.center;
                        d[0] += v[0],
                        d[1] += v[1]
                    }
                    for (var m = 0, y = u.jc; m < y.length; m++) {
                        var g = y[m]
                          , x = JSON.parse("" + g.mainkey)
                          , b = this.Mn(o, x, "polygon").fill;
                        if (b && 4 === b.length && (!r || r[x.adcode] || r[x.SOC] || r[x.adcode_pro] || r[x.adcode_cit])) {
                            var _ = {
                                u_matrix: e.$n.mvpMatrix,
                                u_color: [b[0], b[1], b[2], b[3] * c],
                                u_offset: [0, 0],
                                u_localDeltaCenter: d,
                                u_viewHeight: e.$n.size[1],
                                u_skyHeight: p
                            };
                            a.context.getExtension("OES_element_index_uint"),
                            a.Ce(_, {
                                a_pos: {
                                    type: "vec2",
                                    Re: l.size,
                                    offset: 0,
                                    buffer: l
                                }
                            }, g.length, f, "TRIANGLES", n.depthTest, it.Si, this.OH(n.rejectMapMask, !!e.map.getMask()), void 0, g.offset)
                        }
                    }
                }
            }
            ,
            kr.prototype.Ic = function(t, i, e, n, o, r) {
                var a = t.Vn();
                if (i.data) {
                    var s = i.data
                      , h = s.$c;
                    if (h) {
                        h.upload(a.context, !0);
                        var l = h.zs.buffer
                          , f = h.Pc.buffer
                          , u = s.Uc.jc
                          , c = (e.$n.optimalZoom,
                        [i.Sa[0], i.Sa[1]])
                          , d = n.opacity
                          , p = 1;
                        if ("3D" === e.$n.viewMode && (p = e.map.getView().EF()),
                        i.zo.z < wt.Ra) {
                            var v = i.Ma.center;
                            c[0] += v[0],
                            c[1] += v[1]
                        }
                        for (var m = 0, y = u.length; m < y; m++) {
                            var g = u[m]
                              , x = g.mainkey
                              , b = JSON.parse(x, void 0)
                              , _ = +b.bC
                              , w = this.Mn(o, b, "line")
                              , k = [];
                            if (1 == _ || 8 == _ ? k = [8, 8, 8, 8] : 10 == _ ? k = [2, 2, 2, 2] : 11 == _ ? k = [4, 4, 4, 4] : 4 == _ && (k = [3, 3, 8, 3]),
                            k && wt._.Ue)
                                for (var M = 0; M < k.length; M += 1)
                                    k[M] *= 2;
                            var C = w[this.gC[b.type]];
                            if (C && 4 === C.length && (!r || r[b.adcode] || r[b.SOC] || r[b.adcode_pro] || r[b.adcode_cit])) {
                                var S = {
                                    u_matrix: e.$n.mvpMatrix,
                                    u_meter_per_pixel: e.$n.resolution,
                                    u_width: w["stroke-width"],
                                    u_color: [C[0], C[1], C[2], C[3] * d],
                                    u_dash: k,
                                    u_border: 0,
                                    u_localDeltaCenter: c,
                                    u_viewHeight: e.$n.size[1],
                                    u_skyHeight: p
                                }
                                  , z = l.size;
                                a.context.getExtension("OES_element_index_uint"),
                                a.Ce(S, {
                                    a_pos: {
                                        type: "vec2",
                                        buffer: l,
                                        Re: z,
                                        offset: 0
                                    },
                                    a_normal: {
                                        type: "vec2",
                                        buffer: l,
                                        Re: z,
                                        offset: 8
                                    },
                                    a_distance: {
                                        type: "float",
                                        buffer: l,
                                        Re: z,
                                        offset: 16
                                    },
                                    a_dir: {
                                        type: "vec2",
                                        buffer: l,
                                        Re: z,
                                        offset: 20
                                    }
                                }, g.length, f, "TRIANGLES", n.depthTest, it.Si, this.OH(n.rejectMapMask, !!e.map.getMask()), void 0, g.offset)
                            }
                        }
                    }
                }
            }
            ,
            kr.prototype.lH = function(t, i, e, n) {
                var o = t.Wn()
                  , r = o.context
                  , a = new Float32Array(this.fH(i))
                  , s = i.Sa
                  , h = r.fe(a, 8)
                  , l = i.zo.z;
                if (l < wt.Ra) {
                    var f = i.Ma.center;
                    s[0] += f[0],
                    s[1] += f[1]
                }
                var u = [0, 1, 0, 0];
                l === e.$n.optimalZoom - 1 && (u = [1, 0, 0, 0]);
                var c = {
                    u_matrix: e.$n.mvpMatrix,
                    u_color: u,
                    u_offset: [0, 0],
                    u_localDeltaCenter: s,
                    u_viewHeight: e.$n.size[1],
                    u_skyHeight: 1
                };
                o.Ce(c, {
                    a_pos: {
                        type: "vec2",
                        buffer: h,
                        Re: 0,
                        offset: 0
                    }
                }, 6, void 0, "TRIANGLES", !1, it.Si, this.BH(n.rejectMapMask, !!e.map.getMask()), void 0, 0)
            }
            ,
            kr.prototype.OH = function(t, i) {
                return void 0 === t && (t = !1),
                i ? i && !t ? T.DH : i && t ? T.HH : void 0 : T.nH
            }
            ,
            kr.prototype.BH = function(t, i) {
                return void 0 === t && (t = !1),
                i ? i && !t ? T.FH : i && t ? T.PH : void 0 : T.$H
            }
            ,
            kr.prototype.Mn = function(t, i, e) {
                var n = JSON.stringify(i);
                if (this.xC[n])
                    return this.xC[n];
                var o = ["nation-stroke", "coastline-stroke", "province-stroke", "city-stroke", "county-stroke"]
                  , r = {};
                if (!i)
                    return r;
                if ("line" === e) {
                    for (var a = 0, s = o.length; a < s; a++) {
                        var h = o[a];
                        t[h] && (wt.Util.isFunction(t[h]) ? r[h] = wt.Util.color2RgbaArray(t[h](i)) : r[h] = wt.Util.color2RgbaArray(t[h]))
                    }
                    wt.Util.isFunction(t["stroke-width"]) ? r["stroke-width"] = t["stroke-width"](i) : r["stroke-width"] = t["stroke-width"]
                } else
                    "polygon" === e && (wt.Util.isFunction(t.fill) ? r.fill = wt.Util.color2RgbaArray(t.fill(i)) : r.fill = wt.Util.color2RgbaArray(t.fill),
                    r["stroke-width"] = t["stroke-width"]);
                return this.xC[n] = r
            }
            ,
            kr.prototype.fH = function(t) {
                var i = t.Ro
                  , e = t.Ma.center
                  , n = [i[0] - e[0], i[1] - e[1]]
                  , o = [i[0] - e[0], i[3] - e[1]]
                  , r = [i[2] - e[0], i[1] - e[1]]
                  , a = [i[2] - e[0], i[3] - e[1]];
                return wt.Pt(n, r, o, r, a, o)
            }
            ,
            kr.prototype.PB = function(t, i, e, n) {
                if (t.context.clear({
                    stencil: !0
                }),
                n) {
                    var o = i.map.getLayerByClass("AMap.MaskLayer");
                    if (o) {
                        var r = i.uo.getData(o.co(), i.$n, t.context)
                          , a = o.ho();
                        r && a && a.Kn(t, r, i, e)
                    }
                }
            }
            ,
            kr);
            function kr() {
                var t = _r.call(this) || this;
                return t.gC = {
                    Nation_Border_China: "nation-stroke",
                    Nation_Border_Foreign: "nation-stroke",
                    Coastline_China: "coastline-stroke",
                    Coastline_Foreign: "coastline-stroke",
                    Province_Border_China: "province-stroke",
                    Province_Border_Foreign: "province-stroke",
                    City_Border_China: "city-stroke",
                    County_Border_China: "county-stroke"
                },
                t.xC = {},
                t
            }
            var Mr, Cr = (Mr = wt.Event,
            wt.Ei(Sr, Mr),
            Sr.prototype.va = function(t, e, i) {
                return this.jD().send("loadNebulaSourceTile", t, function(t, i) {
                    i && e(i)
                })
            }
            ,
            Sr.prototype.RD = function(t, i) {
                return this.Uh.send("loadNebulaSourceTileSdf", t, i)
            }
            ,
            Sr.prototype.wC = function(t, i, e) {
                t.request = this.Uh.send("loadMVTSourceTile", i, function(t, i) {
                    i && e(i)
                })
            }
            ,
            Sr.prototype.RS = function(t, i, e) {
                t.request = this.Uh.send("loadDistrictSourceTile", i, function(t, i) {
                    i && e(i)
                })
            }
            ,
            Sr.prototype._C = function(t) {
                this.Uh.send("processLabels", {
                    id: t
                })
            }
            ,
            Sr.prototype.np = function(t) {
                this.Uh.send("loadCommonWords", t)
            }
            ,
            Sr.prototype.deleteTileStaticSDF = function(t) {
                this.Uh.send("deleteTileStaticSDF", t)
            }
            ,
            Sr.prototype.Ha = function(i) {
                this.Uh.send("updateParams", i),
                wt.forEach(this.ED, function(t) {
                    t.send("updateParams", i)
                })
            }
            ,
            Sr.prototype.Ka = function(i) {
                this.Uh.send("updateMapStyle", {
                    vn: i
                }),
                wt.forEach(this.ED, function(t) {
                    t.send("updateMapStyle", {
                        vn: i
                    })
                })
            }
            ,
            Sr.prototype.bn = function(i, t) {
                var e = this;
                function n() {
                    ++o === e.ND && t()
                }
                this.Uh.send("updateUserStyle", {
                    Kd: i
                }, t);
                var o = 0;
                wt.forEach(this.ED, function(t) {
                    t.send("updateUserStyle", {
                        Kd: i
                    }, n)
                })
            }
            ,
            Sr.prototype.Ja = function(i) {
                this.Uh.send("sendHttp", {
                    protocol: i
                }),
                wt.forEach(this.ED, function(t) {
                    t.send("sendHttp", {
                        protocol: i
                    })
                })
            }
            ,
            Sr.prototype.Qd = function() {
                this.Uh.send("commonWordImageLoaded", !0)
            }
            ,
            Sr.prototype.signal = function(t, i) {}
            ,
            Sr.prototype.dynamicTextTextureInfoLoaded = function(t, i) {
                this.emit("dynamicTextTextureInfoLoaded", i)
            }
            ,
            Sr.prototype.dynamicTextSDFInfoLoaded = function(t, i) {
                this.emit("dynamicTextSDFInfoLoaded", {
                    data: i
                })
            }
            ,
            Sr.prototype.dynamicTextVerticeLoaded = function(t, i) {
                this.emit("dynamicTextVerticeLoaded", i)
            }
            ,
            Sr.prototype.dynamicTextVerticeLoadedByTile = function(t, i) {
                this.emit("dynamicTextVerticeLoadedByTile", i)
            }
            ,
            Sr.prototype.commonWordLoaded = function(t, i) {
                this.emit("commonWordLoaded", i)
            }
            ,
            Sr.prototype.iconImageLoaded = function(t, i) {
                this.emit("iconImageLoaded", i)
            }
            ,
            Sr.prototype.getSDFData = function(t, i) {
                this.Uh.send("getSDFData", t, function(t) {
                    i && i(t)
                })
            }
            ,
            Sr.prototype.destroy = function() {
                this.Wh && this.Wh.terminate();
                for (var t = 0, i = this.HD; t < i.length; t++) {
                    var e = i[t];
                    e && e.terminate()
                }
            }
            ,
            Sr.prototype.updateDataVersion = function(t, i) {
                this.emit("updateDataVersion", {
                    version: i
                })
            }
            ,
            Sr.prototype.tv = function() {
                var t = this;
                this._map.on("movestart", function() {
                    t.iv = !0,
                    t.ev()
                }),
                this._map.on("moveend", function() {
                    t.iv = !1,
                    t.ev()
                }),
                this._map.on("dragstart", function() {
                    t._dragging = !0,
                    t.ev()
                }),
                this._map.on("dragend", function() {
                    t._dragging = !1,
                    t.ev()
                }),
                this._map.on("zoomstart", function() {
                    t.lt = !0,
                    t.ev()
                }),
                this._map.on("zoomend", function() {
                    t.lt = !1,
                    t.ev()
                })
            }
            ,
            Sr.prototype.ev = function() {
                var i = !1;
                (this._dragging || this.lt || this.iv) && (i = !0),
                this.nv !== i && (this.Uh.send("setMainThreadBusy", i),
                wt.forEach(this.ED, function(t) {
                    t.send("setMainThreadBusy", i)
                })),
                this.nv = i
            }
            ,
            Sr.prototype.jD = function() {
                return this.ED[0]
            }
            ,
            Sr.prototype.WD = function() {
                for (var t = 0; t < this.ND; t++)
                    if (!this.ED[t].UD)
                        return !1;
                return !0
            }
            ,
            Sr);
            function Sr(t) {
                var n = Mr.call(this) || this;
                n._map = t,
                n._dragging = !1,
                n.lt = !1,
                n.nv = !1,
                n.iv = !1,
                n.GD = 0,
                n.ND = 1,
                n.HD = [],
                n.ED = [],
                n.VD = [],
                n.ZD = [],
                n.YD = 0,
                n.Wh = new Worker(AMap.getConfig().workerUrl),
                n.Uh = new wt.Bh(n.Wh,n);
                for (var i = function(t) {
                    var i = new Worker(AMap.getConfig().workerUrl)
                      , e = new wt.Bh(i,o);
                    o.HD.push(i),
                    o.ED.push(e),
                    e.send("setId", t, function() {
                        e.UD = !0,
                        n.YD += 1,
                        n.YD === n.ND && (wt.forEach(n.VD, function(t) {
                            n[t.type].apply(n, t.data)
                        }),
                        n.VD = [])
                    })
                }, o = this, e = 0; e < n.ND; e++)
                    i(e);
                return n.tv(),
                n
            }
            var zr = (Rr.prototype.ov = function(t) {
                var i = t.gl;
                if (this.buffer || (this.buffer = new wt.yp(t,new Uint16Array(0),8)),
                this.texture || (this.texture = t.createTexture({
                    height: 512,
                    width: 1024,
                    data: null
                }, {
                    Yi: !0
                }),
                this.texture.bind(i.CLAMP_TO_EDGE, i.NEAREST, i.LINEAR)),
                this.av || (this.av = t.createFramebuffer(512, 1024)),
                !this.Pc) {
                    for (var e = new Uint16Array(192), n = 0; n < 32; n++) {
                        var o = 6 * n
                          , r = 4 * n;
                        e[o] = r,
                        e[1 + o] = 1 + r,
                        e[2 + o] = 2 + r,
                        e[3 + o] = r,
                        e[4 + o] = 2 + r,
                        e[5 + o] = 3 + r
                    }
                    this.Pc = t.ve(e)
                }
            }
            ,
            Rr.prototype.sv = function(t) {
                for (var i = 0, e = t; i < e.length; i++) {
                    var n = e[i];
                    this.rv[n.hv] = n.name,
                    this.images[n.name] = n.img,
                    this.lv.push(n.name)
                }
            }
            ,
            Rr.prototype.update = function(t) {
                this.ov(t.context),
                this.uv(t, this.lv),
                this.lv = []
            }
            ,
            Rr.prototype.uv = function(t, i) {
                if (0 !== i.length) {
                    for (var e = t.context, n = e.gl, o = 0, r = i; o < r.length; o++) {
                        var a = r[o];
                        if (!this.De[a]) {
                            var s = e.createTexture(this.images[a], {
                                Yi: !0
                            });
                            s.bind(n.CLAMP_TO_EDGE, n.LINEAR, n.LINEAR),
                            this.De[a] = s
                        }
                    }
                    for (var h = [], l = 0, f = this.rv.length; l < f; l++) {
                        var u = 4 * l * 4
                          , c = this.cv(l);
                        h[u] = 0,
                        h[1 + u] = 0,
                        h[2 + u] = c[0],
                        h[3 + u] = c[1],
                        h[4 + u] = 0,
                        h[5 + u] = 1024,
                        h[6 + u] = c[0],
                        h[7 + u] = c[1] + 1024,
                        h[8 + u] = 512,
                        h[9 + u] = 1024,
                        h[10 + u] = c[0] + 512,
                        h[11 + u] = c[1] + 1024,
                        h[12 + u] = 512,
                        h[13 + u] = 0,
                        h[14 + u] = c[0] + 512,
                        h[15 + u] = c[1]
                    }
                    var d = e.fe(new Uint16Array(h), 8)
                      , p = t.Hn();
                    this.fv(),
                    this.av.Wi.set(this.texture.texture);
                    var v = this.getSize();
                    e.bindFramebuffer.set(this.av.Ui);
                    var m = e.be.Ii;
                    for (e.be.set([0, 0, v[0], v[1]]),
                    l = 0,
                    f = this.rv.length; l < f; l++) {
                        var y = this.rv[l];
                        y && p.Ce({
                            u_sourceTexture: this.De[y],
                            u_sourceTextureSize: [512, 1024],
                            u_targetTextureSize: v
                        }, {
                            a_sourceTexturePos: {
                                buffer: d,
                                type: "vec2",
                                Re: 8,
                                offset: 0
                            },
                            a_targetTexturePos: {
                                buffer: d,
                                type: "vec2",
                                Re: 8,
                                offset: 4
                            }
                        }, 6, this.Pc, void 0, void 0, it.Mi, void 0, void 0, 6 * l)
                    }
                    e.bindTexture.set(null),
                    this.texture.bind(n.CLAMP_TO_EDGE, n.NEAREST, n.LINEAR),
                    e.be.set(m),
                    e.bindFramebuffer.set(null)
                }
            }
            ,
            Rr.prototype.getSize = function() {
                return [512, 1024 * this.rv.length]
            }
            ,
            Rr.prototype.destroy = function() {
                this.buffer && (this.buffer.destroy(),
                delete this.buffer),
                this.texture && (this.texture.destroy(),
                delete this.texture);
                for (var t = 0, i = this.De; t < i.length; t++)
                    i[t].destroy();
                this.av && (this.av.destroy(),
                delete this.av),
                this.Pc && (this.Pc.context.deleteBuffer(this.Pc),
                delete this.Pc),
                this.images = {},
                this.lv = [],
                this.rv = [],
                this.De = {}
            }
            ,
            Rr.prototype.fv = function() {
                var t = this.getSize();
                this.texture.update({
                    width: t[0],
                    height: t[1],
                    data: null
                }, {
                    resize: !0
                })
            }
            ,
            Rr.prototype.cv = function(t) {
                return [0, 1024 * t]
            }
            ,
            Rr);
            function Rr() {
                this.pv = 0,
                this.lv = [],
                this.rv = [],
                this.images = {},
                this.De = {},
                this.dv = [256, 256]
            }
            var Ar, Ir = "labelsLayer", Tr = {
                visible: !0,
                zIndex: 120,
                opacity: 1,
                collision: !0,
                animation: !0,
                allowCollision: !1,
                zooms: [2, 22],
                VT: !1
            }, $r = (Ar = wt.lw,
            wt.Ei(Dr, Ar),
            Dr.prototype.Lo = function() {
                return {
                    id: this.hS,
                    type: Ir
                }
            }
            ,
            Dr.prototype.ro = function() {
                return Ar.prototype.eo.call(this)
            }
            ,
            Dr.prototype.co = function() {
                return this.hS
            }
            ,
            Dr.prototype.vi = function(t) {
                var i = this.fz
                  , e = i && i.vi(t, this.hS) || "";
                return e ? this.Vh().Ds(e) : null
            }
            ,
            Dr.prototype.Do = function(t) {
                var i = Ar.prototype.Do.call(this, t);
                return this.map && this.uz(this.map),
                i
            }
            ,
            Dr.prototype.v$ = function() {
                this.fz && this.fz.remove(this)
            }
            ,
            Dr.prototype.IL = function(t) {
                var i = this.fz
                  , e = this.source;
                if (t && i && e) {
                    var n = i.$f || {}
                      , o = e.zL(t);
                    if (o)
                        return !!n[o]
                }
                return !1
            }
            ,
            Dr.prototype.uz = function(t) {
                (this.fz = t.fS()).add(this)
            }
            ,
            Dr);
            function Dr(t) {
                void 0 === t && (t = {});
                var i = Ar.call(this, t) || this;
                return i.CLASS_NAME = "AMap.LabelsLayer",
                i._opts = {
                    id: Ir,
                    type: Ir,
                    opacity: 1,
                    visible: 1
                },
                i._opts = wt.assign({}, Tr, t),
                i.xt = i._opts.zooms,
                i.Qh = void 0 === t.zIndex ? 120 : t.zIndex,
                i._visible = void 0 === t.visible || t.visible,
                i.tl = void 0 === t.opacity ? 1 : t.opacity,
                i
            }
            var Fr, Pr = (Fr = $r,
            wt.Ei(Hr, Fr),
            Hr.prototype.getCollision = function() {
                return this._opts.collision
            }
            ,
            Hr.prototype.setCollision = function(t) {
                void 0 === t && (t = !0),
                this._opts.collision = t,
                this.to({
                    vv: !1
                })
            }
            ,
            Hr.prototype.getAllowCollision = function() {
                return this._opts.allowCollision
            }
            ,
            Hr.prototype.setAllowCollision = function(t) {
                void 0 === t && (t = !0),
                this._opts.allowCollision = t,
                this.to({
                    vv: !1
                })
            }
            ,
            Hr.prototype.getOpacity = function() {
                return this._opts.opacity
            }
            ,
            Hr.prototype.setOpacity = function(t) {
                void 0 !== t && (this._opts.opacity = t,
                this.tl = t,
                this.to({
                    vv: !0
                }))
            }
            ,
            Hr.prototype.getZooms = function() {
                return this._opts.zooms
            }
            ,
            Hr.prototype.setZooms = function(t) {
                void 0 !== t && (this._opts.zooms = t,
                this.xt = t,
                this.to({
                    vv: !0
                }))
            }
            ,
            Hr.prototype.getzIndex = function() {
                return this._opts.zIndex
            }
            ,
            Hr.prototype.setzIndex = function(t) {
                void 0 !== t && (this._opts.zIndex = t,
                this.Qh = t,
                this.to({
                    vv: !0
                }))
            }
            ,
            Hr.prototype.add = function(t) {
                Array.isArray(t) || (t = [t]),
                this._add(t);
                var i = this.Vh();
                i && i.add(this.mv, this._opts, this.to.bind(this))
            }
            ,
            Hr.prototype.remove = function(t) {
                Array.isArray(t) || (t = [t]),
                this._remove(t);
                var i = this.Vh();
                i && i.remove(this.mv, this._opts, this.to.bind(this))
            }
            ,
            Hr.prototype.clear = function() {
                this.mv = {};
                var t = this.Vh();
                t && (t.clear(),
                this.to({
                    vv: !1
                }))
            }
            ,
            Hr.prototype.show = function() {
                Fr.prototype.show.call(this)
            }
            ,
            Hr.prototype.hide = function() {
                Fr.prototype.hide.call(this)
            }
            ,
            Hr.prototype.getAllOverlays = function() {
                var t = this.mv
                  , i = [];
                for (var e in t)
                    if (t.hasOwnProperty(e)) {
                        var n = t[e];
                        n && i.push(n)
                    }
                return i
            }
            ,
            Hr.prototype.ro = function() {
                var t = this._opts;
                return {
                    zIndex: this.Qh,
                    zooms: this.xt,
                    visible: this._visible,
                    opacity: this.tl,
                    collision: t.collision,
                    animation: t.animation,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            Hr.prototype.setTop = function(t, i) {
                var e = this.Kl;
                t && (i ? (e && e.hS !== t.hS && e.setTop(!1),
                this.Kl = t) : this.Kl = null)
            }
            ,
            Hr.prototype.Kh = function(t) {
                Fr.prototype.Kh.call(this, t);
                var i = this.mv;
                Object.keys(i).length && t.add(i, this._opts, this.to.bind(this, {
                    vv: !1
                }))
            }
            ,
            Hr.prototype.to = function(t) {
                var i = this;
                void 0 === t && (t = {});
                var e = t.vv
                  , n = void 0 === e || e;
                if (this.map)
                    if (n) {
                        var o = this.Vh();
                        o && o.update(this._opts, function() {
                            i.map && i.map.setNeedUpdate(!0)
                        })
                    } else
                        this.map.setNeedUpdate(!0)
            }
            ,
            Hr.prototype.p$ = function() {
                var t = this.mv;
                for (var i in t)
                    t.hasOwnProperty(i) && t[i].Cs(this)
            }
            ,
            Hr.prototype.v$ = function() {
                Fr.prototype.v$.call(this);
                var t = this.mv;
                for (var i in t)
                    t.hasOwnProperty(i) && t[i].Cs(null)
            }
            ,
            Hr.prototype._add = function(t) {
                for (var i = 0, e = t; i < e.length; i++) {
                    var n = e[i];
                    (this.mv[n.hS] = n).Cs(this)
                }
            }
            ,
            Hr.prototype._remove = function(t) {
                for (var i = 0, e = t; i < e.length; i++) {
                    var n = e[i];
                    delete this.mv[n.hS],
                    n.Cs(null)
                }
            }
            ,
            Hr);
            function Hr(t) {
                void 0 === t && (t = {});
                var i = Fr.call(this, t) || this;
                return i.mv = {},
                i
            }
            var Or, Br = (Or = Po,
            wt.Ei(Er, Or),
            Er.prototype.Hz = function(t, i, e, n, o, r) {
                if (n && i) {
                    Or.prototype.Hz.call(this, t, i, e, n, o, r);
                    var a = (this.wf = i).$n
                      , s = a.projectionId;
                    this.If = wt.V[s];
                    var h = a.zoom;
                    if (i && r.visible && r.opacity && wt.Util.dS(h, r.zooms)) {
                        if (!n.Nf)
                            return;
                        if (!this._map.isDOMMode()) {
                            var l = t.context;
                            n.upload(l)
                        }
                        var f = n.rp
                          , u = (n.buffer,
                        n.zo,
                        a.centerCoord);
                        this.uu = wt.lcs.getLocalByCoord([u[0], u[1]]).center || [0, 0];
                        var c = this.Ps = n;
                        return this.Ps.lp = f.up,
                        c
                    }
                    return null
                }
            }
            ,
            Er.prototype.Kn = function(t, i, e, n, o) {
                var r = this.fz;
                if (r && (this.Wf = r.Uf,
                this.Bf = r.$f),
                this._map)
                    if (this._map.isDOMMode()) {
                        var a = wt.Util.hp(i.zo, this.wf);
                        this.Yz(e, n, i, this._map, {
                            Sa: a,
                            centerCoord: this.uu,
                            Uf: this.Wf,
                            $f: this.Bf
                        })
                    } else
                        this.Jh(t, e, i, n)
            }
            ,
            Er.prototype.Jz = function() {
                var t = this.Ps.zo;
                return {
                    Sa: wt.Util.hp(t, this.wf),
                    from: "labelsLayer",
                    opacity: 1,
                    offset: [0, 0],
                    centerCoord: this.uu
                }
            }
            ,
            Er.prototype.Jh = function(t, i, e, n) {
                var o = this.Zz
                  , r = t.context
                  , a = e.rp
                  , s = e.buffer
                  , h = e.zo
                  , l = wt.Util.hp(h, i);
                if (a && a.up) {
                    for (var f = this.fp.value.fill(0), u = wt.tc.sp, c = a && a.pp, d = c.length, p = 0, v = 0, m = [], y = this.Ps.style || {}, g = 0; g < d; g++) {
                        var x = c[g].dp || [];
                        p = v,
                        v = o.Dz(f, this.Wf, {
                            start: p,
                            dp: x,
                            style: y
                        }),
                        m.push({
                            start: p,
                            end: v
                        })
                    }
                    var b = this.mp;
                    b ? b.update(f) : b = this.mp = new wt.yp(r,f,u),
                    this.xp = m,
                    n.ce && t.context.clear({
                        depth: !0
                    }),
                    o.Ce(i, r, {
                        Rz: a,
                        buffer: s,
                        od: b.buffer,
                        zz: this.xp
                    }, {
                        from: this.type,
                        Sz: !0,
                        Sa: l,
                        oo: t,
                        LF: n
                    })
                }
            }
            ,
            Er);
            function Er() {
                var t = Or.call(this) || this;
                return t.type = "labelsLayer",
                t
            }
            var jr = (Nr.prototype.addImage = function(a, s) {
                var h = this;
                this.getImage(a) ? console.log("there is already a image named " + a) : (this.zH.SH(a, function(t, i) {
                    s.cb && s.cb(t, i)
                }),
                this.zH.has(a) || this.zH.nS(a, function(r) {
                    h.map.z_.loadImage(s.url, {
                        name: a,
                        type: "userImage",
                        cb: function(t) {
                            if (t)
                                if (t.img) {
                                    var i = h.map.getContext()
                                      , e = i.createTexture(t.img, {
                                        Zi: !0
                                    })
                                      , n = s.filter ? i.gl[s.filter] : i.gl.LINEAR
                                      , o = s.wrap ? i.gl[s.wrap] : i.gl.CLAMP_TO_EDGE;
                                    e.bind(o, n, n),
                                    h.De[a] = e,
                                    r(null, e)
                                } else
                                    r(new Error("no img"));
                            else
                                r(new Error("no img"))
                        }
                    })
                }))
            }
            ,
            Nr.prototype.getImage = function(t) {
                return this.De[t]
            }
            ,
            Nr.prototype.RH = function(t) {
                var i = this.De[t];
                i && (delete this.De[t],
                i.destroy())
            }
            ,
            Nr.prototype.MH = function(t) {
                return this.zH.has(t)
            }
            ,
            Nr.prototype.L_ = function() {
                var t = P.create("canvas", null);
                t.getContext || console.error("createArrowTexture error"),
                t.height = 64,
                t.width = 64;
                var i = t.getContext("2d");
                if (i) {
                    i.fillStyle = "white",
                    i.beginPath(),
                    i.moveTo(8, 56),
                    i.lineTo(32, 36),
                    i.lineTo(58, 56),
                    i.lineTo(58, 36),
                    i.lineTo(32, 14),
                    i.lineTo(8, 36),
                    i.fill();
                    var e = this.map.getContext()
                      , n = e.createTexture(t, {
                        Zi: !0
                    });
                    n.bind(e.gl.CLAMP_TO_EDGE, e.gl.LINEAR, e.gl.LINEAR),
                    this.De.AMapArrow = n
                } else
                    console.error("createArrowTexture error")
            }
            ,
            Nr.prototype.AH = function() {
                this.addImage("emptyTexture", {
                    url: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
                })
            }
            ,
            Nr);
            function Nr(t) {
                this.map = t,
                this.De = {},
                this.zH = new wt.IH,
                this.L_(),
                this.AH()
            }
            var Wr, Ur = (Wr = ue,
            wt.Ei(Gr, Wr),
            Gr.prototype.Kn = function(t, i, e, n) {
                if (t) {
                    var o = t.context
                      , r = o.gl
                      , a = n.To;
                    if (this.kC && (this.kC = !1,
                    a.init(r)),
                    a.render) {
                        var s = a.eo().zooms;
                        e.$n.zoom >= s[0] && e.$n.zoom <= s[1] && (a.render(r, e, e.$n, o),
                        o.Di())
                    }
                }
            }
            ,
            Gr);
            function Gr() {
                var t = Wr.call(this) || this;
                return t.kC = !0,
                t
            }
            var Vr, Yr = (Vr = ue,
            wt.Ei(Zr, Vr),
            Zr.prototype.Kn = function(t, i, e, n, o, r) {
                var a = t.rS()
                  , s = e.$n
                  , h = t.context
                  , l = e.map.getView()
                  , f = (s.size,
                s.pitch)
                  , u = s.optimalZoom;
                if ("2D" !== l.type) {
                    var c = l.Uu();
                    if (!((c = this.yz(l.getStatus().pitch, c, l.getStatus().size[1], u)) <= 0 || f <= 0)) {
                        var d = e.map.JF()
                          , p = this.WF(c, d, s, l)
                          , v = h.fe(new Float32Array(p), 32);
                        a.Ce({
                            u_opacity: 1,
                            u_mvpMatrix: s.mvpMatrix,
                            u_skyline: [0, 0]
                        }, {
                            a_pos: {
                                type: "vec4",
                                buffer: v,
                                Re: v.size,
                                offset: 0
                            },
                            a_color: {
                                type: "vec4",
                                buffer: v,
                                Re: v.size,
                                offset: 16
                            }
                        }, v.length, void 0, "TRIANGLES", void 0, it.Si, void 0)
                    }
                }
            }
            ,
            Zr.prototype.WF = function(t, i, e, n) {
                e.size[1],
                e.pitch;
                var o = e.zoom
                  , r = n.X(0, t)
                  , a = n.X(e.size[0], t)
                  , s = n.X(0, t + 0)
                  , h = n.X(e.size[0], t + 0)
                  , l = .5 * n.pz().dz();
                i[3] = 1;
                var f = n.map.mapStyle.dn(30001, 1, o)
                  , u = [.988, .976, .949, 1];
                f && f.faceColor && (u = f.faceColor.normalize());
                var c = wt.Pt(u);
                c[3] = 1;
                var d = wt.Pt(u) || [1, 1, 1, 0];
                d[3] = 0;
                var p = wt.Pt(u) || [1, 1, 1, Math.min(.1, 1 / o)];
                return p[3] = Math.min(.1, 5 / o),
                (wt.Pt(i) || [1, 1, 1, 1])[3] = -.7,
                wt.Pt([r[0], r[1], 0, 0], c, [r[0], r[1], l, 0], i, [a[0], a[1], 0, 0], c, [a[0], a[1], 0, 0], c, [a[0], a[1], l, 0], i, [r[0], r[1], l, 0], i, [s[0], s[1], 0, 0], p, [s[0], s[1], l / 3, 0], d, [h[0], h[1], 0, 0], p, [h[0], h[1], 0, 0], p, [h[0], h[1], l / 3, 0], d, [s[0], s[1], l / 3, 0], d)
            }
            ,
            Zr.prototype.yz = function(t, i, e, n) {
                return e * (Math.max(t / 100 - .4, 0) - Math.max(4 * (n - 16), 0) / 100)
            }
            ,
            Zr);
            function Zr() {
                return Vr.call(this) || this
            }
            var Xr, Jr = (Xr = ue,
            wt.Ei(qr, Xr),
            qr.prototype.EH = function(t, i) {
                var e = i.map.coordToContainer([t[0], t[1]])
                  , n = Math.round(e[0])
                  , o = Math.round(e[1])
                  , r = i.size[0]
                  , a = i.size[1]
                  , s = 4 * ((a - o) * r + n) + 3;
                return !(n < 0 || o < 0 || r <= n || a <= o || !this.SC[s])
            }
            ,
            qr.prototype.Kn = function(t, i, e, n, o, r) {
                var a = t.aS()
                  , s = e.$n
                  , h = s.centerCoord
                  , l = a.context
                  , f = [0, 0];
                if (e.$n.optimalZoom < wt.Ra)
                    f = i.LS.center;
                else {
                    var u = wt.lcs.getLocalByCoord([h[0], h[1]]).center;
                    f = [i.LS.center[0] - u[0], i.LS.center[1] - u[1]]
                }
                i.Dc.upload(a.context, !0);
                var c = {
                    data: i,
                    $i: a,
                    $n: s,
                    Sa: f
                };
                this.RC(l, e, c),
                this.zC(l, c)
            }
            ,
            qr.prototype.zC = function(t, i) {
                t.gl;
                for (var e = i.data.Dc.zs, n = i.data.Dc.Pc, o = i.data.Oc.jc, r = 0, a = o.length; r < a; r++) {
                    var s = o[r];
                    i.$i.Ce({
                        u_color: [0, 0, 0, 0],
                        u_deltaCenter: i.Sa,
                        u_mvpMatrix: i.$n.mvpMatrix
                    }, {
                        a_pos: {
                            type: "vec2",
                            buffer: e,
                            Re: e.size,
                            offset: 0
                        }
                    }, s.length, n, "TRIANGLES", void 0, it.zi, T.Ai, void 0, s.offset)
                }
            }
            ,
            qr.prototype.RC = function(t, i, e) {
                var n = t.gl
                  , o = i.size[0]
                  , r = i.size[1];
                this.CC || (this.CC = this.IC(n, i)),
                n.bindFramebuffer(n.FRAMEBUFFER, this.CC),
                n.viewport(0, 0, o, r),
                n.clear(n.COLOR_BUFFER_BIT);
                for (var a = e.data.Dc.zs, s = e.data.Dc.Pc, h = e.data.Oc.jc, l = 0, f = h.length; l < f; l++) {
                    var u = h[l];
                    e.$i.Ce({
                        u_color: [1, 0, 0, 1],
                        u_deltaCenter: e.Sa,
                        u_mvpMatrix: e.$n.mvpMatrix
                    }, {
                        a_pos: {
                            type: "vec2",
                            buffer: a,
                            Re: a.size,
                            offset: 0
                        }
                    }, u.length, s, "TRIANGLES", void 0, it.zi, void 0, u.offset)
                }
                var c = o * r * 4;
                this.SC && c === this.SC.length || (this.SC = new Uint8Array(c)),
                n.readPixels(0, 0, o, r, n.RGBA, n.UNSIGNED_BYTE, this.SC),
                n.bindFramebuffer(n.FRAMEBUFFER, null);
                var d = wt._.Ue ? 2 : 1;
                n.viewport(0, 0, o * d, r * d)
            }
            ,
            qr.prototype.IC = function(t, i) {
                var e = t.createFramebuffer()
                  , n = i.size[0]
                  , o = i.size[1]
                  , r = t.createRenderbuffer();
                (e.AC = r).w = n,
                r.h = o,
                t.bindRenderbuffer(t.RENDERBUFFER, r),
                t.renderbufferStorage(t.RENDERBUFFER, t.RGBA4, n, o),
                t.bindFramebuffer(t.FRAMEBUFFER, e),
                t.framebufferRenderbuffer(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.RENDERBUFFER, r);
                var a = t.checkFramebufferStatus(t.FRAMEBUFFER);
                if (t.FRAMEBUFFER_COMPLETE === a)
                    return t.bindFramebuffer(t.FRAMEBUFFER, null),
                    t.bindRenderbuffer(t.RENDERBUFFER, null),
                    e;
                console.log("Frame buffer object is incomplete: " + a.toString())
            }
            ,
            qr);
            function qr() {
                var t = Xr.call(this) || this;
                return t.SC = new Uint8Array(0),
                t
            }
            var Qr, Kr = (Qr = wt.lw,
            wt.Ei(ta, Qr),
            ta.prototype.Lo = function() {
                return {
                    id: this.No,
                    type: "sky"
                }
            }
            ,
            ta.prototype.co = function() {
                return this.No
            }
            ,
            ta.prototype.ro = function() {
                return {
                    visible: this._visible,
                    opacity: 1,
                    skyColor: this.$C,
                    To: this,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            ta.prototype.lo = function() {
                return !0
            }
            ,
            ta);
            function ta(t) {
                void 0 === t && (t = {
                    visible: !0
                });
                var i = Qr.call(this, t) || this;
                return i.CLASS_NAME = "AMap.SkyLayer",
                i.No = "sky_" + wt.Util.sx(),
                i._visible = void 0 === t.visible || t.visible,
                i.$C = t.skyColor,
                i.$C = i.$C && wt.Util.color2RgbaArray(i.$C),
                i.Qh = t.zIndex || 500,
                i.lz = !0,
                i
            }
            var ia, ea = (ia = ue,
            wt.Ei(na, ia),
            na.prototype.Kn = function(t, i, e, n) {
                var o = e.$n.optimalZoom;
                if (!(o < n.zooms[0] || o > n.zooms[1])) {
                    n.ce && t.context.clear({
                        depth: !0
                    });
                    var r = i.tiles[0];
                    if (r && r.length)
                        for (var a = 0, s = r; a < s.length; a++) {
                            var h = s[a];
                            h.status === wt.Mo.LOADED && this.Ic(t, h, e, n)
                        }
                }
            }
            ,
            na.prototype.destroy = function() {}
            ,
            na.prototype.Ic = function(t, i, e, n) {
                var o = t.Vn();
                if (i.data) {
                    var r = i.data
                      , a = r.$c;
                    if (a) {
                        a.upload(o.context, !0);
                        var s = a.zs.buffer
                          , h = a.Pc.buffer
                          , l = r.Uc;
                        if (l) {
                            var f = l.jc
                              , u = (e.$n.optimalZoom,
                            r.Sa)
                              , c = n.opacity
                              , d = 1;
                            "3D" === e.$n.viewMode && (d = e.map.getView().EF());
                            for (var p = 0, v = f.length; p < v; p++) {
                                var m = f[p]
                                  , y = m.color
                                  , g = {
                                    u_matrix: e.$n.mvpMatrix,
                                    u_meter_per_pixel: e.$n.resolution,
                                    u_width: m.width,
                                    u_color: [y[0], y[1], y[2], y[3] * c],
                                    u_border: 0,
                                    u_dash: void 0,
                                    u_localDeltaCenter: u,
                                    u_skyHeight: d,
                                    u_viewHeight: e.$n.size[1]
                                }
                                  , x = s.size;
                                o.context.getExtension("OES_element_index_uint"),
                                o.Ce(g, {
                                    a_pos: {
                                        type: "vec2",
                                        buffer: s,
                                        Re: x,
                                        offset: 0
                                    },
                                    a_normal: {
                                        type: "vec2",
                                        buffer: s,
                                        Re: x,
                                        offset: 8
                                    },
                                    a_distance: {
                                        type: "float",
                                        buffer: s,
                                        Re: x,
                                        offset: 16
                                    },
                                    a_dir: {
                                        type: "vec2",
                                        buffer: s,
                                        Re: x,
                                        offset: 20
                                    }
                                }, m.length, h, "TRIANGLES", n.depthTest, it.Si, n.rejectMapMask || !e.map.getMask() ? void 0 : T.Ti, void 0, m.offset)
                            }
                        }
                    }
                }
            }
            ,
            na);
            function na() {
                return ia.call(this) || this
            }
            var oa = (ra.prototype.cS = function(t, i, e) {
                var n = (this.wf = i).$n
                  , o = n.projectionId
                  , r = n.viewMode;
                n.zoom,
                this.If = wt.V[o],
                this._viewMode = r,
                this.reset(),
                this.Of();
                for (var a = {}, s = 0, h = this.Tw(); s < h.length; s++) {
                    var l = h[s]
                      , f = l.eo()
                      , u = l._opts
                      , c = l.hS
                      , d = l.ho().Hz(t, i, this, e[c], this._map, f);
                    d && (a[c] = d,
                    (u.collision || u.allowCollision) && (this.YL = !1),
                    u.allowCollision && (this.UT = !1))
                }
                this.Ps = a;
                var p = this._map.getMapState()
                  , v = p.rotating
                  , m = p.zooming
                  , y = p.panning;
                m || y || this.reset(),
                this.YL && this.UT && (v || m || y) || this.Ff();
                var g = this.Ef()
                  , x = g.Uf
                  , b = void 0 === x ? {} : x
                  , _ = g.$f
                  , w = void 0 === _ ? {} : _;
                this.$f = w,
                this.Uf = b
            }
            ,
            ra.prototype.uS = function() {
                return this.LC
            }
            ,
            ra.prototype.add = function(t) {
                this.LC[t.hS] = t
            }
            ,
            ra.prototype.remove = function(t) {
                t && delete this.LC[t.hS]
            }
            ,
            ra.prototype.vi = function(t, i) {
                if (!this._map)
                    return null;
                var e = this._map.getMapState()
                  , n = e.zooming
                  , o = void 0 !== n && n
                  , r = e.panning
                  , a = void 0 !== r && r
                  , s = e.rotating;
                if (o || a || void 0 !== s && s)
                    return null;
                if (t && this._p) {
                    var h = this._map.getMapsContainer()
                      , l = P.mousePos(h, t, this._map)
                      , f = l[0]
                      , u = l[1]
                      , c = {
                        ja: f - 1,
                        Fa: u - 1,
                        Oa: f + 1,
                        Ea: u + 1
                    }
                      , d = this._p.search(c);
                    if (d.length) {
                        var p = this.NL(d, i)
                          , v = this.sP(p);
                        if (!v)
                            return null;
                        var m = v.id
                          , y = this.DC(m);
                        if (y && y.Nf) {
                            var g = y.Nf[m]
                              , x = g && g.data.extData || {};
                            if (this.Uf[m]) {
                                if ("poi" === x.type)
                                    return {
                                        type: x.type,
                                        id: x.id,
                                        lnglat: g.data.position,
                                        name: g.data.name
                                    };
                                if (!x.type)
                                    return x.id
                            }
                        }
                    }
                }
                return null
            }
            ,
            ra.prototype.search = function(t) {
                for (var i, e, n = [], o = 0, r = this._p.search(t); o < r.length; o++) {
                    var a = r[o];
                    i = a.id,
                    !(e = this.FC(i)) || "AMap.Nebula.LabelsLayer" !== e.CLASS_NAME || this.TC(i) && n.push(a)
                }
                return n
            }
            ,
            ra.prototype.reset = function() {
                this.Uf = {},
                this.$f = {}
            }
            ,
            ra.prototype.tC = function() {
                return this._p
            }
            ,
            ra.prototype.iC = function(t, i) {
                void 0 === t && (t = {}),
                void 0 === i && (i = {});
                var e = t.x
                  , n = void 0 === e ? 0 : e
                  , o = t.y
                  , r = void 0 === o ? 0 : o
                  , a = t.width
                  , s = void 0 === a ? 0 : a
                  , h = t.height
                  , l = void 0 === h ? 0 : h
                  , f = i.id
                  , u = i.rank
                  , c = i.padding
                  , d = i.type
                  , p = void 0 === d ? "" : d
                  , v = i.name
                  , m = wt.tc._d
                  , y = c || m || 0;
                return {
                    id: f,
                    name: v,
                    type: p,
                    rank: u || 1,
                    ja: n - y,
                    Fa: r - y,
                    Oa: n + s + y,
                    Ea: r + l + y
                }
            }
            ,
            ra.prototype.NL = function(t, i) {
                void 0 === t && (t = []);
                for (var e = [], n = 0, o = t; n < o.length; n++) {
                    var r = o[n];
                    if (r.id) {
                        var a = this.FC(r.id);
                        a && a.hS === i && e.push(r)
                    }
                }
                return e
            }
            ,
            ra.prototype.sP = function(t) {
                for (var i = this.Uf || {}, e = [], n = 0, o = t; n < o.length; n++) {
                    var r = o[n];
                    i[r.id] && e.push(r)
                }
                for (var a = -1 / 0, s = null, h = 0, l = e; h < l.length; h++) {
                    var f = l[h]
                      , u = f.rank;
                    a < u && (a = u,
                    s = f)
                }
                return s
            }
            ,
            ra.prototype.Tw = function() {
                var t = this.LC
                  , i = [];
                for (var e in t)
                    if (t.hasOwnProperty(e)) {
                        var n = t[e];
                        i.push(n)
                    }
                return i.sort(function(t, i) {
                    return i.Qh - t.Qh
                }),
                i
            }
            ,
            ra.prototype.rd = function(t, i) {
                var e = i.anchorOffset
                  , n = i.size
                  , o = void 0 === n ? [0, 0] : n
                  , r = wt.Sp.add(t, e);
                return {
                    x: r[0],
                    y: r[1],
                    width: o[0],
                    height: o[1]
                }
            }
            ,
            ra.prototype.hd = function(t, i) {
                var e = i.offsetX
                  , n = void 0 === e ? 0 : e
                  , o = i.offsetY
                  , r = void 0 === o ? 0 : o
                  , a = i.w
                  , s = void 0 === a ? 0 : a
                  , h = i.h
                  , l = void 0 === h ? 0 : h;
                return {
                    x: t[0] + n,
                    y: t[1] + r,
                    width: s,
                    height: l
                }
            }
            ,
            ra.prototype.Ff = function() {
                var t = this.Ps
                  , i = this.wf && this.wf.$n
                  , e = this.ad
                  , n = this.$f;
                if (i) {
                    var o = {
                        $n: i,
                        size: this.wf.size,
                        transform: this.If,
                        view: this._view,
                        viewMode: this._viewMode
                    }
                      , r = i.zoom;
                    for (var a in t)
                        if (t.hasOwnProperty(a)) {
                            if (!t[a])
                                continue;
                            var s = t[a]
                              , h = s.coords
                              , l = s.style
                              , f = s.Nf
                              , u = this.LC[a];
                            if (!u)
                                continue;
                            var c = u.ho().Jz()
                              , d = c.Sa
                              , p = u.Qh;
                            for (var v in h)
                                if (h.hasOwnProperty(v)) {
                                    var m = h[v]
                                      , y = m.origin
                                      , g = m.icon
                                      , x = m.padding
                                      , b = l[v];
                                    if (b.in,
                                    this.TC(v) || (n[v] = 1),
                                    n[v])
                                        continue;
                                    var _ = f[v]
                                      , w = _.data.extData || {}
                                      , k = w.Sa || d || [0, 0]
                                      , M = wt.Sp.add(y, k)
                                      , C = M[0]
                                      , S = M[1];
                                    o.centerCoord = c.centerCoord;
                                    var z = zo.wu(C, S, r, o)
                                      , R = {
                                        id: v,
                                        rank: zo.getRank(_, {
                                            in: b.in,
                                            _z: p
                                        }),
                                        name: _.data.name,
                                        type: w.type || ""
                                    }
                                      , A = this.rd(z, g)
                                      , I = this.PC(b) || [2, 20];
                                    if (wt.Util.dS(r, I) && A.width && A.height) {
                                        var L = this.iC(A, R);
                                        e.push(L)
                                    }
                                    var T = this.hd(z, x)
                                      , $ = this.OC(b) || [2, 20]
                                      , D = wt.Util.dS(r, $);
                                    if (b.tn && D && T.width && T.height) {
                                        var F = this.iC(T, R);
                                        e.push(F)
                                    }
                                }
                        }
                    this.ld(e)
                }
            }
            ,
            ra.prototype.Ef = function() {
                var t, i = {}, e = this.$f;
                if (!this.wf)
                    return {};
                var n = (this.wf && this.wf.$n).zoom
                  , o = this.Ps
                  , r = {};
                if (this.YL) {
                    for (var a in o)
                        if (o.hasOwnProperty(a)) {
                            if (!o[a])
                                continue;
                            var s = o[a]
                              , h = s.Nf
                              , l = void 0 === h ? {} : h;
                            for (var f in s.coords,
                            s.style,
                            l)
                                l.hasOwnProperty(f) && (i[f] = 1)
                        }
                    return {
                        Uf: i,
                        $f: e
                    }
                }
                for (var a in o)
                    if (o.hasOwnProperty(a)) {
                        if (!o[a])
                            continue;
                        var u = o[a]
                          , c = u.Nf
                          , d = void 0 === c ? {} : c
                          , p = (u.coords,
                        u.style)
                          , v = void 0 === p ? {} : p
                          , m = (q = this.LC[a]).Qh;
                        for (var y in d)
                            if (d.hasOwnProperty(y)) {
                                var g = v[y]
                                  , x = zo.getRank(d[y], {
                                    in: g.in,
                                    _z: m
                                });
                                r[x] || (r[x] = {}),
                                r[x][y] = d[y]
                            }
                    }
                for (var b, _, w, k, M, C, S, z, R, A, I, L, T, $, D, F, P, H, O, B, E, j, N, W, U, G = wt.bf.rank(Object.keys(r)), V = G.length, Y = this.wf, Z = {
                    $n: Y.$n,
                    size: Y.size,
                    transform: this.If,
                    view: this._view,
                    viewMode: this._viewMode
                }, X = V - 1; 0 <= X; X--) {
                    b = r[G[X]];
                    for (var J = (_ = Object.keys(b)).length - 1; 0 <= J; J--) {
                        var q;
                        if (!e[w = _[J]] && (q = this.FC(w))) {
                            var Q = q._opts || {};
                            if (!Q.collision && this.UT || Q.VT)
                                i[w] = 1;
                            else {
                                var K = q.ho().Jz()
                                  , tt = K.Sa;
                                if (N = (j = this.DC(w)).style,
                                W = j.coords,
                                U = j.Nf,
                                (k = N[w]) && k.in)
                                    i[w] = 1;
                                else {
                                    if (C = (M = W[w]).icon || {},
                                    S = M.padding || {},
                                    z = M.origin || {},
                                    R = (U[w].data.extData || {}).Sa || tt || [0, 0],
                                    A = (t = wt.Sp.add(z, R))[0],
                                    I = t[1],
                                    Z.centerCoord = K.centerCoord,
                                    L = zo.wu(A, I, n, Z),
                                    (T = C.size)[0] && T[1]) {
                                        $ = this.rd(L, C),
                                        D = this.iC($),
                                        P = (F = this._p.search(D)).length;
                                        for (var it = 0; it < P; it++) {
                                            var et = F[it];
                                            et.id === w ? i[et.id] = 1 : this.BC(w, et.id) && (e[et.id] = 1)
                                        }
                                    }
                                    if ((H = this.hd(L, S)).width && H.height)
                                        for (O = this.iC(H),
                                        E = (B = this._p.search(O)).length,
                                        it = 0; it < E; it++) {
                                            var nt = B[it];
                                            nt.id === w ? i[nt.id] = 1 : this.BC(w, nt.id) && (e[nt.id] = 1)
                                        }
                                }
                            }
                        }
                    }
                }
                return {
                    Uf: i,
                    $f: e
                }
            }
            ,
            ra.prototype.ld = function(t) {
                this._p && (this._p.clear(),
                this._p.load(t))
            }
            ,
            ra.prototype.Of = function() {
                this._p && (this._p.clear(),
                this.ad = [])
            }
            ,
            ra.prototype.DC = function(t) {
                var i, e = this.Ps;
                for (var n in e)
                    if (e.hasOwnProperty(n)) {
                        var o = e[n];
                        if (o && o.Nf && o.Nf[t]) {
                            i = o;
                            break
                        }
                    }
                return i || {}
            }
            ,
            ra.prototype.jC = function(t) {
                var i = this.Ps
                  , e = "";
                for (var n in i)
                    if (i.hasOwnProperty(n)) {
                        var o = i[n] || {};
                        if (o.Nf && o.Nf[t]) {
                            e = n;
                            break
                        }
                    }
                return e
            }
            ,
            ra.prototype.FC = function(t) {
                var i = this.jC(t);
                return i ? this.LC[i] : null
            }
            ,
            ra.prototype.TC = function(t) {
                var i = this.DC(t)
                  , e = this._map.qz()
                  , n = this._map.getLayerByClass("AMap.MaskLayer")
                  , o = this._map.jH();
                if (i) {
                    var r = i.Nf
                      , a = i.style[t];
                    if (!a)
                        return !1;
                    var s = r[t].data.extData || {};
                    if ("poi" === s.type && !1 === e)
                        return !1;
                    if (!a.visible)
                        return !1;
                    var h = this.EC(a)
                      , l = this.wf.$n.zoom;
                    if (!wt.Util.dS(l, h))
                        return !1;
                    var f = this._map.getLayerByClass("AMap.IndoorMap");
                    if (r[t] && s.bz && f && f.yD().show)
                        return !1;
                    if (n) {
                        var u = n.ho();
                        if (o)
                            return !0;
                        if (u && !u.EH(r[t].data.position, this.wf))
                            return !1
                    }
                    return !0
                }
                return !1
            }
            ,
            ra.prototype.BC = function(t, i, e) {
                void 0 === e && (e = !1);
                var n = this.DC(i);
                if (n) {
                    var o = n.style
                      , r = this.FC(t)
                      , a = r && r._opts || {}
                      , s = this.FC(i)
                      , h = s && s._opts || {};
                    if (o[i].in)
                        return e && console.log("", "   -1- ", 1),
                        !1;
                    if (r && s) {
                        if (r.hS !== s.hS && !a.allowCollision && !h.allowCollision)
                            return e && console.log("", "   -2- ", 1),
                            !1;
                        if (r.hS === s.hS && !h.collision)
                            return e && console.log("", "   -3- ", 1),
                            !1
                    }
                }
                return e && console.log("", "   -4- ", 1),
                !0
            }
            ,
            ra.prototype.EC = function(t) {
                var i = this.PC(t) || []
                  , e = i[0]
                  , n = i[1]
                  , o = this.OC(t) || []
                  , r = o[0]
                  , a = o[1];
                return [e && r ? e <= r ? e : r : e || r || 2, e && r ? n <= a ? a : n : n || a || 20]
            }
            ,
            ra.prototype.PC = function(t) {
                return t.icon && t.icon[0] && t.icon[0].zooms
            }
            ,
            ra.prototype.OC = function(t) {
                return t.text && t.text.zooms
            }
            ,
            ra);
            function ra(t) {
                this.LC = {},
                this.Uf = {},
                this.$f = {},
                this.Ps = {},
                this._p = jo(),
                this.ad = [],
                this.Gf = jo(),
                this._viewMode = "2D",
                this.YL = !0,
                this.UT = !0,
                this._map = t,
                this._view = t.getView()
            }
            var aa, sa = "AMap.Overlay", ha = (aa = wt.Event,
            wt.Ei(la, aa),
            la);
            function la() {
                var t = null !== aa && aa.apply(this, arguments) || this;
                return t.type = sa,
                t.className = sa,
                t
            }
            var fa, ua = (fa = wt.Event,
            wt.Ei(ca, fa),
            ca);
            function ca() {
                var t = null !== fa && fa.apply(this, arguments) || this;
                return t.type = sa,
                t.className = sa,
                t
            }
            var da, pa = {
                zooms: [2, 20],
                opacity: 1,
                rank: 1,
                bubble: !1,
                visible: !0,
                zIndex: 1,
                cursor: "pointer",
                icon: {
                    clipOrigin: [0, 0],
                    anchor: [0, 0],
                    retina: !0
                },
                innerOverlay: !1,
                text: {
                    content: "",
                    direction: "right",
                    offset: [0, 0],
                    zooms: [2, 20],
                    style: {
                        fontSize: 12,
                        fontFamily: "sans-serif",
                        fontWeight: "normal",
                        fillColor: "#000",
                        strokeWidth: 0,
                        padding: "3",
                        fold: !1
                    }
                }
            }, va = {
                uy: "AMap.LabelMarker",
                gy: Math.pow(2, 31)
            }, ma = (da = ha,
            wt.Ei(ya, da),
            ya.prototype.getName = function() {
                return this._opts.name
            }
            ,
            ya.prototype.setName = function(t) {
                this._opts.name = t
            }
            ,
            ya.prototype.getBounds = function() {
                var t = this._position;
                return new Le(t,t)
            }
            ,
            ya.prototype.getPosition = function() {
                return new wt.LngLat(this._position[0],this._position[1])
            }
            ,
            ya.prototype.setPosition = function(t) {
                t && ("string" == typeof t ? t = wt.map(t.split(","), function(t) {
                    return parseFloat(t)
                }) : wt.Bs(t) && (t = t.toJSON()),
                this._position = t,
                this.to())
            }
            ,
            ya.prototype.getZooms = function() {
                return this._opts.zooms
            }
            ,
            ya.prototype.setZooms = function(t) {
                void 0 === t && (t = [3, 20]),
                this._opts.zooms = t,
                this.to()
            }
            ,
            ya.prototype.getOpacity = function() {
                return this._opts.opacity
            }
            ,
            ya.prototype.setOpacity = function(t) {
                void 0 !== t && (this._opts.opacity = t,
                this.to())
            }
            ,
            ya.prototype.getzIndex = function() {
                return this._opts.zIndex
            }
            ,
            ya.prototype.setzIndex = function(t) {
                this._opts.zIndex = t,
                this.to()
            }
            ,
            ya.prototype.getRank = function() {
                return this._opts.rank
            }
            ,
            ya.prototype.setRank = function(t) {
                this._opts.rank = t,
                this.to()
            }
            ,
            ya.prototype.getText = function() {
                return this._originOpts.text && this._opts.text || null
            }
            ,
            ya.prototype.setText = function(t) {
                t && (this._opts.text = wt.Ss(t, this._opts.text),
                this.to())
            }
            ,
            ya.prototype.getIcon = function() {
                return this._originOpts.icon && this._opts.icon || null
            }
            ,
            ya.prototype.setIcon = function(t) {
                t && (this._opts.icon = wt.Ss(t, this._opts.icon),
                this.to())
            }
            ,
            ya.prototype.getOptions = function() {
                return this._opts
            }
            ,
            ya.prototype.getDraggable = function() {
                return !1
            }
            ,
            ya.prototype.getExtData = function() {
                return this._opts.extData || null
            }
            ,
            ya.prototype.setExtData = function(t) {
                this._opts.extData = t
            }
            ,
            ya.prototype.setTop = function(t) {
                if (void 0 === t && (t = !0),
                this._parent && this._parent.setTop(this, t),
                t)
                    this.vL = this._opts.zIndex || 1,
                    this.setzIndex(va.gy);
                else {
                    var i = this.vL || this._opts.zIndex || 1;
                    this.setzIndex(i)
                }
            }
            ,
            ya.prototype.setCursor = function(t) {
                t && (this._opts.cursor = t)
            }
            ,
            ya.prototype.getCursor = function() {
                return this._opts.cursor || "default"
            }
            ,
            ya.prototype.getVisible = function() {
                return this._opts.visible || !0
            }
            ,
            ya.prototype.getCollision = function() {
                var t = this.getVisible()
                  , i = !1;
                if (this._parent && t) {
                    var e = this.hS;
                    i = this._parent.IL(e)
                }
                return t && i
            }
            ,
            ya.prototype.show = function() {
                this._opts.visible = !0,
                this.to()
            }
            ,
            ya.prototype.hide = function() {
                this._opts.visible = !1,
                this.to()
            }
            ,
            ya.prototype.emit = function(t, i) {
                var e = this._opts || {}
                  , n = e.icon
                  , o = e.text
                  , r = o && o.content
                  , a = this.getCursor();
                this._map && ("mouseout" === t ? this._map.setCursor() : this._map.setCursor(a));
                var s = {
                    data: {
                        name: r,
                        txt: r,
                        position: this._position,
                        extData: {},
                        rank: e.rank,
                        zooms: e.zooms
                    },
                    opts: {
                        visible: e.visible,
                        opacity: e.opacity,
                        zooms: e.zooms,
                        zIndex: e.zIndex,
                        icon: n,
                        text: o
                    }
                };
                return i.data = s,
                da.prototype.emit.call(this, t, i),
                this
            }
            ,
            ya.prototype.remove = function() {
                this._parent && this._parent.remove(this)
            }
            ,
            ya.prototype.to = function() {
                this._parent && this._parent.to()
            }
            ,
            ya.prototype.Cs = function(t) {
                (this._parent = t) && t.map ? this._map = t.map : this._map = null
            }
            ,
            ya);
            function ya(t) {
                var i = da.call(this) || this;
                return i.type = va.uy,
                i.className = va.uy,
                i.hS = wt.Util.stamp(i),
                i._originOpts = t,
                i._opts = wt.Ss({}, t, pa),
                t.position && i.setPosition(t.position),
                i
            }
            var ga, xa = {
                PoiStyle: [{
                    $: {
                        mainkey: "10001",
                        subkey: "1"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,2,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "2"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,7,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "3"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,8,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "4"
                    },
                    StyleItem: [{
                        $: {
                            level: "18",
                            desc: "50,25,2,1,0,0xff84638E,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "19,20",
                            desc: "50,25,1,1,12,0xff84638E,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "5"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,59,2,1,0,0xff84638E,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "6"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,3,1,1,12,0xff84638E,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "7"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,4,1,1,12,0xff816B4E,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "8"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,9,1,1,12,0xff935676,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "9"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,10,1,1,12,0xff935676,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "10"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,14,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "11"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,15,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "12"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,17,1,1,12,0xff816B4E,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "13"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,18,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "14"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,19,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "15"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,22,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "16"
                    },
                    StyleItem: [{
                        $: {
                            level: "20",
                            desc: "50,24,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "17"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,1,0,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "18"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,27,1,1,12,0xff84638E,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "19"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,36,1,1,12,0xff8E3A3D,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "20"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,39,1,1,12,0xff935676,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "21"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,44,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,44,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "22"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,45,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,45,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "23"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,46,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,46,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "24"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,47,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,47,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "25"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,48,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,48,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "26"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,49,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,49,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "27"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,50,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,50,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "28"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,51,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,51,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "29"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,52,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,52,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "30"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,53,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,53,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "31"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,54,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,54,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "32"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,55,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,55,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "33"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,56,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,56,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "34"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,57,2,1,0,0xff696F71,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,57,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "35"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,6,2,1,0,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "36"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,12,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "37"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,13,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "38"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,16,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "39"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,20,2,1,0,0xff69859F,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,20,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "40"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,5,2,1,0,0xff69859F,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,5,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "41"
                    },
                    StyleItem: [{
                        $: {
                            level: "20",
                            desc: "50,28,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "42"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,29,1,1,12,0xff4C6776,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "43"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,31,1,1,12,0xff000000,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "44"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,32,2,1,0,0xff4C6776,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "45"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,33,2,1,0,0xff4C6776,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "46"
                    },
                    StyleItem: [{
                        $: {
                            level: "18",
                            desc: "50,34,2,1,0,0xff935676,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "19,20",
                            desc: "50,34,1,1,12,0xff935676,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "47"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,35,2,1,0,0xff4C6776,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "48"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,37,1,1,12,0xff4C6776,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "49"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,38,2,1,0,0xff4C6776,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "50"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,42,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "51"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,41,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "52"
                    },
                    StyleItem: [{
                        $: {
                            level: "20",
                            desc: "50,43,1,1,12,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "53"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,58,2,1,0,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "54"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,21,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "55"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,30,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "56"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,1,0,1,12,0xff000000,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "57"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,23,2,1,0,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "58"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,40,2,1,0,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "59"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,11,2,1,0,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "60"
                    },
                    StyleItem: [{
                        $: {
                            level: "16,17",
                            desc: "50,1,0,1,20,0xff6590a6,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "62"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,61,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "63"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,60,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "64"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,62,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,62,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "65"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,63,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,63,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "66"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,64,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,64,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "67"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,65,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,65,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "68"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,66,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,66,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "69"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,67,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,67,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "70"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,68,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,68,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "71"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,69,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,69,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "72"
                    },
                    StyleItem: [{
                        $: {
                            level: "17",
                            desc: "50,70,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "18,19,20",
                            desc: "50,70,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "73"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,71,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "74"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "50,72,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "75"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,73,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,73,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "76"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,74,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,74,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "77"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,75,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,75,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "78"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19",
                            desc: "50,76,2,1,0,0xff62686B,0xffffffff,0x0,0"
                        }
                    }, {
                        $: {
                            level: "20",
                            desc: "50,76,1,1,12,0xff62686B,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "79"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,81,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "80"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,89,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "81"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,85,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "82"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,90,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "83"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,83,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "84"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,103,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "85"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,98,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "86"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,86,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "87"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,87,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "88"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,111,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "89"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,88,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "90"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,91,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "91"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,93,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "92"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,113,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "93"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,95,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "94"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,100,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "95"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,97,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "96"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,94,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "97"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,108,1,1,12,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "98"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,1,2,1,0,0xff69859F,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "99"
                    },
                    StyleItem: [{
                        $: {
                            level: "18,19,20",
                            desc: "50,1,0,1,12,0xff696F71,0xffffffff,0x0,1"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "105"
                    },
                    StyleItem: [{
                        $: {
                            level: "16,17,18",
                            desc: "50,1,0,1,14,0xff696F71,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "106"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "50,1,0,1,12,0xff4d4e51,0xffffffff,0x0,0"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "10001",
                        subkey: "107"
                    },
                    StyleItem: [{
                        $: {
                            level: "16,17,18,19,20",
                            desc: "50,109,1,1,12,0xff4d4e51,0xffffffff,0x0,0"
                        }
                    }]
                }],
                LineStyle: [{
                    $: {
                        mainkey: "20001",
                        subkey: "1"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "88,2,10,0,0,0,0xffe68e00,0xffe68e00,0xffe68e00,0xffe68e00"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "20001",
                        subkey: "2"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "88,2,8,0,0,0,0xffababab,0xffababab,0xff5e492f,0xffffe080"
                        }
                    }]
                }],
                RegionStyle: [{
                    $: {
                        mainkey: "30001",
                        subkey: "1"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "90,1,0xfffcfbed"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "99"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "90,1,0x1a151b2b"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "98"
                    },
                    StyleItem: [{
                        $: {
                            level: "19,20",
                            desc: "90,1,0x8c151b2b"
                        }
                    }]
                }],
                BuildingStyle: [{
                    $: {
                        mainkey: "30001",
                        subkey: "2"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "99,0xffe6e6e6,0xff858585,0xffcfcfcf,0xffb8b8b8,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "3"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xffe6e6e6,0xff858585,0xffcfcfcf,0xffb8b8b8,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "4"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xffbfd6e9 ,0xff6f7c87,0xffacc0d1,0xff99abba,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "5"
                    },
                    StyleItem: [{
                        $: {
                            level: "17,18,19,20",
                            desc: "99,0xffcce3e8 ,0xff778487,0xffb7ccd0,0xffa3b6ba,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "6"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xffcce3e8,0xff778487,0xffb7ccd0,0xffa3b6ba,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "7"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xffe5dae8,0xff857f87,0xffcec4d0,0xffb7aeba,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "8"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xfffaeccd,0xff948c79,0xffe1d4b8,0xffc8bda4,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "9"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xff90bae8,0xff546d87,0xff81a7d0,0xff7395ba,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "10"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xfff0e3df,0xff8f8d8c,0xffd8ccc8,0xffc0b6b2,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "11"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xffbfd3e9,0xff6f7b87,0xffacbdd1,0xff99a9ba,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "12"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xffdae2f4,0xff7f848f,0xffc4cbdb,0xffaeb5c3,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "13"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xff95e3f5,0xff598791,0xff86ccdc,0xff77b6c4,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "14"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xffc9edf5,0xff778d91,0xffb5d5dc,0xffa1bec4,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "15"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xfff4c4ba,0xff8f726d,0xffdbb0a7,0xffc39d95,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "16"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xffdbe8b3,0xff7f8768,0xffc5d0a1,0xffafba8f,255"
                        }
                    }]
                }, {
                    $: {
                        mainkey: "30001",
                        subkey: "17"
                    },
                    StyleItem: [{
                        $: {
                            level: "15,16,17,18,19,20",
                            desc: "99,0xfff5cedc,0xff917a82,0xffdcb9c6,0xffc4a5b0,255"
                        }
                    }]
                }]
            }, ba = ["strokeColor", "strokeOpacity", "strokeWeight", "fillColor", "fillOpacity", "strokeStyle", "strokeDasharray", "fontSize"], _a = {
                setOptions: function(t) {},
                init: function() {
                    return this.NC = {},
                    this.UC(xa),
                    this.WC = [],
                    this.NC
                },
                GC: function(t) {
                    return AMap.getConfig().protocol + "://webapi.amap.com/images/indoor_icon/36/" + t + "@2x.png"
                },
                HC: function(t) {
                    for (var i = !0, e = 13; e <= 22; e++) {
                        var n = this.VC(t, e);
                        if (n && (0 < n.fontSize || n.iconId)) {
                            i = !1;
                            break
                        }
                    }
                    return i
                },
                VC: function(t, i) {
                    return this.Tn(t, i)
                },
                ZC: function(t, i) {
                    return this.Tn(t, i)
                },
                Pr: function(t, i) {
                    return this.Tn(t, i)
                },
                YC: function(t, i) {
                    var e = ba;
                    if (i)
                        for (var n in i)
                            i.hasOwnProperty(n) && 0 <= e.indexOf(n) && void 0 === t[n] && (t[n] = i[n]);
                    return t
                },
                JC: function(t, i) {
                    if (!t)
                        return null;
                    for (var e = ba, n = {}, o = 0, r = e.length; o < r; o++) {
                        var a = e[o];
                        t.hasOwnProperty(a) && void 0 !== t[a] && (n[a] = t[a])
                    }
                    return this.YC(n, i),
                    n
                },
                Tn: function(t, i) {
                    var e = t[0] + "_" + t[1];
                    i = Math.round(i);
                    var n = this.NC[e];
                    if (!n)
                        return this.WC.indexOf(e) < 0 && this.WC.push(e),
                        null;
                    for (var o = 0, r = n.length; o < r; o++)
                        if (0 <= n[o].levels.indexOf("" + i))
                            return n[o].styleOpts;
                    if (20 < i) {
                        var a = n[n.length - 1];
                        if (0 <= a.levels.indexOf("20"))
                            return a.levels.push("" + i),
                            a.styleOpts
                    }
                    return null
                },
                UC: function(t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && this.XC(t[i], i)
                },
                XC: function(t, i) {
                    for (var e = 0, n = t.length; e < n; e++)
                        this.qC(t[e], i)
                },
                qC: function(t, i) {
                    var e = t.$;
                    if (e) {
                        var n = e.mainkey
                          , o = e.subkey
                          , r = t.StyleItem
                          , a = n + "_" + o;
                        this.NC[a],
                        this.NC[a] = this.QC(r, i)
                    }
                },
                QC: function(t, i) {
                    for (var e = [], n = 0, o = t.length; n < o; n++) {
                        var r = this.KC(t[n], i);
                        r && e.push(r)
                    }
                    return e
                },
                KC: function(t, i) {
                    var e = t.$;
                    if (e) {
                        var n = {};
                        return n.levels = e.level.split(","),
                        n.desc = e.desc.split(","),
                        n.styleOpts = this.$I(n, n.desc, i),
                        n.styleOpts.levels = n.levels,
                        n
                    }
                },
                BI: function(t) {
                    for (var i = [], e = 0, n = t.length; e < n; e += 2)
                        i.push(parseInt(t.substr(e, 2), 16));
                    return i.push(i.shift()),
                    "rgb(" + (i = i.slice(0, 3)).join(",") + ")"
                },
                WI: function(t) {
                    return t.trim && (t = t.trim()),
                    this.BI(t.substr(2, 8))
                },
                GI: function() {
                    return this.HI++
                },
                $I: function(t, i, e) {
                    var n;
                    switch (e) {
                    case "PoiStyle":
                        1 === (n = {
                            iconId: parseInt(i[1], 10),
                            fontSize: Math.min(15, parseInt(i[4], 10) || 0),
                            fillColor: this.WI(i[5]),
                            strokeColor: this.WI(i[6]),
                            VI: 0 === parseInt(i[8], 10)
                        }).iconId && (n.iconId = 0);
                        break;
                    case "LineStyle":
                        n = {
                            fillColor: "rgb(252, 249, 242)",
                            strokeColor: this.WI(i[7]),
                            strokeWeight: Math.max(2, Math.round(parseInt(i[2], 10) / 3))
                        };
                        break;
                    case "RegionStyle":
                        n = {
                            fillColor: this.WI(i[2])
                        };
                        break;
                    case "BuildingStyle":
                        n = {
                            fillColor: this.WI(i[1]),
                            strokeColor: this.WI(i[2])
                        };
                        break;
                    default:
                        return null
                    }
                    return n._uid = this.GI(),
                    n
                }
            }, wa_strokeColor = "rgb(230,142,0)", ka_fillColor = "rgb(252, 249, 242)", ka_strokeColor = "rgb(171,171,171)", Ma = (ga = ue,
            wt.Ei(Ca, ga),
            Ca.prototype.getContainer = function() {
                return document.createElement("div")
            }
            ,
            Ca.prototype.Kn = function(t, i, e, n, o) {}
            ,
            Ca.prototype.render = function(t) {
                var i = t.data;
                if (!i || i.length < 1 || !this.gs)
                    return !1;
                this._map = this.gs.map;
                var e = this.gs.ZI()
                  , n = e.indoor
                  , o = e.floorInfo;
                if (e && !1 === e.visible)
                    return !1;
                var r = this.qI(i);
                if (this.UL = i,
                !r)
                    return !1;
                if (!e.changeFloor) {
                    var a = {
                        centerId: r
                    };
                    this.gs.setRenderData(a)
                }
                for (var s = Object.keys(i), h = 0; h < s.length; h++) {
                    var l = s[h]
                      , f = i[l]
                      , u = f.building;
                    if (u && u.properties && this.gs.getIntersect(u.properties.outside_outline))
                        if (n[l])
                            n[l].curFloor !== (c = o[l]) && this.gS(f, c);
                        else {
                            var c = "1";
                            o[l] && (c = o[l]),
                            this.gS(f, c)
                        }
                }
            }
            ,
            Ca.prototype.HF = function(t) {
                this.gs = t
            }
            ,
            Ca.prototype.t$ = function() {
                var t = this;
                this.i$ || (wt.Module && wt.Module.module ? wt.Module.module("AMap.IndoorMapFloorBar", function() {
                    t.i$ = !0
                }) : M && M.module)
            }
            ,
            Ca.prototype.QI = function(t, i) {
                var o = this
                  , e = this.gs.ZI()
                  , n = e.floorInfo
                  , r = (e.showId,
                e.centerId)
                  , a = e.hideFloorBar
                  , s = null
                  , h = null
                  , l = Number(n[i]) || 1
                  , f = t.properties;
                if (f && f.floor_nonas && (s = f.floor_nonas,
                h = f.floor_indexs),
                !s || !h)
                    return !1;
                if (1 < h.length && h[0] > h[1] && (s = s.reverse(),
                h = h.reverse()),
                !this.e$ && this.i$) {
                    if (wt.Module && wt.Module.module && (this.e$ = new wt.Module.IndoorMapFloorBar({
                        floors: s,
                        floorIndexs: h,
                        currentFloor: l
                    }),
                    this.WL = r,
                    this.gs.setBar(this.e$),
                    this.gs.setRenderData({
                        barCenterId: this.WL
                    })),
                    !this.e$)
                        return !1;
                    this._map.addControl(this.e$),
                    this.e$.on("floorchange", function(t) {
                        o.pD = !0;
                        var i = t.currentIndex
                          , e = o.gs.ZI().centerId;
                        o.gs.n$(e, i);
                        var n = o._map.Mv.Vh(o.gs.co());
                        e && (o.gs.setRenderData({
                            changeFloor: !0
                        }),
                        n.JR(e, i))
                    })
                } else
                    this.e$ && (this.WL = r,
                    this.e$.setOption({
                        floors: s,
                        floorIndexs: h,
                        currentFloor: l
                    }),
                    this.gs.setRenderData({
                        barCenterId: this.WL
                    }));
                a && this.e$ && this.e$.hide(),
                !this.GL && this._map && (this.GL = !0,
                this._map.on("moveend", function() {
                    var t = o.vD();
                    if (t) {
                        var i = {
                            centerId: t
                        };
                        o.gs.setRenderData(i)
                    }
                    o.gs.setRenderData({
                        changeFloor: !1
                    }),
                    o.setBarOpt(),
                    o.gs.uD()
                }))
            }
            ,
            Ca.prototype.setBarOpt = function() {
                var t = 1
                  , i = this.gs.ZI()
                  , e = i.centerId;
                if (e === this.WL)
                    return !1;
                if (i.floorInfo[e] && (t = i.floorInfo[e]),
                this.UL && this.UL[e] && this.UL[e].building) {
                    var n = this.UL[e].building.properties
                      , o = null
                      , r = null;
                    if (n && n.floor_nonas && (o = n.floor_nonas,
                    r = n.floor_indexs),
                    !o || !r)
                        return !1;
                    1 < r.length && r[0] > r[1] && (o = o.reverse(),
                    r = r.reverse()),
                    this.e$ && (this.e$.setOption({
                        floors: o,
                        floorIndexs: r,
                        currentFloor: Number(t)
                    }),
                    this.WL = e,
                    this.gs.setRenderData({
                        barCenterId: this.WL
                    }))
                }
            }
            ,
            Ca.prototype.qI = function(t) {
                for (var i = this._map.getCenter().toJSON(), e = null, n = "", o = Object.keys(t), r = 0; r < o.length; r++) {
                    var a = o[r]
                      , s = t[a];
                    if (s.building && s.building.properties && s.building.properties.centerPoint) {
                        var h = s.building.properties.centerPoint
                          , l = new AMap.LngLat(h[0],h[1])
                          , f = AMap.GeometryUtil.distance(i, l);
                        (!e || f < e) && (e = f,
                        n = a)
                    }
                }
                return n
            }
            ,
            Ca.prototype.vD = function() {
                for (var t = this._map.getCenter().toJSON(), i = null, e = "", n = this.gs.ZI().indoor, o = Object.keys(n), r = 0; r < o.length; r++) {
                    var a = o[r]
                      , s = n[a];
                    if (s.buildingCenter) {
                        var h = s.buildingCenter
                          , l = new AMap.LngLat(h[0],h[1])
                          , f = AMap.GeometryUtil.distance(t, l);
                        (!i || f < i) && (i = f,
                        e = a)
                    }
                }
                return e
            }
            ,
            Ca.prototype.fD = function(t, i) {
                var e = this.gs.ZI();
                e.floorInfo || (e.floorInfo = {}),
                e.floorInfo[t] = i,
                this.gs.setRenderData(e)
            }
            ,
            Ca.prototype.gS = function(t, i) {
                var e = Object.keys(t.data)[0];
                if (i && (e = i),
                !t.data[e])
                    return !1;
                var n = t.data[e].floor
                  , o = t.data[e].id;
                if (!n || !o)
                    return !1;
                var r = this.gs.ZI();
                this.fD(o, i),
                r.centerId === o && this.QI(t.building, o),
                this.o$(n, o, t.building, i),
                this.gs.mD(!0)
            }
            ,
            Ca.prototype.ar = function(t) {
                var i = this.gs.ZI().indoor;
                i && i[t] && (i[t].polygons && this.gs.$F.remove(i[t].polygons),
                i[t] && i[t].markers && 0 < i[t].markers.length && this.a$.remove(i[t].markers))
            }
            ,
            Ca.prototype.h$ = function(t) {
                var i = this;
                if (!t || !t.properties)
                    return null;
                var e = t.properties.poitype
                  , n = t.position
                  , o = e.join("_")
                  , r = this.l$[o] && this.l$[o][0]
                  , a = this.gs.ZI();
                if (r && r.styleOpts && r.styleOpts.iconId) {
                    var s = r.styleOpts.iconId
                      , h = _a.GC(s)
                      , l = {
                        position: n,
                        zooms: t.zooms,
                        opacity: a.opacity,
                        rank: 3e5,
                        icon: {
                            size: [18, 18],
                            image: h,
                            anchor: "center"
                        },
                        extData: t.properties,
                        innerOverlay: !0
                    };
                    if (t.text) {
                        var f = r.styleOpts.fillColor || "rgb(132,99,142)"
                          , u = r.styleOpts.strokeColor || "#FFFFFF";
                        l = wt.assign(l, {
                            text: {
                                content: t.text,
                                direction: "bottom",
                                style: {
                                    fillColor: f,
                                    strokeColor: u,
                                    fontSize: 12
                                }
                            }
                        })
                    }
                    var c = new ma(l);
                    return c.on("click", function(t) {
                        i._map && i._map.getStatus().isHotspot && i.bi("click", t)
                    }),
                    c.on("mousemove", function(t) {
                        i._map && i._map.getStatus().isHotspot && i.bi("mousemove", t)
                    }),
                    c.on("mouseout", function(t) {
                        i._map && i._map.getStatus().isHotspot && i.bi("mousemove", t)
                    }),
                    c
                }
                return null
            }
            ,
            Ca.prototype.bi = function(t, i) {
                var e, n = "hotspot", o = i.target.getExtData();
                switch (t) {
                case "click":
                    e = n + t;
                    break;
                case "mouseover":
                    e = n + "over";
                    break;
                case "mouseout":
                    e = n + "out"
                }
                if (e) {
                    var r = this._map.getProjection().unproject(i.lnglat.lng, i.lnglat.lat)
                      , a = (r[0],
                    r[1],
                    {
                        type: e,
                        id: o.pid,
                        name: o.name,
                        lnglat: i.lnglat,
                        originEvent: i.originEvent
                    });
                    this._map.emit(e, a)
                }
            }
            ,
            Ca.prototype.o$ = function(t, i, e, n) {
                var s = this;
                if (!this._map || !i)
                    return !1;
                var o = this.gs.ZI();
                this.ar(i),
                this._map.getZoom();
                for (var r = [], a = [], h = t.shops, l = t.floor, f = t.cons, u = {
                    building_id: i,
                    floor: l
                }, c = h.length, d = 0; d < c; d++) {
                    var p = h[d]
                      , v = p.properties
                      , m = p.geometry
                      , y = wt.assign({
                        shop: {
                            id: v.cpid,
                            name: v.name
                        }
                    }, u)
                      , g = "#FFFFFF"
                      , x = "#FE9A2E";
                    if (v && v.regiontype) {
                        var b = v.regiontype.join("_")
                          , _ = this.l$[b] && this.l$[b][0];
                        _ && _.styleOpts && (g = _.styleOpts.fillColor,
                        x = _.styleOpts.strokeColor)
                    }
                    var w = new AMap.Polygon({
                        path: m.coordinates,
                        innerOverlay: !0,
                        cursor: o.cursor,
                        zooms: this.YI,
                        fillColor: g,
                        strokeColor: x,
                        fillOpacity: o.opacity,
                        strokeOpacity: o.opacity,
                        strokeWeight: 1,
                        zIndex: o.zIndex + 2,
                        extData: {
                            indoorPolygon: !0,
                            indoorData: y,
                            id: i
                        }
                    });
                    if (w.on("click", function(t) {
                        var i = t.target.getExtData();
                        i.indoorData.ext = {
                            type: "polygon",
                            data: t
                        },
                        s.gs._emit("click", i.indoorData)
                    }),
                    w.on("mouseover", function(t) {
                        var i = t.target.getOptions()
                          , e = t.target.getExtData()
                          , n = t.lnglat;
                        if (e.originFillOpacity = i.fillOpacity,
                        e.originFillColor = i.fillColor,
                        t.target.setExtData(e),
                        i.fillOpacity = .4,
                        i.fillColor = "#B45F04",
                        t.target.setOptions(i),
                        e.indoorData && e.indoorData.shop && e.indoorData.shop.name) {
                            var o = '<div style="padding: 5px; border: 1px solid rgba(41,38,36,0.87);; white-space:nowrap; border-radius: 2px;color: #000000; background: #FBF5EF; font-size:12px;">' + e.indoorData.shop.name + "</div>";
                            s.JT = new AMap.Marker({
                                position: n,
                                content: o,
                                anchor: "bottom-left",
                                map: s._map,
                                noSelect: !0
                            })
                        }
                        var r = e.id;
                        if (r) {
                            var a = {
                                centerId: r,
                                changeFloor: !0
                            };
                            s.gs.setRenderData(a)
                        }
                        s.setBarOpt(),
                        s.gs.uD()
                    }),
                    w.on("mouseout", function(t) {
                        var i = t.target.getExtData()
                          , e = t.target.getOptions();
                        i.originFillOpacity && i.originFillColor && (e.fillOpacity = i.originFillOpacity,
                        e.fillColor = i.originFillColor),
                        t.target.setOptions(e),
                        s.JT && s._map.remove(s.JT)
                    }),
                    r.push(w),
                    v.zoom_min && v.zoom_max && v.font_anthor_point) {
                        var k = v.font_anthor_point
                          , M = {
                            position: new AMap.LngLat(k[0],k[1]),
                            text: v.name,
                            properties: v,
                            zooms: [v.zoom_min, v.zoom_max]
                        };
                        (D = this.h$(M)) && a.push(D)
                    }
                }
                var C = null
                  , S = [];
                if (l.geometry && l.geometry.coordinates) {
                    g = ka_fillColor,
                    x = ka_strokeColor,
                    o.centerId === i && (x = wa_strokeColor);
                    var z = l.geometry.coordinates;
                    if (l.geometry.type && "MultiPolygon" === l.geometry.type && z[0] && 1 < z[0].length) {
                        for (var R = [], A = 0; A < z[0].length; A++)
                            R.push(z[0][A]);
                        z = R
                    }
                    for (var I = 0; I < z.length; I++) {
                        var L = new AMap.Polygon({
                            strokeWeight: 3,
                            innerOverlay: !0,
                            zooms: this.YI,
                            path: z[I],
                            fillColor: g,
                            strokeColor: x,
                            zIndex: o.zIndex + 1,
                            fillOpacity: o.opacity,
                            strokeOpacity: o.opacity,
                            extData: {
                                indoorPolygon: !0,
                                id: i
                            }
                        });
                        C = !0,
                        L.on("mouseover", function(t) {
                            var i = t.target.getExtData().id;
                            if (i) {
                                var e = {
                                    centerId: i,
                                    changeFloor: !0
                                };
                                s.gs.setRenderData(e)
                            }
                            s.setBarOpt(),
                            s.gs.uD()
                        }),
                        S.push(L),
                        r.push(L)
                    }
                }
                o.showId && this.gs.setRenderData({
                    centerId: o.showId
                }),
                this.gs.uD(),
                this.gs.$F.add(r),
                o.indoor[i] || (o.indoor[i] = {}),
                o.indoor[i].curFloor = n,
                o.indoor[i].polygons = r,
                o.indoor[i].outline = S,
                e && e.properties && e.properties.centerPoint && (o.indoor[i].buildingCenter = e.properties.centerPoint),
                o && o.showId === i && C && "undefined" !== o.animateState && this._map.setStatus({
                    animateEnable: o.animateState
                });
                for (var T = f.length, $ = 0; $ < T; $++) {
                    var D, F = f[$], P = (m = F.geometry,
                    (v = F.properties).zoom_min), H = v.zoom_max;
                    M = {
                        properties: v,
                        position: new AMap.LngLat(m.coordinates[0],m.coordinates[1]),
                        zooms: [P, H]
                    },
                    (D = this.h$(M)) && a.push(D)
                }
                this.f$ || (this._map.add(this.a$),
                this.gs.setRenderData({
                    labelsLayer: this.a$
                }),
                this.f$ = !0),
                o.indoor[i].markers = a,
                void 0 !== o.zIndex && this.a$.setzIndex(o.zIndex + 9),
                this.a$.add(a);
                var O = this._map && this._map.showLabel;
                o.showLabels && O && this.a$.show(),
                this.gs.KI(o);
                var B = {
                    status: 0,
                    id: i,
                    building: {
                        id: i
                    }
                };
                if (e.properties) {
                    var E = e.properties;
                    B.building.name = E.name_cn,
                    B.building.lnglat = E.centerPoint,
                    B.building.floor = n || 1,
                    B.building.floor_details = {
                        floor_indexs: E.floor_indexs,
                        floor_nonas: E.floor_nonas,
                        floor_names: E.floor_names
                    },
                    this.gs.setRenderData(B)
                }
                o.complete || (o.complete = {}),
                o.complete[i] || (o.complete[i] = {}),
                o.complete[i][n] ? this.pD && (this.gs._emit("floor_complete", B),
                this.pD = !1) : (this.gs._emit("floor_complete", B),
                o.complete[i][n] = !0),
                this.gs.setRenderData(o.complete)
            }
            ,
            Ca);
            function Ca() {
                var t = ga.call(this) || this;
                return t._config = AMap.getConfig(),
                t.YI = [17, 22],
                t.l$ = _a.init(),
                t.a$ = new Pr({
                    opacity: 1,
                    collision: !0,
                    allowCollision: !0,
                    zIndex: 9,
                    zooms: [17, 22],
                    visible: !1
                }),
                t.GL = !1,
                t.i$ = !1,
                t.WL = "",
                t._map = null,
                t.f$ = !1,
                t.UL = null,
                t.pD = !1,
                t.t$(),
                t
            }
            var Sa, za = (Sa = wt.lw,
            wt.Ei(Ra, Sa),
            Ra.prototype.ro = function() {
                return {
                    visible: this._visible,
                    opacity: this.tl,
                    zIndex: this.Qh,
                    To: this,
                    path: this.$x,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            Ra.prototype.setMask = function(t) {
                var i;
                t && (this.$x = t,
                this.Vh().CS(),
                null !== (i = this.map) && void 0 !== i && i.setNeedUpdate(!1))
            }
            ,
            Ra.prototype.Lo = function() {
                return {
                    id: this.No,
                    type: "mask",
                    zooms: [2, 22]
                }
            }
            ,
            Ra.prototype.co = function() {
                return this.No
            }
            ,
            Ra.prototype.lo = function() {
                return !0
            }
            ,
            Ra);
            function Ra(t) {
                var i = Sa.call(this, t) || this;
                return i.CLASS_NAME = "AMap.MaskLayer",
                i.$x = t.path,
                i.Qh = t.zIndex || -100,
                i.tl = void 0 === t.opacity ? 1 : t.opacity,
                i._visible = void 0 === t.visible || t.visible,
                i.xt = t.zooms || [2, 22],
                i
            }
            var Aa = (Ia.prototype.destroy = function() {
                this.wo && this.wo.parentNode && this.wo.parentNode.removeChild(this.wo)
            }
            ,
            Ia);
            function Ia() {}
            var La, Ta = (La = Aa,
            wt.Ei($a, La),
            $a.prototype.Kn = function(t, i, e, n, o, r) {
                o.map;
                var a = e.$n
                  , s = r.eo()
                  , h = s.zooms || [2, 22]
                  , l = a.boundsCoord
                  , f = [0, 0];
                if (this.wo.style.zIndex = s.zIndex + "",
                this.wo.style.opacity = s.opacity + "",
                this.wo.style.visibility = s.visible ? "visible" : "hidden",
                this.bo !== a.zoom && this.xo(),
                !(i.tiles.length <= 0 || a.optimalZoom < h[0] || a.optimalZoom > h[1])) {
                    this.mo = [l[0], l[3]];
                    var u = i.tiles || [];
                    this.ko(u);
                    for (var c = 0, d = u.length; c < d; c += 1)
                        for (var p = u[c], v = 0, m = p.length; v < m; v += 1) {
                            var y = p[v];
                            if ("loaded" === y.status) {
                                var g = y.Ro;
                                f[0] = g[0] - this.mo[0],
                                f[1] = g[3] - this.mo[1];
                                var x = {
                                    center: a.centerCoord,
                                    rotation: a.rotation,
                                    size: e.size,
                                    $n: a
                                }
                                  , b = wt.V[a.projectionId].yo(f[0], f[1], y.zo.z, x);
                                if (y.data) {
                                    var _, w = Math.pow(2, a.zoom - y.zo.z), k = Math.ceil(256 * w) + "px", M = y.data;
                                    this.So.contains ? this.So.contains(y.data) && ((_ = new Image).src = y.data.src,
                                    M = _) : y.data.parentNode === this.So && ((_ = new Image).src = y.data.src,
                                    M = _),
                                    "CANVAS" === y.data.tagName && ((M = new Image).src = y.data.toDataURL()),
                                    this.Co[y.zo.key] = y,
                                    M.className = "xyz-" + y.zo.x + "-" + y.zo.y + "-" + y.zo.z,
                                    M.style.width = M.style.height = k,
                                    M.width = M.height = Math.ceil(256 * w),
                                    M.style.left = Math.ceil(b[0] * w) + "px",
                                    M.style.top = Math.ceil(b[1] * w) + "px",
                                    this.Co[y.zo.key] && this.bo === a.zoom && (this.Co[y.zo.key].data = y.data,
                                    (_ = this.wo.querySelector(".xyz-" + y.zo.x + "-" + y.zo.y + "-" + y.zo.z)) && this.wo.removeChild(_)),
                                    this.So.appendChild(M)
                                }
                            }
                        }
                    this.wo.appendChild(this.So),
                    this.bo = a.zoom
                }
            }
            ,
            $a.prototype.getContainer = function() {
                return this.wo
            }
            ,
            $a.prototype.destroy = function() {
                this.wo && this.wo.parentNode && this.wo.parentNode.removeChild(this.wo)
            }
            ,
            $a.prototype.GT = function(t, i) {
                this.wo = document.createElement("div"),
                this.wo.className = "amap-layer amap-layer-tile amap-" + i.co(),
                this.wo.style.zIndex = i.eo().zIndex + "",
                this.wo.style.opacity = i.eo().opacity + "",
                this.wo.style.visibility = i.eo().visible ? "visible" : "hidden",
                this.So = document.createDocumentFragment(),
                t.do.appendChild(this.wo)
            }
            ,
            $a.prototype.xo = function() {
                this.wo.innerHTML = "",
                this.Co = {}
            }
            ,
            $a.prototype.ko = function(t) {
                for (var i = Object.keys(this.Co), e = 0, n = i.length; e < n; e++) {
                    for (var o = i[e], r = !1, a = 0, s = t.length; a < s; a++)
                        for (var h = t[a], l = 0, f = h.length; l < f; l++)
                            if (h[l].zo.key === o) {
                                r = !0;
                                break
                            }
                    if (!r) {
                        var u = this.Co[o].zo
                          , c = this.wo.querySelector(".xyz-" + u.x + "-" + u.y + "-" + u.z);
                        delete this.Co[o],
                        c && this.wo.removeChild(c)
                    }
                }
            }
            ,
            $a);
            function $a(t, i) {
                var e = La.call(this) || this;
                return e.Co = {},
                e.bo = 0,
                e.GT(t, i),
                e
            }
            var Da, Fa = (Da = Aa,
            wt.Ei(Pa, Da),
            Pa.prototype.Kn = function(t, i, e, n, o, r) {
                var a = o.map
                  , s = i.Ro
                  , h = r.eo();
                this.wo.style.zIndex = h.zIndex + "",
                this.wo.style.opacity = h.opacity + "",
                this.wo.style.visibility = h.visible ? "visible" : "hidden";
                var l = a.coordToContainer([s[0], s[3]])
                  , f = a.coordToContainer([s[2], s[1]]);
                i.image.style.top = l[1] + "px",
                i.image.style.left = l[0] + "px",
                i.image.style.width = f[0] - l[0] + "px",
                i.image.style.height = f[1] - l[1] + "px",
                this.wo.appendChild(i.image)
            }
            ,
            Pa.prototype.getContainer = function() {
                return this.wo
            }
            ,
            Pa.prototype.GT = function(t, i) {
                this.wo = document.createElement("div"),
                this.wo.className = "amap-layer amap-layer-image amap-" + i.co(),
                this.wo.style.zIndex = i.eo().zIndex + "",
                this.wo.style.opacity = i.eo().opacity + "",
                this.wo.style.visibility = i.eo().visible ? "visible" : "hidden",
                t.do.appendChild(this.wo)
            }
            ,
            Pa.prototype.xo = function() {
                this.wo.innerHTML = ""
            }
            ,
            Pa);
            function Pa(t, i) {
                var e = Da.call(this) || this;
                return e.GT(t, i),
                e
            }
            var Ha = (Oa.add = function() {
                for (var t = [], i = 0; i < arguments.length; i++)
                    t[i] = arguments[i]
            }
            ,
            Oa);
            function Oa() {}
            var Ba = (Ea.prototype.open = function(t, i, e) {
                var n = this;
                if (!this.Hy) {
                    var o = this.Jy
                      , r = AMap.getConfig().server + "/verify/";
                    if (wt._.$e)
                        this.Ky.style.marginLeft = -Math.min(330, screen.width) / 2 + "px",
                        document.body.appendChild(this.Ky);
                    else {
                        var a = this.Qy("amap-container", document.body)[0];
                        if (a && 322 < a.clientWidth && 346 < a.clientHeight)
                            this.Ky.style.position = "absolute",
                            a.appendChild(this.Ky);
                        else {
                            var s = 0
                              , h = 0;
                            if (a) {
                                var l = P.getViewportOffset(a);
                                s = l[0],
                                h = l[1]
                            }
                            this.Ky.style.top = "0%",
                            this.Ky.style.left = "0%";
                            var f = (.5 - s) / 5
                              , u = (.5 - h) / 5
                              , c = setInterval(function() {
                                h += u,
                                .5 - (s += f) < .05 && .5 - h < .05 ? (n.Ky.style.top = "50%",
                                n.Ky.style.left = "50%",
                                clearInterval(c)) : (n.Ky.style.top = 100 * h + "%",
                                n.Ky.style.left = 100 * s + "%")
                            }, 25);
                            document.body.appendChild(this.Ky)
                        }
                    }
                    var d = !0;
                    o.onload = function() {
                        d ? d = !1 : n.Hy && (n.Ky.parentNode && n.Ky.parentNode.removeChild(n.Ky),
                        n.Hy = !1,
                        n.tx())
                    }
                    ,
                    o.src = r + "jsapi.html?channel=JSAPI-" + t + "&from=" + encodeURIComponent(r + "success.html") + "&th=" + i + "&restUrl=" + encodeURIComponent(e),
                    this.Hy = !0
                }
            }
            ,
            Ea.prototype.ix = function(t) {
                this.ex = t
            }
            ,
            Ea.prototype.tx = function() {
                this.ex && this.ex()
            }
            ,
            Ea.prototype.Qy = function(t, i) {
                if (window.getElementsByClassName)
                    return window.getElementsByClassName(t, i);
                for (var e = (i || document).getElementsByTagName("*"), n = [], o = 0; o < e.length; o += 1)
                    for (var r = e[o], a = r.className.split(" "), s = 0; s < a.length; s += 1)
                        if (a[s] === t) {
                            n.push(r);
                            break
                        }
                return n
            }
            ,
            Ea.prototype.nx = function() {
                var t = document.createElement("div");
                t.className = "amap-popup",
                t.style.zIndex = "2147483647";
                var i = document.createElement("iframe");
                return i.className = "amap-popup-content",
                t.appendChild(i),
                i.style.width = Math.min(330, screen.width) + "px",
                this.Jy = i,
                t
            }
            ,
            Ea);
            function Ea() {
                this.Hy = !1,
                this.ex = null,
                this.Ky = this.nx()
            }
            var ja = {
                "restapi.amap.com/v3/place/text": "KEYWORD",
                "restapi.amap.com/v3/place/polygon": "POLYGON",
                "restapi.amap.com/v3/place/around": "NEARBY",
                "restapi.amap.com/v3/place/detail": "ID",
                "restapi.amap.com/v3/geocode/regeo": "REGEO"
            }
              , Na = new Ba;
            Na.ix(function() {
                Wa.ox = !1;
                for (var t = Wa.ax, i = 0, e = t.length; i < e; i += 1) {
                    var n = t[i];
                    10 < e - i ? t[2]({
                        status: "error",
                        info: "TIME_OUT_A"
                    }) : Wa.get(n[0], n[1], n[2])
                }
                Wa.ax = []
            });
            var Wa = (Ua.get = function(e, n, o, t) {
                if (void 0 === t && (t = {}),
                Ua.ox)
                    Ua.ax.push([e, n, o]);
                else {
                    var i = e.split("://")[1]
                      , r = ja[i]
                      , a = void 0 !== r
                      , s = AMap.getConfig()
                      , h = s.key
                      , l = s.version
                      , f = s.appname
                      , u = e + "?platform=JS&s=rsv3&logversion=2.0&key=" + h + "&sdkversion=" + l + "&appname=" + f + "&csid=" + wt.Util.sx();
                    for (var c in n)
                        n.hasOwnProperty(c) && (u += "&" + c + "=" + n[c]);
                    gn.JSONP(u, function(t, i) {
                        "complete" === t ? (i = i.data,
                        a && 3e4 === i.errcode && i.data ? (Ua.ox = !0,
                        Ua.ax.push([e, n, o]),
                        Na.open(r, i.data.host, u)) : o(t, i)) : o(t, i)
                    }, t)
                }
            }
            ,
            Ua.post = function(t, i, e) {
                var n = AMap.getConfig()
                  , o = t + "?platform=JS&s=rsv3&logversion=2.0&key=" + n.key + "&sdkversion=" + n.version + "&appname=" + n.appname + "&csid=" + wt.Util.sx();
                gn.Ajax(o, {
                    type: "POST",
                    content: JSON.stringify(i),
                    requestContentType: "text/plain"
                }, function(t, i) {
                    "complete" === t ? (i = i.data,
                    e(t, JSON.parse(i))) : e(t, i)
                })
            }
            ,
            Ua.ox = !1,
            Ua.ax = [],
            Ua);
            function Ua() {}
            function Ga(t, i, r) {
                var e = AMap.getConfig()
                  , n = e.server + "/v3/assistant/coordinate/convert"
                  , o = AMap.Util.parseLngLatData(t)
                  , a = [];
                if (o instanceof Array) {
                    for (var s = 0, h = o.length; s < h; s += 1)
                        a.push(o[s] + "");
                    a = a.join(";")
                } else
                    a = o + "";
                var l = {
                    key: e.key,
                    s: "rsv3",
                    locations: a,
                    coordsys: i || "gps"
                };
                AMap.WebService.get(n, l, function(t, i) {
                    if ("complete" === t && i.status && "1" === i.status) {
                        for (var e = i.locations.split(";"), n = 0; n < e.length; n += 1) {
                            var o = e[n].split(",");
                            e[n] = new AMap.LngLat(o[0],o[1])
                        }
                        r && "function" == typeof r && r("complete", {
                            info: "ok",
                            locations: e
                        })
                    } else
                        r && "function" == typeof r && r("error", i.info);
                    "error" === t && r("error", i.info)
                })
            }
            var Va, Ja, Ya = {
                pointerCursor: !0
            }, Za = (Va = wt.Event,
            wt.Ei(Xa, Va),
            Xa.prototype.oF = function(t) {
                var i, e = t.D$();
                "zh_cn" === e ? i = this.rF : (i = Xa.aF.protocol + "://mapclick.amap.com/poi",
                wt._.mobile && (i += "_mo"),
                "zh_cn" !== e && (i += "_" + e),
                i += "/poi"),
                this.$o !== i && (this.$o = i,
                Xa.sF = {},
                Xa.data = {},
                this.hF())
            }
            ,
            Xa.prototype.setMap = function(t) {
                Ha.add(this, "setMap");
                var i = this._map;
                i && (i.off("click", this.lF, this),
                i.off("mousemove", this.jL, this),
                i.off("moveend", this.hF, this),
                i.off("zoomend", this.hF, this),
                i.off("viewreset", this.hF, this)),
                (this._map = t) ? "3D" !== t.getViewMode_() && (this.oF(t),
                t.on("click", this.lF, this),
                t.on("mousemove", this.jL, this),
                t.on("moveend", this.hF, this),
                t.on("zoomend", this.hF, this),
                t.on("viewreset", this.hF, this),
                this.hF()) : Xa.sF = {}
            }
            ,
            Xa.prototype.fF = function(t, i) {
                var e = parseInt(t.ic, 10);
                if (i <= 18 && 14 <= i) {
                    if (335 <= e && e <= 374)
                        return !1;
                    if (436 <= e && e <= 444)
                        return !1;
                    if (431 === e || 432 === e || 434 === e || 447 === e || 448 === e)
                        return !1
                }
                return !(!(18 !== i && 17 !== i || 375 !== e && 3751 !== e && 445 !== e && 376 !== e) || 18 === i && 323 === e || 13 === i && 334 === e || i <= 18 && 10 <= i && 8e3 === e || i <= 18 && 13 <= i && 381 === e)
            }
            ,
            Xa.prototype.lF = function(t) {
                var i = this.uF(t.lnglat);
                i && this._map && this._map.emit("hotspotclick", i)
            }
            ,
            Xa.prototype.jL = function(t) {
                var i = this.uF(t.lnglat);
                i && this.cF !== i && (this.dF && this._map.setCursor("pointer"),
                this.cF && this._map.emit("hotspotout", this.cF),
                this._map.emit("hotspotover", i)),
                !i && this.cF && (this.dF && this._map.setCursor(this._map.getDefaultCursor()),
                this._map.emit("hotspotout", this.cF)),
                this.cF = i
            }
            ,
            Xa.prototype.hF = function() {
                var e = this;
                if (this._map) {
                    Xa.data || (Xa.data = {}),
                    Xa.sF || (Xa.sF = {});
                    var n = this.pF();
                    if (Math.ceil(n) === this.pF()) {
                        var t = this.vF();
                        t && Wa.get(this.$o, {
                            tiles: t,
                            level: n
                        }, function(t, i) {
                            e._map && e.mF(i, n)
                        }, {
                            callback: "cbk"
                        })
                    }
                }
            }
            ,
            Xa.prototype.vF = function() {
                var t = this._map
                  , i = this.pF()
                  , e = t.getBounds()
                  , n = this.du
                  , o = e.getNorthWest().pos
                  , r = e.getSouthEast().pos
                  , a = this.yF
                  , s = o[0] + a
                  , h = a - r[1]
                  , l = r[0] + a
                  , f = a - o[1]
                  , u = Math.pow(2, 20 - i)
                  , c = s / u / n
                  , d = f / u / n
                  , p = l / u / n
                  , v = h / u / n
                  , m = Math.floor(c / 256)
                  , y = Math.floor(d / 256)
                  , g = Math.floor(p / 256)
                  , x = Math.floor(v / 256)
                  , b = Math.pow(2, i);
                g < m && (g += b);
                for (var _ = [], w = m; w <= g; w += 1)
                    for (var k = y; k <= x; k += 1) {
                        var M = [i, w, k].join("_");
                        Xa.sF[M] || (_.push(w + "," + k),
                        Xa.sF[M] = 1)
                    }
                return _.length ? _.join(";") : null
            }
            ,
            Xa.prototype.mF = function(t, i) {
                if (t.list) {
                    var e = t.list;
                    for (var n in e)
                        if (e.hasOwnProperty(n))
                            for (var o = e[n], r = 0; r < o.length; r += 1) {
                                var a = o[r];
                                if (this.fF(a, i)) {
                                    for (var s = {
                                        id: a.id,
                                        name: a.n.replace(/\^/g, ""),
                                        lnglat: new wt.LngLat(a.p[0],a.p[1])
                                    }, h = [], l = ["b", "ib"], f = 0, u = l.length; f < u; f++) {
                                        var c = a[l[f]];
                                        c && h.push.apply(h, this.xF(new wt.LngLat(c[0],c[3]), new wt.LngLat(c[2],c[1]), i))
                                    }
                                    for (var d = 0; d < h.length; d += 1) {
                                        var p = h[d][0]
                                          , v = h[d][1];
                                        Xa.data[p] || (Xa.data[p] = {}),
                                        Xa.data[p][v] = s
                                    }
                                }
                            }
                }
            }
            ,
            Xa.prototype.bF = function(t) {
                var i = this.pF()
                  , e = Math.pow(2, 20 - i)
                  , n = this.yF
                  , o = this.du
                  , r = this._map.getProjection().project(t.lng, t.lat)
                  , a = this.Xa
                  , s = Math.round(n + r[0]) / o / e
                  , h = Math.round(n - r[1]) / o / e;
                return {
                    gF: Math.floor(s / a),
                    wF: Math.floor(h / a),
                    offsetX: s % a,
                    offsetY: h % a
                }
            }
            ,
            Xa.prototype.xF = function(t, i, e) {
                var n = this.bF(t)
                  , o = this.bF(i)
                  , r = [];
                o.offsetX += 256 * (o.gF - n.gF),
                o.offsetY += 256 * (o.wF - n.wF);
                for (var a = n.gF; a <= o.gF; a += 1)
                    for (var s = n.wF; s <= o.wF; s += 1) {
                        var h = [e, a, s].join("_")
                          , l = [Math.max(256 * (a - n.gF), n.offsetX) % 256, Math.max(256 * (s - n.wF), n.offsetY) % 256, Math.min(256 * (a - n.gF + 1) - 1, o.offsetX) % 256, Math.min(256 * (s - n.wF + 1) - 1, o.offsetY) % 256].join("_");
                        r.push([h, l])
                    }
                return r
            }
            ,
            Xa.prototype.uF = function(t) {
                var i = this.bF(t);
                if (this._map) {
                    var e = [this.pF(), i.gF, i.wF].join("_");
                    if (Xa.data[e]) {
                        var n = Xa.data[e];
                        for (var o in n)
                            if (n.hasOwnProperty(o)) {
                                var r = o.split("_")
                                  , a = parseInt(r[0], 10)
                                  , s = parseInt(r[1], 10)
                                  , h = parseInt(r[2], 10)
                                  , l = parseInt(r[3], 10);
                                if (i.offsetX >= a && i.offsetX <= h && i.offsetY >= s && i.offsetY <= l)
                                    return n[o]
                            }
                    }
                    return null
                }
            }
            ,
            Xa.prototype.pF = function() {
                var t = this._map
                  , i = 18;
                return t && (i = 18 < (i = Math.floor(t.getZoom())) ? 18 : i),
                i
            }
            ,
            Xa.sF = {},
            Xa.data = {},
            Xa.aF = {
                protocol: "https"
            },
            Xa);
            function Xa(t, i, e) {
                var n = Va.call(this) || this;
                return n.CLASS_NAME = "AMap.HotSpot",
                n.rF = Xa.aF.protocol + "://vdata.amap.com/mapclick",
                n.yF = 20037508.342789244,
                n.Xa = 256,
                n.du = 156543.03392804097 / Math.pow(2, 20),
                e = wt.assign({}, Ya, e),
                Ha.add(n, e),
                n.$o = i || n.rF,
                n.dF = e.pointerCursor || !0,
                t && n.setMap(t),
                n
            }
            function qa(t) {
                var i = Ja.call(this, t) || this;
                return i.context = void 0,
                i.Ao = [],
                i.map = t,
                i.GT(t.getLayers()),
                i._F = new Za(t),
                i
            }
            Ja = me,
            wt.Ei(qa, Ja),
            qa.prototype.to = function() {
                this.map && this.map.setNeedUpdate(!0)
            }
            ,
            qa.prototype.Kn = function(t) {
                var i = t.layers.sort(function(t, i) {
                    return t.eo().zIndex - i.eo().zIndex
                });
                this.lS(null, t),
                t.$n.zoom;
                for (var e = !0, n = 0, o = i.length; n < o; n += 1) {
                    var r = i[n]
                      , a = r.ro()
                      , s = i[n].ho();
                    if (s) {
                        r.lo() || (e = !1);
                        var h = t.uo.getData(i[n].co(), t.$n, void 0);
                        h && s.Kn(void 0, h, t, a, this, r)
                    }
                }
                !this.map.complete && e && (this.map.emit("complete"),
                this.map.complete = !0),
                this.map.getView().h_() || (this.map.getView().aD(),
                this.map.emit("viewchange", {
                    view: this.map.getView(),
                    type: this.map.getView().type || "3D"
                }))
            }
            ,
            qa.prototype.HT = function(t) {
                switch (t.CLASS_NAME) {
                case "AMap.NebulaLayer":
                case "AMap.ImageLayer":
                    return new Fa(this.map,t);
                case "AMap.VectorLayer":
                case "AMap.VectorSvgLayer":
                    return t.ho();
                case "AMap.RasterLayer":
                case "AMap.TileLayer":
                case "AMap.TileLayer.Flexible":
                case "AMap.TileLayer.RoadNet":
                case "AMap.TileLayer.Satellite":
                case "AMap.TileLayer.Traffic":
                case "AMap.TileLayer.WMS":
                case "AMap.TileLayer.WMTS":
                    return new Ta(this.map,t);
                case "AMap.SkyLayer":
                    return new Ka;
                case "AMap.IndoorMap":
                    return new Ma;
                case "AMap.LabelsLayer":
                    return new Br;
                case "AMap.CustomLayer":
                    return new Mo;
                default:
                    return new Ta(this.map,t)
                }
            }
            ,
            qa.prototype.destroy = function() {
                for (var t = 0, i = this.Ao; t < i.length; t++)
                    i[t].To.destroy();
                this.Ao = []
            }
            ,
            qa.prototype.GT = function(t) {
                for (var i = 0; i < t.length; i++) {
                    var e = t[i]
                      , n = this.HT(e);
                    if (n) {
                        var o = "labelsLayer" === n.type || "customLayer" === n.type;
                        e.Do(n),
                        this.Ao.push({
                            To: e,
                            render: n,
                            jo: n && o ? null : n.getContainer()
                        })
                    }
                }
            }
            ;
            var Qa, Ka = (Qa = Aa,
            wt.Ei(ts, Qa),
            ts.prototype.getContainer = function() {
                return this.wo
            }
            ,
            ts.prototype.Kn = function() {}
            ,
            ts);
            function ts() {
                var t = Qa.call(this) || this;
                return t.wo = document.createElement("div"),
                t
            }
            var is, es = (is = wt.Event,
            wt.Ei(ns, is),
            ns.prototype.TL = function() {
                return this.gm || this.Lv || this.lt || this.Cv
            }
            ,
            ns.prototype.getContext = function() {
                return this.mm.context
            }
            ,
            ns.prototype.getView = function() {
                return this._view
            }
            ,
            ns.prototype.getContainer = function() {
                return this.kv
            }
            ,
            ns.prototype.getSize = function() {
                return new wt.Size(this.kv.clientWidth,this.kv.clientHeight)
            }
            ,
            ns.prototype.addLayer = function(t) {
                if ("d" === wt._.baseRender && /^AMap\.DistrictLayer$/g.test(t.CLASS_NAME))
                    console.log("浏览器版本过低，请升级最新版本的浏览器，或使用高版本火狐、谷歌等浏览器。");
                else {
                    var i = (t.map = this).Mv.qh(t.Lo(), this._view.au(), t);
                    t.Hh(this.Mv),
                    t.Kh(i);
                    var e = this.Rv(t, {});
                    if (t.Do(e),
                    this.zv.push(t),
                    this.zv.sort(function(t, i) {
                        return t.getOptions().zIndex - i.getOptions().zIndex
                    }),
                    ("AMap.NebulaLayer" === t.CLASS_NAME || "AMap.TileLayer.RoadNet" === t.CLASS_NAME) && !1 !== this.showLabel && "w" === this.baseRender) {
                        var n = wt.filter(this.zv, function(t) {
                            return "AMap.Nebula.LabelsLayer" === t.CLASS_NAME
                        });
                        n.length ? n[0].oP() && n[0].show() : this.addLayer(new Bn(wt.Ln(wt.Ln({}, this.options), {
                            rejectMapMask: !0
                        })))
                    }
                    "AMap.NebulaLayer" === t.CLASS_NAME && this.yS() && (wt.some(this.zv, function(t) {
                        return "AMap.Buildings" === t.CLASS_NAME
                    }) || this.addLayer(new AMap.Buildings({
                        zooms: [16.8, 22],
                        rejectMapMask: !0,
                        zIndex: 10,
                        visible: !0,
                        u$: !0
                    }))),
                    this.c$ && (wt.some(this.zv, function(t) {
                        return "AMap.MaskLayer" === t.CLASS_NAME
                    }) || this.d$ || (this.d$ = new za({
                        zIndex: -10,
                        visible: !0,
                        path: this.c$
                    }),
                    this.addLayer(this.d$))),
                    "3D" === this.getView().type && (wt.some(this.zv, function(t) {
                        return "AMap.SkyLayer" === t.CLASS_NAME
                    }) || this.addLayer(new Kr({
                        zIndex: -1,
                        visible: !0,
                        skyColor: this.$C
                    }))),
                    t.p$ && t.p$(),
                    this.d_(),
                    this.setNeedUpdate(!0)
                }
            }
            ,
            ns.prototype.removeLayer = function(t) {
                for (var i, e = 0; e < this.zv.length; e++)
                    this.zv[e] === t && (this.zv.splice(e, 1),
                    t.v$ && (t.v$(),
                    "d" === wt._.baseRender && null !== (i = t.ho()) && void 0 !== i && i.destroy()),
                    t.map = null,
                    --e);
                this.d_(),
                this.setNeedUpdate(!0)
            }
            ,
            ns.prototype.setLayers = function(t) {
                for (var i = 0; i < this.zv.length; i++)
                    "AMap.VectorLayer" !== (e = this.zv[i]).CLASS_NAME && this.removeLayer(e);
                for (i = 0; i < t.length; i++) {
                    var e;
                    (e = t[i]).setMap(this)
                }
            }
            ,
            ns.prototype.getLayers = function() {
                return this.zv.filter(function(t) {
                    return !t._opts || !t._opts.TF
                })
            }
            ,
            ns.prototype.DF = function() {
                return this.zv
            }
            ,
            ns.prototype.getDefaultLayer = function() {
                for (var t = this.getLayers(), i = 0; i < t.length; i++) {
                    var e = t[i];
                    if (e instanceof $n || "_defaultLayer" === e.eo().id)
                        return e
                }
            }
            ,
            ns.prototype.getLayerByClass = function(t) {
                for (var i = this.getLayers(), e = 0; e < i.length; e++) {
                    var n = i[e];
                    if (n.CLASS_NAME === t)
                        return n
                }
            }
            ,
            ns.prototype.isDOMMode = function() {
                return !wt._.isWebGL || "d" === this.baseRender
            }
            ,
            ns.prototype.getMapState = function() {
                return {
                    zooming: this.lt,
                    panning: this.Cv,
                    rotating: this.Lv
                }
            }
            ,
            ns.prototype.getControlContainer = function() {
                return this.Tv
            }
            ,
            ns.prototype.getMapsContainer = function() {
                return this.Iv
            }
            ,
            ns.prototype.getStatus = function() {
                return {
                    dragEnable: this.Dv,
                    zoomEnable: this.Pv,
                    doubleClickZoom: this.fi,
                    keyboardEnable: this.jv,
                    jogEnable: this.Ov,
                    scrollWheel: this.Fv,
                    animateEnable: this.Ev,
                    touchZoomCenter: this.Nv,
                    touchZoom: this.$v,
                    pitchEnable: this.Uv,
                    rotateEnable: this.Bv,
                    showBuildingBlock: this.m$,
                    isHotspot: this.Wv,
                    mapstyleUrl: this.c_,
                    features: this.Cw,
                    allBubble: this.HL
                }
            }
            ,
            ns.prototype.setStatus = function(t) {
                this.Dv = void 0 !== t.dragEnable ? t.dragEnable : this.Dv,
                this.Pv = void 0 !== t.zoomEnable ? t.zoomEnable : this.Pv,
                this.fi = void 0 !== t.doubleClickZoom ? t.doubleClickZoom : this.fi,
                this.jv = void 0 !== t.keyboardEnable ? t.keyboardEnable : this.jv,
                this.Ov = void 0 !== t.jogEnable ? t.jogEnable : this.Ov,
                this.Fv = void 0 !== t.scrollWheel ? t.scrollWheel : this.Fv,
                this.Ev = void 0 === t.animateEnable ? this.Ev : t.animateEnable,
                this.Uv = void 0 === t.pitchEnable ? this.Uv : t.pitchEnable,
                this.$v = void 0 === t.touchZoom ? this.$v : t.touchZoom,
                this.Wv = void 0 === t.isHotspot ? this.Wv : t.isHotspot,
                this.Bv = void 0 === t.rotateEnable ? this.Bv : t.rotateEnable,
                this.HL = void 0 === t.allBubble ? this.HL : t.allBubble
            }
            ,
            ns.prototype.getBuildingColor = function() {
                return {
                    buildingColor: this.az,
                    roofColor: this.rz,
                    wallColor: this.sz
                }
            }
            ,
            ns.prototype.getMask = function() {
                return this.c$
            }
            ,
            ns.prototype._setStyle = function(t) {
                this.mapStyle.setStyle(t, this)
            }
            ,
            ns.prototype.f_ = function(t) {
                var i = this;
                if (!t)
                    return !1;
                "d" !== this.baseRender ? (this.c_ = t,
                this.mapStyle.pn(function() {
                    i._getUserStyle(t),
                    i.d_()
                })) : console.log("浏览器版本过低，请升级最新版本的浏览器，或使用高版本火狐、谷歌等浏览器。")
            }
            ,
            ns.prototype.getProjection = function() {
                return wt.at.getProjection(this._view.au())
            }
            ,
            ns.prototype.getDefaultCursor = function() {
                return this.Zv
            }
            ,
            ns.prototype.setDefaultCursor = function(t) {
                this.Zv = t,
                this.setCursor()
            }
            ,
            ns.prototype.setCursor = function(t) {
                this.kv && (t = t || this.getDefaultCursor()) !== this.qv && (wt._.$e || (this.kv.style.cursor = t),
                this.qv = t)
            }
            ,
            ns.prototype.destroy = function() {
                this.G("beforeDestroy"),
                this.y$ = !0,
                this.x$ && this.x$.destroy(),
                this.gn && this.gn.destroy(),
                this.Vv(),
                this.Xv(),
                this.Hv(),
                this.G("afterDestroy")
            }
            ,
            ns.prototype.getLimitBounds = function() {
                return this.it
            }
            ,
            ns.prototype.setLimitBounds = function(t) {
                this.it = t instanceof Le ? t : new Le(t)
            }
            ,
            ns.prototype.clearLimitBounds = function() {
                this.it = void 0
            }
            ,
            ns.prototype.getZooms = function() {
                return [Math.max(this.xt[0], 2), Math.min(20, this.xt[1])]
            }
            ,
            ns.prototype.setZooms = function(t) {
                this.xt = t
            }
            ,
            ns.prototype.setNeedUpdate = function(t) {
                this.Jv = 5,
                t && !this.Kv && (this.Kv = t,
                wt.Util.cancelAnimFrame(this.Qv),
                this.Qv = 0,
                this.Eo()),
                this.Kv = t
            }
            ,
            ns.prototype.render = function() {
                this.setNeedUpdate(!0)
            }
            ,
            ns.prototype.np = function() {
                this.x$.np()
            }
            ,
            ns.prototype.commonWordTextureLoaded = function() {
                this.x$.commonWordTextureLoaded()
            }
            ,
            ns.prototype.qz = function() {
                return !1 !== this.showLabel && (!this.Cw || -1 < this.Cw.indexOf("point"))
            }
            ,
            ns.prototype.Qz = function() {
                return !1 !== this.showLabel && (!this.Cw || -1 < this.Cw.indexOf("road"))
            }
            ,
            ns.prototype.yS = function() {
                return !!this.m$ || void 0 === this.m$ && (!this.Cw || -1 < this.Cw.indexOf("building"))
            }
            ,
            ns.prototype.getViewMode_ = function() {
                return this._view.type
            }
            ,
            ns.prototype.fS = function() {
                return this.b$
            }
            ,
            ns.prototype.XT = function(t) {
                this.QT = t
            }
            ,
            ns.prototype.JF = function() {
                var t = this.mapStyle.vn.MF("sky", this._view.getStatus().optimalZoom);
                return t = t && wt.Sp.Up(t, 255),
                this.$C || t || [.329, .549, .839, 1]
            }
            ,
            ns.prototype.qF = function() {
                return this.tB
            }
            ,
            ns.prototype.jH = function() {
                return this.NH
            }
            ,
            ns.prototype.UH = function(t) {
                this.Mv.UH(t)
            }
            ,
            ns.prototype.im = function() {
                return this.Mv
            }
            ,
            ns.prototype.em = function(t, i, e) {
                if (void 0 === i && (i = [0, 0, 0, 0]),
                void 0 === e && (e = ns.t_[1]),
                !t)
                    return [116.39708007097433, 39.874529056682476, 12];
                var n = wt.at.getProjection(this._view.au())
                  , o = wt.V[this._view.au()]
                  , r = n.project(t[0], t[1])
                  , a = n.project(t[2], t[3])
                  , s = [a[0] - r[0], a[1] - r[1]]
                  , h = this.getSize().toArray()
                  , l = this._view.getStatus().pitch
                  , f = this._view.getStatus().rotation;
                f *= Math.PI / 180;
                var u = (i[2] - i[3]) / 2
                  , c = (i[0] - i[1]) / 2
                  , d = u * Math.cos(f) + Math.sin(f) * c
                  , p = -Math.sin(f) * u + Math.cos(f) * c
                  , v = s[0];
                0 != f && (s[0] = Math.abs(s[0] * Math.cos(f)) + Math.abs(s[1] * Math.sin(f)),
                s[1] = Math.abs(s[1] * Math.cos(f)) + Math.abs(v * Math.sin(f)));
                var m = Math.max(10, h[0] - i[2] - i[3])
                  , y = Math.max(10, h[1] - i[0] - i[1])
                  , g = Math.log(156543.03392804097 / s[0] * m) / Math.log(2)
                  , x = Math.log(156543.03392804097 / s[1] * y) / Math.log(2)
                  , b = Math.min(g, x);
                0 < l && (b -= l / 60),
                b = Math.min(b, e);
                var _ = [(t[0] + t[2]) / 2, (t[1] + t[3]) / 2]
                  , w = o.project(_[0], _[1], b);
                w[0] -= d,
                w[1] -= p;
                var k = o.unproject(w[0], w[1], b);
                return wt.Pt(k, [b])
            }
            ,
            ns.prototype.nm = function(t) {
                if (0 < t.length) {
                    for (var i = void 0, e = 0; e < t.length; e++)
                        if (i) {
                            var n = t[e].getBounds();
                            n && i.union(n)
                        } else
                            i = (i = t[e].getBounds()) && i.clone();
                    return i
                }
            }
            ,
            ns.prototype.om = function(t) {
                this._view.setOptions(t)
            }
            ,
            ns.prototype.Eo = function() {
                this.Qv || (this.Qv = wt.Util.requestAnimFrame(this.Yf.bind(this)))
            }
            ,
            ns.prototype.rm = function() {
                return this.hm || (this.hm = new Pr,
                this.addLayer(this.hm)),
                this.hm
            }
            ,
            ns.prototype.sm = function() {
                return this.$F.source
            }
            ,
            ns.prototype._getUserStyle = function(t) {
                t && this._changeStyle(t)
            }
            ,
            ns.prototype._changeStyle = function(t) {
                var s, n = this, i = t.split("amap://styles/")[1], e = AMap.getConfig(), o = e.protocol, r = e.key, a = -1 !== t.indexOf("?isPublic=true");
                s = i.length < 32 ? o + "://webapi.amap.com/style?name=" + i + "&key=" + r : o + "://webapi.amap.com/v4/map/styles?styleid=" + i + "&s=rsv3&key=" + r + (a ? "&ispublic=1" : ""),
                gn.JSONP(s, function(t, i) {
                    if ("complete" === t)
                        if ((i = i.data) && i.data && i.data.content) {
                            var e = JSON.parse(i.data.content);
                            n.QR = e,
                            n._setStyle(e)
                        } else
                            n.emit("styleChanged");
                    else
                        n.emit("styleChanged")
                })
            }
            ,
            ns.prototype.um = function(t) {
                for (var i = 0, e = t.length; i < e; i += 1)
                    this.addLayer(t[i])
            }
            ,
            ns.prototype.cm = function() {
                var e = this;
                P.addClass(this.kv, "amap-container"),
                P.watchSize(this.kv, function(t, i) {
                    e.om({
                        size: [t, i]
                    })
                }, this),
                this.Iv = P.create("div", this.kv, "amap-maps"),
                this.do = P.create("div", this.Iv, "amap-layers"),
                this.fm = P.create("div", this.Iv, "amap-overlays"),
                this.Tv = P.create("div", this.kv, "amap-controls"),
                this.Iv.tabIndex = 0;
                var t = this.kv
                  , i = {};
                i.logo = P.create("a", t, "amap-logo"),
                P.create("img", i.logo).src = wt._.Ue ? AMap.getConfig().client + "/theme/v1.3/logo@2x.png" : AMap.getConfig().client + "/theme/v1.3/logo@1x.png",
                i.v_ = P.create("div", t, "amap-copyright"),
                i.v_.style.display = "none",
                350 < P.getViewport(this.kv)[0] && (i.v_.innerHTML = AMap.getConfig().v_,
                i.v_.mapNumber = P.create("span", i.v_, "amap-mcode")),
                this.m_ = i
            }
            ,
            ns.prototype.d_ = function() {
                var t = this.getLayers();
                if (t) {
                    for (var i = -1, e = "", n = 0; n < t.length; n += 1) {
                        var o = t[n].get("mapNumber")
                          , r = t[n].get("zIndex");
                        o && i < r && t[n].get("visible") && (e = o,
                        i = r)
                    }
                    var a = this.c_;
                    return (!this.g$ || "GS(2019)6379" === e && a && "normal" !== a && "amap://styles/normal" !== a) && (e = ""),
                    e && this.m_ && this.m_.v_ && this.m_.v_.mapNumber && (this.m_.v_.mapNumber.innerHTML = "- " + e + "号"),
                    e
                }
            }
            ,
            ns.prototype.pm = function(t) {
                var i = {
                    size: P.getViewport(this.kv),
                    zoom: t.zoom,
                    center: t.center,
                    rotation: t.rotation,
                    projectionId: t.projection,
                    pitch: t.pitch
                };
                return new (t.viewMode && "3D" === t.viewMode ? Kn : Yn)(i,this)
            }
            ,
            ns.prototype.dm = function() {}
            ,
            ns.prototype.Hv = function() {
                for (P.remove(this.Iv); this.kv.firstChild; )
                    this.kv.removeChild(this.kv.firstChild)
            }
            ,
            ns.prototype.Vv = function() {
                this.pi && (this.pi.destroy(),
                delete this.pi),
                this.di && (this.di.destroy(),
                delete this.di),
                this.vm && (this.vm.destroy(),
                delete this.vm)
            }
            ,
            ns.prototype.Xv = function() {
                var t;
                null !== (t = this.mm) && void 0 !== t && t.destroy();
                for (var i = 0, e = this.getLayers(); i < e.length; i++)
                    e[i].destroy();
                this.ao && (this.ao.destroy(),
                delete this.ao),
                this.so && (this.so.destroy(),
                delete this.ao),
                this.R_ && (this.R_.destroy(),
                delete this.R_),
                this.zv = [],
                this.Mv.destroy()
            }
            ,
            ns.prototype.ym = function() {
                var t = this._view.getStatus();
                return {
                    debug: this.debug,
                    layers: this.zv,
                    uo: this.Mv,
                    size: t.size,
                    do: this.do,
                    $n: t,
                    map: this
                }
            }
            ,
            ns.prototype.Yf = function() {
                if (this.w$(),
                !this.y$) {
                    if (!this.xm)
                        return wt.Util.cancelAnimFrame(this.Qv),
                        void (this.Qv = 0);
                    this.pi && this.pi.iy({}),
                    this.di && this.di.iy({});
                    var t = this.ym();
                    if (this.bm(t),
                    this.mm && (this.tB = (new Date).getTime(),
                    this.Mv.oa(t.$n, this, this.mm.context),
                    this.mm.Kn(t)),
                    this.Jv && this.Kv)
                        this.Qv = wt.Util.requestAnimFrame(this.Yf.bind(this));
                    else if ((this.Jv <= 0 || !this.Kv) && (this.Kv = !1,
                    wt.Util.cancelAnimFrame(this.Qv),
                    this.Qv = 0,
                    this.gm || this.Lv || this.lt || this.Cv)) {
                        if (this.lt && -1 !== this.k$) {
                            if ("d" === wt._.baseRender && 0 <= this.k$) {
                                if (this.KT(),
                                !this.tD)
                                    return void (this.tD = !0);
                                this.tD = !1
                            }
                            this.G("zoomend")
                        }
                        this.Cv && -1 !== this._$ && this.G("moveend"),
                        this.Lv && -1 !== this.M$ && this.G("rotateend"),
                        this.gm && -1 !== this.S$ && this.G("pitchend"),
                        this.Lv = !1,
                        this.gm = !1,
                        this.lt = !1,
                        this.Cv = !1,
                        this.Qv || this.mm && (this.Mv.oa(t.$n, this, this.mm.context),
                        this.mm.Kn(t))
                    }
                    this.Jv--
                }
            }
            ,
            ns.prototype.bm = function(t) {
                var i = t.$n
                  , e = this.wm
                  , n = e.center
                  , o = e.rotation
                  , r = e.zoom
                  , a = e.pitch
                  , s = i.center
                  , h = i.zoom
                  , l = i.rotation
                  , f = i.pitch;
                if (n[0] !== s[0] || n[1] !== s[1] ? (this._$ = 1,
                this.Cv || this.G("movestart"),
                this.Cv = !0,
                this.G("mapmove")) : 1 <= this._$ && this._$++,
                r !== h ? (this.lt || this.G("zoomstart"),
                this.G("zoomchange"),
                this.lt = !0,
                this.k$ = 1) : 1 <= this.k$ && this.k$++,
                o !== l ? (this.Lv || this.G("rotatestart"),
                this.G("rotatechange"),
                this.Lv = !0,
                this.M$ = 1) : 1 <= this.M$ && this.M$++,
                a !== f ? (this.gm || this.G("pitchstart"),
                this.G("pitchchange"),
                this.gm = !0,
                this.S$ = 1) : 1 <= this.S$ && this.S$++,
                5 <= this._$ && (this.Cv = !1,
                this._$ = -1,
                this.G("moveend")),
                5 <= this.k$ && (this.lt = !1,
                this.k$ = -1,
                this.G("zoomend")),
                5 <= this.M$ && (this.Lv = !1,
                this.M$ = -1,
                this.G("rotateend")),
                5 <= this.S$ && (this.gm = !1,
                this.S$ = -1,
                this.G("pitchend")),
                "d" === wt._.baseRender && 4 <= this.k$) {
                    if (this.KT(),
                    !this.tD)
                        return void (this.tD = !0);
                    this.tD = !1
                }
                this.Qv || this.mm && (this.Mv.oa(t.$n, this, this.mm.context),
                this.mm.Kn(t)),
                this.wm = i
            }
            ,
            ns.prototype.G = function(t) {
                this.emit(t, {})
            }
            ,
            ns.prototype.Rm = function() {
                var r = this;
                this.on("styleChanged", function() {
                    if (r.kv) {
                        var t = void 0;
                        if (r.options.backgroundColor)
                            t = r.options.backgroundColor;
                        else if (r.mapStyle) {
                            var i = r.mapStyle.dn(30001, 1, r.getZoom());
                            t = i && i.faceColor ? ((t = i.faceColor.rgba.slice(0))[3] = t[3] / 255,
                            "rgba( " + t.join(",") + ")") : "#f7f7f7"
                        } else
                            t = "#f7f7f7";
                        r.kv.style.backgroundColor = t;
                        for (var e = 0, n = r.zv; e < n.length; e++) {
                            var o = n[e];
                            wt.zm(o) && o.sl()
                        }
                    }
                    r.xm = !0,
                    r.Eo()
                }),
                this.on("repaint", function() {
                    r.Eo()
                })
            }
            ,
            ns.prototype.w$ = function() {
                var t = this;
                this.R$ || ("d" === this.baseRender ? (this.R$ = !0,
                wt.Module.module("DomRender", function() {
                    t.mm = new wt.Module.z$(t),
                    t.Eo()
                })) : (this.R$ = !0,
                this.mm = new be(this),
                this.I_ = new jr(this),
                this.yH = new wt.LH(this,this.I_,this.gn)))
            }
            ,
            ns.prototype.Rv = function(t, i) {
                if (this.isDOMMode())
                    switch (t.CLASS_NAME) {
                    case "AMap.NebulaLayer":
                    case "AMap.ImageLayer":
                    case "AMap.CanvasLayer":
                        return new Fa(this,t);
                    case "AMap.VectorLayer":
                    case "AMap.VectorSvgLayer":
                        return t.ho();
                    case "AMap.RasterLayer":
                    case "AMap.TileLayer":
                    case "AMap.TileLayer.Flexible":
                    case "AMap.TileLayer.RoadNet":
                    case "AMap.TileLayer.Satellite":
                    case "AMap.TileLayer.Traffic":
                    case "AMap.TileLayer.WMS":
                    case "AMap.TileLayer.WMTS":
                        return new Ta(this,t);
                    case "AMap.SkyLayer":
                        return new Ka;
                    case "AMap.IndoorMap":
                        return new Ma;
                    case "AMap.LabelsLayer":
                        return new Br;
                    case "AMap.CustomLayer":
                        return new Mo;
                    default:
                        return new Ta(this,t)
                    }
                else
                    switch (t.CLASS_NAME) {
                    case "AMap.NebulaLayer":
                        return new uo;
                    case "AMap.Buildings":
                        return new vo;
                    case "AMap.Nebula.LabelsLayer":
                        return new nr;
                    case "AMap.LabelsLayer":
                        return new Br;
                    case "AMap.ImageLayer":
                    case "AMap.CanvasLayer":
                        return new go;
                    case "AMap.RasterLayer":
                    case "AMap.TileLayer.Flexible":
                    case "AMap.TileLayer.RoadNet":
                    case "AMap.TileLayer":
                    case "AMap.TileLayer.Satellite":
                        return new _o;
                    case "AMap.TileLayer.Traffic":
                        return new ea;
                    case "AMap.WMTSLayer":
                    case "AMap.TileLayer.WMS":
                    case "AMap.TileLayer.WMTS":
                        return new _o;
                    case "AMap.CustomLayer":
                        return new Mo;
                    case "AMap.GLCustomLayer":
                        return new Ur;
                    case "AMap.VTLayer":
                        return new xr;
                    case "AMap.DistrictLayer":
                    case "AMap.District.World":
                    case "AMap.District.Country":
                    case "AMap.District.Province":
                        return new wr;
                    case "AMap.SkyLayer":
                        return new Yr;
                    case "AMap.MaskLayer":
                        return new Jr;
                    case "AMap.IndoorMap":
                        return new Ma;
                    case "AMap.VectorLayer":
                    case "AMap.VectorSvgLayer":
                        return t.ho()
                    }
            }
            ,
            ns.prototype.KT = function() {
                var s, u, h = this, t = this._view.getStatus(), l = t.zoom, f = t.centerCoord;
                if (u = this.bo > l ? Math.floor(l) : Math.ceil(l),
                0 != (s = u - l)) {
                    this.bo = u;
                    var c = wt.V[this._view.au()]
                      , d = 200 * Math.abs(s) + 100
                      , p = new L(0,.6,.15,1)
                      , v = 0
                      , m = 0
                      , y = function() {
                        v += 16;
                        var t = h._view.getStatus().zoom
                          , i = l + s * p.h(v / d);
                        d < v && (i = u);
                        var e = c.nt(h.QT[0], h.QT[1], t)
                          , n = c.nt(h.QT[0], h.QT[1], i)
                          , o = n[0] - e[0] + f[0]
                          , r = n[1] - e[1] + f[1]
                          , a = h.getProjection().unproject(o, r);
                        if (h.setZoomAndCenter(i, a, !0),
                        u <= i && 0 < s || s < 0 && i <= u)
                            return h.setZoom(u, !0),
                            void wt.Util.cancelAnimFrame(m);
                        v < d && (m = wt.Util.requestAnimFrame(y))
                    };
                    m = wt.Util.requestAnimFrame(y)
                }
            }
            ,
            ns.prototype.iB = function() {
                window.eB = this.destroy,
                window.onunload = this.destroy,
                window.onbeforeunload = this.destroy
            }
            ,
            ns.t_ = [2, 20],
            ns);
            function ns(t, i) {
                var e = is.call(this) || this;
                if (e.className = "AMap.Map",
                e.so = new zr,
                e.lcs = wt.lcs,
                e.debug = !1,
                e.complete = !1,
                e.Kv = !1,
                e.controls = [],
                e.az = [.92, .92, .9, .9],
                e.sz = [.94, .94, .94, .9],
                e.rz = [.94, .94, .94, .9],
                e.$C = [.329, .549, .839, 1],
                e.Ov = !0,
                e.Dv = !0,
                e.Pv = !0,
                e.Fv = !0,
                e.fi = !0,
                e.jv = !0,
                e.Ev = !0,
                e.Uv = !0,
                e.Bv = !0,
                e.$v = !0,
                e.Nv = 0,
                e.Sm = !1,
                e.c_ = "",
                e.Zv = "default",
                e.qv = "",
                e.xt = [2, 20],
                e.zv = [],
                e.A$ = !1,
                e.R$ = !1,
                e.Qv = 0,
                e.xm = !1,
                e.lt = !1,
                e.Cv = !1,
                e.Lv = !1,
                e.gm = !1,
                e.km = 0,
                e.Jv = 5,
                e.y$ = !1,
                e.Wv = !wt._.$e,
                e.g$ = !0,
                e.tB = (new Date).getTime(),
                e._$ = -1,
                e.M$ = -1,
                e.S$ = -1,
                e.k$ = -1,
                e.HL = !1,
                e.bo = 10,
                e.tD = !1,
                e.QT = [0, 0],
                e.Rm(),
                e.Cm = Ze,
                e.options = i,
                e.g$ = void 0 === i.I$ ? e.g$ : i.I$,
                e.az = wt.Util.color2RgbaArray(i.buildingColor = i.buildingColor),
                e.sz = wt.Util.color2RgbaArray(i.wallColor),
                e.rz = wt.Util.color2RgbaArray(i.roofColor),
                e.$C = wt.Util.color2RgbaArray(i.skyColor),
                e.Dv = void 0 === i.dragEnable ? e.Dv : i.dragEnable,
                e.Pv = void 0 === i.zoomEnable ? e.Pv : i.zoomEnable,
                e.Fv = void 0 === i.scrollWheel ? e.Fv : i.scrollWheel,
                e.Ov = void 0 === i.jogEnable ? e.Ov : i.jogEnable,
                e.fi = void 0 === i.doubleClickZoom ? e.fi : i.doubleClickZoom,
                e.jv = void 0 === i.keyboardEnable ? e.jv : i.keyboardEnable,
                e.Ev = void 0 === i.animateEnable ? e.Ev : i.animateEnable,
                e.Uv = void 0 === i.pitchEnable ? e.Uv : i.pitchEnable,
                e.$v = void 0 !== i.touchZoom ? i.touchZoom : e.$v,
                e.Nv = void 0 !== i.touchZoomCenter ? i.touchZoomCenter : e.Nv,
                e.Zv = i.defaultCursor || e.Zv,
                i.limitBounds && e.setLimitBounds(i.limitBounds),
                e.Sm = i.Lm || !1,
                e.xt = i.zooms || e.xt,
                e.bo = i.zoom,
                e.baseRender = wt._.baseRender,
                i.viewMode = "d" === wt._.baseRender ? "2D" : i.viewMode,
                e.Bv = !("3D" !== i.viewMode),
                e.Bv = void 0 === i.rotateEnable ? e.Bv : i.rotateEnable,
                e.debug = i.debug || !1,
                e.m$ = i.showBuildingBlock,
                e.Wv = void 0 === i.isHotspot ? e.Wv : i.isHotspot,
                e.showLabel = void 0 === i.showLabel || Boolean(i.showLabel),
                e.Cw = i.features,
                e.c$ = i.mask,
                e.NH = void 0 !== i.labelRejectMask && Boolean(i.labelRejectMask),
                "d" !== e.baseRender) {
                    e.mapStyle = new oo,
                    e.mapStyle.pn(function() {
                        var t = i.mapStyle;
                        t ? e._getUserStyle(t) : e.emit("styleChanged")
                    });
                    var n = e.z_ = new ho;
                    e.R_ = new ao(n,e),
                    e.ao = new wt.Am(e.z_),
                    e.gn = new Cr(e),
                    e.x$ = new os(e),
                    e.np()
                } else
                    e.z_ = new ho,
                    e.emit("styleChanged");
                t && (t.amap && t.amap.destroy(),
                t.amap = e),
                e.kv = t,
                e._view = e.pm(i),
                e.b$ = new oa(e),
                e.Mv = new In(e),
                e.c_ = i.mapStyle || "normal",
                e.QR = null;
                var o = wt._.isWebGL
                  , r = AMap.getConfig().y_
                  , a = i.layers || [];
                e.cm(),
                0 === a.length ? e.isDOMMode() ? (e.addLayer(new wt.TileLayer({
                    id: "_defaultLayer",
                    tileUrl: r
                })),
                e.Bv = !1) : o && e.addLayer(new $n) : e.um(a),
                e.d_(),
                e.$F = new mr({
                    map: e
                }),
                e.addLayer(e.$F);
                var s = e._view.getStatus();
                return e.wm = s,
                e.setCursor(e.Zv),
                e
            }
            var os = (rs.prototype.dynamicTextTextureInfoLoaded = function(t) {
                var i = this;
                t.Im && console.log("你需要更新新的纹理了");
                var e = t.optimalZoom
                  , n = t.tag;
                if (0 === t.Dm.length)
                    t.zo && this.map.emit("tileSdfInfoFinished", {
                        zo: t.zo,
                        optimalZoom: e,
                        tag: n
                    }),
                    this.Eo();
                else
                    for (var o = 0, r = t.Dm.length, a = 0, s = t.Dm.length; a < s; a++) {
                        var h = t.Dm[a];
                        this.map.z_.loadImage(h.lc, {
                            type: "text",
                            cb: function() {
                                (o += 1) === r && i.map.ao && (i.map.ao.Pm(t),
                                t.zo && i.map.emit("tileSdfInfoFinished", {
                                    zo: t.zo,
                                    optimalZoom: e,
                                    tag: n
                                }),
                                i.Eo())
                            }
                        })
                    }
            }
            ,
            rs.prototype.dynamicTextSDFInfoLoaded = function(t) {
                this.map.R_.Ju(t.data),
                this.Eo()
            }
            ,
            rs.prototype.commonWordLoaded = function(t) {
                var i = this;
                this.map.R_.rc(t, function() {
                    i.Eo()
                })
            }
            ,
            rs.prototype.commonWordTextureLoaded = function() {
                this.Ya || (this.map.gn.Qd(),
                this.map.R_.Qd(),
                this.Ya = !0,
                this.Eo())
            }
            ,
            rs.prototype.iconImageLoaded = function(t) {
                for (var i = this, e = t.data, n = [], o = {}, r = function(e) {
                    o[e.url] = 1,
                    n.push(new Promise(function(t) {
                        var i = new Image;
                        i.src = e.data.lc,
                        i.onload = function() {
                            t({
                                img: i,
                                name: e.url,
                                hv: e.data.ext.hv
                            })
                        }
                    }
                    ))
                }, a = 0, s = e; a < s.length; a++)
                    r(s[a]);
                Promise.all(n).then(function(t) {
                    i.map.so.sv(t)
                }),
                this.Eo()
            }
            ,
            rs.prototype.np = function() {
                var i = this;
                this.Va || (wt.TH(function(t) {
                    i.map.gn.np(t)
                }),
                this.Va = !0)
            }
            ,
            rs.prototype.updateDataVersion = function(t) {
                this.map.UH(t.version)
            }
            ,
            rs.prototype.destroy = function() {
                this.$$()
            }
            ,
            rs.prototype.Ia = function() {
                this.map.gn.on("dynamicTextTextureInfoLoaded", this.dynamicTextTextureInfoLoaded.bind(this)),
                this.map.gn.on("dynamicTextSDFInfoLoaded", this.dynamicTextSDFInfoLoaded.bind(this)),
                this.map.gn.on("commonWordLoaded", this.commonWordLoaded.bind(this)),
                this.map.gn.on("iconImageLoaded", this.iconImageLoaded.bind(this)),
                this.map.gn.on("updateDataVersion", this.updateDataVersion.bind(this))
            }
            ,
            rs.prototype.$$ = function() {
                this.map.gn.clearEvents("dynamicTextTextureInfoLoaded"),
                this.map.gn.clearEvents("dynamicTextSDFInfoLoaded"),
                this.map.gn.clearEvents("commonWordLoaded"),
                this.map.gn.clearEvents("iconImageLoaded"),
                this.map.gn.clearEvents("updateDataVersion")
            }
            ,
            rs.prototype.Eo = function() {
                this.map.setNeedUpdate(!0)
            }
            ,
            rs);
            function rs(t) {
                this.map = t,
                this.Ia()
            }
            var as = 4.000244140625
              , ss = (hs.prototype.isEnabled = function() {
                return "disabled" !== this.R
            }
            ,
            hs.prototype.isActive = function() {
                return "active" === this.R
            }
            ,
            hs.prototype.enable = function() {
                this.isEnabled() || (this.R = "enabled")
            }
            ,
            hs.prototype.disable = function() {
                this.isEnabled() && (this.R = "disabled",
                this.C(),
                this.G("zoomend"))
            }
            ,
            hs.prototype.Ut = function(t) {
                if (t.preventDefault(),
                this.G("zoomstart"),
                this.isEnabled()) {
                    var i = t.deltaMode === WheelEvent.DOM_DELTA_LINE ? 40 * t.deltaY : t.deltaMode === WheelEvent.DOM_DELTA_PAGE ? 400 * t.deltaY : t.deltaY
                      , e = Date.now()
                      , n = e - (this.Bt || 0);
                    this.Bt = e,
                    0 !== i && i % as == 0 ? this.Wt = "wheel" : 0 !== i && Math.abs(i) < 4 ? this.Wt = "trackpad" : 400 < n ? (this.Wt = null,
                    this.Gt = i) : this.Wt || (this.Wt = Math.abs(n * i) < 200 ? "trackpad" : "wheel",
                    this.Zt && (i += this.Gt)),
                    t.shiftKey && i && (i /= 4),
                    this.Wt && (this.$t -= i,
                    this.isActive() || this.D(t))
                }
            }
            ,
            hs.prototype.D = function(t) {
                if (this.$t) {
                    var i = this._map.getView()
                      , e = i.getStatus()
                      , n = e.rotation
                      , o = e.zoom
                      , r = e.center
                      , a = e.projectionId
                      , s = "wheel" === this.Wt && Math.abs(this.$t) > as ? 1 / 450 : .01
                      , h = 2 / (1 + Math.exp(-Math.abs(this.$t * s)));
                    this.$t < 0 && 0 !== h && (h = 1 / h);
                    var l = this.Yt(o)
                      , f = Math.min(es.t_[1], Math.max(2, this.Vt(l * h)))
                      , u = P.mousePos(this.j, t, this._map)
                      , c = [this.j.clientWidth / 2, this.j.clientHeight / 2]
                      , d = this._t(c, u)
                      , p = Math.atan((u[1] - c[1]) / (u[0] - c[0]))
                      , v = -n / 180 * Math.PI + p
                      , m = [-Math.cos(v) * d, Math.sin(v) * d];
                    u[0] - c[0] < 0 && (m[0] = -m[0],
                    m[1] = -m[1]);
                    var y = wt.V[a].nt(m[0], m[1], o)
                      , g = wt.V[a].nt(m[0], m[1], f)
                      , x = Math.pow(2, f - o);
                    this._map.XT(m),
                    i.setOptions({
                        kt: {
                            pos: u,
                            Mt: f,
                            Rt: g,
                            zt: y,
                            scale: x,
                            center: wt.set(wt.create(), r[0], r[1])
                        }
                    }),
                    this.$t = 0
                }
            }
            ,
            hs.prototype.Yt = function(t) {
                return Math.pow(2, t)
            }
            ,
            hs.prototype.Vt = function(t) {
                return Math.log(t) / Math.LN2
            }
            ,
            hs.prototype._t = function(t, i) {
                var e = i[0] - t[0]
                  , n = i[1] - t[1];
                return Math.sqrt(e * e + n * n)
            }
            ,
            hs.prototype.C = function() {
                delete this.q,
                delete this.$,
                delete this.U,
                delete this.B
            }
            ,
            hs.prototype.G = function(t, i) {
                this._map.getBindHandler().fireEvent(t, i)
            }
            ,
            hs);
            function hs(t, i) {
                this._map = i,
                this.j = t,
                this.R = "disabled",
                this.Wt = "wheel",
                this.$t = 0
            }
            var ls = (fs.prototype.isEnabled = function() {
                return "disabled" !== this.R
            }
            ,
            fs.prototype.isActive = function() {
                return "active" === this.R
            }
            ,
            fs.prototype.enable = function() {
                this.isEnabled() || (this.R = "enabled")
            }
            ,
            fs.prototype.disable = function() {
                if (this.isEnabled()) {
                    switch (this.R) {
                    case "active":
                        this.S(),
                        this.C();
                        break;
                    case "pending":
                        this.S()
                    }
                    this.R = "disabled"
                }
            }
            ,
            fs.prototype.L = function(t) {
                this.A && clearInterval(this.A),
                (2 === t.button || t.ctrlKey && 0 === t.button) && (this.j.addEventListener("mousemove", this.T, {
                    passive: !0
                }),
                this.j.addEventListener("mouseup", this.I),
                this.j.addEventListener("mouseleave", this.I),
                this.D(t))
            }
            ,
            fs.prototype.D = function(t) {
                this.$ = this.U = this.B = P.mousePos(this.j, t, this._map),
                this.W = [[Date.now(), this.$]],
                this.R = "active"
            }
            ,
            fs.prototype.Z = function(t) {
                if (this.W.length < 2 && "active" === this.R && this.G("dragstart", t),
                this.G("dragging", t),
                this.isEnabled()) {
                    var i = P.mousePos(this.j, t, this._map);
                    if (this.q = t,
                    this.B = wt.set(wt.create(), i[0], i[1]),
                    this.Y(),
                    this.W.push([Date.now(), this.B]),
                    !(this.W.length < 2) && ("active" === this.R && (this.R = "pending"),
                    "disabled" !== this.R)) {
                        var e = this._map.getView()
                          , n = e.getStatus()
                          , o = n.rotation
                          , r = n.pitch
                          , a = [this.B[0] - this.W[this.W.length - 2][1][0], this.B[1] - this.W[this.W.length - 2][1][1]];
                        (!this._map.getStatus().pitchEnable || Math.abs(a[0]) > Math.abs(a[1])) && (a[1] = 0),
                        (!this._map.getStatus().rotateEnable || Math.abs(a[0]) < Math.abs(a[1])) && (a[0] = 0),
                        15 < Math.abs(this.B[0] - this.$[0]) && (this.B[1] > this.j.clientHeight / 2 ? o -= a[0] / 10 : o += a[0] / 10),
                        r -= a[1] / es.t_[1] * 2,
                        e.setOptions({
                            rotation: o,
                            pitch: r
                        })
                    }
                }
            }
            ,
            fs.prototype.tt = function(t) {
                switch (this.R) {
                case "active":
                    this.R = "enabled",
                    this.C();
                    break;
                case "pending":
                    this.R = "enabled",
                    this.G("dragend", t);
                    break;
                default:
                    this.G("dragend", t)
                }
                this.S()
            }
            ,
            fs.prototype.S = function() {
                this.j.removeEventListener("mousemove", this.T),
                this.j.removeEventListener("mouseup", this.I),
                this.j.removeEventListener("mouseleave", this.I)
            }
            ,
            fs.prototype.C = function() {
                delete this.q,
                delete this.$,
                delete this.U,
                delete this.B
            }
            ,
            fs.prototype.Y = function() {
                for (var t = this.W, i = Date.now(); 0 < t.length && 160 < i - t[0][0]; )
                    t.shift()
            }
            ,
            fs.prototype.G = function(t, i) {
                this._map.getBindHandler().fireEvent(t, i)
            }
            ,
            fs);
            function fs(t, i) {
                this._map = i,
                this.W = [],
                this.j = t,
                this.R = "disabled",
                this.T = this.Z.bind(this),
                this.I = this.tt.bind(this)
            }
            var us = (cs.prototype.Xt = function() {
                this._container.addEventListener("mouseenter", this.DL.bind(this)),
                this._container.addEventListener("mouseover", this.OL.bind(this)),
                this._container.addEventListener("mouseleave", this.PL.bind(this)),
                this._container.addEventListener("mouseup", this.tt.bind(this)),
                this._container.addEventListener("mouseout", this.BL.bind(this)),
                this._container.addEventListener("mousemove", this.jL.bind(this)),
                this._container.addEventListener("mousedown", this.Jt.bind(this)),
                this._container.addEventListener("touchend", this.N.bind(this)),
                this._container.addEventListener("touchstart", this.Kt.bind(this), !1),
                this._container.addEventListener("touchmove", this.gt.bind(this), !1),
                this._container.addEventListener("wheel", this.Qt.bind(this), {
                    passive: !1
                }),
                this._container.addEventListener("contextmenu", this.EL.bind(this)),
                this._container.addEventListener("keydown", this.ii.bind(this))
            }
            ,
            cs.prototype.fireEvent = function(t, i) {
                if (i) {
                    if ("dragstart" === t && (this._map.getStatus().dragEnable ? (this.ft.enable(),
                    this.ei.enable(),
                    this.ni.enable()) : (this.ft.disable(),
                    this.ei.disable(),
                    this.ni.disable())),
                    "scrollWheel" === t) {
                        if (!this._map.getStatus().scrollWheel)
                            return void this.oi.disable();
                        this.oi.enable()
                    }
                    var e, n = P.mousePos(this._container, i, this._map), o = n[0], r = n[1], a = this._map.getView().containerTolnglat(o, r), s = a[0], h = a[1];
                    if ("dragstart" === t || "dragging" === t || "dragend" === t)
                        switch (t) {
                        case "dragstart":
                            e = this._map.TL() ? this.ri : this.si(i),
                            this.ri = e;
                            break;
                        case "dragging":
                            e = this.ri;
                            break;
                        case "dragend":
                            e = this.ri,
                            this.ri = void 0
                        }
                    else
                        e = this._map.TL() ? this.ri : this.si(i);
                    var l = this.hi(e, t)
                      , f = new wt.LngLat(s,h)
                      , u = new wt.Pixel(o,r)
                      , c = this._map.getProjection().project(s, h)
                      , d = {
                        lnglat: f,
                        target: e,
                        pixel: u,
                        originEvent: i,
                        pos: c
                    };
                    -1 !== ["mouseover", "mousemove", "mouseout", "mouseenter", "mouseleave"].indexOf(t) ? this.ui(t, d) : e && this.ci(e, t, d);
                    var p = d.target
                      , v = {
                        lnglat: f,
                        target: e,
                        pixel: u,
                        originEvent: i,
                        pos: c
                    };
                    if (p && "poi" !== p.type && !l || (v.target = this._map),
                    e && "poi" === e.type)
                        this._map.emit(t, v);
                    else if (e && l)
                        this._map.emit(t, v);
                    else if ("dblclick" === t && e)
                        this.fi.disable();
                    else if ("dragstart" !== t && "dragging" !== t && "dragend" !== t || !e || !e.getDraggable() && "AMap.InfoWindow" !== e.type) {
                        if (!e) {
                            if (!this._map.getStatus().dragEnable && ("dragging" === t || "dragstart" === t || "dragend" === t))
                                return;
                            this._map.emit(t, v)
                        }
                    } else
                        "dragend" === t ? this.ft.enable() : this.ft.disable()
                }
            }
            ,
            cs.prototype.hi = function(t, i) {
                return !(!t || "poi" === t.type || "dragstart" === i || "dragging" === i || "dragend" === i || !this._map.getStatus().allBubble && !Boolean(t.getOptions().bubble))
            }
            ,
            cs.prototype.ti = function(t) {
                this.fi.enable(),
                this.fireEvent("dblclick", t),
                this.fi.ut(t)
            }
            ,
            cs.prototype.Jt = function(t) {
                this._map.cancelMapAnimate(),
                this.Ht = "mousedown",
                this.fireEvent("mousedown", t),
                this.ft.enable(),
                this.ft.L(t),
                this.ei.L(t),
                this.$ = P.mousePos(this._container, t, this._map)
            }
            ,
            cs.prototype.OL = function(t) {
                this.fireEvent("mouseover", t)
            }
            ,
            cs.prototype.DL = function(t) {
                this.fireEvent("mouseenter", t)
            }
            ,
            cs.prototype.PL = function(t) {
                this.fireEvent("mouseleave", t)
            }
            ,
            cs.prototype.BL = function(t) {
                this.fireEvent("mouseout", t)
            }
            ,
            cs.prototype.tt = function(t) {
                var i = this;
                "mousedown" !== this.Ht || t.ctrlKey || (setTimeout(function() {
                    i.nB = 0
                }, 300),
                this.Ht = "false",
                2 === t.button ? this.fireEvent("rightclick", t) : (this.fireEvent("click", t),
                this.nB++,
                2 <= this.nB && (this.fireEvent("dblclick", t),
                this.fi.enable(),
                this.fi.ut(t),
                this.nB = 0))),
                this.fireEvent("mouseup", t)
            }
            ,
            cs.prototype.FL = function(t) {
                "move" !== this.Ht && this.fireEvent("click", t)
            }
            ,
            cs.prototype.jL = function(t) {
                if ("mousedown" === this.Ht) {
                    var i = P.mousePos(this._container, t, this._map);
                    (1 < Math.abs(this.$[0] - i[0]) || 1 < Math.abs(this.$[1] - i[1])) && (this.Ht = "move")
                }
                this.fireEvent("mousemove", t)
            }
            ,
            cs.prototype.Kt = function(t) {
                var i = this;
                "infoWindow" !== t.cH && t.preventDefault(),
                this.oB = "touchstart",
                this.$ = P.mousePos(this._container, t, this._map),
                this._map.cancelMapAnimate(),
                this.fireEvent("touchstart", t),
                this.rB = (new Date).getTime(),
                this.ft.enable(),
                this.ft.P(t),
                this.fi.P(t, this.ft),
                this.ni.P(t),
                clearTimeout(this.aB),
                1 === t.touches.length && (this.aB = setTimeout(function() {
                    i.fireEvent("rightclick", t)
                }, 800))
            }
            ,
            cs.prototype.gt = function(t) {
                if (this.$) {
                    var i = P.mousePos(this._container, t, this._map);
                    (1 < Math.abs(i[0] - this.$[0]) || 1 < Math.abs(i[1] - this.$[1])) && "touchstart" === this.oB && (this.oB = "touchmove")
                }
            }
            ,
            cs.prototype.N = function(t) {
                var i = this
                  , e = (new Date).getTime();
                this.fireEvent("touchend", t),
                clearTimeout(this.aB),
                "touchstart" === this.oB && e - this.rB < 800 && (this.oB = "false",
                this.fireEvent("click", t),
                setTimeout(function() {
                    i.dH = 0
                }, 300),
                this.dH++,
                2 <= this.dH && (this.fireEvent("dblclick", t),
                this.dH = 0)),
                this.fi.vt(t)
            }
            ,
            cs.prototype.Qt = function(t) {
                this._map.cancelMapAnimate(),
                this.fireEvent("mousewheel", t),
                t.preventDefault(),
                this._map.getStatus().scrollWheel && (this.ft.disable(),
                this.oi.Ut(t))
            }
            ,
            cs.prototype.EL = function(t) {
                t.ctrlKey,
                t.preventDefault()
            }
            ,
            cs.prototype.si = function(t) {
                var i, e = this._map, n = e.DF(), o = e.pi, r = e.di, a = n.concat([o, r]), s = P.mousePos(this._container, t, this._map), h = s[0], l = s[1], f = this._map.getView().containerTolnglat(h, l), u = f[0], c = f[1];
                t.lnglat = new wt.LngLat(u,c),
                t.pixel = new wt.Pixel(h,l);
                for (var d = a.length - 1; 0 <= d; d--) {
                    var p = a[d]
                      , v = p && p.vi(t);
                    if (v) {
                        if (!v.getOptions) {
                            i = v;
                            break
                        }
                        if (!0 !== v.getOptions().noSelect) {
                            i = v;
                            break
                        }
                    }
                }
                return i
            }
            ,
            cs.prototype.ui = function(t, i) {
                var e = this.mi
                  , n = e.yi
                  , o = void 0 === n ? null : n
                  , r = e.xi
                  , a = void 0 === r ? null : r
                  , s = i.target;
                "mousemove" !== t && "mouseleave" !== t || ("mousemove" === t ? o ? s ? o.hS !== s.hS ? (this.ci(o, "mouseout", a),
                this.ci(s, "mouseover", i)) : this.ci(s, "mousemove", i) : this.ci(o, "mouseout", a) : s && this.ci(s, "mouseover", i) : "mouseleave" === t && o && this.ci(o, "mouseout", a),
                this.mi.yi = s,
                this.mi.xi = i)
            }
            ,
            cs.prototype.ci = function(t, i, e) {
                "poi" === t.type ? this._map.getStatus().isHotspot && this.bi(t, i, e) : t.emit(i, e)
            }
            ,
            cs.prototype.bi = function(t, i, e) {
                var n, o = "hotspot";
                switch (i) {
                case "click":
                    this._map.setCursor("pointer"),
                    n = o + i;
                    break;
                case "mouseover":
                    this._map.setCursor("pointer"),
                    n = o + "over";
                    break;
                case "mouseout":
                    this._map.setCursor(""),
                    n = o + "out"
                }
                if (n) {
                    var r = this._map.getProjection().unproject(t.lnglat[0], t.lnglat[1])
                      , a = r[0]
                      , s = r[1]
                      , h = {
                        type: n,
                        id: t.id,
                        name: t.name,
                        lnglat: new wt.LngLat(a,s),
                        originEvent: e.originEvent
                    };
                    this._map.emit(n, h)
                }
            }
            ,
            cs.prototype.ii = function(t) {
                if (this._map.getStatus().keyboardEnable) {
                    var i = this._map.getZoom()
                      , e = this._map.getRotation();
                    "=" === t.key ? this._map.setZoom(i + 1, !0) : "-" === t.key && this._map.setZoom(i - 1, !0),
                    t.ctrlKey ? "ArrowLeft" === t.key ? this._map.setRotation(e - 90, !0) : "ArrowRight" === t.key && this._map.setRotation(e + 90, !0) : "ArrowUp" === t.key ? this._map.panBy(0, 300) : "ArrowDown" === t.key ? this._map.panBy(0, -300) : "ArrowLeft" === t.key ? this._map.panBy(300, 0) : "ArrowRight" === t.key && this._map.panBy(-300, 0)
                }
            }
            ,
            cs);
            function cs(t) {
                this.Ht = "false",
                this.oB = "false",
                this.nB = 0,
                this.dH = 0,
                this.aB = 0,
                this.rB = 0,
                this.mi = {
                    yi: null,
                    xi: null
                },
                this._map = t,
                this._container = this._map.getMapsContainer(),
                this.ft = new v(this._container,t),
                this.ft.enable(),
                this.oi = new ss(this._container,t),
                this.oi.enable(),
                this.fi = new y(this._container,t),
                this.fi.enable(),
                this.ni = new x(this._container,t),
                this.ni.enable(),
                this.ei = new ls(this._container,t),
                this.ei.enable()
            }
            var ds = (ps.prototype.setImageSize = function(t) {
                t instanceof wt.Size && (t = t.toArray()),
                this._opts.imageSize = t
            }
            ,
            ps.prototype.getImageSize = function() {
                var t = this._opts.imageSize
                  , i = this.Om;
                return t || (i.length ? i : [])
            }
            ,
            ps.prototype.setSize = function(t) {
                t instanceof wt.Size && (t = t.toArray()),
                this._opts.size = t
            }
            ,
            ps.prototype.getSize = function() {
                return this._opts.size
            }
            ,
            ps.prototype.setImageOffset = function(t) {
                t instanceof wt.Pixel && (t = t.toArray()),
                this._opts.imageOffset = t
            }
            ,
            ps.prototype.getImageOffset = function() {
                return this._opts.imageOffset || [0, 0]
            }
            ,
            ps.prototype.getImage = function() {
                return this._opts.image
            }
            ,
            ps.prototype.setImage = function(t) {
                this._opts.image = t
            }
            ,
            ps.prototype.Fm = function() {
                return this.Om || []
            }
            ,
            ps.prototype.Em = function(t) {
                t instanceof wt.Size && (t = t.toArray()),
                this.Om = t
            }
            ,
            ps);
            function ps(t) {
                this.CLASS_NAME = "AMap.Icon",
                this._opts = {
                    size: [0, 0],
                    imageOffset: new wt.Pixel(0,0),
                    image: AMap.getConfig().protocol + "://webapi.amap./theme/v1.3/markers/0.png"
                },
                this.Om = [];
                var i = t.size
                  , e = t.imageSize
                  , n = t.image
                  , o = t.imageOffset;
                i && this.setSize(i),
                e && this.setImageSize(e),
                o && this.setImageOffset(o),
                n && this.setImage(n)
            }
            var vs, ms = "AMap.DOMOverlay", _s = {
                top: "top",
                right: "right",
                bottom: "bottom",
                left: "left",
                Nm: "top-left",
                $m: "top-center",
                Um: "top-right",
                Bm: "middle-left",
                center: "center",
                Wm: "middle-right",
                Gm: "bottom-left",
                Zm: "bottom-center",
                qm: "bottom-right"
            }, ws_Ym = "viewchange", ks = [10, 0, 0, 0], Ms = {
                map: null,
                visible: !0,
                offset: [0, 0],
                anchor: "top-left",
                rotate: 0,
                orientation: null,
                scale: 1,
                zooms: [2, 20],
                noSelect: !1,
                innerOverlay: !1,
                isCustom: !1
            }, Cs = (vs = ua,
            wt.Ei(Ss, vs),
            Ss.prototype.getOptions = function() {
                return this._options
            }
            ,
            Ss.prototype.add = function(t) {
                void 0 === t && (t = []);
                for (var i = this._map, e = 0, n = t; e < n.length; e++)
                    n[e].add(i)
            }
            ,
            Ss.prototype.remove = function(t) {
                void 0 === t && (t = []);
                for (var i = 0, e = t; i < e.length; i++)
                    e[i].remove()
            }
            ,
            Ss.prototype.updateOverlay = function(t) {
                if (t)
                    for (var i = 0, e = t; i < e.length; i++)
                        e[i].updateOverlay();
                else {
                    var n = this._overlays;
                    for (var o in n)
                        n.hasOwnProperty(o) && n[o].updateOverlay({
                            viewChange: !0
                        })
                }
            }
            ,
            Ss.prototype.iy = function(t) {
                this.updateOverlay()
            }
            ,
            Ss.prototype.addToGroup = function(t) {
                var i = this._container
                  , e = this._overlays
                  , n = t.hS
                  , o = t.dom;
                i.appendChild(o),
                e[n] = t
            }
            ,
            Ss.prototype.removeFromGroup = function(t) {
                var i = this._container
                  , e = this._overlays
                  , n = t.hS
                  , o = t.dom;
                i.removeChild(o),
                delete e[n]
            }
            ,
            Ss.prototype.vi = function(t) {
                return null
            }
            ,
            Ss.prototype.destroy = function() {
                this.ey();
                var t = this._overlays;
                for (var i in t)
                    t.hasOwnProperty(i) && t[i].remove();
                this._overlays = {},
                this._container && P.remove(this._container)
            }
            ,
            Ss.prototype.getAllOverlays = function() {
                var t = this._overlays
                  , i = [];
                for (var e in t)
                    if (t.hasOwnProperty(e)) {
                        var n = t[e];
                        n && i.push(n)
                    }
                return i
            }
            ,
            Ss.prototype.ny = function() {
                this._map
            }
            ,
            Ss.prototype.ey = function() {
                var t = this._map
                  , i = ws_Ym;
                t.off(i, this.iy)
            }
            ,
            Ss);
            function Ss(t, i) {
                void 0 === i && (i = {});
                var e = vs.call(this) || this;
                e.type = "AMap.DOMOverlayGroup",
                e._options = {
                    zIndex: 120
                },
                e._overlays = {};
                var n = (e._map = t).kv;
                e._parent = n.querySelector(".amap-layers");
                var o = i.className;
                return e._className = o,
                e.iy = e.iy.bind(e),
                e.ny(),
                e
            }
            var zs, Rs = (zs = ha,
            wt.Ei(As, zs),
            Object.defineProperty(As.prototype, "CLASS_NAME", {
                get: function() {
                    return this.className
                },
                eb: !0,
                nb: !0
            }),
            As.prototype.getMap = function() {
                return this._map || null
            }
            ,
            As.prototype.setMap = function(t) {
                t instanceof uh ? this.add(t) : null == t && this.remove()
            }
            ,
            As.prototype.addTo = function(t) {
                this.add(t)
            }
            ,
            As.prototype.add = function(t) {
                t && (this._add(t),
                this._parent && (this._parent.addToGroup(this),
                this.updateOverlay()))
            }
            ,
            As.prototype.remove = function() {
                this._map && this._parent && (this._parent.removeFromGroup(this),
                this._remove())
            }
            ,
            As.prototype.show = function() {
                this._opts.visible = !0,
                this.updateOverlay()
            }
            ,
            As.prototype.hide = function() {
                this._opts.visible = !1,
                this.updateOverlay()
            }
            ,
            As.prototype.getPosition = function() {
                var t = this._position;
                return t ? wt.Bs(t) ? t : new wt.LngLat(t[0],t[1]) : null
            }
            ,
            As.prototype.setPosition = function(t) {
                this._position = t,
                this.updateOverlay()
            }
            ,
            As.prototype.getAnchor = function() {
                return this._opts.anchor || _s.Nm
            }
            ,
            As.prototype.setAnchor = function(t) {
                t && (this._opts.anchor = t,
                this.updateOverlay())
            }
            ,
            As.prototype.getOffset = function() {
                var t = this._opts.offset || [0, 0];
                return new wt.Pixel(t[0],t[1])
            }
            ,
            As.prototype.setOffset = function(t) {
                t && (t instanceof Array || void 0 === t.x || void 0 === t.y || (this._opts.offset = [t.x, t.y]),
                this.updateOverlay())
            }
            ,
            As.prototype.getAngle = function() {
                return this._opts.rotate || 0
            }
            ,
            As.prototype.setAngle = function(t) {
                this._opts.rotate = t,
                this.updateOverlay()
            }
            ,
            As.prototype.getOrientation = function() {
                return this._opts.orientation
            }
            ,
            As.prototype.setOrientation = function(t) {
                "number" == typeof t ? (this._opts.orientation = t,
                this._opts.rotate = this.dP(t)) : (this._opts.orientation = void 0,
                this._opts.rotate = 0),
                this.updateOverlay()
            }
            ,
            As.prototype.getSize = function() {
                return this._getSize()
            }
            ,
            As.prototype.setSize = function(t) {
                this._opts.size = wt.ay(t) ? t.toArray() : t,
                this.updateOverlay()
            }
            ,
            As.prototype.getzIndex = function() {
                return this._opts.zIndex
            }
            ,
            As.prototype.setzIndex = function(t) {
                this._opts.zIndex = t,
                this.updateOverlay()
            }
            ,
            As.prototype.getOptions = function() {
                return this._opts
            }
            ,
            As.prototype.getContent = function() {
                return this._opts.content || ""
            }
            ,
            As.prototype.setContent = function(t) {
                void 0 === t && (t = ""),
                this._opts.content = t,
                this._size = [0, 0],
                this._removeContent(),
                this._createDom(this.dom, t),
                this.updateOverlay()
            }
            ,
            As.prototype.getBounds = function() {
                var t = this._position;
                return new Le(t,t)
            }
            ,
            As.prototype.getVisible = function() {
                return void 0 === this._opts.visible || this._opts.visible
            }
            ,
            As.prototype.updateOverlay = function(t) {
                void 0 === t && (t = {});
                var i = t.viewChange
                  , e = void 0 !== i && i;
                this._map && (this._setStyle(e),
                this._applyStyle(e))
            }
            ,
            As.prototype.destroy = function() {
                this.dom && P.remove(this.dom)
            }
            ,
            As.prototype.getCursor = function() {
                if (this._map)
                    return this._map.getDefaultCursor()
            }
            ,
            As.prototype.getContentDom = function() {
                return this.dom
            }
            ,
            As.prototype._add = function(t) {}
            ,
            As.prototype._remove = function() {
                this._map = null,
                this._parent = null
            }
            ,
            As.prototype._createContainer = function() {
                var t = document.createElement("div");
                return P.addClass(t, this._className),
                t
            }
            ,
            As.prototype._createDefaultInnerDom = function() {
                return document.createElement("div")
            }
            ,
            As.prototype._setStyle = function(t) {
                void 0 === t && (t = !1);
                var i = this._position
                  , e = this._points = this._map && i && this._map.lngLatToContainer(i).toArray()
                  , n = (this._map && this._map.getRotation(),
                this._style)
                  , o = this._map && this._map.getZoom()
                  , r = this._opts.zooms || [2, 20]
                  , a = void 0 === this._opts.visible || this._opts.visible
                  , s = o && (o < r[0] || r[1] < o);
                void 0 !== a && (n.visible = a),
                a && (n.visible = !s);
                var h = this.ZF(e);
                n.visible && (n.visible = !h);
                var l = this._opts
                  , f = l.zIndex
                  , u = l.anchor
                  , c = void 0 === u ? _s.Nm : u
                  , d = l.offset
                  , p = void 0 === d ? [0, 0] : d
                  , v = l.rotate
                  , m = l.scale
                  , y = l.noSelect
                  , g = l.orientation
                  , x = [0, 0];
                if ("number" == typeof g ? n.rotate = this.dP(g) : void 0 !== v && (n.rotate = v),
                t)
                    e && (n.left = e[0] + "px",
                    n.top = e[1] + "px",
                    x = n.translate);
                else {
                    this._getContentSize();
                    var b = this._getStyleZIndex(f);
                    b && (n.zIndex = b),
                    void 0 !== m && (n.scale = m),
                    e && (n.left = e[0] + "px",
                    n.top = e[1] + "px"),
                    (c || p) && (x = this._getOffset(c, p),
                    n.translate = x,
                    n.transformOrigin = -x[0] + "px " + -x[1] + "px"),
                    n.pointerEvents = !0 === y ? "none" : "auto"
                }
                var _ = "translate(" + x[0] + "px, " + x[1] + "px) scale(" + n.scale + ") rotate(" + n.rotate + "deg)";
                wt._.ie && (n.msTransform = _),
                n.transform = _
            }
            ,
            As.prototype._getStyleZIndex = function(t) {
                return t
            }
            ,
            As.prototype._getSize = function() {
                var t = this._opts.size || [];
                t instanceof wt.Size && (t = t.toArray());
                var i = t[0]
                  , e = void 0 === i ? 0 : i
                  , n = t[1]
                  , o = void 0 === n ? 0 : n
                  , r = this._size
                  , a = r[0]
                  , s = void 0 === a ? 0 : a
                  , h = r[1];
                return [e || s, o || (void 0 === h ? 0 : h)]
            }
            ,
            As.prototype._getContentSize = function() {
                var t = this._style
                  , i = this._getSize()
                  , e = 0
                  , n = 0;
                if (i[0] && i[1])
                    e = i[0],
                    n = i[1];
                else if (this.dom) {
                    var o = this.dom;
                    e = Math.ceil(o.offsetWidth) || 0,
                    n = Math.ceil(o.offsetHeight) || 0,
                    this._size = [e, n]
                }
                t.width = e + "px",
                t.height = n + "px",
                t.size = [e, n]
            }
            ,
            As.prototype._applyStyle = function(t) {
                void 0 === t && (t = !1);
                var i, e = this._style, n = this.dom;
                for (i in e)
                    if (e.hasOwnProperty(i)) {
                        if ("visible" === i) {
                            var o = e[i] ? "block" : "none";
                            n.style.display = o;
                            continue
                        }
                        if (t) {
                            "top" !== i && "left" !== i && "transform" !== i && "msTransform" !== i || (n.style[i] = e[i]);
                            continue
                        }
                        if ("width" === i || "height" === i) {
                            if ("0px" === e[i])
                                continue;
                            var r = this._opts.size;
                            r && "AMap.InfoWindow" !== this.type && ("width" === i && (n.style[i] = r[0] + "px"),
                            "height" === i && (n.style[i] = r[1] + "px"));
                            continue
                        }
                        "translate" !== i && "scale" !== i && "rotate" !== i && (n.style[i] = e[i])
                    }
            }
            ,
            As.prototype._getOffset = function(t, i) {
                var e = this._getAnchorOffset(t)
                  , n = e[0]
                  , o = e[1];
                return [n + i[0], o + i[1]]
            }
            ,
            As.prototype._getAnchorOffset = function(t) {
                var i = this._style.size
                  , e = i[0]
                  , n = i[1]
                  , o = _s
                  , r = 0
                  , a = 0;
                if (Array.isArray(t))
                    return t;
                switch (t) {
                case o.Nm:
                    r = 0;
                    break;
                case o.$m:
                    r = -e / 2;
                    break;
                case o.Um:
                    r = -e;
                    break;
                case o.Bm:
                    r = 0,
                    a = -n / 2;
                    break;
                case o.center:
                    r = -e / 2,
                    a = -n / 2;
                    break;
                case o.Wm:
                    r = -e,
                    a = -n / 2;
                    break;
                case o.Gm:
                    a = -n;
                    break;
                case o.Zm:
                    r = -e / 2,
                    a = -n;
                    break;
                case o.qm:
                    r = -e,
                    a = -n
                }
                return [r, a]
            }
            ,
            As.prototype._createDom = function(t, i) {
                return i && ("object" == typeof i && i instanceof HTMLElement ? t.appendChild(i) : t.innerHTML = i),
                t
            }
            ,
            As.prototype._removeContent = function() {
                this.dom.innerHTML = ""
            }
            ,
            As.prototype._formatSize = function(t) {
                return [t.getWidth(), t.getHeight()]
            }
            ,
            As.prototype.ZF = function(t) {
                var i = this._map
                  , e = !1;
                if (i && t) {
                    var n = i.getView();
                    if ("3D" === n.type) {
                        var o = n.Uu()
                          , r = ks;
                        t && t[1] - o - r[0] <= 0 && (e = !0)
                    }
                }
                return e
            }
            ,
            As.prototype._getRotationByPoints = function(t, i) {
                var e = i.y - t.y
                  , n = i.x - t.x
                  , o = 0;
                return (0 != e || 0 != n) && (i.x - t.x != 0 ? (o = Math.atan((i.y - t.y) / (i.x - t.x)),
                0 <= e && n < 0 || e < 0 && n <= 0 ? o = Math.PI + o : e < 0 && 0 <= n && (o = 2 * Math.PI + o)) : o = i.y > t.y ? Math.PI / 2 : 3 * Math.PI / 2,
                Math.round(180 * o / Math.PI * 10) / 10)
            }
            ,
            As.prototype._getRotationByLngLats = function(t, i) {
                var e, n, o = null === (e = this._map) || void 0 === e ? void 0 : e.getProjection().project(t.KL, t.kT), r = null === (n = this._map) || void 0 === n ? void 0 : n.getProjection().project(i.KL, i.kT), a = r[0] - o[0], s = r[1] - o[1], h = 0;
                return (0 != a || 0 != s) && (0 != s ? (h = Math.atan(a / s),
                0 <= a && 0 < s || (0 <= a && s < 0 || a < 0 && s < 0 ? h = Math.PI + h : a < 0 && 0 < s && (h = 2 * Math.PI + h))) : h = 0 < a ? Math.PI / 2 : 3 * Math.PI / 2,
                Math.round(180 * h / Math.PI * 10) / 10)
            }
            ,
            As.prototype.dP = function(t) {
                var i = 0
                  , e = this._position
                  , n = this._map;
                if (n && e) {
                    var o = this.pP(e, t)
                      , r = n.lngLatToContainer(e)
                      , a = n.lngLatToContainer(o)
                      , s = this._getRotationByPoints(r, a);
                    i = !1 === s ? 0 : s + Math.PI
                }
                return i + 90
            }
            ,
            As.prototype.pP = function(t, i) {
                var e, n, o = null === (e = this._map) || void 0 === e ? void 0 : e.getProjection().project(t[0], t[1]);
                return o[0] += Math.sin(i * Math.PI / 180) * Math.pow(2, 18 - this._map.getZoom()),
                o[1] += Math.cos(i * Math.PI / 180) * Math.pow(2, 18 - this._map.getZoom()),
                null === (n = this._map) || void 0 === n ? void 0 : n.getProjection().unproject(o[0], o[1])
            }
            ,
            As.prototype.vP = function(t) {
                return 10 / Math.pow(2, t - 2)
            }
            ,
            As);
            function As(t, i) {
                void 0 === t && (t = {}),
                void 0 === i && (i = {});
                var e = zs.call(this) || this;
                e.type = ms,
                e.className = ms,
                e._style = {
                    width: 0,
                    height: 0,
                    size: [0, 0],
                    position: "absolute",
                    top: 0,
                    left: 0,
                    translate: [0, 0],
                    rotate: 0,
                    scale: 1,
                    transformOrigin: [0, 0],
                    zIndex: 12,
                    visible: !0,
                    draggable: !1,
                    zooms: [2, 20],
                    noSelect: !1
                },
                e._size = [0, 0],
                e._dragObjects = {
                    sy: [0, 0],
                    hy: [0, 0],
                    ly: [0, 0]
                },
                e._className = "amap-overlay",
                e._originOpts = t,
                e._opts = wt.assign({}, Ms, t),
                e._opts.angle && (e._opts.rotate = e._opts.angle),
                !t.offset || t.offset instanceof Array || void 0 === t.offset.x || void 0 === t.offset.y || (e._opts.offset = [t.offset.x, t.offset.y]),
                e.hS = wt.Util.stamp(e);
                var n = i.className
                  , o = i.anchor;
                e._className = n,
                !t.anchor && o && (e._opts.anchor = o);
                var r = t.content
                  , a = e._createContainer();
                return e.dom = e._createDom(a, r),
                e._position = t.position,
                e.updateOverlay(),
                e
            }
            var Is, Ls = {
                uy: "AMap.Marker",
                py: "amap-markers",
                vy: "amap-marker",
                my: "https://shop.zhiyousx.com/theme/v1.3/markers/b/mark_bs.png",
                yy: 120,
                xy: 12,
                by: 2,
                gy: Math.pow(2, 31)
            }, Ts = wt.assign({}, Ms, {
                title: "",
                clickable: !0,
                draggable: !1,
                bubble: !1,
                topWhenClick: !1,
                zIndex: Ls.xy,
                cursor: "pointer",
                extData: {}
            }), $s = (Is = Cs,
            wt.Ei(Ds, Is),
            Ds.prototype.vi = function(t) {
                var i = t.target;
                if (wt.isEmpty(this._overlays) || !i)
                    return null;
                var e = P.closest(i, "amap-marker")
                  , n = this._overlays
                  , o = null;
                return e && wt.forEach(n, function(t) {
                    t.dom === e && (o = t)
                }),
                o
            }
            ,
            Ds.prototype.setTop = function(t) {
                if (t) {
                    var i = this.Kl;
                    i && i !== t && i.setTop(!1),
                    this.Kl = t
                }
            }
            ,
            Ds.prototype._createContainer = function(t) {
                var i = document.createElement("div");
                return P.addClass(i, this._className),
                t.appendChild(i),
                i
            }
            ,
            Ds);
            function Ds(t) {
                var i = Is.call(this, t, {
                    className: Ls.py
                }) || this;
                return i.type = Ls.uy,
                i.className = Ls.uy,
                i._container = i._createContainer(i._parent),
                i
            }
            var Fs, Ps = (Fs = Rs,
            wt.Ei(Hs, Fs),
            Hs.prototype.getTitle = function() {
                return this._opts.title
            }
            ,
            Hs.prototype.setTitle = function(t) {
                this._opts.title = t,
                this.dom && this.dom.setAttribute("title", t)
            }
            ,
            Hs.prototype.getIcon = function() {
                return this._opts.icon
            }
            ,
            Hs.prototype.setIcon = function(t) {
                t && (this._opts.icon = t,
                this._opts.content || this._removeContent(),
                "AMap.Icon" === t.CLASS_NAME && (this._opts.size = t.getSize()),
                this.wy(),
                this.updateOverlay())
            }
            ,
            Hs.prototype.getLabel = function() {
                return this._opts.label || {}
            }
            ,
            Hs.prototype.setLabel = function(t) {
                var i = this._opts.label || {};
                this._opts.label = wt.assign(i, t);
                var e = i.content
                  , n = i._needUpdate
                  , o = void 0 === n || n;
                if (e) {
                    var r;
                    r = this._y ? this.ky(e, this._y) : this._y = this.ky(e),
                    this.dom && this.dom.appendChild(r),
                    o && this.updateOverlay()
                } else
                    this._y && (P.remove(this._y),
                    this._y = null)
            }
            ,
            Hs.prototype.getClickable = function() {
                var t = this._opts.clickable;
                return !(void 0 !== t && !t)
            }
            ,
            Hs.prototype.setClickable = function(t) {
                void 0 === t && (t = !0),
                this._opts.clickable = !!t
            }
            ,
            Hs.prototype.getDraggable = function() {
                var t = this._opts.draggable;
                return void 0 !== t && t
            }
            ,
            Hs.prototype.setDraggable = function(t) {
                (this._opts.draggable = t) ? this._bindEvents() : this.T_()
            }
            ,
            Hs.prototype.getTop = function() {
                return this._isTop
            }
            ,
            Hs.prototype.setTop = function(t) {
                void 0 === t && (t = !1),
                this._isTop = t;
                var i = this._parent;
                i && t && i.setTop(this),
                this.updateOverlay()
            }
            ,
            Hs.prototype.getCursor = function() {
                var t = this._opts.cursor;
                return !t && this._map && (t = this._map.getDefaultCursor()),
                t
            }
            ,
            Hs.prototype.setCursor = function(t) {
                t && (this._opts.cursor = t)
            }
            ,
            Hs.prototype.getExtData = function() {
                return this._opts.extData
            }
            ,
            Hs.prototype.setExtData = function(t) {
                this._opts.extData = t
            }
            ,
            Hs.prototype.remove = function() {
                this.T_(),
                this.ZH(),
                Fs.prototype.remove.call(this)
            }
            ,
            Hs.prototype.moveTo = function() {
                for (var t = [], i = 0; i < arguments.length; i++)
                    t[i] = arguments[i];
                console.log("Should implement AMap.moveAnimation plugin first.")
            }
            ,
            Hs.prototype.moveAlong = function() {
                for (var t = [], i = 0; i < arguments.length; i++)
                    t[i] = arguments[i];
                console.log("Should implement AMap.moveAnimation plugin first.")
            }
            ,
            Hs.prototype.startMove = function() {
                console.log("Should implement AMap.moveAnimation plugin first.")
            }
            ,
            Hs.prototype.stopMove = function() {
                console.log("Should implement AMap.moveAnimation plugin first.")
            }
            ,
            Hs.prototype.pauseMove = function() {
                console.log("Should implement AMap.moveAnimation plugin first.")
            }
            ,
            Hs.prototype.resumeMove = function() {
                console.log("Should implement AMap.moveAnimation plugin first.")
            }
            ,
            Hs.prototype.setOptions = function(t) {
                this._opts = wt.assign({}, Ts, this._opts, t),
                t.content && this.setContent(t.content),
                t.offset && this.setOffset(t.offset),
                t.title && this.setTitle(t.title),
                t.label && this.setLabel(t.label),
                t.draggable && this.setDraggable(!0),
                this.updateOverlay()
            }
            ,
            Hs.prototype.updateOverlay = function(t) {
                void 0 === t && (t = {}),
                Fs.prototype.updateOverlay.call(this, t);
                var i = this._y;
                this._opts.label && i && (!i.parentElement && this.dom && this.dom.appendChild(i),
                this.My(),
                this.Ry())
            }
            ,
            Hs.prototype.emit = function(t, i) {
                var e = this.getCursor();
                if (this._map && ("mouseout" === t ? this._map.setCursor() : this._map.setCursor(e)),
                "click" === t) {
                    if (this.getClickable()) {
                        Fs.prototype.emit.call(this, t, i);
                        var n = this.getOptions().topWhenClick;
                        void 0 !== n && n && this.setTop(!0)
                    }
                } else
                    "dragstart" === t || "dragging" === t || "dragend" === t ? (wt._.$e || i.originEvent.preventDefault(),
                    this.getDraggable() && Fs.prototype.emit.call(this, t, i)) : Fs.prototype.emit.call(this, t, i);
                return this
            }
            ,
            Hs.prototype.toGeometry = function() {
                var t = this.getPosition();
                if (t)
                    return {
                        type: "Point",
                        coordinates: t && t.toJSON()
                    }
            }
            ,
            Hs.prototype._add = function(t) {
                this._map = t,
                this._parent = t.pi,
                this.updateOverlay()
            }
            ,
            Hs.prototype._createDom = function(t, i) {
                return this.dom = Fs.prototype._createDom.call(this, t, i),
                this.wy(),
                t
            }
            ,
            Hs.prototype._createDefaultInnerDom = function() {
                var t = document.createElement("img");
                var Lsmy = Ls.my.replace('webapi.amap.com','shop.zhiyousx.com');
                return t.setAttribute("width", "19px"),
                t.setAttribute("height", "32px"),
                t.setAttribute("src", Lsmy),
                this._size = [19, 32],
                t
            }
            ,
            Hs.prototype._getMarkerOffset = function(t, i) {
                return i
            }
            ,
            Hs.prototype._getStyleZIndex = function(t) {
                var i;
                return this._isTop ? i = Ls.gy : void 0 !== t && (i = t),
                i
            }
            ,
            Hs.prototype._createIcon = function(n, o) {
                var r = this
                  , t = n.getImage()
                  , i = n.getSize()
                  , a = n.getImageSize()
                  , e = n.getImageOffset()
                  , s = document.createElement("div");
                s.className = "amap-icon",
                s.style.overflow = "hidden";
                var h = document.createElement("img");
                return h.onload = function() {
                    var t = h.width
                      , i = h.height;
                    n.Em([t, i]),
                    r._size = a && a.length ? a : [t, i];
                    var e = r._getSize();
                    r._setIconSize(s, h, e, a),
                    o && o()
                }
                ,
                h.onerror = function() {}
                ,
                s.appendChild(h),
                this._setIconStyle(s, h, {
                    size: i,
                    imageSize: a,
                    imageOffset: e
                }),
                h.src = t,
                s
            }
            ,
            Hs.prototype._setIconStyle = function(t, i, e) {
                var n = e.size
                  , o = void 0 === n ? [0, 0] : n
                  , r = e.imageSize
                  , a = void 0 === r ? [0, 0] : r
                  , s = e.imageOffset
                  , h = void 0 === s ? [0, 0] : s;
                i.style.top = h[1] + "px",
                i.style.left = h[0] + "px",
                this._setIconSize(t, i, o, a)
            }
            ,
            Hs.prototype._setIconSize = function(t, i, e, n) {
                var o = e[0]
                  , r = e[1]
                  , a = n[0]
                  , s = n[1];
                o && (t.style.width = o + "px"),
                r && (t.style.height = r + "px"),
                a && s && (i.style.width = a + "px",
                i.style.height = s + "px")
            }
            ,
            Hs.prototype._removeContent = function() {
                this.dom.innerHTML = "",
                this._opts.label && this.setLabel(this._opts.label)
            }
            ,
            Hs.prototype._getD = function() {
                return this.dom
            }
            ,
            Hs.prototype.wy = function() {
                var t = this
                  , i = this._opts
                  , e = i.content
                  , n = i.icon
                  , o = i.text;
                if (!e && n) {
                    var r = "string" == typeof n ? new ds({
                        image: n
                    }) : n
                      , a = this._createIcon(r, function() {
                        t.updateOverlay()
                    });
                    this.dom.appendChild(a)
                } else if (!e && !n && !o) {
                    var s = this._createDefaultInnerDom();
                    this._originOpts.anchor || (this._opts.anchor = "bottom-center"),
                    this.dom.appendChild(s)
                }
            }
            ,
            Hs.prototype.ky = function(t, i) {
                return i || ((i = document.createElement("div")).className = "amap-marker-label"),
                i.innerHTML = t,
                i
            }
            ,
            Hs.prototype.My = function() {
                var t = this._style.size
                  , i = this._opts.label
                  , e = i.offset
                  , n = void 0 === e ? [0, 0] : e;
                wt.oy(n) && (n = n.toArray());
                var o = n[0]
                  , r = n[1]
                  , a = this._y.offsetWidth
                  , s = this._y.offsetHeight
                  , h = this.zy.size = [a, s]
                  , l = this.Sy(i, t, h)
                  , f = [l[0] + o, l[1] + r]
                  , u = f[0]
                  , c = f[1];
                this.zy.top = c,
                this.zy.left = u
            }
            ,
            Hs.prototype.Sy = function(t, i, e) {
                var n = t.direction
                  , o = void 0 === n ? "right" : n
                  , r = i[0]
                  , a = i[1]
                  , s = e[0]
                  , h = e[1]
                  , l = 0
                  , f = 0;
                switch (o) {
                case _s.Nm:
                    l = 0,
                    f = -h;
                    break;
                case _s.top:
                case _s.$m:
                    l = r / 2 - s / 2,
                    f = -h;
                    break;
                case _s.Um:
                    l = r,
                    f = -h;
                    break;
                case _s.right:
                case _s.Wm:
                    l = r,
                    f = a / 2 - h / 2;
                    break;
                case _s.center:
                    l = r / 2 - s / 2,
                    f = a / 2 - h / 2;
                    break;
                case _s.left:
                case _s.Bm:
                    l = -s,
                    f = a / 2 - h / 2;
                    break;
                case _s.Gm:
                    l = 0,
                    f = a;
                    break;
                case _s.bottom:
                case _s.Zm:
                    l = r / 2 - s / 2,
                    f = a;
                    break;
                case _s.qm:
                    l = r,
                    f = a;
                    break;
                default:
                    l = r / 2 - s / 2,
                    f = -h
                }
                return [l, f]
            }
            ,
            Hs.prototype.Ry = function() {
                var t = this.zy
                  , i = t.top
                  , e = t.left
                  , n = this._y;
                n.style.top = i + "px",
                n.style.left = e + "px"
            }
            ,
            Hs.prototype._bindEvents = function() {
                this.on("dragstart", this.Cy.bind(this)),
                this.on("dragging", this._dragging.bind(this)),
                this.on("dragend", this.Ly.bind(this))
            }
            ,
            Hs.prototype.XH = function() {
                this.dom && (this.dom.ondragstart = function() {
                    return !1
                }
                )
            }
            ,
            Hs.prototype.T_ = function() {
                this.off("dragstart", this.Cy.bind(this)),
                this.off("dragging", this._dragging.bind(this)),
                this.off("dragend", this.Ly.bind(this))
            }
            ,
            Hs.prototype.ZH = function() {
                this.dom && (this.dom.ondragstart = null)
            }
            ,
            Hs.prototype.Cy = function(t) {
                this.Ay(t)
            }
            ,
            Hs.prototype._dragging = function(t) {
                var i, e = this._dragObjects.sy, n = e.x, o = e.y, r = t.pixel, a = r.x, s = r.y, h = wt.Sp.Ip([a, s], [n, o]), l = h[0], f = h[1], u = wt.Sp.add([l, f], this._points), c = u[0], d = u[1];
                this._map && (i = this._map.containerToLngLat([c, d]),
                this.setPosition(i.toJSON()),
                this.Ay(t))
            }
            ,
            Hs.prototype.Ly = function(t) {}
            ,
            Hs.prototype.Ay = function(t) {
                this._dragObjects = {
                    sy: t.pixel,
                    hy: t.pos,
                    ly: t.lnglat
                }
            }
            ,
            Hs);
            function Hs(t) {
                void 0 === t && (t = {});
                var i = Fs.call(this, t, {
                    className: Ls.vy
                }) || this;
                i.type = Ls.uy,
                i.className = Ls.uy,
                i._isTop = !1,
                i.zy = {
                    width: 0,
                    height: 0,
                    size: [0, 0],
                    top: 0,
                    left: 0,
                    translate: [0, 0],
                    zIndex: Ls.by
                },
                i._opts = wt.assign({}, Ts, i._opts);
                var e = i._opts.size
                  , n = i._opts.icon;
                !e && n instanceof ds && (e = n.getSize(),
                i._opts.size = e),
                e instanceof wt.Size && (i._opts.size = i._formatSize(e)),
                t.title && i.setTitle(t.title),
                t.label && i.setLabel(t.label),
                t.draggable && i.setDraggable(!0);
                var o = t.map;
                return o && o instanceof uh && i.add(o),
                i.XH(),
                i
            }
            var Os, Bs, Es = {
                getViewport: function(t) {
                    return t ? [t.clientWidth, t.clientHeight] : [0, 0]
                },
                n_: function(t, i) {
                    var e = t.style[i];
                    if ((!e || "auto" === e) && document.defaultView) {
                        var n = document.defaultView.getComputedStyle(t, null);
                        e = n ? n[i] : null
                    }
                    return e && "auto" !== e || "height" !== i || (e = t.clientHeight + "px"),
                    e && "auto" !== e || "width" !== i || (e = t.clientWidth + "px"),
                    "auto" === e ? null : e
                },
                getViewportOffset: function(t) {
                    var i, e = 0, n = 0, o = t, r = document.body, a = document.documentElement;
                    do {
                        if (e += o.offsetTop || 0,
                        n += o.offsetLeft || 0,
                        e += parseInt(Es.n_(o, "borderTopWidth"), 10) || 0,
                        n += parseInt(Es.n_(o, "borderLeftWidth"), 10) || 0,
                        i = Es.n_(o, "position"),
                        o.offsetParent === r && "absolute" === i)
                            break;
                        if ("fixed" === i) {
                            e += r.scrollTop || a.scrollTop || 0,
                            n += r.scrollLeft || a.scrollLeft || 0;
                            break
                        }
                        o = o.offsetParent
                    } while (o);o = t;
                    do {
                        if (o === r)
                            break;
                        e -= o.scrollTop || 0,
                        n -= o.scrollLeft || 0,
                        !Es.m() && wt._.webkit && (n += o.scrollWidth - o.clientWidth),
                        o = o.parentNode
                    } while (o);return [n, e]
                },
                m: function() {
                    return Os || (Bs = "ltr" === Es.n_(document.body, "direction"),
                    Os = !0),
                    Bs
                },
                create: function(t, i, e, n) {
                    var o = document.createElement(t);
                    if (e && (o.className = e),
                    i)
                        if (n && "before" === n) {
                            var r = i.firstChild;
                            i.insertBefore(o, r)
                        } else
                            i.appendChild(o);
                    return o
                },
                toggleClass: function(t, i, e) {
                    e ? this.addClass(t, i) : this.removeClass(t, i)
                },
                hasClass: function(t, i) {
                    if (t && i)
                        return 0 < t.className.length && new RegExp("(^|\\s)" + i + "(\\s|$)").test(t.className)
                },
                addClass: function(t, i) {
                    t && i && (t.classList && t.classList.add ? t.classList.add(i) : this.hasClass(t, i) || (t.className += (t.className ? " " : "") + i))
                },
                setClass: function(t, i) {
                    t && (t.className = i || "")
                },
                removeClass: function(t, e) {
                    t && e && (t.classList && t.classList.remove ? t.classList.remove(e) : t.className = t.className.replace(/(\S+)\s*/g, function(t, i) {
                        return i === e ? "" : t
                    }).replace(/(^\s+|\s+$)/, ""))
                },
                watchSize: function(e, n, o) {
                    var t = document.createElement("iframe");
                    t.style.cssText = "width: 100%;height: 100%;position: absolute;pointEvents:none; opacity:0; margin: 0;padding: 0;border: none;",
                    t.onload = function() {
                        t.contentWindow.onresize = i
                    }
                    ,
                    e.appendChild(t),
                    t.src = "about:blank";
                    var r = 0
                      , a = 0;
                    function i() {
                        o.k = e.getBoundingClientRect(),
                        o.M = [e.clientLeft, e.clientTop];
                        var t = e.offsetWidth
                          , i = e.offsetHeight;
                        t === r && i === a || (n(t, i),
                        r = t,
                        a = i)
                    }
                    return i(),
                    o.resize = i,
                    window.onscroll = i,
                    function() {
                        t.contentWindow.onresize = null
                    }
                },
                watchSize2: function(e, n, o) {
                    var r = document.createElement("_");
                    r.className = "expand";
                    var a = r.appendChild(document.createElement("_"));
                    a.className = "shrink";
                    var s = r.appendChild(document.createElement("_"));
                    s.className = "expandChild";
                    var h, l, t = a.appendChild(document.createElement("_"));
                    return t.className = "shrinkChild",
                    a.style.cssText = r.style.cssText = "height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1",
                    t.style.cssText = s.style.cssText = "display:block;height:100%;transition:0s;width:100%",
                    t.style.width = t.style.height = "200%",
                    e.appendChild(r),
                    f(),
                    function() {
                        u(),
                        e.removeChild(r)
                    }
                    ;
                    function f() {
                        u(),
                        o.k = e.getBoundingClientRect(),
                        o.M = [e.clientLeft, e.clientTop];
                        var t = e.offsetWidth
                          , i = e.offsetHeight;
                        t === h && i === l || (h = t,
                        l = i,
                        s.style.width = 2 * t + "px",
                        s.style.height = 2 * i + "px",
                        r.scrollLeft = r.scrollWidth,
                        r.scrollTop = r.scrollHeight,
                        a.scrollLeft = a.scrollWidth,
                        a.scrollTop = a.scrollHeight,
                        n(t, i)),
                        a.addEventListener("scroll", f),
                        r.addEventListener("scroll", f)
                    }
                    function u() {
                        a.removeEventListener("scroll", f),
                        r.removeEventListener("scroll", f)
                    }
                },
                mousePos: function(t, i, e) {
                    t && (e.k = t.getBoundingClientRect(),
                    e.M = [t.clientLeft, t.clientTop]);
                    var n = e.k
                      , o = i;
                    return o.touches && o.changedTouches && (o = 0 < o.touches.length ? o.touches[0] : o.changedTouches[o.changedTouches.length - 1]),
                    [o.clientX - n.left - e.M[0], o.clientY - n.top - e.M[1]]
                },
                remove: function(t) {
                    t && t.parentNode && t.parentNode.removeChild(t)
                },
                empty: function(t) {
                    for (; t.firstChild; )
                        t.removeChild(t.firstChild)
                },
                closest: function(t, i) {
                    if (t) {
                        if (this.hasClass(t, i))
                            return t;
                        var e = t.parentElement;
                        return e ? Es.closest(e, i) : null
                    }
                    return null
                },
                fillText: function(t, i) {
                    if (t)
                        return void 0 !== t.textContent ? t.textContent = i : void 0 !== t.innerText ? t.innerText = i : t.innerHTML = i,
                        t
                },
                _L: function(t) {
                    for (var i = document.documentElement.style, e = 0; e < t.length; e += 1)
                        if (t[e]in i)
                            return t[e];
                    return !1
                },
                rotate: function(t, i, e) {
                    var n = Es.kL;
                    if (e = e || {
                        x: t.clientWidth / 2,
                        y: t.clientHeight / 2
                    },
                    n) {
                        var o = "";
                        o += " rotate(" + i + "deg)",
                        t.style[n] = o,
                        t.style[Es.ML[n] + "-origin"] = e.x + "px " + e.y + "px"
                    } else {
                        var r = Math.cos(i * Math.PI / 180)
                          , a = Math.sin(i * Math.PI / 180);
                        if (t.style.filter = "progid:DXImageTransform.Microsoft.Matrix()",
                        0 < t.filters.length) {
                            var s = t.filters.item(0);
                            s.Dx = -e.x * r + e.y * a + e.x,
                            s.Dy = -e.x * a - e.y * r + e.y,
                            s.M11 = s.M22 = r,
                            s.M12 = -(s.M21 = a)
                        }
                    }
                },
                setCss: function(t, i) {
                    t = t instanceof Array ? t : [t];
                    for (var e = 0; e < t.length; e += 1)
                        for (var n in i)
                            i.hasOwnProperty(n) && (t[e].style[n] = i[n]);
                    return this
                },
                setOpacity: function(t, i) {
                    if (t.style)
                        if ("opacity"in t.style)
                            t.style.opacity = "" + i;
                        else if ("filter"in t.style) {
                            var e = Math.round(100 * i);
                            t.style.filter = "",
                            100 !== e && (t.style.filter = " progid:DXImageTransform.Microsoft.Alpha(opacity=" + e + ")")
                        }
                },
                ML: {},
                kL: Bs = Os = !1
            };
            Es.kL = Es._L(["WebkitTransform", "OTransform", "MozTransform", "msTransform", "transform"]),
            Es.ML = {
                transform: "transform",
                WebkitTransform: "-webkit-transform",
                OTransform: "-o-transform",
                MozTransform: "-moz-transform",
                msTransform: "-ms-transform"
            };
            var js, Ns = {
                uy: "AMap.InfoWindow",
                JP: "",
                XP: "amap-info",
                QP: 121,
                KP: 8,
                tF: 8,
                iF: [20, 20, 20, 20]
            }, Ws = wt.assign({}, Ms, {
                isCustom: !1,
                closeWhenClickMap: !1,
                anchor: "bottom-center",
                autoMove: !0,
                avoid: Ns.iF
            }), Us = (js = Cs,
            wt.Ei(Gs, js),
            Gs.prototype.addToGroup = function(t) {
                this.Iy && this._overlays[this.Iy] && this.Iy !== t.hS && this._overlays[this.Iy].remove(),
                this.Iy = t.hS,
                js.prototype.addToGroup.call(this, t)
            }
            ,
            Gs.prototype.removeFromGroup = function(t) {
                js.prototype.removeFromGroup.call(this, t),
                this.Iy = 0
            }
            ,
            Gs.prototype.close = function() {
                var t = this.Iy
                  , i = this._overlays[t];
                i && (this.Iy = 0,
                i.close())
            }
            ,
            Gs.prototype.vi = function(t) {
                var i = t.target;
                return this.Iy && i && Es.closest(i, "amap-info") ? this._overlays[this.Iy] : null
            }
            ,
            Gs.prototype.destroy = function() {
                this.Dy(),
                js.prototype.destroy.call(this)
            }
            ,
            Gs.prototype.Rm = function() {
                this._map.on("click", this.Py)
            }
            ,
            Gs.prototype.Dy = function() {
                this._map.off("click", this.Py)
            }
            ,
            Gs);
            function Gs(t) {
                var n = js.call(this, t, {
                    className: Ns.JP
                }) || this;
                return n.type = Ns.uy,
                n.Py = function(t) {
                    var i = n.Iy
                      , e = n._overlays[i];
                    !Es.closest(t.originEvent.target, "amap-info") && e && e.getOptions().closeWhenClickMap && (n.Iy = 0,
                    e.close())
                }
                ,
                n._container = n._parent,
                n.Rm(),
                n
            }
            var Vs, Ys = (Vs = Rs,
            wt.Ei(Zs, Vs),
            Zs.prototype.open = function(t, i, e) {
                t && t instanceof uh && i ? (this._opts.visible = !0,
                this.add(t),
                this.setPosition(i),
                this.jy(),
                this.emit("open"),
                this.GF()) : t && this._position ? (this._opts.visible = !0,
                this.add(t),
                this.jy(),
                this.emit("open"),
                this.GF()) : this._map && this._position && (this._opts.visible = !0,
                this.updateOverlay(),
                this.emit("open"),
                this.GF())
            }
            ,
            Zs.prototype.close = function() {
                this._parent && (this._opts.visible = !1,
                this.updateOverlay(),
                this.emit("close"))
            }
            ,
            Zs.prototype.getIsOpen = function() {
                return !(!this._map || !this._opts.visible)
            }
            ,
            Zs.prototype.setSize = function(t) {
                t instanceof wt.Size && (t = t.toArray()),
                this._opts.size = t,
                this.updateOverlay()
            }
            ,
            Zs.prototype.setContent = function(t) {
                void 0 === t && (t = ""),
                Vs.prototype.setContent.call(this, t),
                this.jy()
            }
            ,
            Zs.prototype.setAnchor = function(t) {
                var i = this.dom && this.dom.querySelector(".amap-info-contentContainer");
                if (t && i) {
                    var e = this.g_([].slice.call(i.className.split(" ")));
                    e && Es.removeClass(i, e),
                    this._size = [0, 0],
                    Es.addClass(i, t)
                }
                Vs.prototype.setAnchor.call(this, t)
            }
            ,
            Zs.prototype.getDraggable = function() {
                return !1
            }
            ,
            Zs.prototype.setOptions = function(t) {
                this._opts = wt.assign({}, Ws, this._opts, t)
            }
            ,
            Zs.prototype.updateOverlay = function(t) {
                if (void 0 === t && (t = {}),
                this._map) {
                    var i = t.viewChange
                      , e = void 0 !== i && i;
                    this._setStyle(e),
                    this._applyStyle(e);
                    var n = this._getSize();
                    if (this.Fy && n[0] && "border-box" === window.getComputedStyle(this.Fy).boxSizing)
                        return
                }
            }
            ,
            Zs.prototype.getBounds = function() {
                return null
            }
            ,
            Zs.prototype._add = function(t) {
                this._map = t,
                this._parent = t.di,
                this.updateOverlay()
            }
            ,
            Zs.prototype._remove = function() {
                Vs.prototype._remove.call(this),
                this.Ey()
            }
            ,
            Zs.prototype._createDefaultInnerDom = function() {
                return document.createElement("div")
            }
            ,
            Zs.prototype._createDom = function(t, i) {
                var e = this.Ny(t);
                return this.$y(e, i),
                t
            }
            ,
            Zs.prototype._getContentSize = function() {
                var t, i, e = this._style, n = this._getSize();
                if (n[0] && n[1] && !this._opts.isCustom)
                    t = n[0],
                    i = n[1];
                else {
                    var o = this.dom.querySelector(".amap-info-contentContainer");
                    o && (t = o.clientWidth,
                    i = o.clientHeight,
                    this._size = [t, i])
                }
                e.width = t + "px",
                e.height = i + "px",
                e.size = [t, i]
            }
            ,
            Zs.prototype._getAnchorOffset = function(t) {
                var i = Vs.prototype._getAnchorOffset.call(this, t);
                return [i[0], i[1]]
            }
            ,
            Zs.prototype.Ny = function(t) {
                var i = document.createElement("div");
                Es.addClass(i, "amap-info-shadowContainer");
                var e = document.createElement("div");
                return Es.addClass(e, "amap-info-contentContainer"),
                e.addEventListener("touchstart", function(t) {
                    t.cH = "infoWindow"
                }),
                t.style.position = "absolute",
                i.style.position = "absolute",
                t.appendChild(i),
                t.appendChild(e),
                e
            }
            ,
            Zs.prototype.$y = function(t, i) {
                var e = this._opts
                  , n = e.isCustom
                  , o = void 0 !== n && n
                  , r = e.anchor;
                if (o)
                    "object" == typeof i && i instanceof HTMLElement ? t.appendChild(i) : t.innerHTML = i + "";
                else {
                    var a = this.Fy = document.createElement("div");
                    Es.addClass(a, "amap-info-content"),
                    Es.addClass(a, "amap-info-outer"),
                    "object" == typeof i && i instanceof HTMLElement ? a.appendChild(i) : a.innerHTML = i ? i + "" : "";
                    var s = document.createElement("a");
                    Es.addClass(s, "amap-info-close"),
                    s.innerText = "×",
                    a.appendChild(s);
                    var h = document.createElement("div");
                    Es.addClass(h, "amap-info-sharp"),
                    Es.addClass(t, r),
                    t.appendChild(a),
                    t.appendChild(h)
                }
            }
            ,
            Zs.prototype.jy = function() {
                var t = this.dom.querySelector(".amap-info-close");
                t && t.addEventListener("click", this.close.bind(this))
            }
            ,
            Zs.prototype.Ey = function() {
                var t = this
                  , i = this.dom.querySelector(".amap-info-close");
                i && i.removeEventListener("click", function() {
                    t.close()
                })
            }
            ,
            Zs.prototype.Oy = function() {
                if (this._position) {
                    var t = this._map;
                    if (t && this._opts.autoMove && this.dom) {
                        for (var i = this._getSize(), e = new wt.Size(i[0],i[1]), n = t.lngLatToContainer(this._position).toArray(), o = this._getOffset(this.getAnchor(), this.getOffset().toArray()), r = wt.Sp.add(n, o), a = wt.Sp.add(r, i), s = t.getSize(), h = [this._opts.avoid || Ns.iF], l = 0, f = 0, u = 0; u < h.length; u += 1) {
                            var c = h[u]
                              , d = 0
                              , p = 0;
                            0 !== c[3] && 0 < (d = c[3] - (r[0] + l)) && (l += d),
                            0 !== c[1] && (d = s.getWidth() - c[1] - (a[0] + l)) < 0 && (l += d),
                            0 !== c[0] && 0 < (p = c[0] - (r[1] + f)) && (f += p),
                            0 !== c[2] && (p = s.getHeight() - c[2] - (a[1] + f)) < 0 && (f += p)
                        }
                        r = wt.Sp.add(r, [l, f]),
                        a = wt.Sp.add(a, [l, f]);
                        var v = 0
                          , m = 0;
                        r[0] < 0 || e.getWidth() > s.getWidth() ? v = 20 - r[0] : s.getWidth() < a[0] && (v = s.getWidth() - a[0] - 25),
                        r[1] < 0 || e.getHeight() > s.getHeight() ? m = 5 - r[1] : s.getHeight() < a[1] && (m = s.getHeight() - a[1] - 15),
                        m += f,
                        ((v += l) || m) && t.panBy(v, m)
                    }
                }
            }
            ,
            Zs.prototype.GF = function() {
                if (this._position) {
                    var t = this._map;
                    if (t && this._opts.autoMove && this.dom) {
                        var i = this._position;
                        wt.Bs(i) && (i = i.toArray());
                        var e = t.getSize()
                          , n = e.getWidth() || 0
                          , o = e.getHeight() || 0
                          , r = this._getSize()
                          , a = t.lngLatToContainer(i).toArray()
                          , s = this._getOffset(this.getAnchor(), this.getOffset().toArray())
                          , h = wt.Sp.add(a, s)
                          , l = wt.Sp.add(h, r)
                          , f = this._opts.avoid || Ns.iF
                          , u = h[0]
                          , c = h[1]
                          , d = !1;
                        if (h[1] - f[0] < 0 && (c = f[0],
                        d = !0),
                        l[0] + f[1] > n && (u = n - r[0] - f[1],
                        d = !0),
                        l[1] + f[2] > o && (c = o - f[2] - r[1],
                        d = !0),
                        h[0] - f[3] < 0 && (u = f[3],
                        d = !0),
                        d) {
                            var p = wt.Sp.Ip([u, c], s)
                              , v = t.containerToLngLat(p).toArray()
                              , m = wt.Sp.Ip(v, i)
                              , y = t.getCenter().toArray()
                              , g = wt.Sp.Ip(y, m);
                            t.panTo(g)
                        }
                    }
                }
            }
            ,
            Zs.prototype.g_ = function(t) {
                var i, e = _s;
                for (var n in e)
                    if (e.hasOwnProperty(n)) {
                        var o = e[n];
                        if (-1 !== t.indexOf(o)) {
                            i = o;
                            break
                        }
                    }
                return i
            }
            ,
            Zs);
            function Zs(t) {
                void 0 === t && (t = {});
                var i = Vs.call(this, t, {
                    className: Ns.XP,
                    anchor: Ws.anchor
                }) || this;
                i.type = Ns.uy,
                i._opts = wt.assign({}, Ws, i._opts),
                i._originOpts.zIndex || (i._opts.zIndex = Ns.QP);
                var e = i._opts.size;
                return e instanceof wt.Size && (i._opts.size = i._formatSize(e)),
                i.jy(),
                i
            }
            var Xs, Js = "AMap.ContextMenu", ih = (Xs = Cs,
            wt.Ei(eh, Xs),
            eh.prototype.addToGroup = function(t) {
                this.Iy && this._overlays[this.Iy] && this.Iy !== t.hS && this._overlays[this.Iy].remove(),
                this.Iy = t.hS,
                Xs.prototype.addToGroup.call(this, t)
            }
            ,
            eh.prototype.removeFromGroup = function(t) {
                Xs.prototype.removeFromGroup.call(this, t),
                this.Iy = 0
            }
            ,
            eh.prototype.vi = function(t) {
                var i = t.target;
                return this.Iy && i && P.closest(i, "amap-menu") ? this._overlays[this.Iy] : null
            }
            ,
            eh.prototype.destroy = function() {
                this.Uy(),
                Xs.prototype.destroy.call(this)
            }
            ,
            eh.prototype.By = function() {
                this._map.on("viewchange", this.Wy),
                this._map.on("click", this.Py)
            }
            ,
            eh.prototype.Uy = function() {
                this._map.off("viewchange", this.Wy),
                this._map.off("click", this.Py)
            }
            ,
            eh);
            function eh(t) {
                var n = Xs.call(this, t, {
                    className: ""
                }) || this;
                return n.type = Js,
                n.className = Js,
                n.Wy = function() {
                    n.Iy && n.removeFromGroup(n._overlays[n.Iy])
                }
                ,
                n.Py = function(t) {
                    var i = n.Iy
                      , e = n._overlays[i];
                    !P.closest(t.originEvent.target, "amap-info") && e && (n.Iy = 0,
                    e.close())
                }
                ,
                n._container = n._parent,
                n.By(),
                n
            }
            var nh, oh = (nh = Rs,
            wt.Ei(rh, nh),
            rh.prototype.open = function(t, i) {
                t && i ? (this._opts.visible = !0,
                this.add(t),
                this.setPosition(i),
                this.emit("open")) : this._map && this._position && (this._opts.visible = !0,
                this.updateOverlay(),
                this.emit("open"))
            }
            ,
            rh.prototype.close = function() {
                this._parent && (this._opts.visible = !1,
                this.updateOverlay(),
                this.emit("close"))
            }
            ,
            rh.prototype.addItem = function(t, i, e) {
                var n = {
                    content: t,
                    fn: i,
                    order: e
                };
                this.Zy.push(n),
                this.qy(this.dom),
                this.updateOverlay()
            }
            ,
            rh.prototype.removeItem = function(t, i) {
                for (var e = this.Zy, n = 0; n < e.length; n++) {
                    var o = e[n];
                    o.content === t && o.fn === i && (e.splice(n, 1),
                    n--)
                }
                this.qy(this.dom),
                this.updateOverlay()
            }
            ,
            rh.prototype.getBounds = function() {
                return null
            }
            ,
            rh.prototype._add = function(t) {
                this._map = t,
                this._parent = t.vm,
                this.updateOverlay()
            }
            ,
            rh.prototype._createDefaultInnerDom = function() {
                return document.createElement("div")
            }
            ,
            rh.prototype._createDom = function(t, i) {
                var e = this.dom = this.Yy();
                return this._opts.isCustom && this._opts.content ? nh.prototype._createDom.call(this, e, this._opts.content) : this.qy(e),
                e
            }
            ,
            rh.prototype.Yy = function() {
                var t = document.createElement("div");
                return P.addClass(t, this._className),
                t
            }
            ,
            rh.prototype.qy = function(t) {
                var i, e = this.Vy(this.Zy), n = document.createElement("ul");
                P.addClass(n, "amap-menu-outer");
                for (var o = 0, r = e; o < r.length; o++) {
                    var a = r[o];
                    i = this.Xy(a),
                    n.appendChild(i)
                }
                t.innerHTML = "",
                t.appendChild(n)
            }
            ,
            rh.prototype.Vy = function(t) {
                return void 0 === t && (t = []),
                t.sort(function(t, i) {
                    return isNaN(t.order) || isNaN(i.order) ? 0 : t.order - i.order
                }),
                t
            }
            ,
            rh.prototype.Xy = function(i) {
                var e = this
                  , t = document.createElement("li");
                return t.innerHTML = i.content,
                t.addEventListener("click", function(t) {
                    i.fn(t),
                    e.hide()
                }),
                t
            }
            ,
            rh);
            function rh(t) {
                void 0 === t && (t = {});
                var i = nh.call(this, t, {
                    className: "amap-menu"
                }) || this;
                return i.type = Js,
                i.className = Js,
                i._opts = {},
                i.Zy = [],
                i._opts = t,
                i._style.zIndex = 140,
                i
            }
            var ah, sh = (hh.prototype.setCenter = function(t) {
                var i;
                t instanceof wt.LngLat ? this.cB = t.toArray() : this.cB = t,
                this.dB = (i = this.map.getProjection()).project.apply(i, this.cB)
            }
            ,
            hh.prototype.getCenter = function() {
                return this.cB
            }
            ,
            hh.prototype.lngLatToCoord = function(t) {
                var i = this.map.getProjection().project;
                return t instanceof wt.LngLat && (t = t.toArray()),
                this.cB || this.setCenter(t),
                this.pB(i(t[0], t[1]), this.dB)
            }
            ,
            hh.prototype.lngLatsToCoords = function(t) {
                if (wt.Util.isArray(t)) {
                    var i = this.map.getProjection().project
                      , e = [];
                    if (wt.Util.vB(t[0]))
                        this.cB || this.setCenter(t),
                        e[0] = this.pB(i(t[0], t[1]), this.dB);
                    else
                        for (var n = 0, o = t.length; n < o; n++) {
                            var r = t[n];
                            if (wt.Util.vB(r[0]))
                                this.cB || this.setCenter(r),
                                e[n] = this.pB(i(r[0], r[1]), this.dB);
                            else {
                                for (var a = [], s = 0, h = r.length; s < h; s++) {
                                    var l = r[s];
                                    if (wt.Util.vB(l[0]))
                                        this.cB || this.setCenter(l),
                                        a[s] = this.pB(i(l[0], l[1]), this.dB);
                                    else {
                                        for (var f = [], u = 0, c = r.length; u < c; u++) {
                                            var d = l[u];
                                            wt.Util.vB(d[0]) && (this.cB || this.setCenter(d),
                                            f[u] = this.pB(i(d[0], d[1]), this.dB))
                                        }
                                        a[s] = f
                                    }
                                }
                                e[n] = a
                            }
                        }
                    return 0 < e.length ? e : t
                }
                return t
            }
            ,
            hh.prototype.getCameraParams = function() {
                this.mB();
                var t = this.map.getView()
                  , i = t.pz()
                  , e = this.pB(this.dB, this.Us);
                if ("3D" === t.type) {
                    var n = i.lB()
                      , o = n.fov
                      , r = n.near
                      , a = n.far
                      , s = n.position
                      , h = n.target
                      , l = n.up;
                    return {
                        fov: o / Math.PI * 180,
                        near: r,
                        far: a,
                        position: wt.Pt(this.pB(s, e), [s[2]]),
                        lookAt: wt.Pt(this.pB(h, e), [h[2]]),
                        up: l
                    }
                }
                if ("2D" === t.type) {
                    var f = i.lB()
                      , u = f.rotation
                      , c = (r = f.near,
                    a = f.far,
                    f.top)
                      , d = f.bottom
                      , p = f.left
                      , v = f.right;
                    return s = f.position,
                    {
                        rotation: u,
                        near: r,
                        far: a,
                        top: c,
                        bottom: d,
                        left: p,
                        right: v,
                        position: wt.Pt(this.pB(s, e), [s[2]])
                    }
                }
            }
            ,
            hh.prototype.getMVPMatrix = function() {
                this.mB();
                var t = this.map.getView().pz()
                  , i = this.pB(this.dB, this.Us)
                  , e = wt.Il();
                return this.Xl = t.Vl(),
                e.set([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, i[0], i[1], 0, 1]),
                wt.multiply(this.Xl, this.Xl, e),
                this.Xl
            }
            ,
            hh.prototype.mB = function() {
                var t = this.map.getView().getStatus()
                  , i = t.optimalZoom
                  , e = t.centerCoord;
                if (i >= wt.Ra) {
                    var n = wt.lcs.getLocalByCoord([e[0], e[1]]);
                    this.Us = n.center
                } else
                    this.Us = [0, 0]
            }
            ,
            hh.prototype.pB = function(t, i) {
                var e = [0, 0];
                return e[0] = t[0] - i[0],
                e[1] = t[1] - i[1],
                e
            }
            ,
            hh);
            function hh(t) {
                this.Us = [0, 0],
                t || console.error("需要传入 map 实例对象。new AMap.CustomCoords(map);"),
                this.map = t,
                this.mB()
            }
            var fh, lh = [116.397128, 39.916527], uh = (fh = es,
            wt.Ei(ch, fh),
            ch.prototype.setCenter = function(t, i, e) {
                void 0 === i && (i = !1),
                t instanceof wt.LngLat && (t = t.toJSON()),
                !i && this.Ev ? this.viewChange({
                    lng: t[0],
                    lat: t[1]
                }, e) : this.om({
                    center: t
                })
            }
            ,
            ch.prototype.setZoomAndCenter = function(t, i, e, n) {
                void 0 === e && (e = !1),
                this.Pv || (t = this.getZoom()),
                i instanceof wt.LngLat && (i = i.toJSON()),
                !e && this.Ev ? this.viewChange({
                    lng: i[0],
                    lat: i[1],
                    zoom: t
                }, n) : this.om({
                    center: i,
                    zoom: t
                })
            }
            ,
            ch.prototype.getBounds = function() {
                return new Le(this._view.getStatus().bounds)
            }
            ,
            ch.prototype.getCenter = function() {
                var t = this._view.getOptions().center
                  , i = t[0]
                  , e = t[1];
                return new wt.LngLat(+i.toFixed(6),+e.toFixed(6))
            }
            ,
            ch.prototype.setZoom = function(t, i, e) {
                void 0 === i && (i = !1),
                this.Pv && (!i && this.Ev ? this.viewChange({
                    zoom: t
                }, e) : this.om({
                    zoom: t
                }))
            }
            ,
            ch.prototype.getZoom = function(t) {
                return void 0 === t && (t = 2),
                +this._view.getOptions().zoom.toFixed(t)
            }
            ,
            ch.prototype.zoomIn = function() {
                this.setZoom(this.getZoom() + 1)
            }
            ,
            ch.prototype.zoomOut = function() {
                this.setZoom(this.getZoom() - 1)
            }
            ,
            ch.prototype.getPitch = function() {
                return this._view.getOptions().pitch
            }
            ,
            ch.prototype.setPitch = function(t, i, e) {
                void 0 === i && (i = !1),
                !i && this.Ev ? this.viewChange({
                    pitch: t
                }, e) : this.om({
                    pitch: t
                })
            }
            ,
            ch.prototype.getRotation = function() {
                return this._view.getOptions().rotation
            }
            ,
            ch.prototype.setRotation = function(t, i, e) {
                void 0 === t && (t = 0),
                void 0 === i && (i = !1);
                var n = this.getRotation();
                360 < t ? t -= 360 : t < -360 && (t += 360),
                180 < t - n ? t -= 360 : t - n < -180 && (t += 360),
                !i && this.Ev ? this.viewChange({
                    rotation: t
                }, e) : this.om({
                    rotation: t
                })
            }
            ,
            ch.prototype.setBounds = function(t) {
                t instanceof Le && (t = t.toJSON());
                var i = this.em(t);
                this.setZoomAndCenter(i[2], [i[0], i[1]])
            }
            ,
            ch.prototype.panTo = function(t, i) {
                t instanceof wt.LngLat && (t = t.toJSON()),
                this.viewChange({
                    lng: t[0],
                    lat: t[1]
                }, i)
            }
            ,
            ch.prototype.getBindHandler = function() {
                return this.hx
            }
            ,
            ch.prototype.panBy = function(t, i, e) {
                var n = this.getSize()
                  , o = n.width / 2 - t
                  , r = n.height / 2 - i
                  , a = this.getCenter();
                if (this.lx && this.ux) {
                    var s = Math.sqrt(t * t + i * i)
                      , h = this.getProjection()
                      , l = void 0 === this.ux.lng ? a.lng : this.ux.lng
                      , f = void 0 === this.ux.lat ? a.lat : this.ux.lat
                      , u = void 0 === this.ux.zoom ? this.getZoom() : this.ux.zoom
                      , c = void 0 === this.ux.rotation ? this.getRotation() : this.ux.rotation
                      , d = void 0 === this.ux.pitch ? this.getPitch() : this.ux.pitch
                      , p = h.getResolution(u)
                      , v = h.project(l, f)
                      , m = c / 180 * Math.PI
                      , y = Math.atan(t / i) - m;
                    i < 0 && (y += Math.PI);
                    var g = s * Math.sin(y)
                      , x = s * Math.cos(y);
                    v[0] -= p * g,
                    v[1] += p * x,
                    this.setCenter([l, f], !0),
                    this.setZoom(u, !0),
                    this.setRotation(c, !0),
                    this.setPitch(d, !0)
                }
                this.panTo(this.containerToLngLat([o, r]), e)
            }
            ,
            ch.prototype.viewChange = function(t, i) {
                var n, o, r, a, s, h = new L(.4,0,.15,1), l = (new L(.67,0,1,.42),
                new L(.95,.25,.79,1)), f = new L(.18,.66,.55,.86), u = this.getZoom(), c = this.getPitch(), d = this.getRotation(), p = this.getCenter().toJSON(), e = 0, v = 0, m = 0, y = 0;
                this.lx ? (wt.Util.cancelAnimFrame(this.lx),
                this.ux = wt.assign(this.ux, t)) : this.ux = t;
                var g = this.ux
                  , x = g.zoom
                  , b = g.pitch
                  , _ = g.rotation
                  , w = g.lng
                  , k = g.lat;
                if (void 0 !== x && (n = x - u,
                e = h.h(Math.abs(n / 10)),
                e = 1e3 * Math.max(Math.min(1, e), .1)),
                void 0 !== b && (o = b - c,
                v = Math.abs(16.7 * o)),
                void 0 !== _ && (r = _ - d,
                m = Math.abs(16.7 * r)),
                void 0 !== w && void 0 !== k) {
                    var M = []
                      , C = this._view.getStatus().centerCoord;
                    a = w - p[0],
                    s = k - p[1];
                    var S, z, R = this.getProjection().project(w, k);
                    M[0] = Math.abs(R[0] - C[0]) / this.getResolution(),
                    M[1] = Math.abs(R[1] - C[1]) / this.getResolution(),
                    S = h.h(Math.min(M[0] / this.getSize().width, 1)),
                    z = h.h(Math.min(M[1] / this.getSize().height, 1)),
                    y = 1e3 * Math.max(Math.min(1, z, S), .05, S, z)
                }
                var A = Math.max(e, v, m, y)
                  , I = 0;
                void 0 !== i && (A = i),
                this.Ev || (A = -1),
                function t() {
                    var i = {};
                    if (A <= I)
                        return void 0 !== x && (i.zoom = x),
                        void 0 !== b && (i.pitch = b),
                        void 0 !== _ && (i.rotation = _),
                        void 0 !== w && void 0 !== k && (i.center = [w, k]),
                        this.om(i),
                        wt.Util.cancelAnimFrame(this.lx),
                        this.lx = !1,
                        void (this.ux = {});
                    I += 16.7;
                    var e = Math.min(1, h.p(I / A));
                    void 0 !== b && (i.pitch = o * e + c),
                    void 0 !== _ && (i.rotation = r * e + d),
                    void 0 !== w && void 0 !== k && (n && .5 < n ? e = f.h(I / A) : n && n < -.5 && (e = l.h(I / A)),
                    i.center = [a * e + p[0], s * e + p[1]]),
                    void 0 !== x && (e = n < 0 ? f.h(I / A) : l.h(I / A),
                    i.zoom = n * e + u),
                    this.om(i),
                    this.lx = wt.Util.requestAnimFrame(t.bind(this))
                }
                .call(this)
            }
            ,
            ch.prototype.getContainer = function() {
                return this.kv
            }
            ,
            ch.prototype.add = function(t) {
                Array.isArray(t) || (t = [t]);
                for (var i = [], e = [], n = [], o = [], r = 0, a = t; r < a.length; r++) {
                    var s = a[r];
                    if (wt.px(s))
                        this.addLayer(s);
                    else if (wt.er(s))
                        wt.RF(s) ? (this.add(s.getOverlays()),
                        s.setMap(this)) : this.am(s);
                    else
                        switch (s.type) {
                        case "AMap.Marker":
                        case "AMap.ElasticMarker":
                        case "AMap.Text":
                            i.push(s);
                            break;
                        case "AMap.InfoWindow":
                            e.push(s);
                            break;
                        case "AMap.ContextMenu":
                            n.push(s);
                            break;
                        case "AMap.LabelMarker":
                            o.push(s)
                        }
                }
                this.pi.add(i),
                this.di.add(e),
                this.vm.add(n),
                o.length && this.rm().add(o),
                this.setNeedUpdate(!0)
            }
            ,
            ch.prototype.remove = function(t) {
                Array.isArray(t) || (t = [t]);
                for (var i = [], e = [], n = [], o = [], r = 0, a = t; r < a.length; r++) {
                    var s = a[r];
                    if (wt.er(s))
                        wt.RF(s) ? (this.remove(s.getOverlays()),
                        s.setMap(null)) : this.$F.remove(s);
                    else if (wt.px(s))
                        this.removeLayer(s);
                    else
                        switch (s.type) {
                        case "AMap.Marker":
                        case "AMap.ElasticMarker":
                        case "AMap.Text":
                            i.push(s);
                            break;
                        case "AMap.InfoWindow":
                            e.push(s);
                            break;
                        case "AMap.ContextMenu":
                            n.push(s);
                            break;
                        case "AMap.LabelMarker":
                            o.push(s)
                        }
                }
                o.length && this.rm().remove(o),
                this.pi.remove(i),
                this.di.remove(e),
                this.vm.remove(n),
                this.setNeedUpdate(!0)
            }
            ,
            ch.prototype.lngLatToCoords = function(t) {
                var i;
                return wt.Bs(t) && (t = [t.lng, t.lat]),
                (i = this.getProjection()).project.apply(i, t)
            }
            ,
            ch.prototype.coordsToLngLat = function(t) {
                var i, e = (i = this.getProjection()).unproject.apply(i, t);
                return new AMap.LngLat(e[0],e[1])
            }
            ,
            ch.prototype.lngLatToContainer = function(t) {
                wt.Bs(t) && (t = [t.lng, t.lat]);
                var i = t[0]
                  , e = t[1]
                  , n = this._view
                  , o = n.getOptions().zoom || es.t_[1]
                  , r = n.lnglatToContainer(+i, +e, o)
                  , a = r[0]
                  , s = r[1];
                return new wt.Pixel(a,s)
            }
            ,
            ch.prototype.lnglatToContainer = function() {
                console.log && console.log("请使用 lngLatToContainer 方法替代。")
            }
            ,
            ch.prototype.containerTolnglat = function() {
                console.log && console.log("请使用 containerToLngLat 方法替代。")
            }
            ,
            ch.prototype.containerToLngLat = function(t) {
                var i, e;
                e = t instanceof Array ? (i = t[0],
                t[1]) : (i = t.x,
                t.y);
                var n = this._view.containerTolnglat(i, e)
                  , o = n[0]
                  , r = n[1];
                return new wt.LngLat(o,r)
            }
            ,
            ch.prototype.coordToContainer = function(t) {
                var i;
                return (i = this._view)._u.apply(i, t)
            }
            ,
            ch.prototype.containerToCoord = function(t) {
                return t instanceof wt.Pixel && (t = t.toArray()),
                this._view.ku(t[0], t[1])
            }
            ,
            ch.prototype.pixelToLngLat = function(t, i) {
                var e, n;
                void 0 === i && (i = this.getZoom()),
                n = t instanceof Array ? (e = t[0],
                t[1]) : (e = t.x,
                t.y);
                var o = wt.V[this._view.au()].unproject(e, n, i)
                  , r = o[0]
                  , a = o[1];
                return new wt.LngLat(r,a)
            }
            ,
            ch.prototype.pixelTolnglat = function() {
                console.log && console.log("请使用 pixelToLngLat 方法替代。")
            }
            ,
            ch.prototype.unproject = function() {
                console.log && console.log("请使用 pixelToLngLat 方法替代。")
            }
            ,
            ch.prototype.lngLatToPixel = function(t, i) {
                t instanceof wt.LngLat && (t = t.toJSON());
                var e = t[0]
                  , n = t[1];
                void 0 === i && (i = this.getZoom());
                var o = wt.V[this._view.au()].project(e, n, i)
                  , r = o[0]
                  , a = o[1];
                return new wt.Pixel(r,a)
            }
            ,
            ch.prototype.project = function(t, i) {
                return console.log && console.log("请使用 lngLatToPixel 方法替代。"),
                this.lngLatToPixel(t, i)
            }
            ,
            ch.prototype.lnglatToPixel = function(t, i) {
                return console.log && console.log("请使用 lngLatToPixel 方法替代。"),
                this.lngLatToPixel(t, i)
            }
            ,
            ch.prototype.lnglatToPixelArray = function(t, i) {
                t instanceof wt.LngLat && (t = t.toJSON());
                var e = t[0]
                  , n = t[1];
                return void 0 === i && (i = this.getZoom()),
                wt.V[this.getView().au()].project(e, n, i)
            }
            ,
            ch.prototype.getTileCoordByLngLat = function(t, i, e) {
                t instanceof wt.LngLat && (t = t.toJSON());
                var n = t[0]
                  , o = t[1]
                  , r = wt.V[this.getView().au()].project(n, o, e)
                  , a = Math.floor(r[0] / 256)
                  , s = Math.floor(r[1] / 256);
                return new wt.ca(e,a,s)
            }
            ,
            ch.prototype.addOverlay = function(t) {
                this.am(t),
                this.setNeedUpdate(!0)
            }
            ,
            ch.prototype.removeOverlay = function(t) {
                this.ar(t),
                this.setNeedUpdate(!0)
            }
            ,
            ch.prototype.getResolution = function(t) {
                var i = t ? t.kT : this.getCenter().kT;
                return this.getProjection().getResolution(this.getZoom()) * Math.cos(i * Math.PI / 180)
            }
            ,
            ch.prototype.getScale = function(t) {
                return this.getResolution() * (t || 96) / .0254
            }
            ,
            ch.prototype.getCity = function(n, t) {
                Wa.get(AMap.getConfig().server + "/v3/geocode/regeo", {
                    extensions: "",
                    output: "json",
                    location: t || this.getCenter().toJSON()
                }, function(t, i) {
                    if ("complete" === t && i.status + "" == "1") {
                        var e = i.regeocode.addressComponent;
                        n({
                            province: e.province,
                            city: e.city instanceof Array ? "" : e.city,
                            citycode: e.citycode instanceof Array ? "" : e.citycode,
                            district: e.district instanceof Array ? "" : e.district
                        })
                    } else
                        n({})
                })
            }
            ,
            ch.prototype.setCity = function(h, l) {
                var f = this;
                Wa.get(AMap.getConfig().server + "/v3/config/district", {
                    output: "json",
                    subdistrict: "0",
                    extensions: "all",
                    keywords: h
                }, function(t, i) {
                    if ("complete" === t && i.status + "" == "1") {
                        var e = i.districts;
                        if (e && e.length) {
                            var n = e[0];
                            if (/[^\w]+/.test(h)) {
                                var o = wt.find(e, function(t) {
                                    return t.name === h
                                });
                                o && o !== n && (n = o)
                            }
                            try {
                                var r = n.center.split(",")
                                  , a = n.level
                                  , s = void 0;
                                switch (a) {
                                case "city":
                                    s = 10;
                                    break;
                                case "province":
                                    s = 7;
                                    break;
                                case "district":
                                    s = 12;
                                    break;
                                case "country":
                                    s = 4;
                                    break;
                                default:
                                    s = 12
                                }
                                -1 !== n.name.indexOf("市") && (s = 10),
                                f.setZoomAndCenter(s, r),
                                l && l.call(f, r, s)
                            } catch (t) {}
                        }
                    } else
                        l(null, null)
                })
            }
            ,
            ch.prototype.setFitView = function(t, i, e, n) {
                if (void 0 === i && (i = !1),
                void 0 === e && (e = [60, 60, 60, 60]),
                void 0 === n && (n = Math.min(17.5, es.t_[1])),
                wt.FF(t) && (t = t.getAllOverlays()),
                !(t instanceof Array && 0 === t.length)) {
                    e = Boolean(e) ? e : [60, 60, 60, 60],
                    !(t = t || []) || t instanceof Array || (t = [t]),
                    t && 0 !== t.length || (t = this.getAllOverlays());
                    var o = this.nm(t);
                    if (o) {
                        var r, a = o.toJSON(), s = this.em(a, e, n);
                        return "d" === wt._.baseRender && (s[2] = Math.floor(s[2])),
                        i && (r = 0),
                        this.viewChange({
                            lng: s[0],
                            lat: s[1],
                            zoom: s[2]
                        }, r),
                        o
                    }
                }
            }
            ,
            ch.prototype.getFitZoomAndCenterByOverlays = function(t, i, e) {
                void 0 === i && (i = [0, 0, 0, 0]),
                void 0 === e && (e = 20);
                var n = this.nm(t);
                if (n) {
                    var o = n.toJSON()
                      , r = this.em(o, i, e);
                    return [r[2], new wt.LngLat(r[0],r[1])]
                }
            }
            ,
            ch.prototype.getFitZoomAndCenterByBounds = function(t, i, e) {
                void 0 === i && (i = [0, 0, 0, 0]),
                void 0 === e && (e = 20),
                t instanceof Le && (t = t.toJSON());
                var n = this.em(t, i, e);
                return [n[2], new wt.LngLat(n[0],n[1])]
            }
            ,
            ch.prototype.addControl = function(t) {
                t.addTo(this),
                this.controls.push(t)
            }
            ,
            ch.prototype.removeControl = function(t) {
                t.remove ? t.remove() : t.removeFrom && t.removeFrom(this, this.controls);
                for (var i = 0; i < this.controls.length; i++)
                    if (this.controls[i] === t)
                        return void this.controls.splice(i - 1, 1)
            }
            ,
            ch.prototype.L$ = function() {}
            ,
            ch.prototype.D$ = function() {
                return "zh_cn"
            }
            ,
            ch.prototype.set = function(t, i) {
                switch (t) {
                case "layers":
                    this.setLayers(i);
                    break;
                case "projection":
                    break;
                case "pitch":
                    this.setPitch(i);
                    break;
                case "debug":
                    this.debug = i;
                    break;
                case "showLabel":
                    this.showLabel = i;
                    break;
                case "zoom":
                    this.setZoom(i);
                    break;
                case "center":
                    this.setCenter(i);
                    break;
                case "rotation":
                    this.setRotation(i);
                    break;
                case "dragEnable":
                    this.setStatus({
                        dragEnable: i
                    });
                    break;
                case "zoomEnable":
                    this.setStatus({
                        zoomEnable: i
                    });
                    break;
                case "scrollWheel":
                    this.setStatus({
                        scrollWheel: i
                    });
                    break;
                case "jogEnable":
                    this.setStatus({
                        jogEnable: i
                    });
                    break;
                case "doubleClickZoom":
                    this.setStatus({
                        doubleClickZoom: i
                    });
                    break;
                case "keyboardEnable":
                    this.setStatus({
                        keyboardEnable: i
                    });
                    break;
                case "animateEnable":
                    this.setStatus({
                        animateEnable: i
                    });
                    break;
                case "pitchEnable":
                    this.setStatus({
                        pitchEnable: i
                    });
                    break;
                case "touchZoom":
                    this.setStatus({
                        touchZoom: i
                    });
                    break;
                case "isHotspot":
                    this.setStatus({
                        isHotspot: i
                    });
                    break;
                case "style":
                    this.setStyle(i)
                }
            }
            ,
            ch.prototype.setMapStyle = function(t) {
                this.f_(t),
                this.setStatus({
                    mapStyle: t
                }),
                this.indoorMap && this.indoorMap.hide()
            }
            ,
            ch.prototype.getMapStyle = function() {
                var t = this.getStatus();
                if (t && t.mapstyleUrl) {
                    var i = t.mapstyleUrl;
                    return "normal" === t.mapstyleUrl && (i = "amap://styles/normal"),
                    i
                }
                return ""
            }
            ,
            ch.prototype.getAllOverlays = function(i) {
                var t = this.$F.getAllOverlays()
                  , e = wt.Pt(t)
                  , n = this.pi.getAllOverlays()
                  , o = this.di.getAllOverlays();
                wt.vx(n, function(t) {
                    e.push(t)
                }),
                o && o.length && wt.Util.Ig(e, o);
                for (var r = 0, a = this.zv; r < a.length; r++) {
                    var s = a[r];
                    s instanceof Pr && wt.Util.Ig(e, s.getAllOverlays())
                }
                return e = e.filter(function(t) {
                    return !t._opts.innerOverlay && (!i || -1 < t.className.toLocaleLowerCase().indexOf(i)) && !0
                })
            }
            ,
            ch.prototype.clearMap = function() {
                for (var t = this.getAllOverlays(), i = 0; i < t.length; i++)
                    t[i].remove()
            }
            ,
            ch.prototype.clearInfoWindow = function() {
                this.di && this.di.close()
            }
            ,
            ch.prototype.addImage = function(t, i) {
                this.I_ && this.I_.addImage(t, i)
            }
            ,
            ch.prototype.getImage = function(t) {
                if (this.I_)
                    return this.I_.getImage(t)
            }
            ,
            ch.prototype.getFeatures = function() {
                return this.Cw
            }
            ,
            ch.prototype.setFeatures = function(t) {
                this.Cw = t;
                for (var i = this.yS(), e = this.getLayers(), n = 0; n < e.length; n++) {
                    var o = e[n];
                    "AMap.Buildings" === o.CLASS_NAME && o.ro().u$ && (i ? o.show() : o.hide())
                }
                this.setNeedUpdate(!0)
            }
            ,
            ch.prototype.hasLayer = function(i) {
                var t = this.getLayers();
                return -1 < wt.findIndex(t, function(t) {
                    return t === i
                })
            }
            ,
            ch.prototype.setMask = function(t) {
                var i;
                t && (this.c$ = t,
                this.d$ || (this.d$ = new za({
                    zIndex: -10,
                    visible: !0,
                    path: this.c$
                }),
                this.addLayer(this.d$)),
                null !== (i = this.d$) && void 0 !== i && i.setMask(this.c$))
            }
            ,
            ch.prototype.cancelMapAnimate = function() {
                this.lx && (wt.Util.cancelAnimFrame(this.lx),
                this.lx = -1,
                this.ux = {})
            }
            ,
            ch.prototype.setLabelRejectMask = function(t) {
                void 0 !== t && (this.NH = t,
                this.setNeedUpdate(!0))
            }
            ,
            ch.prototype.am = function(t) {
                this.$F.add(t)
            }
            ,
            ch.prototype.ar = function(t) {
                this.sm().remove(t)
            }
            ,
            ch.prototype.setStyle = function(t) {
                this._setStyle(t)
            }
            ,
            ch);
            function ch(t, i) {
                void 0 === i && (i = {
                    zoom: 9,
                    center: [116.397128, 39.916527],
                    rotation: 0,
                    pitch: 0,
                    viewMode: "2D"
                });
                var e = this
                  , n = null;
                if (t instanceof HTMLDivElement)
                    n = t;
                else {
                    var o = document.getElementById(t);
                    null !== o && (n = o)
                }
                if (null === n)
                    throw Error("Map container div not exist");
                i.zooms = i.zooms || es.t_;
                var r = !1;
                if (void 0 === i.zoom && (r = !0,
                i.zoom = Math.max(Math.min(i.zooms[1], 12), i.zooms[0])),
                i.center = i.center ? wt.Bs(i.center) ? i.center.toJSON() : i.center : lh,
                i.rotation = i.rotation || 0,
                i.layers = i.layers || [],
                i.baseRender = wt._.isWebGL ? "w" : "d",
                i.showIndoorMap = i.showIndoorMap || !1,
                e = fh.call(this, n, i) || this,
                r) {
                    var a = e.em(ah)[2];
                    e.setZoom(a, !0)
                }
                e.pi = new $s(e),
                e.di = new Us(e),
                e.vm = new ih(e),
                e.hx = new us(e),
                e.hx.Xt(),
                e.plugin = AMap.plugin;
                for (var s = 0; s < i.layers.length; s++) {
                    var h = i.layers[s];
                    h && "AMap.IndoorMap" === h.CLASS_NAME && h.setMap(e)
                }
                return !i.showIndoorMap || "normal" !== e.c_ && "amap://styles/normal" !== e.c_ || e.addLayer(e.indoorMap = new AMap.IndoorMap({
                    zIndex: 8,
                    opacity: 1,
                    visible: !0,
                    map: e
                })),
                e.lcs.setMap(e),
                e.customCoords = new sh(e),
                e
            }
            var dh, ph = (dh = wt.lw,
            wt.Ei(vh, dh),
            vh.prototype.Lo = function() {
                return {
                    id: this.No,
                    type: "image",
                    tileUrl: this.Be,
                    bounds: this.ir,
                    canvas: this.canvas,
                    zooms: this.xt
                }
            }
            ,
            vh.prototype.co = function() {
                return this.No
            }
            ,
            vh.prototype.ro = function() {
                return {
                    visible: this._visible,
                    opacity: this.tl,
                    To: this,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            vh);
            function vh(t) {
                var i = dh.call(this, t) || this;
                return i.CLASS_NAME = "AMap.ImageLayer",
                i.No = i.Be = t.url || t.tileUrl,
                i.ir = t.bounds,
                i.Qh = t.zIndex || 6,
                i.tl = void 0 === t.opacity ? 1 : t.opacity,
                i._visible = void 0 === t.visible || t.visible,
                i.xt = void 0 === t.zooms ? [2, 20] : t.zooms,
                i.canvas = t.canvas,
                i
            }
            var mh, yh = {
                tileUrl: "",
                url: "",
                bounds: [0, 0, 0, 0],
                opacity: 1,
                visible: !0,
                zIndex: 4,
                zooms: [2, 22]
            }, gh = (mh = ph,
            wt.Ei(xh, mh),
            xh.prototype.getImageUrl = function() {
                return this.Be
            }
            ,
            xh.prototype.setImageUrl = function(t) {
                t && (this.Be = t,
                this.uo.Vh(this.No).Fo(!1),
                this.map.setNeedUpdate(!0))
            }
            ,
            xh.prototype.getBounds = function() {
                return this.ir
            }
            ,
            xh.prototype.setBounds = function(t) {
                t && (this.ir = t,
                this.map.setNeedUpdate(!0))
            }
            ,
            xh);
            function xh(t) {
                void 0 === t && (t = yh);
                var i = this;
                if (!t.tileUrl && !t.url)
                    throw new Error("ImageLayer need an Url");
                return t.bounds = t.bounds || yh.bounds,
                t.opacity = void 0 === t.opacity ? yh.opacity : t.opacity,
                t.visible = void 0 === t.visible ? yh.visible : t.visible,
                t.zIndex = void 0 === t.zIndex ? yh.zIndex : t.zIndex,
                t.canvas = void 0,
                (i = mh.call(this, t) || this).rT(),
                i
            }
            var bh, _h = {
                url: "",
                tileUrl: "",
                bounds: [0, 0, 0, 0],
                opacity: 1,
                visible: !0,
                zooms: [2, 22],
                zIndex: 6
            }, wh = (bh = ph,
            wt.Ei(kh, bh),
            kh.prototype.setCanvas = function(t) {
                this.canvas = t,
                this.reFresh()
            }
            ,
            kh.prototype.getElement = function() {
                return this.canvas
            }
            ,
            kh.prototype.getBounds = function() {
                return this.ir
            }
            ,
            kh.prototype.setBounds = function(t) {
                t && (this.ir = t,
                this.map.setNeedUpdate(!0))
            }
            ,
            kh.prototype.reFresh = function() {
                this.map.setNeedUpdate(!0)
            }
            ,
            kh);
            function kh(t) {
                void 0 === t && (t = _h);
                var i = this;
                return t.bounds = t.bounds || _h.bounds,
                t.opacity = void 0 === t.opacity ? _h.opacity : t.opacity,
                t.visible = void 0 === t.visible ? _h.visible : t.visible,
                t.tileUrl = "",
                (i = bh.call(this, t) || this).rT(),
                i.CLASS_NAME = "AMap.CanvasLayer",
                i
            }
            var Mh, Ch = (Mh = wt.lw,
            wt.Ei(Sh, Mh),
            Sh.prototype.ro = function() {
                return !this.eP && this.map && this.gx(this.canvas),
                {
                    visible: this._visible,
                    opacity: this.tl,
                    zIndex: this.Qh,
                    To: this,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF,
                    kv: this._container,
                    JD: this.UF
                }
            }
            ,
            Sh.prototype.Lo = function() {
                return {
                    id: this.No,
                    type: "custom",
                    zooms: this.xt
                }
            }
            ,
            Sh.prototype.co = function() {
                return this.No
            }
            ,
            Sh.prototype.setOpacity = function(t) {
                Mh.prototype.setOpacity.call(this, t),
                this.canvas.style.opacity = "" + this.tl
            }
            ,
            Sh.prototype.setMap = function(t) {
                Mh.prototype.setMap.call(this, t),
                this.gx(this.canvas)
            }
            ,
            Sh.prototype.setzIndex = function(t) {
                this.Qh = t,
                this._container.style.zIndex = this.Qh + ""
            }
            ,
            Sh.prototype.gx = function(t) {
                this._container = document.createElement("div"),
                this._container.style.zIndex = this.Qh + "",
                this._container.className = "amap-layer amap-e",
                this._container.appendChild(t),
                this.map.do.appendChild(this._container),
                this.eP = !0
            }
            ,
            Sh);
            function Sh(t, i) {
                var e = Mh.call(this, i) || this;
                return e.CLASS_NAME = "AMap.CustomLayer",
                e.eP = !1,
                e.UF = !1,
                e.render = i.render || function() {}
                ,
                e.canvas = t,
                e.Qh = i.zIndex || 11,
                e.tl = void 0 === i.opacity ? 1 : i.opacity,
                e._visible = void 0 === i.visible || i.visible,
                e.UF = void 0 !== i.JD && i.JD,
                e.xt = i.zooms || [2, 22],
                e.canvas.style.opacity = "" + e.tl,
                e.canvas.style.display = e._visible ? "block" : "none",
                e.map && e.gx(e.canvas),
                e
            }
            var zh, Rh = (zh = Ch,
            wt.Ei(Ah, zh),
            Ah);
            function Ah(t, i) {
                var e = zh.call(this, t, i) || this;
                return e.rT(),
                e
            }
            var Ih, Lh = {
                zIndex: 120,
                opacity: 1,
                zooms: [2, 20],
                cursor: "pointer",
                JD: !0
            }, Th = (Ih = wt.Event,
            wt.Ei($h, Ih),
            $h.prototype.setMap = function(t) {
                t ? (this._map = t).add(this.a$) : this._map && (this.clear(),
                this._map.remove(this.a$))
            }
            ,
            $h.prototype.getMap = function() {
                return this._map ? this._map : null
            }
            ,
            $h.prototype.getData = function() {
                return this.VL
            }
            ,
            $h.prototype.setData = function(t) {
                var i = this;
                t && (this.VL = t,
                this.XD(),
                AMap.Util.requestAnimFrame(function() {
                    i.emit("complete")
                }))
            }
            ,
            $h.prototype.n_ = function() {
                return 1 === this.Ze.length ? this.Ze[0] : this.Ze
            }
            ,
            $h.prototype.setStyle = function(t) {
                if (t) {
                    Array.isArray(t) || (t = [t]);
                    var i = this.Ze
                      , e = [];
                    if (i && i.length)
                        for (var n = 0; n < t.length; n++) {
                            var o = t[n]
                              , r = i[n] || i[0];
                            e.push(AMap.extend({}, r, o))
                        }
                    else
                        e = t;
                    this.Ze = e,
                    this.XD()
                }
            }
            ,
            $h.prototype.getOpacity = function() {
                return this._opts.opacity
            }
            ,
            $h.prototype.setOpacity = function(t) {
                this._opts.opacity = t,
                this.a$ && this.a$.setOpacity(t)
            }
            ,
            $h.prototype.getzIndex = function() {
                return this._opts.zIndex
            }
            ,
            $h.prototype.setzIndex = function(t) {
                this._opts.zIndex = t,
                this.a$ && this.a$.setzIndex(t)
            }
            ,
            $h.prototype.getZooms = function() {
                return this._opts.zooms || [2, 20]
            }
            ,
            $h.prototype.setZooms = function(t) {
                this._opts.zooms = t,
                this.a$ && this.a$.setZooms(t)
            }
            ,
            $h.prototype.getCursor = function() {
                return this._opts.cursor || "default"
            }
            ,
            $h.prototype.show = function() {
                this.a$.show()
            }
            ,
            $h.prototype.hide = function() {
                this.a$.hide()
            }
            ,
            $h.prototype.clear = function() {
                this.a$.clear(),
                this.VL = []
            }
            ,
            $h.prototype.XD = function() {
                var t = this.VL
                  , i = this.Ze
                  , e = []
                  , n = this.getCursor();
                if (t && i) {
                    for (var o = 0, r = t; o < r.length; o++) {
                        var a = r[o]
                          , s = a.lnglat
                          , h = a.style
                          , l = void 0 === h ? 0 : h;
                        if (s) {
                            var f = i[l] ? i[l] : i[0]
                              , u = f.url
                              , c = f.anchor
                              , d = void 0 === c ? new AMap.Pixel(0,0) : c
                              , p = f.size
                              , v = (f.rotation,
                            f.zIndex)
                              , m = void 0 === v ? l : v
                              , y = p.width ? p.toArray() : p
                              , g = d.x ? d.toArray() : d
                              , x = new AMap.LabelMarker({
                                position: s,
                                zIndex: m,
                                cursor: n,
                                icon: {
                                    image: u,
                                    size: y,
                                    anchor: g
                                }
                            });
                            x.qD = a,
                            this.Rm(x),
                            e.push(x)
                        }
                    }
                    this.jT = e,
                    this.a$.clear(),
                    this.a$.add(e)
                }
            }
            ,
            $h.prototype.Rm = function(t) {
                var r = this;
                t.on(["click", "dblclick", "mouseover", "mousemove", "mouseout", "mouseup", "mousedown", "touchstart", "touchend"], function(t) {
                    var i = t.type
                      , e = r._map
                      , n = r.getCursor();
                    if ("default" !== n && e) {
                        var o = e.getDefaultCursor();
                        "mouseover" === i ? e.setCursor(n) : "mouseout" === i && e.setCursor(o)
                    }
                    r.QD(t)
                })
            }
            ,
            $h.prototype.QD = function(t) {
                var i = t.type
                  , e = this.KD(t);
                this.emit(i, e)
            }
            ,
            $h.prototype.KD = function(t) {
                var i = t.target;
                return t.target = this,
                {
                    target: t.target,
                    type: t.type,
                    data: i.qD || {}
                }
            }
            ,
            $h);
            function $h(t, i) {
                var e = Ih.call(this) || this;
                e.CLASS_NAME = "AMap.MassMarks",
                e._opts = AMap.extend({}, Lh, i);
                var n = e._opts
                  , o = n.zIndex
                  , r = n.opacity
                  , a = n.zooms
                  , s = n.style;
                return e.a$ = new AMap.LabelsLayer({
                    zIndex: o,
                    opacity: r,
                    zooms: a,
                    collision: !1,
                    allowCollision: !1,
                    VT: !0
                }),
                e.setData(t),
                e.setStyle(s),
                e.XD(),
                e
            }
            var Dh, Fh = "AMap.Text", Ph = "amap-overlay-text-container", Hh = (Dh = Ps,
            wt.Ei(Oh, Dh),
            Oh.prototype.getText = function() {
                return this._opts.text
            }
            ,
            Oh.prototype.setText = function(t) {
                var i = this.wx(t);
                this.setContent(i)
            }
            ,
            Oh.prototype.setStyle = function(t) {
                t && (this._x = t,
                this._size = [0, 0],
                this.updateOverlay())
            }
            ,
            Oh.prototype.updateOverlay = function(t) {
                void 0 === t && (t = {}),
                this.dom && !wt.isEmpty(this._x) && this.kx(this._x),
                Dh.prototype.updateOverlay.call(this, t)
            }
            ,
            Oh.prototype.wx = function(t) {
                var i = document.createElement("div");
                return P.addClass(i, Ph),
                i.innerHTML = t || "",
                i
            }
            ,
            Oh.prototype.kx = function(t) {
                void 0 === t && (t = {});
                var i = this.dom.querySelector("." + Ph);
                if (i)
                    for (var e in t)
                        t.hasOwnProperty(e) && (i.style[e] = t[e])
            }
            ,
            Oh);
            function Oh(t) {
                void 0 === t && (t = {});
                var i = Dh.call(this, t) || this;
                return i.className = Fh,
                i.type = Fh,
                i._x = {},
                i._size = [0, 0],
                t.style && (i._x = t.style),
                t.text && i.setText(t.text),
                i
            }
            function Bh(t) {
                for (var i = [], e = 1; e < arguments.length; e++)
                    i[e - 1] = arguments[e];
                var n, o, r, a = Array.prototype.slice.call(arguments, 1);
                for (n = 0,
                o = a.length; n < o; n += 1)
                    for (var s in r = a[n] || {})
                        if (r.hasOwnProperty(s)) {
                            var h = r[s];
                            "function" != typeof h ? t[s] = h : t.prototype[s] = h
                        }
                return t
            }
            var Eh, jh = (Eh = wt.Event,
            wt.Ei(Nh, Eh),
            Nh.prototype.addTo = function(t) {
                this.map = t,
                this.map.controls.push(this),
                t.getControlContainer().appendChild(this._container),
                t.on("beforeDestroy", this.remove.bind(this))
            }
            ,
            Nh.prototype.removeFrom = function(t) {
                t ? (t.off("beforeDestroy", this.remove.bind(this)),
                t.getControlContainer().removeChild(this._container),
                delete this.map) : this.map && (this.map.off("beforeDestroy", this.remove.bind(this)),
                this.map.getControlContainer().removeChild(this._container),
                delete this.map)
            }
            ,
            Nh.prototype.remove = function() {
                this.map && (this.map.off("beforeDestroy", this.remove.bind(this)),
                this.map.getControlContainer().removeChild(this._container),
                delete this.map)
            }
            ,
            Nh.prototype.show = function() {
                this._container.style.display = "block",
                this.emit("show"),
                this._visible = !0
            }
            ,
            Nh.prototype.hide = function() {
                this._container.style.display = "none",
                this.emit("hide"),
                this._visible = !1
            }
            ,
            Nh.prototype.initContainer = function() {
                this._className ? (this._container = P.create("div", null, "amap-control amap-" + this._className),
                void 0 === this._config.visible || this._config.visible || (this._container.style.display = "none")) : this._container = P.create("div", null, "amap-control"),
                this.Pb()
            }
            ,
            Nh.prototype.Pb = function() {
                var t = 0
                  , i = 0
                  , e = 0
                  , n = 0;
                switch (this._config.offset && 0 < this._config.offset.length && (t = this._config.offset[0] + t,
                i = this._config.offset[1] + i,
                e = this._config.offset[0] + e,
                n = this._config.offset[1] + n),
                t += "px",
                i += "px",
                e += "px",
                n += "px",
                this._config.position) {
                case "LT":
                    this._container.style.top = i,
                    this._container.style.left = t,
                    this._container.style.bottom = "",
                    this._container.style.right = "";
                    break;
                case "RT":
                    this._container.style.top = i,
                    this._container.style.right = e,
                    this._container.style.bottom = "",
                    this._container.style.left = "";
                    break;
                case "LB":
                    this._container.style.bottom = n,
                    this._container.style.left = t,
                    this._container.style.top = "",
                    this._container.style.right = "";
                    break;
                case "RB":
                    this._container.style.bottom = n,
                    this._container.style.right = e,
                    this._container.style.top = "",
                    this._container.style.left = "";
                    break;
                default:
                    this._container.style.top = this._config.position.top || "",
                    this._container.style.left = this._config.position.left || "",
                    this._container.style.right = this._config.position.right || "",
                    this._container.style.bottom = this._config.position.bottom || ""
                }
            }
            ,
            Nh);
            function Nh(t) {
                var i = Eh.call(this) || this;
                return i._visible = !0,
                i._config = t,
                i._visible = void 0 === t.visible || t.visible,
                i
            }
            var Wh, Uh = window.navigator, Gh = {
                ua: Uh.userAgent,
                mobile: wt._.$e,
                plat: wt._.plat,
                mac: wt._.mac,
                windows: wt._.windows,
                ios: wt._.ios,
                iPad: wt._.iPad,
                iPhone: wt._.iPhone,
                android: wt._.android,
                android23: wt._.android23,
                chrome: wt._.chrome,
                firefox: wt._.firefox,
                safari: wt._.safari,
                wechat: wt._.wechat,
                uc: wt._.SL,
                qq: wt._.qq,
                ie: wt._.ie,
                ie6: wt._.ie6,
                ie7: wt._.ie7,
                ie8: wt._.ielt9 && !wt._.ie7 && !wt._.ie6,
                ie9: wt._.ie9,
                ie10: wt._.ie10,
                ie11: wt._.ie11,
                edge: wt._.edge,
                ielt9: wt._.ielt9,
                baidu: wt._.baidu,
                isLocalStorage: wt._.RL,
                isGeolocation: !!Uh.geolocation,
                mobileWebkit: wt._.mobileWebkit,
                mobileWebkit3d: wt._.mobileWebkit3d,
                mobileOpera: !!wt._.mobileOpera,
                retina: wt._.Ue,
                touch: !!wt._.touch,
                msPointer: !!wt._.msPointer,
                pointer: !!wt._.pointer,
                webkit: wt._.webkit,
                ie3d: wt._.ie3d,
                webkit3d: wt._.webkit3d,
                gecko3d: wt._.gecko3d,
                opera3d: wt._.opera3d,
                any3d: wt._.any3d,
                isCanvas: wt._.isCanvas,
                isSvg: wt._.isSvg,
                isVML: wt._.ie,
                isWorker: !!window.Worker,
                isWebsocket: !!window.WebSocket,
                isWebGL: wt._.isWebGL,
                baseRender: wt._.baseRender
            }, Vh = {
                zooms: [14.8, 22],
                opacity: 1,
                heightFactor: 1,
                visible: !0,
                zIndex: 11,
                wallColor: [.94, .94, .94, .9],
                roofColor: [.89, .89, .86, .9],
                u$: !1
            }, Yh = (Wh = wt.BuildingLayer,
            wt.Ei(Zh, Wh),
            Zh.prototype.setStyle = function(t) {
                this.fL = t,
                this.uL()
            }
            ,
            Zh.prototype.ro = function() {
                return {
                    zooms: this.xt,
                    heightFactor: this.Q_,
                    visible: this._visible,
                    zIndex: this.Qh,
                    opacity: this.tl,
                    wallColor: this.sz,
                    roofColor: this.rz,
                    vS: this.fL,
                    To: this,
                    u$: this.cL,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            Zh.prototype.uL = function() {
                this.map && (this.Vh().reload(),
                this.map.setNeedUpdate(!0))
            }
            ,
            Zh);
            function Zh(t) {
                void 0 === t && (t = Vh);
                var i = Wh.call(this) || this;
                return i.cL = !1,
                i.xt = void 0 === t.zooms ? Vh.zooms : t.zooms,
                i.xt[0] = Math.max(i.xt[0], 14.8),
                i.tl = void 0 === t.opacity ? Vh.opacity : t.opacity,
                i.Q_ = void 0 === t.heightFactor ? Vh.heightFactor : t.heightFactor,
                i._visible = void 0 === t.visible ? Vh.visible : t.visible,
                i.Qh = void 0 === t.zIndex ? Vh.zIndex : t.zIndex,
                i.sz = void 0 !== t.wallColor && wt.Util.color2RgbaArray(t.wallColor),
                i.rz = void 0 !== t.roofColor && wt.Util.color2RgbaArray(t.roofColor),
                i.AF = void 0 === t.depthTest || Boolean(t.depthTest),
                i.cL = t.u$,
                i.cL && (i.No = "nebula"),
                i.rT(),
                i
            }
            var Xh, Jh = (Xh = mr,
            wt.Ei(qh, Xh),
            qh.prototype.has = function(t) {
                return !!this.source && -1 < this.source.getAllOverlays().indexOf(t)
            }
            ,
            qh.prototype.clear = function() {
                if (this.source) {
                    var t = this.source.getAllOverlays();
                    this.remove(t.slice(0))
                }
            }
            ,
            qh.prototype.setOptions = function(t) {
                if (this.source)
                    for (var i = 0, e = this.source.getAllOverlays(); i < e.length; i++)
                        e[i].setOptions(t)
            }
            ,
            qh.prototype.query = function(t) {
                if (this.source)
                    return this.source.rr({
                        lnglat: t
                    })
            }
            ,
            qh.prototype.getBounds = function() {
                if (this.source) {
                    var t = this.getAllOverlays();
                    if (0 < t.length) {
                        for (var i = void 0, e = 0; e < t.length; e++)
                            if (i) {
                                var n = t[e].getBounds();
                                n && i.union(n)
                            } else
                                i = (i = t[e].getBounds()) && i.clone();
                        return i
                    }
                }
            }
            ,
            qh);
            function qh() {
                return null !== Xh && Xh.apply(this, arguments) || this
            }
            var Qh, nl = {
                high: {
                    fillColor: "rgb(252, 249, 242)",
                    strokeColor: "rgb(230,142,0)"
                },
                unHigh: {
                    fillColor: "rgb(252, 249, 242)",
                    strokeColor: "rgb(171,171,171)"
                }
            }, ol = (Qh = wt.lw,
            wt.Ei(rl, Qh),
            rl.prototype.Do = function(t) {
                return (this.Jh = t).HF(this),
                this.Jh
            }
            ,
            rl.prototype.p$ = function() {
                var t;
                this.$F = new Jh({
                    zIndex: this.Qh,
                    visible: this._visible,
                    TF: !0
                }),
                null !== (t = this.map) && void 0 !== t && t.addLayer(this.$F)
            }
            ,
            rl.prototype.v$ = function() {
                var t;
                null !== (t = this.map) && void 0 !== t && t.removeLayer(this.$F)
            }
            ,
            rl.prototype.destroy = function() {
                Qh.prototype.destroy.call(this),
                this.$F.destroy()
            }
            ,
            rl.prototype.yD = function() {
                return {
                    show: this.xD
                }
            }
            ,
            rl.prototype.mD = function(t) {
                this.xD = t
            }
            ,
            rl.prototype.cD = function() {
                var e = this;
                if (this.dD)
                    return !1;
                this.dD = !0,
                this._map.on("moveend", function() {
                    var t = e._map.getZoom()
                      , i = e.VR;
                    e.VR.showId,
                    i && i.centerId && i.indoor && (!e.ZT(i.indoor) || t < e.xt[0] ? (e.e$ && (e.e$.hide(),
                    e.xD = !1),
                    e.nD()) : e.e$ && e.VR.visible && (e.mL || e.e$.show(),
                    e.xD = !0))
                })
            }
            ,
            rl.prototype.uD = function() {
                for (var t = this.VR, i = t.indoor, e = t.centerId, n = Object.keys(i), o = nl, r = 0; r < n.length; r++) {
                    var a = n[r];
                    if (i[a] && i[a].outline)
                        for (var s = i[a].outline, h = 0; h < s.length; h++) {
                            var l = s[h]
                              , f = l.getOptions();
                            f.strokeColor = a === e ? o.high.strokeColor : o.unHigh.strokeColor,
                            l.setOptions(f)
                        }
                }
            }
            ,
            rl.prototype.BT = function() {
                var t = this;
                setTimeout(function() {
                    t._emit("complete"),
                    t._map && t._map.emit("indoor_create")
                }, 500)
            }
            ,
            rl.prototype.bL = function(t) {
                this.VR.opacity = t,
                this.gL()
            }
            ,
            rl.prototype.wL = function(t) {
                this.VR.zIndex = t,
                this.gL()
            }
            ,
            rl.prototype.ZI = function() {
                return this.VR
            }
            ,
            rl.prototype.KI = function(t) {
                this.VR = t
            }
            ,
            rl.prototype.ro = function() {
                return {
                    zooms: [17, 23],
                    visible: this._visible,
                    opacity: this.tl,
                    To: this,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            rl.prototype.Lo = function() {
                return {
                    id: this.No,
                    type: "indoor",
                    zooms: [17, 22],
                    url: ""
                }
            }
            ,
            rl.prototype.co = function() {
                return this.No
            }
            ,
            rl.prototype.getMap = function() {
                return this._map
            }
            ,
            rl.prototype.n$ = function(t, i) {
                this.VR.floorInfo || (this.VR.floorInfo = {}),
                this.VR.floorInfo[t] = i
            }
            ,
            rl.prototype._emit = function(t, i) {
                return Qh.prototype.emit.call(this, t, i),
                this
            }
            ,
            rl.prototype.showId = function(t) {
                this.VR.showId = t
            }
            ,
            rl.prototype.setBar = function(t) {
                this.e$ = t
            }
            ,
            rl.prototype.setBarOpt = function(t) {
                this.VR.defaultBarFloor = t
            }
            ,
            rl.prototype._hideLayer = function(t) {
                this.VR.visible = t,
                this.DT(t),
                this._hideBar(!t),
                t ? this.$F.show() : this.$F.hide(),
                this.gL()
            }
            ,
            rl.prototype._hideBar = function(t) {
                this.mL = t,
                this.VR.hideFloorBar = t,
                this.e$ && t ? this.e$.hide() : this.e$ && this.e$.show()
            }
            ,
            rl.prototype._showLabels = function(t) {
                this.VR.showLabels = t;
                var i = this._map && this._map.showLabel;
                this.VR.labelsLayer && t && i ? this.VR.labelsLayer.show() : this.VR.labelsLayer && this.VR.labelsLayer.hide()
            }
            ,
            rl.prototype.setShowId = function(t) {
                this.VR.hasId = t
            }
            ,
            rl.prototype.update = function() {
                this.gL()
            }
            ,
            rl.prototype._getSelectedBuildingId = function() {
                return this.VR.centerId
            }
            ,
            rl.prototype._getSelectedBuilding = function() {
                return this.VR.building
            }
            ,
            rl.prototype.setRenderData = function(t) {
                this.VR = wt.assign(this.VR, t)
            }
            ,
            rl.prototype.getIntersectPoly = function(t) {
                var i = !1
                  , e = t.getBounds()
                  , n = this._map && this._map.getBounds();
                return e && n && (i = n.intersects(e)),
                i
            }
            ,
            rl.prototype.getIntersect = function(t) {
                if (!t)
                    return !1;
                for (var i = !1, e = this._map && this._map.getBounds(), n = 0; n < t.length; n++) {
                    var o = t[n]
                      , r = new AMap.LngLat(o[0],o[1]);
                    if (i = e.contains(r))
                        return !0
                }
                return i
            }
            ,
            rl.prototype.YR = function(t, d) {
                var p = this;
                try {
                    var v = new XMLHttpRequest;
                    v.onreadystatechange = function() {
                        if (4 === v.readyState && 200 === v.status) {
                            for (var t = v.response, i = vn.getUnifyJson(t), e = 0; e < i.length; e++)
                                if (0 === i[e].status) {
                                    var n = i[e]
                                      , o = n.floor
                                      , r = n.building
                                      , a = n.status
                                      , s = n.id
                                      , h = o.floor.properties.index
                                      , l = {
                                        data: {}
                                    };
                                    l.data[s] || (l.data[s] = {}),
                                    l.data[s].building = r,
                                    l.data[s].data || (l.data[s].data = {});
                                    var f = {
                                        floor: o,
                                        status: a,
                                        id: s,
                                        building: r
                                    };
                                    if (l.data[s].data[h] = f,
                                    r && r.properties && r.properties.outside_outline) {
                                        var u = r.properties.outside_outline
                                          , c = new AMap.Polygon({
                                            path: u
                                        });
                                        p._map.setFitView(c)
                                    }
                                }
                            d && d()
                        }
                    }
                    ,
                    v.open("GET", t, !0),
                    v.responseType = "arraybuffer",
                    v.send()
                } catch (t) {}
            }
            ,
            rl.prototype.DT = function(t) {
                for (var i = this.VR.indoor, e = Object.keys(i), n = 0; n < e.length; n++) {
                    var o = i[e[n]];
                    if (o.polygons)
                        for (var r = 0; r < o.polygons.length; r++) {
                            var a = o.polygons[r];
                            t ? a.show() : a.hide()
                        }
                    if (o.markers)
                        for (var s = 0; s < o.markers.length; s++) {
                            var h = o.markers[s];
                            t ? h.show() : h.hide()
                        }
                }
            }
            ,
            rl.prototype.ZT = function(t) {
                for (var i = Object.keys(t), e = 0; e < i.length; e++) {
                    var n = i[e];
                    if (this._map && t[n].outline) {
                        var o = t[n].outline
                          , r = this.getIntersectPoly(o[0]);
                        if (r)
                            return r
                    }
                }
                return !1
            }
            ,
            rl.prototype.gL = function() {}
            ,
            rl.prototype.nD = function() {
                for (var t = this.VR.indoor, i = Object.keys(t), e = 0; e < i.length; e++) {
                    var n = i[e]
                      , o = t[n];
                    o.polygons && this.$F.remove(o.polygons),
                    o && o.markers && 0 < o.markers.length && this.VR.labelsLayer && this.VR.labelsLayer.remove(o.markers),
                    delete t[n]
                }
            }
            ,
            rl);
            function rl(t) {
                var i = Qh.call(this) || this;
                return i.CLASS_NAME = "AMap.IndoorLayer",
                t = t || {},
                i.No = "indoor",
                i._visible = !0,
                i.Qh = t.zIndex || 5,
                i.tl = t.opacity || 1,
                i.mL = t.hideFloorBar || !1,
                i.xL = t.cursor || "auto",
                i.xt = [17, 22],
                i.xD = !1,
                i.dD = !1,
                0 === t.opacity && (i.tl = 0),
                i.VR = {
                    opacity: i.tl,
                    zIndex: i.Qh,
                    visible: i._visible,
                    cursor: i.xL,
                    centerId: null,
                    centerFloor: null,
                    indoor: {},
                    hideFloorBar: i.mL,
                    showLabels: !0,
                    reRender: !1,
                    floorInfo: {},
                    indoorState: {},
                    centerBuilding: {}
                },
                t && t.map && (i._map = t.map,
                i.cD()),
                i._config = AMap.getConfig(),
                i.BT(),
                i
            }
            function al(t) {
                return wt._.isWebGL ? new $n(t) : new wt.TileLayer(wt.Ln({
                    id: "_defaultLayer_" + wt.Util.sx(),
                    tileUrl: AMap.getConfig().y_
                }, t))
            }
            var sl, hl = "gl_custom", ll = (sl = wt.lw,
            wt.Ei(fl, sl),
            fl.prototype.ro = function() {
                return {
                    visible: this._visible,
                    opacity: this.tl,
                    zIndex: this.Qh,
                    To: this,
                    rejectMapMask: this.lz,
                    depthTest: this.AF,
                    ce: this.IF
                }
            }
            ,
            fl.prototype.Lo = function() {
                return {
                    id: hl,
                    type: hl,
                    zooms: this.xt
                }
            }
            ,
            fl.prototype.co = function() {
                return hl
            }
            ,
            fl.prototype.setMap = function(t) {
                sl.prototype.setMap.call(this, t)
            }
            ,
            fl.prototype.setzIndex = function(t) {
                this.Qh = t
            }
            ,
            fl);
            function fl(t) {
                var i = sl.call(this, t) || this;
                return i.CLASS_NAME = "AMap.GLCustomLayer",
                i.init = t.init || function(t) {}
                ,
                i.render = t.render || function(t, i, e) {}
                ,
                i.Qh = t.zIndex || 120,
                i.tl = void 0 === t.opacity ? 1 : t.opacity,
                i._visible = void 0 === t.visible || t.visible,
                i.xt = t.zooms || [2, 22],
                i
            }
            var ul, cl = (ul = ll,
            wt.Ei(dl, ul),
            dl);
            function dl(t) {
                var i = ul.call(this, t) || this;
                return i.rT(),
                i
            }
            var pl, vl = (pl = wt.Event,
            wt.Ei(ml, pl),
            ml.prototype.setMap = function(t) {
                var i = this;
                return t && t !== this._map && (this._map = t,
                wt.forEach(this.zv, function(t) {
                    i._map && !i._map.hasLayer(t) && t.setMap(i._map)
                })),
                this
            }
            ,
            ml.prototype.hasLayer = function(i) {
                return !!wt.find(this.zv, function(t) {
                    return t === i
                })
            }
            ,
            ml.prototype.setOptions = function(o) {
                var r = this.zv;
                return wt.vx(o, function(t, i) {
                    for (var e = 0; e < r.length; e++) {
                        var n = r[e];
                        if ("AMap.Layer" === n.el)
                            switch (i) {
                            case "visible":
                                t ? n.show() : n.hide();
                                break;
                            case "opacity":
                                n.setOpacity && n.setOpacity(t);
                                break;
                            case "zIndex":
                                n.setzIndex && n.setzIndex(t);
                                break;
                            case "zooms":
                                n.setZooms && n.setZooms(t)
                            }
                        else
                            n.setOptions && n.setOptions(o)
                    }
                }),
                this
            }
            ,
            ml.prototype.eachLayer = function(t) {
                if (wt.isFunction(t))
                    for (var i = 0; i < this.zv.length; i++)
                        t(this.zv[i], i, this.zv)
            }
            ,
            ml.prototype.addLayer = function(t) {
                this.hasLayer(t) || (this.zv.push(t),
                t.setMap(this._map))
            }
            ,
            ml.prototype.addLayers = function(t) {
                if (0 < t.length)
                    for (var i = 0; i < t.length; i++) {
                        var e = t[i];
                        this.addLayer(e)
                    }
            }
            ,
            ml.prototype.removeLayer = function(t) {
                for (var i = 0; i < this.zv.length; i++)
                    t === this.zv[i] && this.zv.splice(i, 1);
                return t.setMap(null),
                t
            }
            ,
            ml.prototype.removeLayers = function(t) {
                if (t && 0 < t.length)
                    for (var i = 0; i < t.length; i++) {
                        var e = t[i];
                        this.removeLayer(e)
                    }
            }
            ,
            ml.prototype.getLayers = function() {
                return this.zv
            }
            ,
            ml.prototype.clearLayers = function() {
                for (var t = 0; t < this.zv.length; t++) {
                    var i = this.zv[t];
                    this.removeLayer(i)
                }
            }
            ,
            ml.prototype.hide = function() {
                for (var t = 0; t < this.zv.length; t++)
                    this.zv[t].hide();
                return this
            }
            ,
            ml.prototype.show = function() {
                for (var t = 0; t < this.zv.length; t++)
                    this.zv[t].show();
                return this
            }
            ,
            ml.prototype.on = function(t, i) {
                for (var e = 0; e < this.zv.length; e++) {
                    var n = this.zv[e];
                    n.on instanceof Function && i instanceof Function && n.on(t, i)
                }
                return this
            }
            ,
            ml.prototype.reload = function() {
                for (var t = 0; t < this.zv.length; t++) {
                    var i = this.zv[t];
                    i.reload && i.reload()
                }
                return this
            }
            ,
            ml);
            function ml(t) {
                var i = pl.call(this) || this;
                if (i.zv = [],
                i._map = null,
                t && 0 < t.length)
                    for (var e = 0; e < t.length; e++) {
                        var n = t[e];
                        i.addLayer(n)
                    }
                return i
            }
            function yl() {
                console.log("jsapi2.0 AMap.Heatmap is renamed, please use AMap.HeatMap"),
                console.log("jsapi2.0  AMap.Heatmap 已重命名, 请使用 AMap.HeatMap")
            }
            var gl, xl = (gl = ol,
            wt.Ei(bl, gl),
            bl.prototype.showIndoorMap = function(t, i, e) {
                var n = 1;
                if (i && (n = i),
                t) {
                    this.pL = t,
                    gl.prototype.showId.call(this, t),
                    gl.prototype.n$.call(this, t, n),
                    this.pL = t;
                    var o = []
                      , r = this._config.server + "/v3/indoor/indoormaps?";
                    o.push("poiid=" + t),
                    o.push("floor=" + n),
                    o.push("version=0"),
                    o.push("s=rsv3"),
                    o.push("from=indoorH5Map"),
                    o.push("servicetype=unify"),
                    o.push("key=" + this._config.key);
                    var a = r + o.join("&");
                    gl.prototype.YR.call(this, a)
                }
            }
            ,
            bl.prototype.showFloor = function(t, i) {
                this.pL && this.showIndoorMap(this.pL, t)
            }
            ,
            bl.prototype.show = function() {
                this._hideLayer(!0)
            }
            ,
            bl.prototype.hide = function() {
                this._hideLayer(!1)
            }
            ,
            bl.prototype.getMap = function() {
                return this._map
            }
            ,
            bl.prototype.setMap = function(t) {
                var i = (this._map = t).getStatus().animateEnable;
                gl.prototype.setRenderData.call(this, {
                    animateState: i
                }),
                t.setStatus({
                    animateEnable: !1
                }),
                gl.prototype.setMap.call(this, t),
                gl.prototype.cD.call(this)
            }
            ,
            bl.prototype.setzIndex = function(t) {
                gl.prototype.wL.call(this, t)
            }
            ,
            bl.prototype.showFloorBar = function() {
                this._hideBar(!1)
            }
            ,
            bl.prototype.hideFloorBar = function() {
                this._hideBar(!0)
            }
            ,
            bl.prototype.setOpacity = function(t) {
                gl.prototype.bL.call(this, t)
            }
            ,
            bl.prototype.getOpacity = function() {
                return gl.prototype.getOpacity.call(this)
            }
            ,
            bl.prototype.showLabels = function() {
                this._showLabels(!0)
            }
            ,
            bl.prototype.hideLabels = function() {
                this._showLabels(!1)
            }
            ,
            bl.prototype.getSelectedBuildingId = function() {
                return gl.prototype._getSelectedBuildingId.call(this)
            }
            ,
            bl.prototype.getSelectedBuilding = function() {
                return gl.prototype._getSelectedBuilding.call(this)
            }
            ,
            bl);
            function bl(t) {
                var i = gl.call(this, t) || this;
                if (i.CLASS_NAME = "AMap.IndoorMap",
                i._config = AMap.getConfig(),
                i.pL = "",
                t && t.map) {
                    i._map = t.map;
                    var e = t.map.getStatus().animateEnable;
                    gl.prototype.setRenderData.call(i, {
                        animateState: e
                    })
                }
                return i
            }
            var _l = (Object.defineProperty(wl.prototype, "CLASS_NAME", {
                get: function() {
                    return this.className
                },
                eb: !0,
                nb: !0
            }),
            wl.prototype.addOverlay = function(t) {
                this._overlays.indexOf(t) < 0 && (this._overlays.push(t),
                this._map && this._map.add(t))
            }
            ,
            wl.prototype.addOverlays = function(t) {
                for (var i = 0, e = t; i < e.length; i++) {
                    var n = e[i];
                    this.addOverlay(n)
                }
            }
            ,
            wl.prototype.getOverlays = function() {
                return this._overlays
            }
            ,
            wl.prototype.hasOverlay = function(t) {
                return -1 < this._overlays.indexOf(t)
            }
            ,
            wl.prototype.removeOverlay = function(t) {
                this.hasOverlay(t) && (wt.Util.deleteItemFromArray(this._overlays, t),
                this._map && this._map.remove(t))
            }
            ,
            wl.prototype.removeOverlays = function(t) {
                for (var i = 0, e = t; i < e.length; i++) {
                    var n = e[i];
                    this.removeOverlay(n)
                }
            }
            ,
            wl.prototype.clearOverlays = function() {
                this._map && this._map.remove(this._overlays),
                this._overlays = []
            }
            ,
            wl.prototype.eachOverlay = function(t) {
                wt.forEach(this._overlays, t)
            }
            ,
            wl.prototype.setMap = function(t) {
                this._map = t
            }
            ,
            wl.prototype.show = function() {
                for (var t = 0, i = this._overlays; t < i.length; t++)
                    i[t].show()
            }
            ,
            wl.prototype.hide = function() {
                for (var t = 0, i = this._overlays; t < i.length; t++)
                    i[t].hide()
            }
            ,
            wl.prototype.setOptions = function(t) {
                for (var i = 0, e = this._overlays; i < e.length; i++)
                    e[i].setOptions(t)
            }
            ,
            wl.prototype.on = function(i, e, n, o) {
                this.eachOverlay(function(t) {
                    t.on(i, e, n, o)
                })
            }
            ,
            wl.prototype.off = function(i, e, n, t) {
                this.eachOverlay(function(t) {
                    t.off(i, e, n)
                })
            }
            ,
            wl);
            function wl(t) {
                void 0 === t && (t = []),
                this.className = "Overlay.OverlayGroup",
                this._overlays = [],
                this.addOverlays(t)
            }
            var kl, Ml = (kl = ha,
            wt.Ei(Cl, kl),
            Cl.prototype.Cy = function(t) {
                this.P$ = !0,
                wt._.$e || t.originEvent.preventDefault(),
                this.Ay(t)
            }
            ,
            Cl.prototype.Ly = function(t) {
                this.P$ = !1,
                wt._.$e || t.originEvent.preventDefault()
            }
            ,
            Cl.prototype.Ay = function(t) {
                this._dragObjects = {
                    sy: t.pixel,
                    hy: t.pos,
                    ly: t.lnglat
                }
            }
            ,
            Cl.prototype.Mx = function() {
                this.on("dragstart", this.Cy.bind(this)),
                this.on("dragging", this._dragging.bind(this)),
                this.on("dragend", this.Ly.bind(this))
            }
            ,
            Cl.prototype.Rx = function() {
                this.off("dragstart", this.Cy.bind(this)),
                this.off("dragging", this._dragging.bind(this)),
                this.off("dragend", this.Ly.bind(this))
            }
            ,
            Cl);
            function Cl() {
                var t = null !== kl && kl.apply(this, arguments) || this;
                return t.P$ = !1,
                t._dragObjects = {
                    sy: {
                        x: 0,
                        y: 0
                    },
                    hy: [0, 0],
                    ly: {
                        lng: 0,
                        lat: 0
                    }
                },
                t
            }
            var Sl, zl = (Sl = Ml,
            wt.Ei(Rl, Sl),
            Object.defineProperty(Rl.prototype, "CLASS_NAME", {
                get: function() {
                    return this.className
                },
                eb: !0,
                nb: !0
            }),
            Rl.prototype.Zx = function(t) {
                this._map = t,
                this._opts && (this._opts.map = t)
            }
            ,
            Rl.prototype.setMap = function(t) {
                this._map !== t && (this._map && this._map.remove(this),
                t && t.add(this))
            }
            ,
            Rl.prototype.getMap = function() {
                return this._map || null
            }
            ,
            Rl.prototype.O$ = function() {
                for (var t = [], i = 0; i < arguments.length; i++)
                    t[i] = arguments[i]
            }
            ,
            Rl.prototype.destroy = function() {
                this.Rx(),
                this._beforeRemoveMap && this._beforeRemoveMap(),
                this._map = null
            }
            ,
            Rl.prototype.remove = function() {
                this.setMap(null)
            }
            ,
            Rl.prototype.hide = function() {
                this.visible && (this.visible = !1,
                this._map && this._map.setNeedUpdate(!0),
                this.emit("hide", {
                    target: this
                }))
            }
            ,
            Rl.prototype.show = function() {
                this.visible || (this.visible = !0,
                this._map && this._map.setNeedUpdate(!0),
                this.emit("show", {
                    target: this
                }))
            }
            ,
            Rl.prototype.setDraggable = function(t) {
                return this._opts.draggable = t
            }
            ,
            Rl.prototype.to = function() {
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            Rl.prototype.getExtData = function() {
                var t = this._opts;
                if (t && t.extData)
                    return t.extData
            }
            ,
            Rl.prototype.setExtData = function(t) {
                this.setOptions({
                    extData: t
                })
            }
            ,
            Rl.prototype.getCursor = function() {
                var t = this._opts.cursor;
                return !t && this._map && (t = this._map.getDefaultCursor()),
                t
            }
            ,
            Rl.prototype.emit = function(t, i) {
                var e = this.getCursor();
                return this._map && ("mouseout" === t ? this._map.setCursor() : this._map.setCursor(e)),
                ("dragstart" !== t && "dragging" !== t && "dragend" !== t || this.getDraggable()) && Sl.prototype.emit.call(this, t, i),
                this
            }
            ,
            Rl.prototype.getDraggable = function() {
                var t = this._opts.draggable;
                return void 0 !== t && t
            }
            ,
            Rl.prototype.getDeltaCoord = function() {
                return this.zx
            }
            ,
            Rl.prototype.BB = function() {
                this.b_([0, 0])
            }
            ,
            Rl.prototype.b_ = function(t) {
                this.zx = t
            }
            ,
            Rl.prototype._getDetalLocal = function(t) {
                var i = this.Sx;
                return wt.Util.hp(i, t)
            }
            ,
            Rl.prototype._beforeRemoveMap = function() {
                var t;
                this.F$ && (null !== (t = this.F$.parentNode) && void 0 !== t && t.removeChild(this.F$),
                delete this.F$)
            }
            ,
            Rl.prototype._mergeOptions = function(t) {
                var i = wt.assign({}, t);
                for (var e in this.Cx)
                    this.Cx.hasOwnProperty(e) && void 0 === t[e] && (this._opts && void 0 !== this._opts[e] ? i[e] = this._opts[e] : i[e] = wt.clone(this.Cx[e]));
                return i
            }
            ,
            Rl.prototype._dragging = function(t) {
                if (this.getDraggable()) {
                    var i = this._dragObjects.hy
                      , e = t.pos[0] - i[0]
                      , n = t.pos[1] - i[1]
                      , o = this._dragObjects.sy;
                    if (this.F$ && "d" === this._map.baseRender) {
                        var r = t.pixel.x - o.x
                          , a = t.pixel.y - o.y
                          , s = this.B$;
                        this.B$ = [r + s[0], a + s[1]];
                        var h = " translate(" + this.B$[0] + "px, " + this.B$[1] + "px)";
                        this.F$.style.transform = h,
                        this.F$.style.webkitTransform = h,
                        this.F$.style.MozTransform = h,
                        this.F$.style.msTransform = h
                    } else
                        this.to();
                    var l = this.getDeltaCoord();
                    this.b_([e + l[0], n + l[1]]),
                    this.Ay(t)
                }
            }
            ,
            Rl.prototype.Ly = function(t) {
                this.Ay(t),
                this.F$ && "d" === this._map.baseRender ? this.moveWithPixel(this.B$[0], -1 * this.B$[1]) : this.moveWithPos(this.zx[0], this.zx[1]),
                this.BB(),
                this.B$ = [0, 0],
                this.F$ && (this.F$.style.transform = "",
                this.F$.style.webkitTransform = "",
                this.F$.style.MozTransform = "",
                this.F$.style.msTransform = "")
            }
            ,
            Rl.prototype.moveWithPixel = function() {
                for (var t = [], i = 0; i < arguments.length; i++)
                    t[i] = arguments[i];
                console.log("please implement movePixel")
            }
            ,
            Rl.prototype.moveWithPos = function() {
                for (var t = [], i = 0; i < arguments.length; i++)
                    t[i] = arguments[i];
                console.log("please implement moveWithPos")
            }
            ,
            Rl.prototype._checkMap = function() {
                this._opts && this._opts.map !== this._map && this.setMap(this._opts.map)
            }
            ,
            Rl);
            function Rl() {
                var t = Sl.call(this) || this;
                return t.className = "Overlay",
                t.visible = !0,
                t.P$ = !1,
                t.zx = [0, 0],
                t.B$ = [0, 0],
                t.Ax = [0, 0],
                t.hS = wt.Util.stamp(t),
                t.Mx(),
                t
            }
            var Al, Il = (Al = zl,
            wt.Ei(Ll, Al),
            Ll.prototype.Tx = function(t) {
                if (t)
                    if (wt.Bs(t)) {
                        var i = wt.at.getProjection("EPSG:3857").project(t.KL, t.kT);
                        this.Sx = wt.lcs.getLocalByCoord(i)
                    } else
                        i = wt.at.getProjection("EPSG:3857").project(t[0], t[1]),
                        this.Sx = wt.lcs.getLocalByCoord(i)
            }
            ,
            Ll.prototype.getPath = function() {
                if (this._opts && this._opts.path)
                    return wt.parseLngLatData(wt.yn(this._opts.path))
            }
            ,
            Ll.prototype.getBounds = function() {
                var t = this.ir;
                if (t) {
                    var i = t.getSouthWest()
                      , e = t.getNorthEast();
                    return this._map && (i = this._map.getView().ru().moveWithPos([i.KL, i.kT], this.zx),
                    e = this._map.getView().ru().moveWithPos([e.KL, e.kT], this.zx)),
                    new Le(i,e)
                }
            }
            ,
            Ll.prototype.getArea = function() {
                if (this._opts && this._opts.path) {
                    var t = wt.jsonLngLatData(this._opts.path);
                    return wt.ys(t) ? +wt.GeometryUtil.ringArea(t).toFixed(2) : wt.Ox(t) ? +wt.E$(t).toFixed(2) : +wt.N$(t).toFixed(2)
                }
                return 0
            }
            ,
            Ll.prototype.setPath = function(t) {
                t && (this.reset(),
                this.Ix(t),
                this.to())
            }
            ,
            Ll.prototype.reset = function() {
                this.Dx && this.Dx.reset(),
                this.Px && this.Px.reset()
            }
            ,
            Ll.prototype.destroy = function() {
                this.Dx && (this.Dx.destroy(),
                delete this.Dx),
                this.Px && (this.Px.destroy(),
                delete this.Px),
                Al.prototype.destroy.call(this)
            }
            ,
            Ll.prototype.contains = function(t) {
                if (!this.jx())
                    return !1;
                if (this.ir && !this.ir.contains(t))
                    return !1;
                var i = this._opts.path
                  , e = wt.parseLngLatData(t);
                return wt.ys(i) ? wt.pointInRing([e.lng, e.lat], i) : wt.Ox(i) ? wt.U$([e.lng, e.lat], i) : wt.W$([e.lng, e.lat], i)
            }
            ,
            Ll.prototype.jx = function() {
                return this._opts && this._opts.path && 0 < this._opts.path.length
            }
            ,
            Ll.prototype.moveWithPixel = function(t, i) {
                var e = this._map
                  , n = wt.at.getProjection(e.getView().au())
                  , o = this._opts.path;
                if (wt.ys(o)) {
                    var r = wt.G$(o, [t, i], e.getZoom(), n);
                    this.setPath(r)
                } else if (wt.Ox(o)) {
                    var a = wt.H$(o, [t, i], e.getZoom(), n);
                    this.setPath(a)
                } else
                    a = wt.V$(o, [t, i], e.getZoom(), n),
                    this.setPath(a)
            }
            ,
            Ll.prototype.moveWithPos = function(t, i) {
                var e = this._map
                  , n = wt.at.getProjection(e.getView().au())
                  , o = this._opts.path.slice(0);
                if (wt.ys(o)) {
                    var r = wt.Z$(o, [t, i], n);
                    this.setPath(wt.parseLngLatData(r))
                } else if (wt.Ox(o)) {
                    var a = wt.Y$(o, [t, i], n);
                    this.setPath(wt.parseLngLatData(a))
                } else
                    a = wt.J$(o, [t, i], n),
                    this.setPath(wt.parseLngLatData(a))
            }
            ,
            Ll.prototype.rD = function(t) {
                this._opts.path = wt.jsonLngLatData(t);
                var i = wt.K$(t);
                i && (this.ir = Le.ms(i))
            }
            ,
            Ll.prototype.X$ = function(t) {
                for (var i = [], e = 0, n = t; e < n.length; e++) {
                    for (var o = n[e], r = [], a = [], s = 0, h = o[0]; s < h.length; s++) {
                        var l = h[s]
                          , f = wt.at.getProjection("EPSG:3857").project(l[0], l[1]);
                        a.push([f[0], f[1]])
                    }
                    a.length && (a.push(a[0].slice()),
                    r.push(a));
                    for (var u = 1, c = o.length; u < c; u++) {
                        var d = o[u]
                          , p = [];
                        if (d && d.length) {
                            for (var v = 0, m = d; v < m.length; v++)
                                l = m[v],
                                f = wt.at.getProjection("EPSG:3857").project(l[0], l[1]),
                                p.push([f[0], f[1]]);
                            p.push(p[0].slice()),
                            r.push(p)
                        }
                    }
                    i.push(r)
                }
                this.q$ = i
            }
            ,
            Ll.prototype.Q$ = function(t) {
                this.JL();
                var i = this.Dx
                  , e = this.Px;
                this.Tx(t[0][0][0]);
                for (var n = 0, o = t; n < o.length; n++) {
                    for (var r = o[n], a = this.Sx.center, s = [], h = [], l = [], f = [], u = [], c = 0, d = r[0]; c < d.length; c++) {
                        var p = d[c]
                          , v = wt.at.getProjection("EPSG:3857").project(p[0], p[1]);
                        s.push(v[0] - a[0], v[1] - a[1]),
                        h.push(p)
                    }
                    for (var m = 1, y = r.length; m < y; m++) {
                        for (var g = [], x = [], b = 0, _ = r[m]; b < _.length; b++)
                            p = _[b],
                            wt.Bs(p) ? (g.push(p.pos[0] - a[0], p.pos[1] - a[1]),
                            x.push(p.toJSON())) : (v = wt.at.getProjection("EPSG:3857").project(p[0], p[1]),
                            g.push(v[0] - a[0], v[1] - a[1]),
                            x.push(p));
                        l.push(g),
                        f.push(x)
                    }
                    var w = [];
                    for (m = 0,
                    y = s.length; m < y; m += 2)
                        w.push(wt.Bu(s[m], s[m + 1]));
                    wt.equals(w[0], w[w.length - 1]) || w.push(wt.Ex(w[0]));
                    var k = s.length;
                    for (m = 0; m < l.length; m++)
                        u.push(k / 2),
                        k += l[m].length,
                        wt.Util.Ig(s, l[m]);
                    for (i.Nx(s, u),
                    e.Nx(w, {
                        lineJoin: "miter"
                    }),
                    m = 0; m < l.length; m++) {
                        var M = []
                          , C = 0;
                        for (y = (g = l[m]).length; C < y; C += 2)
                            M.push(wt.Bu(g[C], g[C + 1]));
                        M.push(wt.Bu(g[0], g[1])),
                        e.Nx(M, {
                            lineJoin: "miter"
                        })
                    }
                }
            }
            ,
            Ll.prototype.JL = function() {
                this.Dx || (this.Dx = new wt.K_),
                this.Px || (this.Px = new wt.J_)
            }
            ,
            Ll);
            function Ll(t) {
                var n = Al.call(this) || this;
                return n.className = "Overlay.CorePolygon",
                n.Ix = function(t) {
                    n._opts.path = wt.jsonLngLatData(t);
                    var i = wt.K$(t);
                    if (i) {
                        n.ir = Le.ms(i);
                        var e = n._map;
                        e && ("d" === e.baseRender ? n.X$(i) : (n.Q$(i),
                        n.BB()))
                    }
                }
                ,
                n.Tx(t),
                n
            }
            var Tl, $l = {
                map: void 0,
                fillColor: "#00D3FC",
                fillOpacity: .5,
                strokeColor: "#00B2D5",
                strokeWeight: 2,
                strokeOpacity: .9,
                strokeStyle: "solid",
                draggable: !1,
                bubble: !1,
                strokeDasharray: [10, 5],
                zIndex: 50,
                extData: {},
                noSelect: !1,
                innerOverlay: !1,
                zooms: [2, 20]
            }, Dl = (Tl = Il,
            wt.Ei(Fl, Tl),
            Fl.prototype.getOptions = function() {
                return Bh({}, this._opts)
            }
            ,
            Fl.prototype.setOptions = function(t) {
                var i = this._mergeOptions(t)
                  , e = !wt.isEqual(this._opts.path, i.path);
                this._opts = i,
                this._checkMap(),
                e && this.setPath(this._opts.path),
                this.to()
            }
            ,
            Fl.prototype.init = function(t) {
                this.reset();
                var i = t || this._opts;
                this._opts = this._mergeOptions(i),
                this.setPath(this._opts.path),
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            Fl.prototype.render = function(t, i) {}
            ,
            Fl.prototype.O$ = function(t, i) {}
            ,
            Fl.prototype.toGeometry = function() {
                if (this._opts.path) {
                    var t = this._opts.path.slice(0);
                    return wt.ys(t) ? {
                        type: "Polygon",
                        coordinates: [t]
                    } : wt.Ox(t) ? {
                        type: "Polygon",
                        coordinates: t
                    } : {
                        type: "MultiPolygon",
                        coordinates: t
                    }
                }
            }
            ,
            Fl.prototype.toString = function() {
                var t = this._opts.path;
                return wt.ys(t) ? "" + t.join(";") : wt.Ox(t) ? "" + wt.map(t, function(t) {
                    return "" + t.join(";")
                }).join("|") : wt.tL(t) ? wt.map(t, function(t) {
                    return wt.map(t, function(t) {
                        return "" + t.join(";")
                    }).join("|")
                }).join("^") : ""
            }
            ,
            Fl);
            function Fl(t) {
                void 0 === t && (t = {});
                var i = this
                  , e = t.path;
                if (wt.iL(e)) {
                    var n = e[0];
                    i = Tl.call(this, n) || this
                } else
                    i = wt.eL(e) ? (n = e[0][0],
                    Tl.call(this, n) || this) : wt.yL(e) ? (n = e[0][0][0],
                    Tl.call(this, n) || this) : Tl.call(this, void 0) || this;
                return i.className = "Overlay.Polygon",
                i.Cx = wt.assign({
                    path: void 0
                }, $l),
                i._opts = i._mergeOptions(t),
                i._opts.path && i.rD(i._opts.path),
                i._checkMap(),
                i
            }
            var Pl, Hl = (Pl = zl,
            wt.Ei(Ol, Pl),
            Ol.prototype.hide = function() {
                this.visible = !1,
                this.ib && this.ib.hide(),
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            Ol.prototype.show = function() {
                this.visible = !0,
                this.ib && this.ib.show(),
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            Ol.prototype.toGeometry = function() {
                if (this.ib)
                    return this.ib.toGeometry()
            }
            ,
            Ol.prototype.destroy = function() {
                this.ib && this.ib.destroy(),
                Pl.prototype.destroy.call(this)
            }
            ,
            Ol.prototype.getOptions = function() {
                return this._opts
            }
            ,
            Ol.prototype.getArea = function() {
                return this.ib ? this.ib.getArea() : 0
            }
            ,
            Ol.prototype.getBounds = function() {
                if (this.ib)
                    return this.ib.getBounds()
            }
            ,
            Ol.prototype.render = function(t, i) {
                this.ib && this.ib.render(t, i)
            }
            ,
            Ol.prototype.b_ = function(t) {
                Pl.prototype.b_.call(this, t),
                this.ib && this.ib.b_(t)
            }
            ,
            Ol.prototype._beforeRemoveMap = function() {
                Pl.prototype._beforeRemoveMap.call(this),
                this.ib && delete this.ib.F$
            }
            ,
            Ol);
            function Ol() {
                var i = null !== Pl && Pl.apply(this, arguments) || this;
                return i._afterSetMap = function(t) {
                    i.ib && i.ib.Zx(t)
                }
                ,
                i
            }
            var Bl, El = (Bl = Hl,
            wt.Ei(jl, Bl),
            Object.defineProperty(jl.prototype, "F$", {
                get: function() {
                    if (this.ib && this.ib.F$)
                        return this.ib.F$
                },
                eb: !0,
                nb: !0
            }),
            jl.prototype.init = function(t) {
                var i = t || this._opts;
                this._opts = this._mergeOptions(i),
                this.setBounds(i.bounds)
            }
            ,
            jl.prototype.setBounds = function(t) {
                if (t) {
                    if (this._opts.bounds = t,
                    this.ib) {
                        this.ib.Zx(this._map);
                        var i = this.ob(t);
                        this.ib.setPath(i)
                    } else
                        this.ib = new Dl(this.ab(this._opts)),
                        this.ib && (this.ib.Zx(this._map),
                        this.ib.init());
                    this.BB(),
                    this._map && this._map.setNeedUpdate(!0)
                }
            }
            ,
            jl.prototype.moveWithPixel = function(t, i) {
                var e = this._map
                  , n = this._opts.bounds
                  , o = n.southWest.toJSON()
                  , r = n.northEast.toJSON()
                  , a = this._map.getView().ru().moveWithPixel(o, [t, i], e.getZoom())
                  , s = this._map.getView().ru().moveWithPixel(r, [t, i], e.getZoom())
                  , h = new Le(a,s);
                this.setBounds(h)
            }
            ,
            jl.prototype.moveWithPos = function(t, i) {
                var e = this._opts.bounds
                  , n = e.southWest.toJSON()
                  , o = e.northEast.toJSON()
                  , r = this._map.getView().ru().moveWithPos(n, [t, i])
                  , a = this._map.getView().ru().moveWithPos(o, [t, i])
                  , s = new Le(r,a);
                this.setBounds(s)
            }
            ,
            jl.prototype.setOptions = function(t) {
                var i = this._mergeOptions(t)
                  , e = !wt.isEqual(this._opts.bounds, i.bounds);
                this._opts = i,
                this._checkMap(),
                this.ib && e ? (this.setBounds(i.bounds),
                this.ib.setOptions(this.ab(this._opts))) : this.ib && this.ib.setOptions(t),
                this.to()
            }
            ,
            jl.prototype.getCenter = function() {
                if (this._opts.bounds)
                    return this._opts.bounds.getCenter()
            }
            ,
            jl.prototype.O$ = function(t, i) {
                this.ib && this.ib.O$(t, i)
            }
            ,
            jl.prototype.ab = function(t) {
                var i = this.ob(t.bounds)
                  , e = wt.Ln({
                    path: i
                }, t);
                return delete e.bounds,
                delete e.map,
                e
            }
            ,
            jl.prototype.ob = function(t) {
                var i = t.getSouthWest()
                  , e = t.getNorthEast();
                return [new wt.LngLat(i.KL,i.kT,!0), new wt.LngLat(e.KL,i.kT,!0), new wt.LngLat(e.KL,e.kT,!0), new wt.LngLat(i.KL,e.kT,!0)]
            }
            ,
            jl);
            function jl(t) {
                void 0 === t && (t = {});
                var i = Bl.call(this) || this;
                return i.className = "Overlay.Rectangle",
                i.Cx = wt.assign({
                    bounds: void 0
                }, $l),
                i.contains = function(t) {
                    return !!i.ib && i.ib.contains(t)
                }
                ,
                i._opts = i._mergeOptions(t),
                i._checkMap(),
                i
            }
            var Nl, Wl = (Nl = Hl,
            wt.Ei(Ul, Nl),
            Ul.prototype.init = function(t) {
                var i = t || this._opts;
                this._opts = this._mergeOptions(i),
                this.setCenterAndRadius(this._opts.center, this._opts.radius)
            }
            ,
            Ul.prototype.setCenter = function(t) {
                this.setCenterAndRadius(t, this._opts.radius)
            }
            ,
            Ul.prototype.setRadius = function(t) {
                this.setCenterAndRadius(this._opts.center, t)
            }
            ,
            Ul.prototype.getCenter = function() {
                var t = wt.parseLngLatData(this._opts.center)
                  , i = this._map.getView().ru().moveWithPos([t.KL, t.kT], this.zx);
                return new wt.LngLat(i[0],i[1])
            }
            ,
            Ul.prototype.getRadius = function() {
                return this._opts.radius
            }
            ,
            Ul.prototype.setCenterAndRadius = function(t, i) {
                if (this._opts.center = t,
                this._opts.radius = i,
                this.ib) {
                    this.ib.Zx(this._map);
                    var e = this.sb(t, i);
                    this.ib.setPath(e)
                } else
                    this.ib = new Dl(this.ab(this._opts)),
                    this.ib && (this.ib.Zx(this._map),
                    this.ib.init());
                this.BB(),
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            Ul.prototype.moveWithPixel = function(t, i) {
                var e = this._map
                  , n = wt.parseLngLatData(this._opts.center)
                  , o = this._map.getView().ru().moveWithPixel([n.KL, n.kT], [t, i], e.getZoom());
                this.setCenter(o)
            }
            ,
            Ul.prototype.moveWithPos = function(t, i) {
                var e = wt.parseLngLatData(this._opts.center)
                  , n = this._map.getView().ru().moveWithPos([e.KL, e.kT], [t, i]);
                this.setCenter(n)
            }
            ,
            Ul.prototype.setOptions = function(t) {
                var i = this._mergeOptions(t)
                  , e = !wt.isEqual(this._opts.center, i.center) || !wt.isEqual(this._opts.radius, i.radius);
                this._opts = i,
                this._checkMap(),
                this.ib && e ? this.ib.setOptions(this.ab(this._opts)) : this.ib && this.ib.setOptions(t),
                this.to()
            }
            ,
            Ul.prototype.O$ = function(t, i, e) {}
            ,
            Ul.prototype.ab = function(t) {
                var i = this.sb(t.center, t.radius)
                  , e = wt.assign({}, t);
                return e.path = i,
                delete e.center,
                delete e.radius,
                delete e.map,
                e
            }
            ,
            Ul.prototype.sb = function(t, i) {
                var e = []
                  , n = wt.parseLngLatData(t)
                  , o = wt.at.getProjection("EPSG:3857");
                if (n) {
                    wt.Bs(n) ? o.project(n.KL, n.kT) : o.project(n[0], n[1]);
                    for (var r = wt._.$e, a = r ? 89 : 359, s = (r ? 4 : 1) * Math.PI / 180, h = i[0], l = i[1], f = 0, u = a; f <= u; f++) {
                        var c = f * s
                          , d = h * Math.cos(c)
                          , p = l * Math.sin(c);
                        e.push(n.offset(d, p))
                    }
                }
                return e
            }
            ,
            Ul);
            function Ul(t) {
                void 0 === t && (t = {});
                var i = Nl.call(this) || this;
                return i.className = "Overlay.Ellipse",
                i.Cx = wt.assign({
                    center: void 0,
                    radius: void 0
                }, $l),
                i.contains = function(t) {
                    return !!i.ib && i.ib.contains(t)
                }
                ,
                i._opts = i._mergeOptions(t),
                i._checkMap(),
                i
            }
            var Gl, Vl = (Gl = Hl,
            wt.Ei(Yl, Gl),
            Yl.prototype.init = function(t) {
                var i = t || this._opts;
                this._opts = this._mergeOptions(i),
                this.setCenterAndRadius(this._opts.center, this._opts.radius)
            }
            ,
            Yl.prototype.setCenter = function(t) {
                this.setCenterAndRadius(t, this._opts.radius)
            }
            ,
            Yl.prototype.setRadius = function(t) {
                this.setCenterAndRadius(this._opts.center, t)
            }
            ,
            Yl.prototype.getCenter = function() {
                var t = wt.parseLngLatData(this._opts.center)
                  , i = this._map.getView().ru().moveWithPos([t.KL, t.kT], this.zx);
                return new wt.LngLat(i[0],i[1])
            }
            ,
            Yl.prototype.getRadius = function() {
                return parseFloat(this._opts.radius)
            }
            ,
            Yl.prototype.setCenterAndRadius = function(t, i) {
                if (this._opts.center = t,
                this._opts.radius = i,
                this.ib) {
                    this.ib.Zx(this._map);
                    var e = this.sb(t, i);
                    this.ib.setPath(e)
                } else
                    this.ib = new Dl(this.ab(this._opts)),
                    this.ib && (this.ib.Zx(this._map),
                    this.ib.init());
                this.BB(),
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            Yl.prototype.render = function(t, i) {
                this.ib && this.getRadius() && (this.ib.b_(this.zx),
                this.ib.render(t, i))
            }
            ,
            Yl.prototype.moveWithPixel = function(t, i) {
                var e = this._map
                  , n = wt.parseLngLatData(this._opts.center)
                  , o = this._map.getView().ru().moveWithPixel([n.KL, n.kT], [t, i], e.getZoom());
                this.setCenter(o)
            }
            ,
            Yl.prototype.moveWithPos = function(t, i) {
                var e = wt.parseLngLatData(this._opts.center)
                  , n = this._map.getView().ru().moveWithPos([e.KL, e.kT], [t, i]);
                this.setCenter(n)
            }
            ,
            Yl.prototype.setOptions = function(t) {
                var i = this._mergeOptions(t)
                  , e = !wt.isEqual(this._opts.center, i.center) || !wt.isEqual(this._opts.radius, i.radius);
                this._opts = i,
                this._checkMap(),
                this.ib && e ? this.ib.setOptions(this.ab(this._opts)) : this.ib && this.ib.setOptions(t),
                this.to()
            }
            ,
            Yl.prototype.O$ = function(t, i, e) {}
            ,
            Yl.prototype.ab = function(t) {
                var i = this.sb(t.center, t.radius)
                  , e = wt.assign({}, t);
                return e.path = i,
                delete e.center,
                delete e.radius,
                delete e.map,
                e
            }
            ,
            Yl.prototype.sb = function(t, i) {
                var e = []
                  , n = wt.parseLngLatData(t)
                  , o = wt.at.getProjection("EPSG:3857");
                if (n)
                    for (var r = o.project(n.KL, n.kT), a = r[0], s = r[1], h = 6 * Math.PI / 180, l = Math.cos(n.kT * Math.PI / 180), f = 0; f <= 60; f++) {
                        var u = f * h
                          , c = i * Math.cos(u) / l
                          , d = i * Math.sin(u) / l
                          , p = o.unproject(a + c, s + d);
                        e.push(p)
                    }
                return e
            }
            ,
            Yl);
            function Yl(t) {
                void 0 === t && (t = {});
                var i = Gl.call(this) || this;
                return i.className = "Overlay.Circle",
                i.Cx = wt.assign({
                    center: void 0,
                    radius: 1e3
                }, $l),
                i.contains = function(t) {
                    return !!i.ib && i.ib.contains(t)
                }
                ,
                i._opts = i._mergeOptions(t),
                i._checkMap(),
                i
            }
            var Zl = (Xl.prototype.wb = function(t) {
                var i = this._b.length;
                return this._b.kb(t[0], t[1]),
                this._b.length - i
            }
            ,
            Xl.prototype.upload = function(t) {
                this.Kx || (this.destroy(),
                this.Kx = !0,
                this.zs = t.fe(this._b.Mb, wt.zb.Rb))
            }
            ,
            Xl.prototype.destroy = function() {
                this.Kx = !1,
                this.zs && (this.zs.context.deleteBuffer(this.zs),
                delete this.zs)
            }
            ,
            Xl.prototype.reset = function() {
                this._b = new wt.zb,
                this.Kx = !1
            }
            ,
            Xl);
            function Xl() {
                this._b = new wt.zb,
                this.Kx = !1
            }
            var Jl, ql = (Jl = zl,
            wt.Ei(Ql, Jl),
            Ql.prototype.Tx = function(t) {
                if (t)
                    if (wt.Bs(t)) {
                        var i = wt.at.getProjection("EPSG:3857").project(t.KL, t.kT);
                        this.Sx = wt.lcs.getLocalByCoord(i)
                    } else
                        i = wt.at.getProjection("EPSG:3857").project(t[0], t[1]),
                        this.Sx = wt.lcs.getLocalByCoord(i)
            }
            ,
            Ql.prototype.setCenter = function(t) {
                t && (this._opts.center = wt.parseLngLatData(t),
                this.ir = new Le(this._opts.center,this._opts.center),
                this._map && "d" !== this._map.baseRender && (this.XL(t),
                this.BB()),
                this.to())
            }
            ,
            Ql.prototype.destroy = function() {
                this.Sb && (this.Sb.destroy(),
                delete this.Sb),
                Jl.prototype.destroy.call(this)
            }
            ,
            Ql.prototype.reset = function() {
                this.Sb && this.Sb.reset()
            }
            ,
            Ql.prototype.toGeometry = function() {
                if (this._opts.center) {
                    var t = wt.parseLngLatData(this._opts.center);
                    return {
                        type: "Point",
                        coordinates: t && t.toJSON()
                    }
                }
            }
            ,
            Ql.prototype.XL = function(t) {
                this.Sb || (this.Sb = new Zl);
                var i = wt.parseLngLatData(t);
                this.reset(),
                this.Tx(t);
                var e = this.Sx.center
                  , n = this._map.getView().ru().project(i.KL, i.kT);
                this.Sb.wb([n[0] - e[0], n[1] - e[1]])
            }
            ,
            Ql);
            function Ql(t) {
                var i = Jl.call(this) || this;
                return i.className = "Overlay.Circle",
                i.Cx = wt.assign({}, $l, {
                    center: void 0,
                    radius: 20
                }),
                i.Tx(t),
                i
            }
            var Kl, tf = (Kl = ql,
            wt.Ei(ef, Kl),
            ef.prototype.render = function(t, i) {}
            ,
            ef.prototype.init = function(t) {
                var i = t || this._opts;
                this._opts = this._mergeOptions(i),
                this.setCenter(this._opts.center)
            }
            ,
            ef.prototype.setRadius = function(t) {
                this._opts.radius = t,
                this.to()
            }
            ,
            ef.prototype.getCenter = function() {
                var t = wt.parseLngLatData(this._opts.center)
                  , i = this._map.getView().ru().moveWithPos([t.KL, t.kT], this.zx);
                return new wt.LngLat(i[0],i[1])
            }
            ,
            ef.prototype.getRadius = function() {
                return this._opts.radius
            }
            ,
            ef.prototype.moveWithPixel = function(t, i) {
                var e = this._map
                  , n = wt.parseLngLatData(this._opts.center)
                  , o = this._map.getView().ru().moveWithPixel([n.KL, n.kT], [t, i], e.getZoom());
                this.setCenter(o)
            }
            ,
            ef.prototype.moveWithPos = function(t, i) {
                this._map;
                var e = wt.parseLngLatData(this._opts.center)
                  , n = this._map.getView().ru().moveWithPos([e.KL, e.kT], [t, i]);
                this.setCenter(n)
            }
            ,
            ef.prototype.setOptions = function(t) {
                var i = this._mergeOptions(t)
                  , e = !wt.isEqual(this._opts.center, i.center);
                this._opts = i,
                this._checkMap(),
                e && this.setCenter(i.center),
                this.to()
            }
            ,
            ef.prototype.getOptions = function() {
                return Bh({}, this._opts)
            }
            ,
            ef.prototype.getBounds = function() {
                return this.ir
            }
            ,
            ef.prototype.Ib = function() {
                var t = this._opts
                  , i = t.radius + (t.strokeWeight || 0);
                return Math.min(i, 64)
            }
            ,
            ef);
            function ef(t) {
                void 0 === t && (t = {});
                var r = Kl.call(this, t.center ? t.center : void 0) || this;
                return r.contains = function(t) {
                    if (!r._map)
                        return !1;
                    var i = r._map.lngLatToContainer(t);
                    return r.containsWithPixel(i)
                }
                ,
                r.containsWithPixel = function(t) {
                    if (!r._map)
                        return !1;
                    if (!r._opts.center)
                        return !1;
                    var i = r.Ib()
                      , e = r._map.lngLatToContainer(r._opts.center);
                    if (Math.abs(e.x - t.x) > i || Math.abs(e.y - t.y) > i)
                        return !1;
                    var n = wt.Db(t.toJSON(), e.toJSON())
                      , o = r._map.getView().Pu || 0;
                    return n / Math.cos(o) < i
                }
                ,
                r.className = "Overlay.CircleMarker",
                r.Cx = wt.assign({}, $l, {
                    center: void 0,
                    radius: 20
                }),
                r._opts = r._mergeOptions(t),
                r._checkMap(),
                r
            }
            var nf, of = (nf = zl,
            wt.Ei(rf, nf),
            rf.prototype.Tx = function(t) {
                if (t)
                    if (wt.Bs(t)) {
                        var i = wt.at.getProjection("EPSG:3857").project(t.KL, t.kT);
                        this.Sx = wt.lcs.getLocalByCoord(i)
                    } else
                        i = wt.at.getProjection("EPSG:3857").project(t[0], t[1]),
                        this.Sx = wt.lcs.getLocalByCoord(i)
            }
            ,
            rf.prototype.getBounds = function() {
                return this.ir
            }
            ,
            rf.prototype.setPath = function(t) {
                t && (t && this.Ix(t),
                this.to())
            }
            ,
            rf.prototype.destroy = function() {
                this.Px && (this.Px.destroy(),
                delete this.Px),
                nf.prototype.destroy.call(this)
            }
            ,
            rf.prototype.moveWithPixel = function(t, i) {
                for (var e = this._map, n = wt.at.getProjection(e.getView().au()), o = [], r = 0, a = this.$x; r < a.length; r++) {
                    for (var s = [], h = 0, l = a[r]; h < l.length; h++) {
                        var f = l[h];
                        s.push(n.moveWithPixel(f, [t, i], e.getZoom()))
                    }
                    o.push(s)
                }
                this.setPath(o)
            }
            ,
            rf.prototype.moveWithPos = function(t, i) {
                for (var e = this._map, n = wt.at.getProjection(e.getView().au()), o = [], r = 0, a = this.$x; r < a.length; r++) {
                    for (var s = [], h = 0, l = a[r]; h < l.length; h++) {
                        var f = l[h];
                        s.push(n.moveWithPos(f, [t, i]))
                    }
                    o.push(s)
                }
                this.setPath(wt.parseLngLatData(o))
            }
            ,
            rf.prototype.getLength = function() {
                var t = this._opts && this._opts.path;
                return wt.ys(t) ? +wt.nL(t).toFixed(2) : wt.Ox(t) ? +wt.oL(t).toFixed(2) : 0
            }
            ,
            rf.prototype.rL = function() {
                return this.sC
            }
            ,
            rf.prototype.jx = function() {
                return this._opts && this._opts.path && 0 < this._opts.path.length
            }
            ,
            rf.prototype.Ix = function(t) {
                var i = wt.jsonLngLatData(t);
                this._opts.path = i,
                i = wt.aL(t),
                wt.Ox(i) ? (this._opts.geodesic && (i = wt.map(i, function(t) {
                    return wt.sL(t)
                })),
                this.Tx(i[0][0]),
                this.ir = Le.bS(i),
                this._map && ("d" === this._map.baseRender ? this.X$(i) : (this.Q$(i),
                this.BB()))) : console.error("error Polyline path")
            }
            ,
            rf.prototype.rD = function(t) {
                var i = wt.jsonLngLatData(t);
                this._opts.path = i,
                i = wt.aL(t),
                wt.Ox(i) ? (this._opts.geodesic && (i = wt.map(i, function(t) {
                    return wt.sL(t)
                })),
                this.Tx(i[0][0]),
                this.ir = Le.bS(i)) : console.error("error Polyline path")
            }
            ,
            rf.prototype.X$ = function(t) {
                for (var i = [], e = [], n = 0, o = t; n < o.length; n++) {
                    for (var r = [], a = [], s = 0, h = o[n]; s < h.length; s++) {
                        var l = h[s]
                          , f = wt.at.getProjection("EPSG:3857").project(l[0], l[1]);
                        r.push([f[0], f[1]]),
                        a.push(l)
                    }
                    i.push(r),
                    e.push(a)
                }
                this.$x = e,
                this.q$ = i
            }
            ,
            rf.prototype.Q$ = function(t) {
                for (var i = [], e = [], n = 0, o = t; n < o.length; n++) {
                    for (var r = [], a = [], s = 0, h = o[n]; s < h.length; s++) {
                        var l = h[s]
                          , f = wt.at.getProjection("EPSG:3857").project(l[0], l[1]);
                        r.push([f[0], f[1], 0]),
                        a.push(l)
                    }
                    this.P_(r),
                    i.push(r),
                    e.push(a)
                }
                this.$x = e,
                this.q$ = i,
                this.D_(this.q$.slice(0))
            }
            ,
            rf.prototype.D_ = function(t) {
                if (0 !== t.length) {
                    this.Px ? this.Px.reset() : this.Px = new wt.J_;
                    for (var i = this.Sx.center, e = 0, n = wt.at.getProjection("EPSG:3857"), o = this.EI, r = n.getResolution(o), a = 0, s = t; a < s.length; a++) {
                        for (var h = s[a], l = [], f = 0, u = h.length; f < u; f += 1)
                            l.push(wt.Bu(h[f][0] - i[0], h[f][1] - i[1]));
                        var c = this._opts;
                        10 <= this.EI && (this._opts.showDir || "dashed" === this._opts.strokeStyle) ? e += this.Px.eD(l, {
                            X_: 1,
                            lineJoin: c.lineJoin,
                            lineCap: c.lineCap
                        }, Math.floor(2048 * r)).distance : e += this.Px.hb(l, {
                            X_: 1,
                            lineJoin: c.lineJoin,
                            lineCap: c.lineCap
                        }).distance
                    }
                    this.sC = e
                }
            }
            ,
            rf.prototype.P_ = function(t) {
                t[0][2] = 1 / 0,
                t[t.length - 1][2] = 1 / 0;
                var i = wt.at.getProjection("EPSG:3857").getResolution(16);
                !function t(i, e, n, o) {
                    for (var r = o, a = n - e >> 1, s = n - e, h = n, l = i[e][0], f = i[e][1], u = i[n][0], c = i[n][1], d = e + 1; d < n; d += 1) {
                        var p = df(i[d][0], i[d][1], l, f, u, c);
                        if (r < p)
                            h = d,
                            r = p;
                        else if (p === r) {
                            var v = Math.abs(d - a);
                            v < s && (h = d,
                            s = v)
                        }
                    }
                    o < r && (1 < h - e && t(i, e, h, o),
                    i[h][2] = r,
                    1 < n - h && t(i, h, n, o))
                }(t, 0, t.length - 1, i * i)
            }
            ,
            rf);
            function rf(t) {
                var i = nf.call(this) || this;
                return i.className = "Overlay.CorePolyline",
                i.sC = 0,
                i.Tx(t),
                i
            }
            var af, sf = {
                map: void 0,
                path: void 0,
                cursor: "",
                strokeColor: "#00D3FC",
                strokeWeight: 2,
                strokeOpacity: .5,
                strokeStyle: "solid",
                draggable: !1,
                bubble: !1,
                strokeDasharray: [10, 5],
                isOutline: !1,
                geodesic: !1,
                showDir: !1,
                outlineColor: "#00B2D5",
                borderWeight: 1,
                lineJoin: "miter",
                lineCap: "butt",
                extData: {},
                zIndex: 50,
                dirColor: "white",
                dirImg: "",
                lineGradient: void 0,
                noSelect: !1,
                innerOverlay: !1,
                zooms: [2, 20]
            }, hf = (af = of,
            wt.Ei(lf, af),
            lf.prototype.getOptions = function() {
                return Bh({}, this._opts)
            }
            ,
            lf.prototype.getPath = function() {
                if (this._opts && this._opts.path)
                    return wt.parseLngLatData(wt.yn(this._opts.path))
            }
            ,
            lf.prototype.destroy = function() {
                this.E_ && (this.E_.destroy(),
                delete this.E_),
                af.prototype.destroy.call(this)
            }
            ,
            lf.prototype.setOptions = function(t) {
                var i = this._mergeOptions(t)
                  , e = function(t, i, e) {
                    for (var n = 0, o = e.length; n < o; n += 1) {
                        var r = e[n];
                        if (t[r] !== i[r])
                            return !0
                    }
                    return !1
                }(this._opts, i, ["path", "lineCap", "lineJoin", "geodesic"]);
                i.lineGradient !== this._opts.lineGradient && this.rC && (this.rC.destroy(),
                delete this.rC),
                this._opts = i,
                this._checkMap(),
                e && this.setPath(this._opts.path),
                this.to()
            }
            ,
            lf.prototype.init = function(t) {
                var i = this
                  , e = t || this._opts
                  , n = this._mergeOptions(e);
                if (this._opts = n,
                this._opts.dirImg)
                    if (this._opts.dirImg instanceof HTMLCanvasElement)
                        this.F_ = this._opts.dirImg;
                    else {
                        var o = this._opts.dirImg;
                        this._map.z_.loadImage(this._opts.dirImg, {
                            type: "dirImg",
                            cb: function(t) {
                                t ? i.F_ = t.img : console.error("load dirImg error", o)
                            }
                        })
                    }
                this.setPath(this._opts.path),
                this._map && (this.W_(),
                this._map.setNeedUpdate(!0))
            }
            ,
            lf.prototype.render = function(t, i) {}
            ,
            lf.prototype.O$ = function(t, i) {}
            ,
            lf.prototype.contains = function(t) {
                if (!this.jx())
                    return !1;
                if (this.ir && !this.ir.contains(t))
                    return !1;
                for (var i = this._map.getView(), e = i.getStatus().pitch * Math.PI / 180, n = wt.parseLngLatData(t), o = i.ru().project(n.lng, n.lat), r = i.ru().getResolution(this._map.getZoom()), a = 0, s = this.q$; a < s.length; a++) {
                    var h = s[a];
                    if (wt.hL.lr(o, h) * Math.cos(e) < this._opts.strokeWeight * r)
                        return !0
                }
                return !1
            }
            ,
            lf.prototype.toGeometry = function() {
                var t = this._opts.path;
                if (t)
                    return wt.ys(t) ? {
                        type: "LineString",
                        coordinates: t
                    } : wt.Ox(t) ? {
                        type: "MultiLineString",
                        coordinates: t
                    } : void 0
            }
            ,
            lf.prototype.U_ = function(t) {
                this.F_ && (this.E_ || (this.E_ = t.createTexture(this.F_, {
                    Zi: !0
                }),
                this.E_.bind(t.gl.CLAMP_TO_EDGE, t.gl.LINEAR, t.gl.LINEAR)))
            }
            ,
            lf.prototype.aC = function(t, i) {
                if (!this.rC) {
                    var e = function(t) {
                        var i = document.createElement("canvas");
                        i.height = 1,
                        i.width = 4096;
                        for (var e = i.getContext("2d"), n = e.createImageData(4096, 1), o = 0, r = 0; r < 4096; r++) {
                            for (var a = void 0; o < t.length; o++) {
                                if (o === t.length - 1) {
                                    a = t[o][1];
                                    break
                                }
                                if (!(4096 * t[o + 1][0] < r)) {
                                    a = t[o][1];
                                    break
                                }
                            }
                            a = t[o][1];
                            var s = wt.Util.color2RgbaArray(a);
                            n.data[4 * r] = 255 * s[0],
                            n.data[4 * r + 1] = 255 * s[1],
                            n.data[4 * r + 2] = 255 * s[2],
                            n.data[4 * r + 3] = 255 * s[3]
                        }
                        return e.putImageData(n, 0, 0),
                        i
                    }(i.values);
                    this.rC = t.createTexture(e, {
                        Zi: !0
                    });
                    var n = t.gl;
                    this.rC.bind(n.CLAMP_TO_EDGE, n.NEAREST, n.NEAREST_MIPMAP_NEAREST)
                }
            }
            ,
            lf);
            function lf(t) {
                void 0 === t && (t = {});
                var l = af.call(this) || this;
                return l._afterSetMap = function() {
                    l._map && "d" !== l._map.baseRender && l._map.on("zoomend", l.W_)
                }
                ,
                l._beforeRemoveMap = function() {
                    l._map && "d" !== l._map.baseRender && l._map.off("zoomend", l.W_),
                    af.prototype._beforeRemoveMap.call(l)
                }
                ,
                l.W_ = function() {
                    if (Gh.isWebGL && l._map && l.q$ && !l._opts.geodesic) {
                        var t = l._map
                          , i = Math.min(Math.floor(t.getZoom()), 20);
                        if (l.EI !== i)
                            if (i < 18) {
                                l.EI = i;
                                for (var e = wt.at.getProjection("EPSG:3857").getResolution(Math.min(Math.floor(t.getZoom()), 18)), n = [], o = 0, r = l.q$; o < r.length; o++) {
                                    for (var a = r[o], s = [], h = 0; h < a.length; h += 1)
                                        a[h][2] > e * e * 1 && s.push([a[h][0], a[h][1]]);
                                    n.push(s)
                                }
                                l.D_(n)
                            } else
                                l.EI = i,
                                l.D_(l.q$)
                    }
                }
                ,
                l.className = "Overlay.Polyline",
                l.Cx = wt.assign({}, sf, {
                    strokeColor: "#00B2D5"
                }),
                l.EI = -1,
                l._opts = l._mergeOptions(t),
                l._opts.path && l.rD(l._opts.path),
                l._checkMap(),
                l
            }
            var ff, uf = (ff = zl,
            wt.Ei(cf, ff),
            cf.prototype.hide = function() {
                this.vb && this.vb.hide(),
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            cf.prototype.show = function() {
                this.vb && this.vb.show(),
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            cf.prototype.destroy = function() {
                this.vb && this.vb.destroy(),
                ff.prototype.destroy.call(this)
            }
            ,
            cf.prototype.getOptions = function() {
                return Bh({}, this._opts)
            }
            ,
            cf.prototype.contains = function(t) {
                return !!this.vb && this.vb.contains(t)
            }
            ,
            cf.prototype.render = function(t, i) {}
            ,
            cf.prototype.b_ = function(t) {
                ff.prototype.b_.call(this, t),
                this.vb && this.vb.b_(t)
            }
            ,
            cf.prototype.getLength = function() {
                return this.vb ? this.vb.getLength() : 0
            }
            ,
            cf.prototype.getBounds = function() {
                if (this.vb)
                    return this.vb.getBounds()
            }
            ,
            cf);
            function cf() {
                return null !== ff && ff.apply(this, arguments) || this
            }
            function df(t, i, e, n, o, r) {
                var a = o - e
                  , s = r - n;
                if (0 !== a || 0 !== s) {
                    var h = ((t - e) * a + (i - n) * s) / (a * a + s * s);
                    1 < h ? (e = o,
                    n = r) : 0 < h && (e += a * h,
                    n += s * h)
                }
                return (a = t - e) * a + (s = i - n) * s
            }
            var pf, vf = (pf = wt.LngLat,
            wt.Ei(mf, pf),
            mf.prototype.lL = function() {
                for (var t = [], i = 0, e = this.controlPoints; i < e.length; i++) {
                    var n = e[i];
                    t.push(n.toJSON())
                }
                return t.push(this.toJSON()),
                t
            }
            ,
            mf.prototype.moveWithPos = function(t, i, e) {
                for (var n = t.moveWithPos(this.toJSON(), [i, e]), o = [], r = 0, a = this.controlPoints.length; r < a; r++) {
                    var s = this.controlPoints[r];
                    o.push(t.moveWithPos(s.toJSON(), [i, e]))
                }
                return o.push(n),
                new mf(o)
            }
            ,
            mf.prototype.moveWithPixel = function(t, i, e, n) {
                for (var o = t.moveWithPixel(this.toJSON(), [i, e], n), r = [], a = 0, s = this.controlPoints.length; a < s; a++) {
                    var h = this.controlPoints[a];
                    r.push(t.moveWithPixel(h.toJSON(), [i, e], n))
                }
                return r.push(o),
                new mf(r)
            }
            ,
            mf);
            function mf(t) {
                var i = this;
                if (wt.ys(t)) {
                    var e = t.length;
                    i = pf.call(this, t[e - 1][0], t[e - 1][1]) || this;
                    for (var n = [], o = 0, r = e - 1; o < r; o += 1) {
                        var a = t[o][0]
                          , s = t[o][1];
                        n.push(new wt.LngLat(a,s))
                    }
                    i.controlPoints = n
                } else {
                    for (e = t.length,
                    i = pf.call(this, t[e - 2], t[e - 1]) || this,
                    n = [],
                    o = 0,
                    r = e - 2; o < r; o += 2)
                        a = t[o],
                        s = t[o + 1],
                        n.push(new wt.LngLat(a,s));
                    i.controlPoints = n
                }
                return i
            }
            var yf, gf = (yf = uf,
            wt.Ei(xf, yf),
            Object.defineProperty(xf.prototype, "F$", {
                get: function() {
                    if (this.vb && this.vb.F$)
                        return this.vb.F$
                },
                eb: !0,
                nb: !0
            }),
            xf.prototype.init = function(t) {
                var i = t || this._opts;
                if (this._opts = this._mergeOptions(i),
                this.vb) {
                    var e = this.mb(this._opts);
                    this.vb.setOptions(e)
                } else
                    this.vb = new hf(this.mb(this._opts)),
                    this.vb && (this.vb.Zx(this._map),
                    this.vb.init());
                this._map && this._map.setNeedUpdate(!0)
            }
            ,
            xf.prototype.setOptions = function(t) {
                var i = this._mergeOptions(t)
                  , e = !wt.isEqual(this._opts.path, i.path);
                if (this._opts = i,
                this._checkMap(),
                this.vb && e)
                    this.vb.setOptions(this.mb(this._opts));
                else if (this.vb) {
                    var n = wt.assign({}, t);
                    delete n.path,
                    this.vb.setOptions(n)
                }
                this.BB(),
                this.to()
            }
            ,
            xf.prototype.getPath = function() {
                if (this._opts)
                    return this._opts.path
            }
            ,
            xf.prototype.setPath = function(t) {
                t && this.setOptions({
                    path: t
                })
            }
            ,
            xf.prototype.O$ = function(t, i) {
                this.vb && this.vb.O$(t, i)
            }
            ,
            xf.prototype.moveWithPos = function(t, i) {
                var e = this._map
                  , n = wt.at.getProjection(e.getView().au())
                  , o = this.getPath();
                if (o) {
                    for (var r = [], a = 0, s = o; a < s.length; a++) {
                        var h = s[a]
                          , l = new vf(h);
                        l = l.moveWithPos(n, t, i),
                        r.push(l.lL())
                    }
                    this.setPath(r)
                }
            }
            ,
            xf.prototype.moveWithPixel = function(t, i) {
                var e = this._map
                  , n = wt.at.getProjection(e.getView().au())
                  , o = this.getPath();
                if (o) {
                    for (var r = [], a = e.getZoom(), s = 0, h = o; s < h.length; s++) {
                        var l = h[s]
                          , f = new vf(l);
                        f = f.moveWithPixel(n, t, i, a),
                        r.push(f.lL())
                    }
                    this.setPath(r)
                }
            }
            ,
            xf.prototype.mb = function(t) {
                this._map && (this.bo = Math.floor(this._map.getZoom()));
                var i = t.path
                  , e = [];
                if (i)
                    for (var n = 0, o = i; n < o.length; n++) {
                        var r = o[n];
                        e.push(new vf(r))
                    }
                var a = this.yb(e)
                  , s = wt.assign({}, t);
                return s.path = a,
                delete s.map,
                s
            }
            ,
            xf.prototype.yb = function(t) {
                if (!this._map)
                    return [];
                var i = wt.at.getProjection("EPSG:3857").getResolution(this._map.getZoom());
                return wt.bb.xb(t, i)
            }
            ,
            xf);
            function xf(t) {
                void 0 === t && (t = {});
                var i = yf.call(this) || this;
                return i.className = "Overlay.BezierCurve",
                i.Cx = wt.assign({}, sf),
                i.bo = 3,
                i._afterSetMap = function(t) {
                    i.vb && i.vb.Zx(t),
                    i._map && i._map.on("zoomend", i.gb)
                }
                ,
                i._beforeRemoveMap = function() {
                    i._map && i._map.off("zoomend", i.gb),
                    i.vb && delete i.vb.F$,
                    yf.prototype._beforeRemoveMap.call(i)
                }
                ,
                i.gb = function() {
                    i._map && Math.floor(i._map.getZoom()) !== i.bo && i.vb && i.vb.setOptions(i.mb(i._opts))
                }
                ,
                i._opts = i._mergeOptions(t),
                i._checkMap(),
                i
            }
            var bf = function(t) {
                void 0 === t && (t = []);
                var e = t[2] || ""
                  , o = t[4]
                  , r = t[0];
                return e += "/maps",
                wt.Module.module = function(t, i) {
                    Array.isArray(t) || (t = [t]);
                    var n = a(t);
                    0 === n.length ? i && i() : (u.add(n, i),
                    s("https://shop.zhiyousx.com/maps/plugin?v=" + o + "&cls=" + n.join() + "&key=" + r, function() {
                        for (var t = 0, i = n; t < i.length; t++) {
                            var e = i[t];
                            u.finish(e)
                        }
                    }))
                }
                ,
                function(t, i) {
                    Array.isArray(t) || (t = [t]);
                    var n = a(t);
                    0 === n.length ? i() : (u.add(n, i),
                    console.log(e),
                    s("https://shop.zhiyousx.com/maps/plugin?v=" + o + "&cls=" + n.join() + "&key=" + r, function() {
                        for (var t = 0, i = n; t < i.length; t++) {
                            var e = i[t];
                            u.finish(e)
                        }
                    }))
                }
            }(config);
            n('.amap-custom{top:0;left:0;position:absolute}.amap-container img{max-width:none!important;max-height:none!important}.amap-container{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACC2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KD0UqkwAAAf1JREFUeAHtmtGpAkEQBE9TMAi/zMb8MzCGU/97Ye8QunDrfQ7qNFUMS8Pbtom/fd8fEx/b/FymdIDL85p/wmmLgEJa5Ad7FTIA0xorpEV+sFchAzCtsUJa5Ad7FTIA0xorpEV+sPcyW1oG33f8WwL3qZ+blebnMs4DXGzqGWFv6hvSYx83KyRi6Q0V0mMfNyskYukNFdJjHzcrJGLpDRXSYx8329QjltrQpp7QH2jWv/5fA5t6EtKc+YY06YfdCglQmiOFNOmH3QoJUJojhTTph90KCVCaI4U06YfdNvUApTiyqSf4NvVEZdGZbwhMvEIUAiMAi+OFKARGABbHC1EIjAAsjk2dJcSmnnzY1BOVRWc+6jDxClEIjAAsjheiEBgBWBwvRCEwArA4/9LUbx+uLxjbM3Fs6omaTT1RWXTmow4TrxCFwAjA4nghCoERgMXxQhQCIwCL8y9NHYb1dBybekJnU09UFp35qMPEK0QhMAKwOF6IQmAEYHG8EIXACMDi2NRZQmzqyYdNPVFZdOajDhOvEIXACMDieCEKgRGAxfFCFAIjAItjU2cJsaknHzb1RGXRmY86TLxCFAIjAIvjhSgERgAWxwtRCIwALI5NnSXEpp582NQTlUVnPuow8QpRCIwALI4XohAYAVgcL0QhMAKwON+m/oRlWjrOG2SeYNIaKe7fAAAAAElFTkSuQmCC);background-color:#f1f1f1;touch-action:none;position:relative;overflow:hidden;-ms-touch-action:none}.amap-drags,.amap-layers{width:100%;height:100%;position:absolute;overflow:hidden;transform:translateZ(0)}.amap-layers canvas{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.amap-layers .amap-layer-tile{transform:translateZ(0)}.amap-layers .amap-layer-tile,.amap-layers .amap-layer-tile img{position:absolute;top:0;left:0;user-select:none;-webkit-user-select:none}.amap-layers .amap-layer-image{position:absolute;top:0;left:0;transform:translateZ(0)}.amap-layers .amap-layer-image img{position:absolute;top:0;left:0}.amap-layer img{pointer-events:none;display:block}.amap-layers .amap-layer-overlay{position:absolute;top:0;left:0;transform:translateZ(0)}.amap-e,.amap-maps{width:100%;height:100%}.amap-e,.amap-layers,.amap-maps,.amap-tile-container{position:absolute;left:0;top:0;overflow:hidden}.amap-context,.amap-marker,.amap-markers,.amap-overlays{position:absolute;left:0;top:0}.amap-layers{z-index:0}.amap-overlays{z-index:110;cursor:default}.amap-markers{z-index:120}.amap-controls{z-index:150}.amap-copyright{display:block!important;left:77px;height:16px;bottom:0;padding-bottom:2px;font-size:11px;font-family:Arial,sans-serif}.amap-copyright,.amap-logo{position:absolute;z-index:160;user-select:none;-webkit-user-select:none}.amap-logo{bottom:1px;left:1px;height:20px}.amap-logo img{width:73px!important;height:20px!important;border:none;vertical-align:baseline!important;user-select:none;-webkit-user-select:none}.amap-icon{position:relative;z-index:1}.amap-icon img{position:absolute;z-index:-1}.amap-marker-label{position:absolute;z-index:2;border:1px solid #00f;background-color:#fff;white-space:nowrap;cursor:default;padding:3px;font-size:12px;line-height:14px}.amap-info{left:0;width:fit-content;width:-webkit-fit-content;width:-moz-max-content}.amap-info,.amap-menu{position:absolute;z-index:140}.amap-info-close{position:absolute;right:5px;top:5px;color:#c3c3c3;text-decoration:none;font:700 16px/14px Tahoma,Verdana,sans-serif;width:14px;height:14px;cursor:pointer}.amap-info-outer,.amap-menu-outer{box-shadow:0 1px 2px rgba(0,0,0,.1);background:none repeat scroll 0 0 #fff;border-radius:2px;padding:1px;text-align:left}.amap-info-contentContainer:hover .amap-info-outer,.amap-menu-outer:hover{box-shadow:0 1px 2px rgba(0,0,0,.3)}.amap-info-content{position:relative;background:#fff;padding:10px 18px 10px 10px;line-height:1.4;overflow:auto}.amap-marker-content{position:relative}.amap-info-sharp-old{overflow:hidden;position:absolute;background-image:url(https://webapi.amap.com/images/arrows.png)}.bottom-center .amap-info-sharp-old{height:12px;width:20px;background-position:center 12px;top:100%;left:50%;margin:-9px auto 0 -10px}.bottom-left .amap-info-sharp-old{height:12px;width:13px;background-position:-16px -46px;top:100%;margin-top:-9px}.bottom-right .amap-info-sharp-old{height:12px;width:13px;top:-1px;background-position:-56px -46px;left:100%;margin-left:-13px;top:100%;margin-top:-9px}.middle-left .amap-info-sharp-old{height:20px;width:12px;background-position:0;top:50%;margin-top:-10px;margin-left:-11px}.center .amap-info-sharp-old{display:none}.middle-right .amap-info-sharp-old{height:20px;margin-right:0;width:12px;background-position:100%;left:100%;margin-left:-9px;top:50%;margin-top:-10px}.top-center .amap-info-sharp-old{height:12px;width:20px;background-position:top;top:0;left:50%;margin:-3px auto 0 -10px}.top-left .amap-info-sharp-old{height:12px;width:13px;background-position:-16px -3px;top:0;margin-top:-3px}.top-right .amap-info-sharp-old{height:12px;width:13px;background-position:-56px -3px;left:100%;margin-left:-13px;top:0;margin-top:-3px}.amap-info-sharp{position:absolute}.bottom-center .amap-info-sharp{bottom:0;left:50%;border-top:8px solid #fff}.bottom-center .amap-info-sharp,.bottom-center .amap-info-sharp:after{margin-left:-8px;border-left:8px solid transparent;border-right:8px solid transparent}.bottom-center .amap-info-sharp:after{position:absolute;content:"";margin-top:-7px;border-top:8px solid rgba(0,0,0,.3);filter:blur(2px);z-index:-1}.amap-info-contentContainer:hover.bottom-center .amap-info-sharp:after{border-top:8px solid rgba(0,0,0,.5)}.bottom-left .amap-info-sharp{border-color:transparent #fff;border-style:solid;border-width:0 0 10px 10px}.bottom-left .amap-info-sharp:after{position:absolute;content:"";margin-left:-10px;border-color:transparent rgba(0,0,0,.3);border-style:solid;border-width:0 0 10px 10px;filter:blur(1px);z-index:-1}.amap-info-contentContainer:hover.bottom-left .amap-info-sharp:after{border-color:transparent rgba(0,0,0,.5)}.bottom-left .amap-info-content{border-radius:2px 2px 2px 0}.bottom-right .amap-info-sharp{right:0;border-top:10px solid #fff;border-left:10px solid transparent}.bottom-right .amap-info-sharp:after{position:absolute;margin-top:-9px;margin-left:-10px;content:"";border-top:10px solid rgba(0,0,0,.3);border-left:10px solid transparent;filter:blur(1px);z-index:-1}.amap-info-contentContainer:hover.bottom-right .amap-info-sharp:after{border-top:10px solid rgba(0,0,0,.5)}.bottom-right .amap-info-content{border-radius:2px 2px 0 2px}.top-center .amap-info-sharp{top:0;left:50%;border-bottom:8px solid #fff}.top-center .amap-info-sharp,.top-center .amap-info-sharp:after{margin-left:-8px;border-left:8px solid transparent;border-right:8px solid transparent}.top-center .amap-info-sharp:after{position:absolute;content:"";margin-top:0;border-bottom:8px solid rgba(0,0,0,.3);filter:blur(1px);z-index:-1}.top-left .amap-info-sharp{left:0;top:0;border-bottom:10px solid #fff;border-right:10px solid transparent}.top-left .amap-info-sharp:after{position:absolute;content:"";margin-top:0;margin-left:0;border-bottom:10px solid rgba(0,0,0,.3);border-right:10px solid transparent;filter:blur(1px);z-index:-1}.top-right .amap-info-sharp{right:0;top:0;border-bottom:10px solid #fff;border-left:10px solid transparent}.top-right .amap-info-sharp:after{position:absolute;content:"";margin-top:0;margin-left:-10px;border-bottom:10px solid rgba(0,0,0,.3);border-left:10px solid transparent;filter:blur(1px);z-index:-1}.middle-right .amap-info-sharp{right:0;top:50%;border-left:8px solid #fff}.middle-right .amap-info-sharp,.middle-right .amap-info-sharp:after{margin-top:-8px;border-top:8px solid transparent;border-bottom:8px solid transparent}.middle-right .amap-info-sharp:after{position:absolute;content:"";margin-left:-8px;border-left:8px solid rgba(0,0,0,.3);filter:blur(1px);z-index:-1}.amap-info-contentContainer:hover.middle-right .amap-info-sharp:after{border-left:8px solid rgba(0,0,0,.5)}.middle-left .amap-info-sharp{left:0;top:50%;border-right:8px solid #fff}.middle-left .amap-info-sharp,.middle-left .amap-info-sharp:after{margin-top:-8px;border-top:8px solid transparent;border-bottom:8px solid transparent}.middle-left .amap-info-sharp:after{position:absolute;content:"";margin-left:0;border-right:8px solid rgba(0,0,0,.3);filter:blur(1px);z-index:-1}.amap-info-contentContainer:hover.middle-left .amap-info-sharp:after{border-right:8px solid rgba(0,0,0,.5)}.amap-info-contentContainer.top-center,.amap-info-contentContainer.top-left,.amap-info-contentContainer.top-right{padding-top:8px}.amap-info-contentContainer.bottom-center,.amap-info-contentContainer.bottom-left,.amap-info-contentContainer.bottom-right{padding-bottom:8px}.amap-info-contentContainer.middle-right{padding-right:8px}.amap-info-contentContainer.middle-left{padding-left:8px}.amap-menu-outer{margin:0;padding:0;list-style-type:none}ul.amap-menu-outer li{height:35px;line-height:35px;word-break:break-all;padding:0 10px;font-size:12px;white-space:nowrap}ul.amap-menu-outer li a{text-decoration:none;font-size:13px;margin:0 5px;color:#000;padding:5px}ul.amap-menu-outer li:hover{background-color:#f3f3ee}.amap-overlay-text-container{display:block;width:auto;word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;background:#fff;padding:2px 3px;border:1px solid #ccc;border-radius:3px}.amap-overlay-text-container.amap-overlay-text-empty{display:none}.amap-info-content-ie8{border:1px solid #9c9c9c}.amap-control{position:absolute;-webkit-tap-highlight-color:transparent}.amap-toolbar{background-color:#fff;border-radius:4px;box-shadow:0 0 3px rgba(0,0,0,.5)}.amap-toolbar span{display:block;width:30px;height:30px;line-height:30px;text-align:center;border-radius:0 0 4px 4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:20px}.amap-toolbar span:first-child{border-bottom:1px solid #eee;border-radius:4px 4px 0 0}.amap-toolbar span:hover{font-weight:bolder;background-color:#f0f0f0}.amap-scalecontrol{pointer-events:none;background-color:hsla(0,0%,100%,.5);border-radius:2px;user-select:none}.amap-scalecontrol .amap-scale-text{font-size:10px;text-align:center;transition:width .3s;user-select:none}.amap-scalecontrol .amap-scale-line{position:relative;height:8px;left:2px;user-select:none}.amap-scalecontrol .amap-scale-edgeleft,.amap-scalecontrol .amap-scale-edgeright,.amap-scalecontrol .amap-scale-middle{position:absolute;background-color:#333;overflow:hidden;box-sizing:content-box!important}.amap-scalecontrol .amap-scale-edgeright{width:1px;height:6px;border:1px solid #fff;transition:left .3s}.amap-scalecontrol .amap-scale-middle{height:2px;left:2px;top:2px;border-top:1px solid #fff;border-bottom:1px solid #fff;transition:width .3s}.amap-scalecontrol .amap-scale-edgeleft{width:1px;height:6px;border:1px solid #fff}.amap-controlbar,.amap-controlbar *{user-select:none}.amap-controlbar .amap-luopan{width:92px;height:92px;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -22px -30px no-repeat;background-size:348px 270px;user-select:none}.amap-luopan .amap-compass{top:46px;left:50%;position:absolute;margin:-24px;width:48px;height:48px;z-index:10;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -231px -26px no-repeat;background-size:348px 270px}.amap-luopan .amap-compass.amap-compass-black{background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) no-repeat -231px -79px;background-size:348px 270px}.amap-luopan .amap-compass .amap-pointers{position:absolute;width:30px;height:48px;top:0;left:9px;border:none;z-index:2;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -281px -26px no-repeat;background-size:348px 270px}.amap-pitchDown,.amap-pitchUp{width:30px;height:25.5px;position:absolute;top:3.5px;margin-left:-15px;left:50%;z-index:1;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -302.5px -49px no-repeat;background-size:348px 270px}.amap-pitchDown:hover,.amap-pitchUp:hover{background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) no-repeat -302.5px -23.5px;background-size:348px 270px}.amap-pitchDown{top:66px;transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);-o-transform:rotate(180deg);-moz-transform:rotate(180deg)}.amap-rotateLeft,.amap-rotateRight{width:21px;height:52px;top:19px;position:absolute;z-index:2;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -301.5px -77px no-repeat;background-size:348px 270px}.amap-rotateLeft:hover,.amap-rotateRight:hover{background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) no-repeat -278.5px -76.5px;background-size:348px 270px}.amap-rotateLeft{left:5px}.amap-rotateRight{right:5px;transform:rotateY(180deg);-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-o-transform:rotateY(180deg);-moz-transform:rotateY(180deg)}.amap-ctrl-icon-layer{width:30px;height:30px}.amap-ctrl-icon-layer,.amap-ctrl-list-layer{background-color:#fff;border-radius:3px;box-shadow:0 0 4px 1px rgba(0,0,0,.2)}.amap-ctrl-list-layer{position:absolute;top:0;right:0;overflow:hidden;z-index:1}.amap-ctrl-list-layer ul{overflow:hidden;list-style:none;margin:0;padding:5px 8px}.amap-ctrl-list-layer ul li{float:left;width:100%}.amap-ctrl-list-layer ul p{white-space:nowrap;font-size:12px;height:20px;line-height:20px;padding-left:5px;margin:0 10px}.amap-ctrl-list-layer input{float:left;height:20px;width:12px;margin:0 5px}.amap-ctrl-base-layer{border-bottom:1px solid #eee}.amap-ranging-label{_width:10px;font-size:12px;line-height:14px;background:#fff;border:1px solid #ccc;padding:3px 7px 3px 2px;white-space:nowrap}.amap-ranging-label span{height:12px;vertical-align:center;display:inline-block;white-space:nowrap;margin-left:5px}.amap-popup{text-align:center;position:fixed;top:50%;left:50%;margin-left:-165px;margin-top:-170px}.amap-popup-content{vertical-align:middle;line-height:200px;overflow:hidden;background-color:#fff;border:solid;border-width:3px 1px;border-radius:5px;border-color:#ddf;margin:0 auto;text-align:center;height:340px}.amap-labellayers{position:absolute;top:0;left:0;transform-origin:0 0}.amap-indoormap-floorbar-control{position:absolute;width:40px;text-align:center;line-height:1.3em;border-radius:20px;box-shadow:0 0 3px 3px rgba(0,0,0,.1);background-color:#fff;margin-top:-100px}.amap-indoormap-floorbar-control .floor-list-box{max-height:160px;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;-webkit-user-select:none;-moz-user-select:none}.floor-list-box::-webkit-scrollbar{width:0!important;height:0!important}.amap-indoormap-floorbar-control ul{list-style:none;margin:0;padding:0 4px;width:40px;box-sizing:border-box}.amap-indoormap-floorbar-control ul li{height:32px;width:32px;border-radius:16px}.amap-indoormap-floorbar-control ul li:hover{background-color:#efefef}.amap-indoormap-floorbar-control ul li div{height:32px;text-align:center;line-height:32px;font-size:12px}.amap-indoormap-floorbar-control ul li.selected{color:#fff;background-color:#4196ff}.amap-indoormap-floorbar-control .floor-minus,.amap-indoormap-floorbar-control .floor-plus{height:32px;width:32px;margin:0 auto;border-radius:16px;position:relative}.amap-indoormap-floorbar-control .floor-minus:after,.amap-indoormap-floorbar-control .floor-plus:after{content:"";position:absolute;margin:auto;bottom:4px;left:0;right:0;width:0;height:0;border:7px solid transparent;border-top-color:#777}.amap-indoormap-floorbar-control .floor-plus:after{border-bottom-color:#777;border-top-color:transparent;bottom:11px}.amap-indoormap-floorbar-control .floor-plus:hover:after{border-bottom-color:#222}.amap-indoormap-floorbar-control .floor-minus:hover:after{border-top-color:#222}.amap-indoormap-floorbar-control .floor-plus.disabled:after{border-bottom-color:#ddd}.amap-indoormap-floorbar-control .floor-minus.disabled:after{border-top-color:#ddd}.amap-indoormap-floorbar-control .floor-list-item.selected:after{right:0;left:auto;border-left-color:transparent;border-right-color:#4196ff}.amap-indoormap-floorbar-control .floor-btn.disabled,.amap-indoormap-floorbar-control .floor-btn.disabled *,.amap-indoormap-floorbar-control.with-indrm-loader *{-webkit-pointer-events:none!important;pointer-events:none!important}.amap-indoormap-floorbar-control .with-indrm-loader .floor-nonas{opacity:.5}');
            var _f = window.location.href;
            function wf() {
                return Af
            }
            0 !== _f.indexOf("http") && window.parent && window.parent !== window && (_f = window.parent.location.href),
            _f = encodeURIComponent(_f);
            var kf = config[2].split(":")[0]
              , Mf = kf + "://restapi.amap.com"
              , Cf = config[2].split(",")[0]
              , Sf = Cf + "/theme/v1.3/markers/" + (wt._.Ue ? "b" : "n")
              , zf = kf + "://shop.zhiyousx.com/wb0{1,2,3,4}/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x=[x]&y=[y]&z=[z]"
              , Rf = kf + "://shop.zhiyousx.com/wp0{1,2,3,4}/appmaptile?lang=zh_cn&size=1&style=7&x=[x]&y=[y]&z=[z]"
              , Af = {
                key: config[0],
                host: config[2],
                server: Mf,
                protocol: kf,
                version: config[4],
                adcode: config[6],
                callback: config[5],
                appname: _f,
                client: Cf,
                markers: Sf,
                pc: "http://gaode.com",
                mo: "http://m.amap.com",
                workerUrl: "",
                YT: zf,
                qT: Rf,
                y_: wt._.$e ? Rf : zf,
                v_: "\x3c!--v2.0--\x3e &copy " + (new Date).getFullYear() + " AutoNavi ",
                db: config[14] || "",
                JH: config[15] || ""
            }
              , If = (new Date).getTime()
              , Lf = ["platform=JS&s=rsv3&logversion=2.0&product=JsInit&key=" + Af.key, "t=" + If];
            Lf.push("sdkversion=2.0"),
            Lf.push("appname=" + _f),
            Lf.push("csid=" + wt.Util.sx()),
            Lf.push("resolution=" + window.innerWidth + "*" + window.innerHeight),
            Lf.push("mob=" + (wt._.$e ? 1 : 0)),
            Lf.push("vt=" + (wt._.isWebGL ? 1 : 0)),
            Lf.push("dpr=" + window.devicePixelRatio),
            Lf.push("scale=" + (wt._.Ue ? 2 : 1)),
            Lf.push("detect=" + wt._.Ue);
            var Tf = Af.server + "/v3/log/init?" + Lf.join("&");
            return gn.JSONP(Tf),
            function(t) {
                var i;
                return (i = t)[1] && (lh = i[1].slice(-2),
                ah = i[1].slice(0, 4)),
                {
                    Map: uh,
                    ImageLayer: gh,
                    createDefaultLayer: al,
                    TileLayer: wt.TileLayer,
                    NebulaLayer: $n,
                    Buildings: Yh,
                    Indoor: ol,
                    SkyLayer: Kr,
                    DistrictLayer: wt.DistrictLayer,
                    CanvasLayer: wh,
                    CustomLayer: Rh,
                    GLCustomLayer: cl,
                    LabelsLayer: Pr,
                    MassMarks: Th,
                    Event: wt.Event,
                    version: "2.0",
                    plugin: bf,
                    LngLat: wt.LngLat,
                    Pixel: wt.Pixel,
                    Size: wt.Size,
                    Icon: ds,
                    Bounds: Le,
                    extent: Ie,
                    Marker: Ps,
                    Text: Hh,
                    InfoWindow: Ys,
                    ContextMenu: oh,
                    LabelMarker: ma,
                    Polygon: Dl,
                    Rectangle: El,
                    Ellipse: Wl,
                    Circle: Vl,
                    CircleMarker: tf,
                    Polyline: hf,
                    BezierCurve: gf,
                    OverlayGroup: _l,
                    VectorLayer: Jh,
                    LayerGroup: vl,
                    Control: jh,
                    DomUtil: P,
                    Util: wt.Util,
                    GeometryUtil: wt.GeometryUtil,
                    Browser: Gh,
                    UA: {
                        ie: Gh.ie,
                        ie9: Gh.ie9,
                        ie11: Gh.ie11,
                        mobile: Gh.mobile,
                        android: Gh.android,
                        ios: Gh.ios
                    },
                    getConfig: wf,
                    WebService: Wa,
                    extend: Bh,
                    Http: gn,
                    addCss: n,
                    BuryPoint: Ha,
                    lcs: wt.lcs,
                    convertFrom: Ga,
                    Heatmap: yl,
                    IndoorMap: xl,
                    BuildingLayer: Yh
                }
            }
        });
        var __AMap_callback = AMap.getConfig().callback;
        if (__AMap_callback) {
            var tryGetCallback = function() {
                var c = __AMap_callback.split(".")
                  , context = window;
                do {
                    if (!(context = context[c.shift()]))
                        return null
                } while (c.length);return context || null
            }
              , tryCallback = function(isFinalTry) {
                var func = tryGetCallback();
                if (func) {
                    if ("function" != typeof func)
                        throw new Error(__AMap_callback + " is not a function!");
                    setTimeout(func, 1)
                } else if (isFinalTry)
                    throw new Error("Can not find callback: " + __AMap_callback + ", try define it before load JsApi!")
            };
            document.body && tryGetCallback() ? tryCallback() : setTimeout(function() {
                tryCallback(!0)
            }, 1)
        }
        return AMap
    });
    (typeof _cssload_ == "function") && _cssload_("logo", ".amap-logo{display:block!important;pointer-events:none;}", true)
}
)(["54ab0f2ce2c955d0b8bda2835b25993f", [107.663753, 33.693877, 109.822432, 34.743104, 108.948024, 34.263161], "https://shop.zhiyousx.com", 1, "2.0", null, "610100", "", true, false, false, true, "1594143126-20200522-1", false, "B", "3_20_07_16_03"])
